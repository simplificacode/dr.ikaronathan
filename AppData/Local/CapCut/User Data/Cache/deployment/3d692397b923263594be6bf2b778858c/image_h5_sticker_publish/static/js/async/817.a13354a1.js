/*! For license information please see 817.a13354a1.js.LICENSE.txt */
(self.webpackChunkartist_op_web=self.webpackChunkartist_op_web||[]).push([[817],{27049:function(e){var t;"undefined"!=typeof self&&self,t=function(){return function(e){var t={};function r(n){var i;return(t[n]||(i=t[n]={i:n,l:!1,exports:{}},e[n].call(i.exports,i,i.exports,r),i.l=!0,i)).exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=9)}([function(e,t,r){"use strict";var n="object"==typeof Reflect?Reflect:null,i=n&&"function"==typeof n.apply?n.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)},o=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)},s=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(r,n){function i(r){e.removeListener(t,o),n(r)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}m(e,t,o,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&m(e,"error",t,r)}(e,i,{once:!0})}))},(a.EventEmitter=a).prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function l(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function p(e,t,r,n){var i,o;return l(r),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,r.listener||r),i=e._events),o=i[t]),void 0===o?(o=i[t]=r,++e._eventsCount):("function"==typeof o?o=i[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),0<(i=u(e))&&o.length>i&&!o.warned&&(o.warned=!0,(n=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit")).name="MaxListenersExceededWarning",n.emitter=e,n.type=t,n.count=o.length,function(e){console&&console.warn&&console.warn(e)}(n))),e}function d(e,t,r){return t=function(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}.bind(e={fired:!1,wrapFn:void 0,target:e,type:t,listener:r}),t.listener=r,e.wrapFn=t}function h(e,t,r){return void 0===(e=e._events)||void 0===(e=e[t])?[]:"function"==typeof e?r?[e.listener||e]:[e]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(e):g(e,e.length)}function f(e){var t=this._events;if(void 0!==t){if("function"==typeof(t=t[e]))return 1;if(void 0!==t)return t.length}return 0}function g(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function m(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){n.once&&e.removeEventListener(t,i),r(o)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return u(this)},a.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,o=this._events;if(void 0!==o)n=n&&void 0===o.error;else if(!n)return!1;if(n){if((s=0<t.length?t[0]:s)instanceof Error)throw s;throw(n=new Error("Unhandled error."+(s?" ("+s.message+")":""))).context=s,n}var s=o[e];if(void 0===s)return!1;if("function"==typeof s)i(s,this,t);else{var a=s.length,c=g(s,a);for(r=0;r<a;++r)i(c[r],this,t)}return!0},a.prototype.on=a.prototype.addListener=function(e,t){return p(this,e,t,!1)},a.prototype.prependListener=function(e,t){return p(this,e,t,!0)},a.prototype.once=function(e,t){return l(t),this.on(e,d(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,d(this,e,t)),this},a.prototype.off=a.prototype.removeListener=function(e,t){var r,n,i,o,s;if(l(t),void 0!==(n=this._events)&&void 0!==(r=n[e]))if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;0<=o;o--)if(r[o]===t||r[o].listener===t){s=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.removeAllListeners=function(e){var t,r=this._events;if(void 0!==r)if(void 0===r.removeListener)0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]);else if(0===arguments.length){for(var n,i=Object.keys(r),o=0;o<i.length;++o)"removeListener"!==(n=i[o])&&this.removeAllListeners(n);this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0}else if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(o=t.length-1;0<=o;o--)this.removeListener(e,t[o]);return this},a.prototype.listeners=function(e){return h(this,e,!0)},a.prototype.rawListeners=function(e){return h(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},a.prototype.listenerCount=f,a.prototype.eventNames=function(){return 0<this._eventsCount?o(this._events):[]}},function(e,t,r){(function(t){e.exports=function(){"use strict";function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,r){return e(r={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&r.path)}},r.exports),r.exports}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t||"undefined"!=typeof self&&self;var n=r((function(e,t){var r;e.exports=(r=r||function(e,t){var r=Object.create||function(){function e(){}return function(t){var r;return e.prototype=t,r=new e,e.prototype=null,r}}(),n={},i=n.lib={},o=i.Base={extend:function(e){var t=r(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},s=i.WordArray=o.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||c).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes,i=e.sigBytes;if(this.clamp(),n%4)for(var o=0;o<i;o++){var s=r[o>>>2]>>>24-o%4*8&255;t[n+o>>>2]|=s<<24-(n+o)%4*8}else for(o=0;o<i;o+=4)t[n+o>>>2]=r[o>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var r,n=[],i=function(t){var r=987654321,n=4294967295;return function(){var i=((r=36969*(65535&r)+(r>>16)&n)<<16)+(t=18e3*(65535&t)+(t>>16)&n)&n;return i/=4294967296,(i+=.5)*(e.random()>.5?1:-1)}},o=0;o<t;o+=4){var a=i(4294967296*(r||e.random()));r=987654071*a(),n.push(4294967296*a()|0)}return new s.init(n,t)}}),a=n.enc={},c=a.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new s.init(r,t/2)}},l=a.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(o))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new s.init(r,t)}},u=a.Utf8={stringify:function(e){try{return decodeURIComponent(escape(l.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return l.parse(unescape(encodeURIComponent(e)))}},p=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r=this._data,n=r.words,i=r.sigBytes,o=this.blockSize,a=i/(4*o),c=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*o,l=e.min(4*c,i);if(c){for(var u=0;u<c;u+=o)this._doProcessBlock(n,u);var p=n.splice(0,c);r.sigBytes-=l}return new s.init(p,l)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),d=(i.Hasher=p.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new d.HMAC.init(e,r).finalize(t)}}}),n.algo={});return n}(Math),r)})),i=r((function(e,t){var r;e.exports=(r=n,function(e){var t=r,n=t.lib,i=n.WordArray,o=n.Hasher,s=t.algo,a=[],c=[];!function(){function t(t){for(var r=e.sqrt(t),n=2;n<=r;n++)if(!(t%n))return!1;return!0}function r(e){return 4294967296*(e-(0|e))|0}for(var n=2,i=0;i<64;)t(n)&&(i<8&&(a[i]=r(e.pow(n,.5))),c[i]=r(e.pow(n,1/3)),i++),n++}();var l=[],u=s.SHA256=o.extend({_doReset:function(){this._hash=new i.init(a.slice(0))},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],s=r[3],a=r[4],u=r[5],p=r[6],d=r[7],h=0;h<64;h++){if(h<16)l[h]=0|e[t+h];else{var f=l[h-15],g=(f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3,m=l[h-2],y=(m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10;l[h]=g+l[h-7]+y+l[h-16]}var v=n&i^n&o^i&o,b=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),_=d+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&u^~a&p)+c[h]+l[h];d=p,p=u,u=a,a=s+_|0,s=o,o=i,i=n,n=_+(b+v)|0}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+o|0,r[3]=r[3]+s|0,r[4]=r[4]+a|0,r[5]=r[5]+u|0,r[6]=r[6]+p|0,r[7]=r[7]+d|0},_doFinalize:function(){var t=this._data,r=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;return r[i>>>5]|=128<<24-i%32,r[14+(i+64>>>9<<4)]=e.floor(n/4294967296),r[15+(i+64>>>9<<4)]=n,t.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=o._createHelper(u),t.HmacSHA256=o._createHmacHelper(u)}(Math),r.SHA256)})),o=(r((function(e,t){var r,i,o;e.exports=(i=(r=n).lib.Base,o=r.enc.Utf8,void(r.algo.HMAC=i.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=o.parse(t));var r=e.blockSize,n=4*r;t.sigBytes>n&&(t=e.finalize(t)),t.clamp();for(var i=this._oKey=t.clone(),s=this._iKey=t.clone(),a=i.words,c=s.words,l=0;l<r;l++)a[l]^=1549556828,c[l]^=909522486;i.sigBytes=s.sigBytes=n,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,r=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(r))}})))})),r((function(e,t){e.exports=n.HmacSHA256}))),s=function(e,t){return o(t,e)},a=function(e){return i(e)},c=["authorization","content-type","content-length","user-agent","presigned-expires","expect","x-amzn-trace-id"],l="aws4_request",u=function(e){try{return encodeURIComponent(e).replace(/[^A-Za-z0-9_.~\-%]+/g,escape).replace(/[*]/g,(function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())}))}catch(e){return""}},p=function(e){return Object.keys(e).sort().map((function(t){var r=e[t];if(null!=r){var n=u(t);if(n)return Array.isArray(r)?"".concat(n,"=").concat(r.map(u).sort().join("&".concat(n,"="))):"".concat(n,"=").concat(u(r))}})).filter((function(e){return e})).join("&")};return function(){function t(e,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.request=e,this.request.headers=e.headers||{},this.serviceName=r,n=n||{},this.signatureCache="boolean"!=typeof n.signatureCache||n.signatureCache,this.operation=n.operation,this.signatureVersion=n.signatureVersion}var r,n;return r=t,(n=[{key:"addAuthorization",value:function(e,t){var r=this.iso8601(t).replace(/[:\-]|\.\d{3}/g,"");this.addHeaders(e,r),this.request.headers.Authorization=this.authorization(e,r)}},{key:"addHeaders",value:function(e,t){this.request.headers["X-Amz-Date"]=t,e.sessionToken&&(this.request.headers["x-amz-security-token"]=e.sessionToken),this.request.body&&(this.request.headers["X-Amz-Content-Sha256"]=a(JSON.stringify(this.request.body)).toString())}},{key:"authorization",value:function(e,t){var r=[],n=this.credentialString(t);return r.push("".concat("AWS4-HMAC-SHA256"," Credential=").concat(e.accessKeyId,"/").concat(n)),r.push("SignedHeaders=".concat(this.signedHeaders())),r.push("Signature=".concat(this.signature(e,t))),r.join(", ")}},{key:"signature",value:function(e,t){var r=this.getSigningKey(e,t.substr(0,8),this.request.region,this.serviceName,this.signatureCache);return s(r,this.stringToSign(t),"hex")}},{key:"stringToSign",value:function(e){var t=[];return t.push("AWS4-HMAC-SHA256"),t.push(e),t.push(this.credentialString(e)),t.push(this.hexEncodedHash(this.canonicalString())),t.join("\n")}},{key:"canonicalString",value:function(){var e=[],t=this.request.pathname||"/";return e.push(this.request.method.toUpperCase()),e.push(t),e.push(p(this.request.params)||""),e.push("".concat(this.canonicalHeaders(),"\n")),e.push(this.signedHeaders()),e.push(this.hexEncodedBodyHash()),e.join("\n")}},{key:"canonicalHeaders",value:function(){var e=this,t=[];Object.keys(this.request.headers).forEach((function(r){t.push([r,e.request.headers[r]])})),t.sort((function(e,t){return e[0].toLowerCase()<t[0].toLowerCase()?-1:1}));var r=[];return t.forEach((function(t){var n=t[0].toLowerCase();if(e.isSignableHeader(n)){var i=t[1];if(null==i||"function"!=typeof i.toString)throw new Error("Header ".concat(n," contains invalid value"));r.push("".concat(n,":").concat(e.canonicalHeaderValues(i.toString())))}})),r.join("\n")}},{key:"canonicalHeaderValues",value:function(e){return e.replace(/\s+/g," ").replace(/^\s+|\s+$/g,"")}},{key:"signedHeaders",value:function(){var e=this,t=[];return Object.keys(this.request.headers).forEach((function(r){r=r.toLowerCase(),e.isSignableHeader(r)&&t.push(r)})),t.sort().join(";")}},{key:"credentialString",value:function(e){return this.createScope(e.substr(0,8),this.request.region,this.serviceName)}},{key:"hexEncodedHash",value:function(e){return a(e)}},{key:"hexEncodedBodyHash",value:function(){return this.request.headers["X-Amz-Content-Sha256"]?this.request.headers["X-Amz-Content-Sha256"]:this.request.body?this.hexEncodedHash(p(this.request.body)):this.hexEncodedHash("")}},{key:"isSignableHeader",value:function(e){return 0===e.toLowerCase().indexOf("x-amz-")||c.indexOf(e)<0}},{key:"iso8601",value:function(e){return void 0===e&&(e=new Date),e.toISOString().replace(/\.\d{3}Z$/,"Z")}},{key:"getSigningKey",value:function(e,t,r,n){var i=s("AWS4".concat(e.secretAccessKey),t),o=s(i,r),a=s(o,n);return s(a,l)}},{key:"createScope",value:function(e,t,r){return[e.substr(0,8),t,r,l].join("/")}}])&&e(r.prototype,n),t}()}()}).call(this,r(7))},function(e,t,r){e.exports=function(){return r(8)('!function(t){var n={};function __webpack_require__(r){var e;return(n[r]||(e=n[r]={i:r,l:!1,exports:{}},t[r].call(e.exports,e,e.exports,__webpack_require__),e.l=!0,e)).exports}__webpack_require__.m=t,__webpack_require__.c=n,__webpack_require__.d=function(r,e,t){__webpack_require__.o(r,e)||Object.defineProperty(r,e,{enumerable:!0,get:t})},__webpack_require__.r=function(r){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},__webpack_require__.t=function(e,r){if(1&r&&(e=__webpack_require__(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(__webpack_require__.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var n in e)__webpack_require__.d(t,n,function(r){return e[r]}.bind(null,n));return t},__webpack_require__.n=function(r){var e=r&&r.__esModule?function getDefault(){return r.default}:function getModuleExports(){return r};return __webpack_require__.d(e,"a",e),e},__webpack_require__.o=function(r,e){return Object.prototype.hasOwnProperty.call(r,e)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=9)}([function(r,e,t){r.exports=function(){var r=r||function(u,t){var n=Object.create||function(){function F(){}return function(r){var e;F.prototype=r;e=new F;F.prototype=null;return e}}();var r={};var e=r.lib={};var i=e.Base=function(){return{extend:function(r){var e=n(this);if(r)e.mixIn(r);if(!e.hasOwnProperty("init")||this.init===e.init)e.init=function(){e.$super.init.apply(this,arguments)};e.init.prototype=e;e.$super=this;return e},create:function(){var r=this.extend();r.init.apply(r,arguments);return r},init:function(){},mixIn:function(r){for(var e in r)if(r.hasOwnProperty(e))this[e]=r[e];if(r.hasOwnProperty("toString"))this.toString=r.toString},clone:function(){return this.init.prototype.extend(this)}}}();var h=e.WordArray=i.extend({init:function(r,e){r=this.words=r||[];if(e!=t)this.sigBytes=e;else this.sigBytes=r.length*4},toString:function(r){return(r||o).stringify(this)},concat:function(r){var e=this.words;var t=r.words;var n=this.sigBytes;var i=r.sigBytes;this.clamp();if(n%4)for(var a=0;a<i;a++){var o=t[a>>>2]>>>24-a%4*8&255;e[n+a>>>2]|=o<<24-(n+a)%4*8}else for(var a=0;a<i;a+=4)e[n+a>>>2]=t[a>>>2];this.sigBytes+=i;return this},clamp:function(){var r=this.words;var e=this.sigBytes;r[e>>>2]&=4294967295<<32-e%4*8;r.length=u.ceil(e/4)},clone:function(){var r=i.clone.call(this);r.words=this.words.slice(0);return r},random:function(r){var e=[];var t=function(e){var e=e;var t=987654321;var n=4294967295;return function(){t=36969*(t&65535)+(t>>16)&n;e=18e3*(e&65535)+(e>>16)&n;var r=(t<<16)+e&n;r/=4294967296;r+=.5;return r*(u.random()>.5?1:-1)}};for(var n=0,i;n<r;n+=4){var a=t((i||u.random())*4294967296);i=a()*987654071;e.push(a()*4294967296|0)}return new h.init(e,r)}});var a=r.enc={};var o=a.Hex={stringify:function(r){var e=r.words;var t=r.sigBytes;var n=[];for(var i=0;i<t;i++){var a=e[i>>>2]>>>24-i%4*8&255;n.push((a>>>4).toString(16));n.push((a&15).toString(16))}return n.join("")},parse:function(r){var e=r.length;var t=[];for(var n=0;n<e;n+=2)t[n>>>3]|=parseInt(r.substr(n,2),16)<<24-n%8*4;return new h.init(t,e/2)}};var s=a.Latin1={stringify:function(r){var e=r.words;var t=r.sigBytes;var n=[];for(var i=0;i<t;i++){var a=e[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(a))}return n.join("")},parse:function(r){var e=r.length;var t=[];for(var n=0;n<e;n++)t[n>>>2]|=(r.charCodeAt(n)&255)<<24-n%4*8;return new h.init(t,e)}};var c=a.Utf8={stringify:function(r){try{return decodeURIComponent(escape(s.stringify(r)))}catch(r){throw new Error("Malformed UTF-8 data")}},parse:function(r){return s.parse(unescape(encodeURIComponent(r)))}};var v=e.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new h.init;this._nDataBytes=0},_append:function(r){if(typeof r=="string")r=c.parse(r);this._data.concat(r);this._nDataBytes+=r.sigBytes},_process:function(r){var e=this._data;var t=e.words;var n=e.sigBytes;var i=this.blockSize;var a=i*4;var o=n/a;if(r)o=u.ceil(o);else o=u.max((o|0)-this._minBufferSize,0);var s=o*i;var c=u.min(s*4,n);if(s){for(var v=0;v<s;v+=i)this._doProcessBlock(t,v);var f=t.splice(0,s);e.sigBytes-=c}return new h.init(f,c)},clone:function(){var r=i.clone.call(this);r._data=this._data.clone();return r},_minBufferSize:0});var f=e.Hasher=v.extend({cfg:i.extend(),init:function(r){this.cfg=this.cfg.extend(r);this.reset()},reset:function(){v.reset.call(this);this._doReset()},update:function(r){this._append(r);this._process();return this},finalize:function(r){if(r)this._append(r);var e=this._doFinalize();return e},blockSize:512/32,_createHelper:function(t){return function(r,e){return new t.init(e).finalize(r)}},_createHmacHelper:function(t){return function(r,e){return new p.HMAC.init(t,e).finalize(r)}}});var p=r.algo={};return r}(Math);return r}()},function(r,e,t){r.exports=function(F){F.lib.Cipher||function(o){var r=F;var e=r.lib;var t=e.Base;var c=e.WordArray;var n=e.BufferedBlockAlgorithm;var i=r.enc;var a=i.Utf8;var s=i.Base64;var v=r.algo;var f=v.EvpKDF;var u=e.Cipher=n.extend({cfg:t.extend(),createEncryptor:function(r,e){return this.create(this._ENC_XFORM_MODE,r,e)},createDecryptor:function(r,e){return this.create(this._DEC_XFORM_MODE,r,e)},init:function(r,e,t){this.cfg=this.cfg.extend(t);this._xformMode=r;this._key=e;this.reset()},reset:function(){n.reset.call(this);this._doReset()},process:function(r){this._append(r);return this._process()},finalize:function(r){if(r)this._append(r);var e=this._doFinalize();return e},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function selectCipherStrategy(r){if(typeof r=="string")return S;else return m}return function(n){return{encrypt:function(r,e,t){return selectCipherStrategy(e).encrypt(n,r,e,t)},decrypt:function(r,e,t){return selectCipherStrategy(e).decrypt(n,r,e,t)}}}}()});var h=e.StreamCipher=u.extend({_doFinalize:function(){var r=this._process(!!"flush");return r},blockSize:1});var p=r.mode={};var l=e.BlockCipherMode=t.extend({createEncryptor:function(r,e){return this.Encryptor.create(r,e)},createDecryptor:function(r,e){return this.Decryptor.create(r,e)},init:function(r,e){this._cipher=r;this._iv=e}});var _=p.CBC=function(){var r=l.extend();r.Encryptor=r.extend({processBlock:function(r,e){var t=this._cipher;var n=t.blockSize;xorBlock.call(this,r,e,n);t.encryptBlock(r,e);this._prevBlock=r.slice(e,e+n)}});r.Decryptor=r.extend({processBlock:function(r,e){var t=this._cipher;var n=t.blockSize;var i=r.slice(e,e+n);t.decryptBlock(r,e);xorBlock.call(this,r,e,n);this._prevBlock=i}});function xorBlock(r,e,t){var n=this._iv;if(n){var i=n;this._iv=o}else var i=this._prevBlock;for(var a=0;a<t;a++)r[e+a]^=i[a]}return r}();var d=r.pad={};var y=d.Pkcs7={pad:function(r,e){var t=e*4;var n=t-r.sigBytes%t;var i=n<<24|n<<16|n<<8|n;var a=[];for(var o=0;o<n;o+=4)a.push(i);var s=c.create(a,n);r.concat(s)},unpad:function(r){var e=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=e}};var g=e.BlockCipher=u.extend({cfg:u.cfg.extend({mode:_,padding:y}),reset:function(){u.reset.call(this);var r=this.cfg;var e=r.iv;var t=r.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=t.createEncryptor;else{var n=t.createDecryptor;this._minBufferSize=1}if(this._mode&&this._mode.__creator==n)this._mode.init(this,e&&e.words);else{this._mode=n.call(t,this,e&&e.words);this._mode.__creator=n}},_doProcessBlock:function(r,e){this._mode.processBlock(r,e)},_doFinalize:function(){var r=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){r.pad(this._data,this.blockSize);var e=this._process(!!"flush")}else{var e=this._process(!!"flush");r.unpad(e)}return e},blockSize:128/32});var k=e.CipherParams=t.extend({init:function(r){this.mixIn(r)},toString:function(r){return(r||this.formatter).stringify(this)}});var x=r.format={};var B=x.OpenSSL={stringify:function(r){var e=r.ciphertext;var t=r.salt;if(t)var n=c.create([1398893684,1701076831]).concat(t).concat(e);else var n=e;return n.toString(s)},parse:function(r){var e=s.parse(r);var t=e.words;if(t[0]==1398893684&&t[1]==1701076831){var n=c.create(t.slice(2,4));t.splice(0,4);e.sigBytes-=16}return k.create({ciphertext:e,salt:n})}};var m=e.SerializableCipher=t.extend({cfg:t.extend({format:B}),encrypt:function(r,e,t,n){n=this.cfg.extend(n);var i=r.createEncryptor(t,n);var a=i.finalize(e);var o=i.cfg;return k.create({ciphertext:a,key:t,iv:o.iv,algorithm:r,mode:o.mode,padding:o.padding,blockSize:r.blockSize,formatter:n.format})},decrypt:function(r,e,t,n){n=this.cfg.extend(n);e=this._parse(e,n.format);var i=r.createDecryptor(t,n).finalize(e.ciphertext);return i},_parse:function(r,e){if(typeof r=="string")return e.parse(r,this);else return r}});var w=r.kdf={};var b=w.OpenSSL={execute:function(r,e,t,n){if(!n)n=c.random(64/8);var i=f.create({keySize:e+t}).compute(r,n);var a=c.create(i.words.slice(e),t*4);i.sigBytes=e*4;return k.create({key:i,iv:a,salt:n})}};var S=e.PasswordBasedCipher=m.extend({cfg:m.cfg.extend({kdf:b}),encrypt:function(r,e,t,n){n=this.cfg.extend(n);var i=n.kdf.execute(t,r.keySize,r.ivSize);n.iv=i.iv;var a=m.encrypt.call(this,r,e,i.key,n);a.mixIn(i);return a},decrypt:function(r,e,t,n){n=this.cfg.extend(n);e=this._parse(e,n.format);var i=n.kdf.execute(t,r.keySize,r.ivSize,e.salt);n.iv=i.iv;var a=m.decrypt.call(this,r,e,i.key,n);return a}})}()}(t(0),t(5))},function(r,e,t){r.exports=function(a){return function(){var r=a;var e=r.lib;var t=e.BlockCipher;var n=r.algo;var f=[];var v=[];var u=[];var h=[];var p=[];var l=[];var _=[];var d=[];var y=[];var g=[];(function(){var r=[];for(var e=0;e<256;e++)if(e<128)r[e]=e<<1;else r[e]=e<<1^283;var t=0;var n=0;for(var e=0;e<256;e++){var i=n^n<<1^n<<2^n<<3^n<<4;i=i>>>8^i&255^99;f[t]=i;v[i]=t;var a=r[t];var o=r[a];var s=r[o];var c=r[i]*257^i*16843008;u[t]=c<<24|c>>>8;h[t]=c<<16|c>>>16;p[t]=c<<8|c>>>24;l[t]=c;var c=s*16843009^o*65537^a*257^t*16843008;_[i]=c<<24|c>>>8;d[i]=c<<16|c>>>16;y[i]=c<<8|c>>>24;g[i]=c;if(!t)t=n=1;else{t=a^r[r[r[s^a]]];n^=r[r[n]]}}})();var k=[0,1,2,4,8,16,32,64,128,27,54];var i=n.AES=t.extend({_doReset:function(){if(this._nRounds&&this._keyPriorReset===this._key)return;var r=this._keyPriorReset=this._key;var e=r.words;var t=r.sigBytes/4;var n=this._nRounds=t+6;var i=(n+1)*4;var a=this._keySchedule=[];for(var o=0;o<i;o++)if(o<t)a[o]=e[o];else{var s=a[o-1];if(!(o%t)){s=s<<8|s>>>24;s=f[s>>>24]<<24|f[s>>>16&255]<<16|f[s>>>8&255]<<8|f[s&255];s^=k[o/t|0]<<24}else if(t>6&&o%t==4)s=f[s>>>24]<<24|f[s>>>16&255]<<16|f[s>>>8&255]<<8|f[s&255];a[o]=a[o-t]^s}var c=this._invKeySchedule=[];for(var v=0;v<i;v++){var o=i-v;if(v%4)var s=a[o];else var s=a[o-4];if(v<4||o<=4)c[v]=s;else c[v]=_[f[s>>>24]]^d[f[s>>>16&255]]^y[f[s>>>8&255]]^g[f[s&255]]}},encryptBlock:function(r,e){this._doCryptBlock(r,e,this._keySchedule,u,h,p,l,f)},decryptBlock:function(r,e){var t=r[e+1];r[e+1]=r[e+3];r[e+3]=t;this._doCryptBlock(r,e,this._invKeySchedule,_,d,y,g,v);var t=r[e+1];r[e+1]=r[e+3];r[e+3]=t},_doCryptBlock:function(r,e,t,n,i,a,o,s){var c=this._nRounds;var v=r[e]^t[0];var f=r[e+1]^t[1];var u=r[e+2]^t[2];var h=r[e+3]^t[3];var p=4;for(var l=1;l<c;l++){var _=n[v>>>24]^i[f>>>16&255]^a[u>>>8&255]^o[h&255]^t[p++];var d=n[f>>>24]^i[u>>>16&255]^a[h>>>8&255]^o[v&255]^t[p++];var y=n[u>>>24]^i[h>>>16&255]^a[v>>>8&255]^o[f&255]^t[p++];var g=n[h>>>24]^i[v>>>16&255]^a[f>>>8&255]^o[u&255]^t[p++];v=_;f=d;u=y;h=g}var _=(s[v>>>24]<<24|s[f>>>16&255]<<16|s[u>>>8&255]<<8|s[h&255])^t[p++];var d=(s[f>>>24]<<24|s[u>>>16&255]<<16|s[h>>>8&255]<<8|s[v&255])^t[p++];var y=(s[u>>>24]<<24|s[h>>>16&255]<<16|s[v>>>8&255]<<8|s[f&255])^t[p++];var g=(s[h>>>24]<<24|s[v>>>16&255]<<16|s[f>>>8&255]<<8|s[u&255])^t[p++];r[e]=_;r[e+1]=d;r[e+2]=y;r[e+3]=g},keySize:256/32});r.AES=t._createHelper(i)}(),a.AES}(t(0),(t(10),t(11),t(5),t(1)))},function(r,e,t){r.exports=function(e){return e.mode.ECB=function(){var r=e.lib.BlockCipherMode.extend();r.Encryptor=r.extend({processBlock:function(r,e){this._cipher.encryptBlock(r,e)}});r.Decryptor=r.extend({processBlock:function(r,e){this._cipher.decryptBlock(r,e)}});return r}(),e.mode.ECB}(t(0),t(1))},function(r,e,t){r.exports=function(r){return r.enc.Utf8}(t(0))},function(r,e,t){r.exports=function(o){return function(){var r=o;var e=r.lib;var t=e.Base;var f=e.WordArray;var n=r.algo;var i=n.MD5;var a=n.EvpKDF=t.extend({cfg:t.extend({keySize:128/32,hasher:i,iterations:1}),init:function(r){this.cfg=this.cfg.extend(r)},compute:function(r,e){var t=this.cfg;var n=t.hasher.create();var i=f.create();var a=i.words;var o=t.keySize;var s=t.iterations;while(a.length<o){if(c)n.update(c);var c=n.update(r).finalize(e);n.reset();for(var v=1;v<s;v++){c=n.finalize(c);n.reset()}i.concat(c)}i.sigBytes=o*4;return i}});r.EvpKDF=function(r,e,t){return a.create(t).compute(r,e)}}(),o.EvpKDF}(t(0),(t(12),t(13)))},function(r,e,t){r.exports=function(r){return r.pad.Pkcs7}(t(0),t(1))},function(r,e,t){r.exports=function(r){return r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding}(t(0),t(1))},function(r,e,t){r.exports=function(a){return function(){if(typeof ArrayBuffer!="function")return;var r=a;var e=r.lib;var t=e.WordArray;var i=t.init;var n=t.init=function(r){if(r instanceof ArrayBuffer)r=new Uint8Array(r);if(r instanceof Int8Array||typeof Uint8ClampedArray!=="undefined"&&r instanceof Uint8ClampedArray||r instanceof Int16Array||r instanceof Uint16Array||r instanceof Int32Array||r instanceof Uint32Array||r instanceof Float32Array||r instanceof Float64Array)r=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);if(r instanceof Uint8Array){var e=r.byteLength;var t=[];for(var n=0;n<e;n++)t[n>>>2]|=r[n]<<24-n%4*8;i.call(this,t,e)}else i.apply(this,arguments)};n.prototype=t}(),a.lib.WordArray}(t(0))},function(r,e,t){"use strict";t.r(e);var e=t(2),o=t.n(e),e=t(3),s=t.n(e),e=t(6),c=t.n(e),e=t(7),v=t.n(e),e=t(8),f=t.n(e),e=t(4),u=t.n(e);function crc32(r,e){for(var t=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],n=("undefined"!=typeof Int32Array&&(t=new Int32Array(t)),-1^~~e),i=(r=new Uint8Array(r)).length,a=0;a<i;a++)n=t[255&(n^r[a])]^n>>>8;return(-1^n)>>>0}function dec2hex(r){if(void 0!==r)return function toEight(r){return r.length<8?toEight(r="0".concat(r)):r}(Number(r).toString(16))}self.onmessage=function(r){var r=r.data,e=r[0],t=r[1],n=r[2],i=r[3],a=r[4],r=r[5];i?(i=f.a.create(e),i=crc32(r=function wordArrayToUint8Array(r){for(var e=r.sigBytes,t=r.words,n=new Uint8Array(e),i=0,a=0;i!==e;){var o=t[a++];if(n[i++]=(4278190080&o)>>>24,i===e)break;if(n[i++]=(16711680&o)>>>16,i===e)break;if(n[i++]=(65280&o)>>>8,i===e)break;n[i++]=255&o}return n}((r&&e.byteLength%16!=0?o.a.encrypt(i,u.a.parse(a),{mode:s.a,padding:c.a}):o.a.encrypt(i,u.a.parse(a),{mode:s.a,padding:v.a})).ciphertext),0),postMessage([r.buffer,dec2hex(i),t,n],[r.buffer])):(a=crc32(e,0),postMessage([e,dec2hex(a),t,n],[e]))}},function(r,e,t){r.exports=function(i){return function(){var r=i;var e=r.lib;var c=e.WordArray;var t=r.enc;var n=t.Base64={stringify:function(r){var e=r.words;var t=r.sigBytes;var n=this._map;r.clamp();var i=[];for(var a=0;a<t;a+=3){var o=e[a>>>2]>>>24-a%4*8&255;var s=e[a+1>>>2]>>>24-(a+1)%4*8&255;var c=e[a+2>>>2]>>>24-(a+2)%4*8&255;var v=o<<16|s<<8|c;for(var f=0;f<4&&a+f*.75<t;f++)i.push(n.charAt(v>>>6*(3-f)&63))}var u=n.charAt(64);if(u)while(i.length%4)i.push(u);return i.join("")},parse:function(r){var e=r.length;var t=this._map;var n=this._reverseMap;if(!n){n=this._reverseMap=[];for(var i=0;i<t.length;i++)n[t.charCodeAt(i)]=i}var a=t.charAt(64);if(a){var o=r.indexOf(a);if(o!==-1)e=o}return parseLoop(r,e,n)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function parseLoop(r,e,t){var n=[];var i=0;for(var a=0;a<e;a++)if(a%4){var o=t[r.charCodeAt(a-1)]<<a%4*2;var s=t[r.charCodeAt(a)]>>>6-a%4*2;n[i>>>2]|=(o|s)<<24-i%4*8;i++}return c.create(n,i)}}(),i.enc.Base64}(t(0))},function(r,e,t){r.exports=function(o){return function(f){var r=o;var e=r.lib;var t=e.WordArray;var n=e.Hasher;var i=r.algo;var F=[];(function(){for(var r=0;r<64;r++)F[r]=f.abs(f.sin(r+1))*4294967296|0})();var a=i.MD5=n.extend({_doReset:function(){this._hash=new t.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(r,e){for(var t=0;t<16;t++){var n=e+t;var i=r[n];r[n]=(i<<8|i>>>24)&16711935|(i<<24|i>>>8)&4278255360}var a=this._hash.words;var o=r[e+0];var s=r[e+1];var c=r[e+2];var v=r[e+3];var f=r[e+4];var u=r[e+5];var h=r[e+6];var p=r[e+7];var l=r[e+8];var _=r[e+9];var d=r[e+10];var y=r[e+11];var g=r[e+12];var k=r[e+13];var x=r[e+14];var B=r[e+15];var m=a[0];var w=a[1];var b=a[2];var S=a[3];m=FF(m,w,b,S,o,7,F[0]);S=FF(S,m,w,b,s,12,F[1]);b=FF(b,S,m,w,c,17,F[2]);w=FF(w,b,S,m,v,22,F[3]);m=FF(m,w,b,S,f,7,F[4]);S=FF(S,m,w,b,u,12,F[5]);b=FF(b,S,m,w,h,17,F[6]);w=FF(w,b,S,m,p,22,F[7]);m=FF(m,w,b,S,l,7,F[8]);S=FF(S,m,w,b,_,12,F[9]);b=FF(b,S,m,w,d,17,F[10]);w=FF(w,b,S,m,y,22,F[11]);m=FF(m,w,b,S,g,7,F[12]);S=FF(S,m,w,b,k,12,F[13]);b=FF(b,S,m,w,x,17,F[14]);w=FF(w,b,S,m,B,22,F[15]);m=GG(m,w,b,S,s,5,F[16]);S=GG(S,m,w,b,h,9,F[17]);b=GG(b,S,m,w,y,14,F[18]);w=GG(w,b,S,m,o,20,F[19]);m=GG(m,w,b,S,u,5,F[20]);S=GG(S,m,w,b,d,9,F[21]);b=GG(b,S,m,w,B,14,F[22]);w=GG(w,b,S,m,f,20,F[23]);m=GG(m,w,b,S,_,5,F[24]);S=GG(S,m,w,b,x,9,F[25]);b=GG(b,S,m,w,v,14,F[26]);w=GG(w,b,S,m,l,20,F[27]);m=GG(m,w,b,S,k,5,F[28]);S=GG(S,m,w,b,c,9,F[29]);b=GG(b,S,m,w,p,14,F[30]);w=GG(w,b,S,m,g,20,F[31]);m=HH(m,w,b,S,u,4,F[32]);S=HH(S,m,w,b,l,11,F[33]);b=HH(b,S,m,w,y,16,F[34]);w=HH(w,b,S,m,x,23,F[35]);m=HH(m,w,b,S,s,4,F[36]);S=HH(S,m,w,b,f,11,F[37]);b=HH(b,S,m,w,p,16,F[38]);w=HH(w,b,S,m,d,23,F[39]);m=HH(m,w,b,S,k,4,F[40]);S=HH(S,m,w,b,o,11,F[41]);b=HH(b,S,m,w,v,16,F[42]);w=HH(w,b,S,m,h,23,F[43]);m=HH(m,w,b,S,_,4,F[44]);S=HH(S,m,w,b,g,11,F[45]);b=HH(b,S,m,w,B,16,F[46]);w=HH(w,b,S,m,c,23,F[47]);m=II(m,w,b,S,o,6,F[48]);S=II(S,m,w,b,p,10,F[49]);b=II(b,S,m,w,x,15,F[50]);w=II(w,b,S,m,u,21,F[51]);m=II(m,w,b,S,g,6,F[52]);S=II(S,m,w,b,v,10,F[53]);b=II(b,S,m,w,d,15,F[54]);w=II(w,b,S,m,s,21,F[55]);m=II(m,w,b,S,l,6,F[56]);S=II(S,m,w,b,B,10,F[57]);b=II(b,S,m,w,h,15,F[58]);w=II(w,b,S,m,k,21,F[59]);m=II(m,w,b,S,f,6,F[60]);S=II(S,m,w,b,y,10,F[61]);b=II(b,S,m,w,c,15,F[62]);w=II(w,b,S,m,_,21,F[63]);a[0]=a[0]+m|0;a[1]=a[1]+w|0;a[2]=a[2]+b|0;a[3]=a[3]+S|0},_doFinalize:function(){var r=this._data;var e=r.words;var t=this._nDataBytes*8;var n=r.sigBytes*8;e[n>>>5]|=128<<24-n%32;var i=f.floor(t/4294967296);var a=t;e[(n+64>>>9<<4)+15]=(i<<8|i>>>24)&16711935|(i<<24|i>>>8)&4278255360;e[(n+64>>>9<<4)+14]=(a<<8|a>>>24)&16711935|(a<<24|a>>>8)&4278255360;r.sigBytes=(e.length+1)*4;this._process();var o=this._hash;var s=o.words;for(var c=0;c<4;c++){var v=s[c];s[c]=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360}return o},clone:function(){var r=n.clone.call(this);r._hash=this._hash.clone();return r}});function FF(r,e,t,n,i,a,o){var s=r+(e&t|~e&n)+i+o;return(s<<a|s>>>32-a)+e}function GG(r,e,t,n,i,a,o){var s=r+(e&n|t&~n)+i+o;return(s<<a|s>>>32-a)+e}function HH(r,e,t,n,i,a,o){var s=r+(e^t^n)+i+o;return(s<<a|s>>>32-a)+e}function II(r,e,t,n,i,a,o){var s=r+(t^(e|~n))+i+o;return(s<<a|s>>>32-a)+e}r.MD5=n._createHelper(a);r.HmacMD5=n._createHmacHelper(a)}(Math),o.MD5}(t(0))},function(r,e,t){r.exports=function(o){return function(){var r=o;var e=r.lib;var t=e.WordArray;var n=e.Hasher;var i=r.algo;var u=[];var a=i.SHA1=n.extend({_doReset:function(){this._hash=new t.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(r,e){var t=this._hash.words;var n=t[0];var i=t[1];var a=t[2];var o=t[3];var s=t[4];for(var c=0;c<80;c++){if(c<16)u[c]=r[e+c]|0;else{var v=u[c-3]^u[c-8]^u[c-14]^u[c-16];u[c]=v<<1|v>>>31}var f=(n<<5|n>>>27)+s+u[c];if(c<20)f+=(i&a|~i&o)+1518500249;else if(c<40)f+=(i^a^o)+1859775393;else if(c<60)f+=(i&a|i&o|a&o)-1894007588;else f+=(i^a^o)-899497514;s=o;o=a;a=i<<30|i>>>2;i=n;n=f}t[0]=t[0]+n|0;t[1]=t[1]+i|0;t[2]=t[2]+a|0;t[3]=t[3]+o|0;t[4]=t[4]+s|0},_doFinalize:function(){var r=this._data;var e=r.words;var t=this._nDataBytes*8;var n=r.sigBytes*8;e[n>>>5]|=128<<24-n%32;e[(n+64>>>9<<4)+14]=Math.floor(t/4294967296);e[(n+64>>>9<<4)+15]=t;r.sigBytes=e.length*4;this._process();return this._hash},clone:function(){var r=n.clone.call(this);r._hash=this._hash.clone();return r}});r.SHA1=n._createHelper(a);r.HmacSHA1=n._createHmacHelper(a)}(),o.SHA1}(t(0))},function(r,e,t){r.exports=function(o){(function(){var r=o;var e=r.lib;var t=e.Base;var n=r.enc;var v=n.Utf8;var i=r.algo;var a=i.HMAC=t.extend({init:function(r,e){r=this._hasher=new r.init;if(typeof e=="string")e=v.parse(e);var t=r.blockSize;var n=t*4;if(e.sigBytes>n)e=r.finalize(e);e.clamp();var i=this._oKey=e.clone();var a=this._iKey=e.clone();var o=i.words;var s=a.words;for(var c=0;c<t;c++){o[c]^=1549556828;s[c]^=909522486}i.sigBytes=a.sigBytes=n;this.reset()},reset:function(){var r=this._hasher;r.reset();r.update(this._iKey)},update:function(r){this._hasher.update(r);return this},finalize:function(r){var e=this._hasher;var t=e.finalize(r);e.reset();var n=e.finalize(this._oKey.clone().concat(t));return n}})})()}(t(0))}]);',null)}},function(e,t,r){e.exports=function(){var e=e||function(e,t){var r=Object.create||function(){function e(){}return function(t){var r;return e.prototype=t,r=new e,e.prototype=null,r}}(),n={},i=n.lib={},o=i.Base={extend:function(e){var t=r(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},s=i.WordArray=o.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||c).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes,i=e.sigBytes;if(this.clamp(),n%4)for(var o=0;o<i;o++){var s=r[o>>>2]>>>24-o%4*8&255;t[n+o>>>2]|=s<<24-(n+o)%4*8}else for(o=0;o<i;o+=4)t[n+o>>>2]=r[o>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var r,n=[],i=function(t){var r=987654321,n=4294967295;return function(){var i=((r=36969*(65535&r)+(r>>16)&n)<<16)+(t=18e3*(65535&t)+(t>>16)&n)&n;return i/=4294967296,(i+=.5)*(e.random()>.5?1:-1)}},o=0;o<t;o+=4){var a=i(4294967296*(r||e.random()));r=987654071*a(),n.push(4294967296*a()|0)}return new s.init(n,t)}}),a=n.enc={},c=a.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new s.init(r,t/2)}},l=a.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(o))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new s.init(r,t)}},u=a.Utf8={stringify:function(e){try{return decodeURIComponent(escape(l.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return l.parse(unescape(encodeURIComponent(e)))}},p=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r=this._data,n=r.words,i=r.sigBytes,o=this.blockSize,a=i/(4*o),c=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*o,l=e.min(4*c,i);if(c){for(var u=0;u<c;u+=o)this._doProcessBlock(n,u);var p=n.splice(0,c);r.sigBytes-=l}return new s.init(p,l)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),d=(i.Hasher=p.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new d.HMAC.init(e,r).finalize(t)}}}),n.algo={});return n}(Math);return e}()},function(e,t,r){var n;e.exports=(n=r(3),function(e){var t=n,r=t.lib,i=r.WordArray,o=r.Hasher,s=t.algo,a=[],c=[];!function(){function t(t){for(var r=e.sqrt(t),n=2;n<=r;n++)if(!(t%n))return!1;return!0}function r(e){return 4294967296*(e-(0|e))|0}for(var n=2,i=0;i<64;)t(n)&&(i<8&&(a[i]=r(e.pow(n,.5))),c[i]=r(e.pow(n,1/3)),i++),n++}();var l=[],u=s.SHA256=o.extend({_doReset:function(){this._hash=new i.init(a.slice(0))},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],s=r[3],a=r[4],u=r[5],p=r[6],d=r[7],h=0;h<64;h++){if(h<16)l[h]=0|e[t+h];else{var f=l[h-15],g=(f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3,m=l[h-2],y=(m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10;l[h]=g+l[h-7]+y+l[h-16]}var v=n&i^n&o^i&o,b=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),_=d+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&u^~a&p)+c[h]+l[h];d=p,p=u,u=a,a=s+_|0,s=o,o=i,i=n,n=_+(b+v)|0}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+o|0,r[3]=r[3]+s|0,r[4]=r[4]+a|0,r[5]=r[5]+u|0,r[6]=r[6]+p|0,r[7]=r[7]+d|0},_doFinalize:function(){var t=this._data,r=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;return r[i>>>5]|=128<<24-i%32,r[14+(i+64>>>9<<4)]=e.floor(n/4294967296),r[15+(i+64>>>9<<4)]=n,t.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=o._createHelper(u),t.HmacSHA256=o._createHmacHelper(u)}(Math),n.SHA256)},function(e,t,r){e.exports=function(e){return e.HmacSHA256}(r(3),(r(4),r(6)))},function(e,t,r){var n;e.exports=(n=r(3),void function(){var e=n,t=e.lib.Base,r=e.enc.Utf8;e.algo.HMAC=t.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=r.parse(t));var n=e.blockSize,i=4*n;t.sigBytes>i&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),s=this._iKey=t.clone(),a=o.words,c=s.words,l=0;l<n;l++)a[l]^=1549556828,c[l]^=909522486;o.sigBytes=s.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,r=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(r))}})}())},function(e,t){var r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";var n=window.URL||window.webkitURL;e.exports=function(t,r){try{try{var i;try{(i=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(t),i=i.getBlob()}catch(e){i=new Blob([t])}return new Worker(n.createObjectURL(i))}catch(e){return new Worker("data:application/javascript,"+encodeURIComponent(t))}}catch(e){if(r)return new Worker(r);throw Error("Inline worker is not supported")}}},function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return Pr})),t=r(0);var n=r.n(t),i="{tosDomain}/upload/v1/{oid}?uploadid={uploadId}&part_number={part_number}&phase=transfer",o="{tosDomain}/upload/v1/{oid}",s={debug:!1,region:"us-east-1",external:{},getSliceFunc:null,uploadSliceCount:3,retryUploadTime:2,retryProcess:!0,retryProcessTime:3,retryTaskTime:2,progressMonitorTime:10,progressMonitorSpeed:50,schema:"https",replace:{}},a=function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function c(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||0<t--)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}(arguments[t]));return e}function l(e){return null!=e&&"[object Object]"==Object.prototype.toString.call(e)}function u(e){return function(e){if("string"==typeof e){for(var t=[],r=String.fromCharCode(122),n=e.split(r),i=0;i<n.length;i++){var o=64^+parseInt(n[i],25);o=String.fromCharCode(o),t.push(o)}return t.join("")}}(e)}function p(e){var t=document.createElement("a");return t.href=e,t}function d(e){var t={};try{p(e).search.slice(1).split("&").forEach((function(e){var r,n,i=e.split("=");i.length&&(r=i[0],n=i[1]);try{t[r]=decodeURIComponent(void 0===n?"":n)}catch(e){t[r]=n}}))}catch(e){}return t}function h(e){for(var t=0,r=0,n=(e+="").length,i=0;i<n;i++)(0x7fffffffffff<(t=31*t+e.charCodeAt(r++))||t<-0x800000000000)&&(t&=0xffffffffffff);return t<0&&(t+=0x7ffffffffffff),t}function f(e,t){try{return b.get(e,{domain:t||document.domain})}catch(e){return""}}function g(e,t,r,n){try{var i=n||document.domain,o=+new Date+(r||6048e5);b.set(e,t,{expires:new Date(o),path:"/",domain:i})}catch(e){}}var m,y,v=function(){function e(){this._hooks={},this._cache=[],this._hooksCache={}}return e.prototype.on=function(e,t){e&&t&&"function"==typeof t&&(this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t))},e.prototype.once=function(e,t){var r=this;e&&t&&"function"==typeof t&&this.on(e,(function n(i){t(i),r.off(e,n)}))},e.prototype.off=function(e,t){e&&this._hooks[e]&&this._hooks[e].length&&(t?-1!==(t=this._hooks[e].indexOf(t))&&this._hooks[e].splice(t,1):this._hooks[e]=[])},e.prototype.emit=function(e,t,r){r?e&&(-1!==this._cache.indexOf(r)?this._emit(e,t):(this._hooksCache.hasOwnProperty(r)||(this._hooksCache[r]={}),this._hooksCache[r].hasOwnProperty(e)||(this._hooksCache[r][e]=[]),this._hooksCache[r][e].push(t))):this._emit(e,t)},e.prototype._emit=function(e,t){e&&this._hooks[e]&&this._hooks[e].length&&c(this._hooks[e]).forEach((function(e){try{e(t)}catch(e){}}))},e.prototype.set=function(e){e&&-1===this._cache.indexOf(e)&&this._cache.push(e)},e}(),b=(m=+Date.now()+Number((""+Math.random()).slice(2,8)),(t={exports:{}}).exports=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var r,n=arguments[e];for(r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function r(n){function i(){}function o(t,r,o){if("undefined"!=typeof document){"number"==typeof(o=e({path:"/"},i.defaults,o)).expires&&(o.expires=new Date(+new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var s=JSON.stringify(r);/^[\{\[]/.test(s)&&(r=s)}catch(e){}r=n.write?n.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a,c="";for(a in o)o[a]&&(c+="; "+a,!0!==o[a])&&(c+="="+o[a].split(";")[0]);return document.cookie=t+"="+r+c}}function s(e,r){if("undefined"!=typeof document){for(var i={},o=document.cookie?document.cookie.split("; "):[],s=0;s<o.length;s++){var a=o[s].split("="),c=a.slice(1).join("=");r||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var l=t(a[0]);if(c=(n.read||n)(c,l)||t(c),r)try{c=JSON.parse(c)}catch(e){}if(i[l]=c,e===l)break}catch(e){}}return e?i[e]:i}}return i.set=o,i.get=function(e){return s(e,!1)},i.getJSON=function(e){return s(e,!0)},i.remove=function(t,r){o(t,"",e(r,{expires:-1}))},i.defaults={},i.withConverter=r,i}((function(){}))}(),t.exports),_=function(){function e(){this.cache={}}return e.prototype.setItem=function(e,t){this.cache[e]=t},e.prototype.getItem=function(e){return this.cache[e]},e.prototype.removeItem=function(e){this.cache[e]=void 0},e.prototype.getCookie=function(e,t){return f(e,t)},e.prototype.setCookie=function(e,t,r,n){g(e,t,r,n)},e}(),w={getItem:function(e){try{var t=localStorage.getItem(e),r=t;try{t&&"string"==typeof t&&(r=JSON.parse(t))}catch(e){}return r||{}}catch(e){}return{}},setItem:function(e,t){try{var r="string"==typeof t?t:JSON.stringify(t);localStorage.setItem(e,r)}catch(e){}},removeItem:function(e){try{localStorage.removeItem(e)}catch(e){}},getCookie:function(e,t){return f(e,t)},setCookie:function(e,t,r,n){g(e,t,r,n)},isSupportLS:function(){try{return localStorage.setItem("_ranger-test-key","hi"),localStorage.getItem("_ranger-test-key"),localStorage.removeItem("_ranger-test-key"),!0}catch(e){return!1}}()},S={getItem:function(e){try{var t=sessionStorage.getItem(e),r=t;try{t&&"string"==typeof t&&(r=JSON.parse(t))}catch(e){}return r||{}}catch(e){}return{}},setItem:function(e,t){try{var r="string"==typeof t?t:JSON.stringify(t);sessionStorage.setItem(e,r)}catch(e){}},removeItem:function(e){try{sessionStorage.removeItem(e)}catch(e){}},getCookie:function(e,t){return f(e,t)},setCookie:function(e,t,r,n){g(e,t,r,n)},isSupportSession:function(){try{return sessionStorage.setItem("_ranger-test-key","hi"),sessionStorage.getItem("_ranger-test-key"),sessionStorage.removeItem("_ranger-test-key"),!0}catch(e){return!1}}()},E=function(){function e(e,t){this._storage=t&&"session"===t?S:!e&&w.isSupportLS?w:new _}return e.prototype.getItem=function(e){return this._storage.getItem(e)},e.prototype.setItem=function(e,t){this._storage.setItem(e,t)},e.prototype.getCookie=function(e,t){return this._storage.getCookie(e,t)},e.prototype.setCookie=function(e,t,r,n){this._storage.setCookie(e,t,r,n)},e.prototype.removeItem=function(e){this._storage.removeItem(e)},e}(),O=function(){function e(e,t,r){this.appid=e,this.domain=t,this.userAgent=window.navigator.userAgent,this.appVersion=window.navigator.appVersion,this.cookie_expire=r}return e.prototype.init=function(){var e=window.navigator.userAgent,t=window.navigator.language,r=document.referrer,n=r?p(r).hostname:"",i=d(window.location.href),o=/Mobile|htc|mini|Android|iP(ad|od|hone)/.test(this.appVersion)?"wap":"web",s=(this.utm=function(e,t,r,n){var i=new E(!1),o=new E(!1,"session"),s=e?"_tea_utm_cache_"+e:"_tea_utm_cache",a=e?"_$utm_from_url_"+e:"_$utm_from_url",c={},l=["tr_shareuser","tr_admaster","tr_param1","tr_param2","tr_param3","tr_param4","$utm_from_url"],u={ad_id:Number(t.ad_id)||void 0,campaign_id:Number(t.campaign_id)||void 0,creative_id:Number(t.creative_id)||void 0,utm_source:t.utm_source,utm_medium:t.utm_medium,utm_campaign:t.utm_campaign,utm_term:t.utm_term,utm_content:t.utm_content,tr_shareuser:t.tr_shareuser,tr_admaster:t.tr_admaster,tr_param1:t.tr_param1,tr_param2:t.tr_param2,tr_param3:t.tr_param3,tr_param4:t.tr_param4};try{var p,d,h=!1;for(p in u)u[p]&&(-1!==l.indexOf(p)?(c.hasOwnProperty("tracer_data")||(c.tracer_data={}),c.tracer_data[p]=u[p]):c[p]=u[p],h=!0);h?(o.setItem(a,"1"),i.setCookie(s,JSON.stringify(c),n,r)):(d=i.getCookie(s,r))&&(c=JSON.parse(d)),o.getItem(a)&&(c.hasOwnProperty("tracer_data")||(c.tracer_data={}),c.tracer_data.$utm_from_url=1)}catch(e){return u}return c}(this.appid,i,this.domain,this.cookie_expire),i=this.browser(),this.os());return{browser:i.browser,browser_version:i.browser_version,platform:o,os_name:s.os_name,os_version:s.os_version,userAgent:e,screen_width:window.screen&&window.screen.width,screen_height:window.screen&&window.screen.height,device_model:this.getDeviceModel(s.os_name),language:t,referrer:r,referrer_host:n,utm:this.utm,latest_data:this.last(r,n)}},e.prototype.last=function(e,t){var r="",n="",i="",o=location.hostname,s=!1;return e&&t&&o!==t&&(n=t,s=!0,(o=d(r=e)).keyword)&&(i=o.keyword),{$latest_referrer:r,$latest_referrer_host:n,$latest_search_keyword:i,isLast:s}},e.prototype.browser=function(){var e,t="",r=""+parseFloat(this.appVersion),n=this.userAgent;return-1!==n.indexOf("Edge")||-1!==n.indexOf("Edg")?(t="Microsoft Edge",r=-1!==n.indexOf("Edge")?(e=n.indexOf("Edge"),n.substring(e+5)):(e=n.indexOf("Edg"),n.substring(e+4))):-1!==(e=n.indexOf("MSIE"))?(t="Microsoft Internet Explorer",r=n.substring(e+5)):-1!==(e=n.indexOf("Lark"))?(t="Lark",r=n.substring(e+5,e+11)):-1!==n.indexOf("Chrome")?-1!==(e=n.indexOf("TTWebView"))?(t="TTWebView",r=n.substring(e+10,e+23)):-1===(e=n.indexOf("Chrome"))&&-1===(e=n.indexOf("Chrome"))||(t="Chrome",r=n.substring(e+7)):-1!==n.indexOf("Safari")?-1!==(e=n.indexOf("Safari"))&&(t="Safari",r=n.substring(e+7),-1!==(e=n.indexOf("Version")))&&(r=n.substring(e+8)):-1!==(e=n.indexOf("Firefox"))&&(t="Firefox",r=n.substring(e+8)),{browser:t,browser_version:r=-1!==(n=(r=-1!==(n=(r=-1!==(n=r.indexOf(";"))?r.substring(0,n):r).indexOf(" "))?r.substring(0,n):r).indexOf(")"))?r.substring(0,n):r}},e.prototype.os=function(){for(var e="",t="",r=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0|Windows NT 10.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Android",r:/Android/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/}],n=0;n<r.length;n++){var i=r[n];if(i.r.test(this.userAgent)){"Mac OS X"===(e=i.s)&&this.isNewIpad()&&(e="iOS");break}}function o(e,t){return(e=e.exec(t))&&e[1]?e[1]:""}function s(e,t){return(e=RegExp("(?:^|[^A-Z0-9-_]|[^A-Z0-9-]_|sprd-)(?:"+e+")","i").exec(t))?e.slice(1)[0]:""}var a;switch(/Windows/.test(e)&&(t=o(/Windows (.*)/,e),e="windows"),e){case"Mac OS X":t=s("Mac[ +]OS[ +]X(?:[ /](?:Version )?(\\d+(?:[_\\.]\\d+)+))?",this.userAgent),e="mac";break;case"Android":t=o(/Android ([\.\_\d]+)/,a=this.userAgent)||o(/Android\/([\.\_\d]+)/,a),e="android";break;case"iOS":t=this.isNewIpad()?s("Mac[ +]OS[ +]X(?:[ /](?:Version )?(\\d+(?:[_\\.]\\d+)+))?",this.userAgent):(t=/OS (\d+)_(\d+)_?(\d+)?/.exec(this.appVersion))?t[1]+"."+t[2]+"."+(0|t[3]):"",e="ios"}return{os_name:e,os_version:t}},e.prototype.getDeviceModel=function(e){var t,r,n="";try{"android"===e?navigator.userAgent.split(";").forEach((function(e){-1<e.indexOf("Build/")&&(n=e.slice(0,e.indexOf("Build/")))})):"ios"!==e&&"mac"!==e&&"windows"!==e||(n=this.isNewIpad()?"iPad":(r=(t=navigator.userAgent.replace("Mozilla/5.0 (","")).indexOf(";"),t.slice(0,r)))}catch(e){}return n.trim()},e.prototype.isNewIpad=function(){return void 0!==this.userAgent&&"MacIntel"===navigator.platform&&"number"==typeof navigator.maxTouchPoints&&1<navigator.maxTouchPoints},e}(),x={sg:"1fz22z22z1nz21z4mz4bz4bz21z1ez18z1jz1gz49z1kz1az21z4az19z27z22z1cz1mz24z1cz20z21z1cz18z4az1az1mz1k",va:"1fz22z22z1nz21z4mz4bz4bz1kz18z1jz1gz24z18z49z1kz1az21z4az19z27z22z1cz1mz24z1cz20z21z1cz18z4az1az1mz1k"},k={va:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az1gz22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k",sg:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k",in:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az1gz22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k"},C={sg:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z21z1ez4az22z1gz1iz22z1mz1iz24z4az1az1mz1k",va:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z24z18z4az22z1gz1iz22z1mz1iz24z4az1az1mz1k",in:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z24z18z49z23z21z1cz18z21z22z4ez18z4az22z1gz1iz22z1mz1iz24z4az1az1mz1k"},T={sg:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z4az23z21z4az22z1gz1iz22z1mz1iz24z4az1az1mz1k",va:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z4az23z21z4az22z1gz1iz22z1mz1iz4az1az1mz1k"},j="5.0.37_oversea",P=function(){function e(e,t){this.collector=e,this.config=t,this.eventNameWhiteList=["__bav_page","__bav_beat","__bav_page_statistics","__bav_click","__bav_page_exposure"],this.paramsNameWhiteList=["$inactive","$inline","$target_uuid_list","$source_uuid","$is_spider","$source_id","$is_first_time","_staging_flag"],this.regStr=new RegExp("^[a-zA-Z0-9][a-z0-9A-Z_.-]{1,255}$")}return e.prototype.checkVerify=function(e){var t,r,n,i=this;return!!(e&&e.length&&(e=e[0])&&(t=e.events,r=e.header,t)&&t.length)&&(n=!0,t.forEach((function(e){e?(i.checkEventName(e.event)||(n=!1,e.checkEvent="\u4e8b\u4ef6\u540d\u4e0d\u80fd\u4ee5 $ or __\u5f00\u5934"),i.checkEventParams(e.params)||(n=!1,e.checkParams="\u5c5e\u6027\u540d\u4e0d\u80fd\u4ee5 $ or __\u5f00\u5934")):(n=!1,e.checkEvent="\u4e8b\u4ef6\u5f02\u5e38")})),n=!!this.checkEventParams(r)&&n)},e.prototype.checkEventName=function(e){return!!e&&this.calculate(e,"event")},e.prototype.checkEventParams=function(e){var t=e;if("string"==typeof e&&(t=JSON.parse(t)),Object.keys(t).length)for(var r in t)return!(!this.calculate(r,"params")||"string"==typeof t[r]&&1024<t[r].length&&(console.warn("params: "+r+" can not over 1024 byte, please check;"),1));return!0},e.prototype.calculate=function(e,t){return-1!==("event"===t?this.eventNameWhiteList:this.paramsNameWhiteList).indexOf(e)||!new RegExp("^\\$").test(e)&&!new RegExp("^__").test(e)||(console.warn(("event"===t?"event":"params")+" name: "+e+" can not start with $ or __, pleace check;"),!1)},e}(),I=(function(e){e.Init="init",e.Config="config",e.Start="start",e.Ready="ready",e.TokenComplete="token-complete",e.TokenStorage="token-storage",e.TokenFetch="token-fetch",e.TokenError="token-error",e.ConfigUuid="config-uuid",e.ConfigWebId="config-webid",e.ConfigDomain="config-domain",e.CustomWebId="custom-webid",e.TokenChange="token-change",e.TokenReset="token-reset",e.ConfigTransform="config-transform",e.EnvTransform="env-transform",e.SessionReset="session-reset",e.SessionResetTime="session-reset-time",e.Event="event",e.Events="events",e.EventNow="event-now",e.CleanEvents="clean-events",e.BeconEvent="becon-event",e.SubmitBefore="submit-before",e.SubmitScuess="submit-scuess",e.SubmitAfter="submit-after",e.SubmitError="submit-error",e.SubmitVerify="submit-verify",e.Stay="stay",e.ResetStay="reset-stay",e.StayReady="stay-ready",e.SetStay="set-stay",e.RouteChange="route-change",e.RouteReady="route-ready",e.Ab="ab",e.AbVar="ab-var",e.AbAllVars="ab-all-vars",e.AbConfig="ab-config",e.AbExternalVersion="ab-external-version",e.AbVersionChangeOn="ab-version-change-on",e.AbVersionChangeOff="ab-version-change-off",e.AbOpenLayer="ab-open-layer",e.AbCloseLayer="ab-close-layer",e.AbReady="ab-ready",e.AbComplete="ab-complete",e.AbTimeout="ab-timeout",e.Profile="profile",e.ProfileSet="profile-set",e.ProfileSetOnce="profile-set-once",e.ProfileUnset="profile-unset",e.ProfileIncrement="profile-increment",e.ProfileAppend="profile-append",e.ProfileClear="profile-clear",e.Autotrack="autotrack",e.AutotrackReady="autotrack-ready",e.CepReady="cep-ready",e.TracerReady="tracer-ready",e.sessionRecord="session-record",e.SessionRecordStart="session-record-start",e.SessionRecordPause="session-record-pause",e.SessionRecordEnd="session-record-end",e.SessionRecordReport="session-record-report"}(Y=Y||{}),function(e){e.DEBUGGER_MESSAGE="debugger-message",e.DEBUGGER_MESSAGE_SDK="debugger-message-sdk",e.DEBUGGER_MESSAGE_FETCH="debugger-message-fetch",e.DEBUGGER_MESSAGE_FETCH_RESULT="debugger-message-fetch-result",e.DEBUGGER_MESSAGE_EVENT="debugger-message-event",e.DEVTOOL_WEB_READY="devtool-web-ready"}(y=y||{}),Y),A=void 0,D=(t=(new Date).getTimezoneOffset(),parseInt(""+-t/60,10)),R=60*t,M=function(){function e(e,t){this.is_first_time=!0,this.configPersist=!1,this.initConfig=t,this.collect=e;var r=new O(t.app_id,t.cookie_domain||"",t.cookie_expire||6048e5).init();this.eventCheck=new P(e,t),e="__tea_cache_first_"+t.app_id,this.configKey="__tea_cache_config_"+t.app_id,this.sessionStorage=new E(!1,"session"),this.localStorage=new E(!1,"local"),this.channelUrl="tcpy"===t.channel_type||"ttp"===t.channel_type?{WEBID_URL:"/v1/user/webid",TOB_URL:"",REPORT_URL:"/v1/list"}:{WEBID_URL:"/webid",TOB_URL:"/tobid",REPORT_URL:"/list"},t.configPersist&&(this.configPersist=!0,this.storage=1===t.configPersist?this.sessionStorage:this.localStorage),(t=this.localStorage.getItem(e))&&1==t?this.is_first_time=!1:(this.is_first_time=!0,this.localStorage.setItem(e,"1")),this.envInfo={user:{user_unique_id:A,user_type:A,user_id:A,user_is_auth:A,user_is_login:A,device_id:A,web_id:A,ip_addr_id:A,user_unique_id_type:A},header:{app_id:A,app_name:A,app_install_id:A,install_id:A,app_package:A,app_channel:A,app_version:A,ab_version:A,os_name:r.os_name,os_version:r.os_version,device_model:r.device_model,ab_client:A,traffic_type:A,client_ip:A,device_brand:A,os_api:A,access:A,language:r.language,region:A,app_language:A,app_region:A,creative_id:r.utm.creative_id,ad_id:r.utm.ad_id,campaign_id:r.utm.campaign_id,log_type:A,rnd:A,platform:r.platform,sdk_version:j,sdk_lib:"js",province:A,city:A,timezone:D,tz_offset:R,tz_name:A,sim_region:A,carrier:A,resolution:r.screen_width+"x"+r.screen_height,browser:r.browser,browser_version:r.browser_version,referrer:r.referrer,referrer_host:r.referrer_host,width:r.screen_width,height:r.screen_height,screen_width:r.screen_width,screen_height:r.screen_height,utm_term:r.utm.utm_term,utm_content:r.utm.utm_content,utm_source:r.utm.utm_source,utm_medium:r.utm.utm_medium,utm_campaign:r.utm.utm_campaign,tracer_data:JSON.stringify(r.utm.tracer_data),custom:{},wechat_unionid:A,wechat_openid:A}},this.ab_version="",this.ab_uuid_cache={},this.evtParams={},this.reportErrorCallback=function(){},this.isLast=!1,this.setCustom(r),this.initDomain(),this.initABData()}return e.prototype.initDomain=function(e){var t=this.initConfig.channel_domain;t?this.domain=t:(t=e||this.initConfig.channel,e=(this.initConfig&&this.initConfig.channel_type?"tcpy"===this.initConfig.channel_type?C:T:x)[t],this.domain=u(e))},e.prototype.setDomain=function(e){this.customDomain=!0,this.domain=e},e.prototype.getDomain=function(e){return this.customDomain||e&&this.initDomain(e),this.domain},e.prototype.initABData=function(){var e,t,r="__tea_sdk_ab_version_"+this.initConfig.app_id;t=this.initConfig.ab_cross?(e=this.localStorage.getCookie(r,this.initConfig.ab_cookie_domain))?JSON.parse(e):null:this.localStorage.getItem(r),this.setAbCache(t)},e.prototype.setAbCache=function(e){this.ab_cache=e},e.prototype.getAbCache=function(){return this.ab_cache},e.prototype.clearAbCache=function(){this.ab_cache={},this.ab_version=""},e.prototype.setAbVersion=function(e){this.ab_version=e},e.prototype.getAbVersion=function(){return this.ab_version},e.prototype.setAbUuidCache=function(e,t){t=t||this.envInfo.user.user_unique_id,this.ab_uuid_cache[""+t]||(this.ab_uuid_cache[""+t]=[]),-1===this.ab_uuid_cache[""+t].indexOf(e)&&this.ab_uuid_cache[""+t].push(e)},e.prototype.getAbUuidCache=function(e){return this.ab_uuid_cache[""+e]},e.prototype.getUrl=function(e){var t="";switch(e){case"event":t=this.initConfig.report_url||this.channelUrl.REPORT_URL;break;case"webid":t=this.channelUrl.WEBID_URL;break;case"tobid":t=this.channelUrl.TOB_URL}return e="",this.initConfig.caller&&(e="?sdk_version="+j+"&sdk_name=web&app_id="+this.initConfig.app_id+"&caller="+this.initConfig.caller),""+this.getDomain()+t+e},e.prototype.setCustom=function(e){if(e&&e.latest_data&&e.latest_data.isLast)for(var t in delete e.latest_data.isLast,this.isLast=!0,e.latest_data)this.envInfo.header.custom[t]=e.latest_data[t]},e.prototype.setAppid=function(e){this.envInfo.header.app_id=e},e.prototype.set=function(e){var t=this;Object.keys(e).forEach((function(r){void 0!==e[r]&&null!==e[r]||t.delete(r);try{t.eventCheck.calculate(r,"config")}catch(r){}var n,i,o;"traffic_type"===r&&t.isLast&&(t.envInfo.header.custom.$latest_traffic_source_type=e[r]),"evtParams"===r?t.evtParams=a({},t.evtParams||{},e.evtParams||{}):"_staging_flag"===r?t.evtParams=a({},t.evtParams||{},{_staging_flag:e._staging_flag}):"reportErrorCallback"===r&&"function"==typeof e[r]?t.reportErrorCallback=e[r]:(o=i="",-1<r.indexOf(".")&&(i=(n=r.split("."))[0],o=n[1]),i?"user"===i||"header"===i?t.envInfo[i][o]=e[r]:t.envInfo.header.custom[o]=e[r]:Object.hasOwnProperty.call(t.envInfo.user,r)?-1<["user_type","ip_addr_id"].indexOf(r)?t.envInfo.user[r]=e[r]&&Number(e[r]):-1<["user_id","web_id","user_unique_id","user_unique_id_type"].indexOf(r)?t.envInfo.user[r]=e[r]&&String(e[r]):-1<["user_is_auth","user_is_login"].indexOf(r)?t.envInfo.user[r]=Boolean(e[r]):"device_id"===r&&(t.envInfo.user[r]=e[r]):Object.hasOwnProperty.call(t.envInfo.header,r)?t.envInfo.header[r]=e[r]:t.envInfo.header.custom[r]=e[r])}))},e.prototype.get=function(e){try{return e?"evtParams"===e?this.evtParams:"reportErrorCallback"===e?this[e]:Object.hasOwnProperty.call(this.envInfo.user,e)?this.envInfo.user[e]:Object.hasOwnProperty.call(this.envInfo.header,e)?this.envInfo.header[e]:JSON.parse(JSON.stringify(this.envInfo[e])):JSON.parse(JSON.stringify(this.envInfo))}catch(e){console.log("get config stringify error "),this.collect.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:e.message})}},e.prototype.setStore=function(e){try{var t,r;this.configPersist&&(t=this.storage.getItem(this.configKey)||{})&&Object.keys(e).length&&(r=Object.assign(e,t),this.storage.setItem(this.configKey,r))}catch(e){console.log("setStore error"),this.collect.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:e.message})}},e.prototype.getStore=function(){try{var e;return this.configPersist&&(e=this.storage.getItem(this.configKey)||{})&&Object.keys(e).length?e:null}catch(e){return this.collect.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:e.message}),null}},e.prototype.delete=function(e){try{var t;this.configPersist&&(t=this.storage.getItem(this.configKey)||{})&&Object.hasOwnProperty.call(t,e)&&(delete t[e],this.storage.setItem(this.configKey,t))}catch(e){this.collect.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:e.message}),console.log("delete error")}},e}(),F=function(){function e(e,t){this.isLog=t||!1,this.name=e||""}return e.prototype.info=function(e){this.isLog&&console.log("%c %s","color: yellow; background-color: black;","[instance: "+this.name+"] "+e)},e.prototype.warn=function(e){this.isLog&&console.warn("[instance: "+this.name+"] "+e)},e.prototype.error=function(e){this.isLog&&console.error("[instance: "+this.name+"] "+e)},e.prototype.throw=function(e){throw this.error(this.name),new Error(e)},e}(),N=function(){function e(){this.spiderBot=["Baiduspider","googlebot","360Spider","haosouspider","YoudaoBot","Sogou News Spider","Yisouspider","Googlebot","Headless","Applebot","Bingbot","PetalBot"]}return e.prototype.checkSpider=function(e){var t,r;return!!e.enable_spider&&(!(t=window.navigator.userAgent)||(r=!1,this.spiderBot.forEach((function(e){-1!==t.indexOf(e)&&(r=!0)})),r))},e}(),z=function(){function e(e,t){this.collect=e,this.native=t}var t=e.prototype;return t.bridgeInject=function(){try{return!!this.native&&(AppLogBridge?(console.log("AppLogBridge is injected"),!0):(console.log("AppLogBridge is not inject"),!1))}catch(e){return console.log("AppLogBridge is not inject"),!1}},t.bridgeReady=function(){var e=this;return new Promise((function(t,r){try{e.bridgeInject()?AppLogBridge.hasStarted((function(e){console.log("AppLogBridge is started? : "+e),e?t(!0):r(!1)})):r(!1)}catch(e){console.log("AppLogBridge, error:"+JSON.stringify(e.stack)),r(!1)}}))},t.setNativeAppId=function(e){try{AppLogBridge.setNativeAppId(JSON.stringify(e)),console.log("change bridge appid, event report with appid: "+e)}catch(e){console.error("setNativeAppId error")}},t.setConfig=function(e){var t=this;try{Object.keys(e).forEach((function(r){"user_unique_id"===r?t.setUserUniqueId(e[r]):e[r]?t.addHeaderInfo(r,e[r]):t.removeHeaderInfo(r)}))}catch(e){console.error("setConfig error")}},t.setUserUniqueId=function(e){try{AppLogBridge.setUserUniqueId(e)}catch(e){console.error("setUserUniqueId error")}},t.addHeaderInfo=function(e,t){try{AppLogBridge.addHeaderInfo(e,t)}catch(e){console.error("addHeaderInfo error")}},t.setHeaderInfo=function(e){try{AppLogBridge.setHeaderInfo(JSON.stringify(e))}catch(e){console.error("setHeaderInfo error")}},t.removeHeaderInfo=function(e){try{AppLogBridge.removeHeaderInfo(e)}catch(e){console.error("removeHeaderInfo error")}},t.reportPv=function(e){this.onEventV3("predefine_pageview",e)},t.onEventV3=function(e,t){try{AppLogBridge.onEventV3(e,t),this.collect.emit(DebuggerMesssge.DEBUGGER_MESSAGE,{type:DebuggerMesssge.DEBUGGER_MESSAGE_EVENT,info:"bridge\u57cb\u70b9\u4e0a\u62a5",time:Date.now(),data:[{events:[{event:e,params:t}]}],code:200,status:"success"})}catch(e){console.error("onEventV3 error")}},t.profileSet=function(e){try{AppLogBridge.profileSet(e)}catch(e){console.error("profileSet error")}},t.profileSetOnce=function(e){try{AppLogBridge.profileSetOnce(e)}catch(e){console.error("profileSetOnce error")}},t.profileIncrement=function(e){try{AppLogBridge.profileIncrement(e)}catch(e){console.error("profileIncrement error")}},t.profileUnset=function(e){try{AppLogBridge.profileUnset(e)}catch(e){console.error("profileUnset error")}},t.profileAppend=function(e){try{AppLogBridge.profileAppend(e)}catch(e){console.error("profileAppend error")}},e}(),U={NO_URL:4001,IMG_ON:4e3,IMG_CATCH:4002,BEACON_FALSE:4003,XHR_ON:500,RESPONSE:5001,TIMEOUT:5005};function B(e,t,r,n,i,o,s,a,c){try{var l=new XMLHttpRequest,u=a||"POST";l.open(u,""+e,!0),l.setRequestHeader("Content-Type","application/json; charset=utf-8"),s&&l.setRequestHeader("X-MCS-AppKey",""+s),n&&(l.withCredentials=!0),l.onload=function(){if(i){var r=null;if(l.responseText){try{r=JSON.parse(l.responseText)}catch(e){r={}}i(r,t)}}},r&&(l.timeout=r,l.ontimeout=function(){o&&o(t,U.TIMEOUT)}),l.onerror=function(){l.abort(),o&&o(t,U.XHR_ON)},c?l.send(t):l.send(JSON.stringify(t))}catch(e){}}function L(e,t,r,n){try{var i=e.match(/\/v\d\//),o=i?i[0]:-1!==e.indexOf("/v1/")?"/v1/":"/v2/",s=e.split(o)[0];s?t.forEach((function(i){i=function(e){var t,r="";for(t in e)e.hasOwnProperty(t)&&void 0!==e[t]&&(r+="&"+t+"="+encodeURIComponent(JSON.stringify(e[t])));return"&"===r[0]?r.slice(1):r}(i);var o=new Image(1,1);o.onload=function(){o=null,r&&r()},o.onerror=function(){o=null,n&&n(e,t,V)},o.src=s+"/gif?"+i})):n(e,t,H)}catch(r){n&&n(e,t,K,r.message)}}function $(e,t,r,n,i,o,s,a){var c=window.navigator.userAgent;if(-1===window.navigator.appName.indexOf("Microsoft Internet Explorer")||-1===c.indexOf("MSIE 8.0")&&-1===c.indexOf("MSIE 9.0")){if(s)return window.navigator&&window.navigator.sendBeacon?window.navigator.sendBeacon(e,JSON.stringify(t))?i():o(e,t,4003):L(e,t,i,o)}else L(e,t,i,o);B(e,t,r,n,i,o,"","",a)}function Z(){return function e(t){return t?(t^16*Math.random()>>t/4).toString(10):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e)}().replace(/-/g,"").slice(0,19)}function G(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}var H=4001,V=4e3,K=4002,W=function(){function e(){this.eventLimit=50,this.enable_ttwebid=!1,this.eventCache=[],this.beconEventCache=[]}return e.prototype.apply=function(e,t){var r=this;this.collect=e,this.config=t,this.configManager=e.configManager,this.eventCheck=new P(e,t),this.cacheStorgae=new E(!0),this.localStorage=new E(!1),this.maxReport=t.max_report||10,this.reportTime=t.reportTime||30,this.timeout=t.timeout||1e5,this.enable_ttwebid=t.enable_ttwebid,this.reportUrl=this.configManager.getUrl("event"),this.eventKey="__tea_cache_events_"+this.configManager.get("app_id"),this.beconKey="__tea_cache_events_becon_"+this.configManager.get("app_id"),this.abKey="__tea_sdk_ab_version_"+this.configManager.get("app_id"),this.refer_key="__tea_cache_refer_"+this.configManager.get("app_id"),this.collect.on(I.Ready,(function(){r.reportAll(!1)})),this.collect.on(I.ConfigDomain,(function(){r.reportUrl=r.configManager.getUrl("event")})),this.collect.on(I.Event,(function(e){r.event(e)})),this.collect.on(I.BeconEvent,(function(e){r.beconEvent(e)})),this.collect.on(I.CleanEvents,(function(){r.reportAll(!1)})),this.linster()},e.prototype.linster=function(){var e=this;window.addEventListener("unload",(function(){e.reportAll(!0)}),!1),function(e){navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?window.addEventListener("pagehide",e,!1):window.addEventListener("beforeunload",e,!1)}((function(){e.reportAll(!0)})),document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&e.reportAll(!0)}),!1)},e.prototype.reportAll=function(e){this.report(e),this.reportBecon()},e.prototype.event=function(e){var t=this;try{var r,n=c(e,this.cacheStorgae.getItem(this.eventKey)||[]);this.cacheStorgae.setItem(this.eventKey,n),this.reportTimeout&&clearTimeout(this.reportTimeout),n.length>=this.maxReport?this.report(!1):(r=this.reportTime,this.reportTimeout=setTimeout((function(){t.report(!1),t.reportTimeout=null}),r))}catch(e){this.collect.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:e.message})}},e.prototype.beconEvent=function(e){e=c(e,this.cacheStorgae.getItem(this.beconKey)||[]),this.cacheStorgae.setItem(this.beconKey,e),this.collect.destroyInstance||this.collect.tokenManager.getReady()&&this.collect.sdkReady&&(this.cacheStorgae.removeItem(this.beconKey),this.send(this.split(this.merge(e)),!0))},e.prototype.reportBecon=function(){var e;!this.collect.destroyInstance&&this.collect.tokenManager.getReady()&&this.collect.sdkReady&&(e=this.cacheStorgae.getItem(this.beconKey)||[])&&e.length&&(this.cacheStorgae.removeItem(this.beconKey),this.send(this.split(this.merge(e)),!0))},e.prototype.report=function(e){var t;!this.collect.destroyInstance&&this.collect.tokenManager.getReady()&&this.collect.sdkReady&&(t=this.cacheStorgae.getItem(this.eventKey)||[]).length&&(this.cacheStorgae.removeItem(this.eventKey),this.sliceEvent(t,e))},e.prototype.sliceEvent=function(e,t){if(e.length>this.eventLimit)for(var r=0;r<e.length;r+=this.eventLimit){var n=e.slice(r,r+this.eventLimit),i=this.split(this.merge(n));this.send(i,t)}else i=this.split(this.merge(e)),this.send(i,t)},e.prototype.handleRefer=function(){var e,t="";try{t=(this.config.spa||this.config.autotrack)&&(e=this.localStorage.getItem(this.refer_key)||{}).routeChange?e.refer_key:document.referrer}catch(e){t=document.referrer}return t},e.prototype.merge=function(e,t){var r=this,n=(c=this.configManager.get()).header,i=c.user,o=(n.custom=JSON.stringify(n.custom),n.referrer=this.handleRefer(),this.configManager.get("evtParams")),s=this.configManager.get("user_unique_id_type"),c=e.map((function(e){try{Object.keys(o).length&&!t&&(e.params=a({},o,e.params)),s&&(e.params.$user_unique_id_type=s);var n,c,l=r.configManager.getAbCache(),u=r.configManager.getAbUuidCache(i.user_unique_id);return l&&l.uuid&&l.uuid===i.user_unique_id&&(n=r.configManager.getAbVersion(),r.config.enable_ab_uuid?u&&u.length&&(c=u.join(","),n)&&n.includes(c)&&(e.ab_sdk_version=n):n&&(e.ab_sdk_version=n)),e.session_id=r.collect.sessionManager.getSessionId(),e.params=JSON.stringify(e.params),e}catch(n){return r.collect.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:n.message}),e}}));return((e=JSON.parse(JSON.stringify({events:c,user:i,header:n}))).local_time=Math.floor(Date.now()/1e3),e.user_unique_type=this.config.enable_ttwebid?this.config.user_unique_type:void 0,e.verbose=1,c=[]).push(e),c},e.prototype.split=function(e){return e.map((function(e){var t=[];return t.push(e),t}))},e.prototype.send=function(e,t){var r=this;e.length&&!this.config.disable_track_event&&e.forEach((function(e){try{var n=JSON.parse(JSON.stringify(e)),i=(r.config.filter&&!(n=r.config.filter(n))&&console.warn("filter must return data !!"),r.collect.eventFilter&&n&&((n=r.collect.eventFilter(n))||console.warn("filterEvent api must return data !!")),n||e),o=JSON.parse(JSON.stringify(i));r.eventCheck.checkVerify(o),i.length&&(r.collect.emit(I.SubmitBefore,i),r.collect.emit(I.SubmitVerify,i),$(r.reportUrl,i,r.timeout,r.enable_ttwebid,(function(e,t){e&&0!==e.e?(r.collect.emit(I.SubmitError,{type:"f_data",eventData:t,errorCode:e.e,response:e}),r.collect.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_EVENT,info:"\u57cb\u70b9\u4e0a\u62a5\u5931\u8d25",time:Date.now(),data:o,code:e.e,failType:"\u6570\u636e\u5f02\u5e38",status:"fail"})):(r.collect.emit(I.SubmitScuess,{eventData:t,res:e}),r.collect.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_EVENT,info:"\u57cb\u70b9\u4e0a\u62a5\u6210\u529f",time:Date.now(),data:o,code:200,status:"success"}))}),(function(e,t){r.configManager.get("reportErrorCallback")(e,t),r.collect.emit(I.SubmitError,{type:"f_net",eventData:e,errorCode:t}),r.collect.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_EVENT,info:"\u57cb\u70b9\u4e0a\u62a5\u7f51\u7edc\u5f02\u5e38",time:Date.now(),data:o,code:t,failType:"\u7f51\u7edc\u5f02\u5e38",status:"fail"})}),t,!1),r.collect.emit(I.SubmitAfter,i))}catch(e){console.warn("something error, "+JSON.stringify(e.stack)),r.collect.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:e.message})}}))},e}(),q=function(){function e(){this.cacheToken={},this.enableCookie=!1,this.enable_ttwebid=!1,this.enableCustomWebid=!1}return e.prototype.apply=function(e,t){var r=this;this.collect=e,this.config=t,this.configManager=this.collect.configManager,this.storage=new E(!1),this.tokenKey="__tea_cache_tokens_"+t.app_id,this.enable_ttwebid=t.enable_ttwebid,this.enableCustomWebid=t.enable_custom_webid,this.collect.on(I.ConfigUuid,(function(e){r.setUuid(e)})),this.collect.on(I.ConfigWebId,(function(e){r.setWebId(e)})),this.enableCookie=t.cross_subdomain,this.expiresTime=t.cookie_expire||6048e5,this.cookieDomain=t.cookie_domain||"",this.checkStorage()},e.prototype.checkStorage=function(){var e,t=this;this.enableCookie?(e=this.storage.getCookie(this.tokenKey,this.cookieDomain),this.cacheToken=e&&"string"==typeof e?JSON.parse(e):{}):this.cacheToken=this.storage.getItem(this.tokenKey)||{},this.tokenType=this.cacheToken&&this.cacheToken._type_?this.cacheToken._type_:"default","custom"!==this.tokenType||this.enableCustomWebid?this.enableCustomWebid?this.collect.on(I.CustomWebId,(function(){t.tokenReady=!0,t.collect.emit(I.TokenComplete)})):this.checkEnv()||(this.enable_ttwebid?this.completeTtWid(this.cacheToken):this.check()):this.remoteWebid()},e.prototype.check=function(){this.cacheToken&&this.cacheToken.web_id?this.complete(this.cacheToken):this.config.disable_webid?this.complete({web_id:Z(),user_unique_id:this.configManager.get("user_unique_id")||Z()}):this.remoteWebid()},e.prototype.checkEnv=function(){var e=window.navigator.userAgent;return(-1!==e.indexOf("miniProgram")||-1!==e.indexOf("MiniProgram"))&&!(!(e=d(window.location.href))||!e.Web_ID||(this.complete({web_id:""+e.Web_ID,user_unique_id:this.configManager.get("user_unique_id")||""+e.Web_ID}),0))},e.prototype.remoteWebid=function(){var e=this,t=this.configManager.getUrl("webid"),r={app_key:this.config.app_key,app_id:this.config.app_id,url:location.href,user_agent:window.navigator.userAgent,referer:document.referrer,user_unique_id:""},n=(this.collect.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"SDK \u53d1\u8d77WEBID\u8bf7\u6c42",logType:"fetch",level:"info",time:Date.now(),data:r}),Z());B(t,r,3e5,!1,(function(t){var r;t&&0===t.e?(r=t.web_id,e.collect.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"WEBID\u8bf7\u6c42\u6210\u529f",logType:"fetch",level:"info",time:Date.now(),data:t})):(e.collect.configManager.set({localWebId:r=n}),e.collect.emit(I.TokenError),e.collect.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"WEBID\u8bf7\u6c42\u8fd4\u56de\u503c\u5f02\u5e38",logType:"fetch",level:"warn",time:Date.now(),data:t}),e.collect.logger.warn("appid: "+e.config.app_id+" get webid error, use local webid~")),e.complete({web_id:e.configManager.get("web_id")||r,user_unique_id:e.configManager.get("user_unique_id")||r})}),(function(){e.complete({web_id:e.configManager.get("web_id")||n,user_unique_id:e.configManager.get("user_unique_id")||n}),e.collect.configManager.set({localWebId:n}),e.collect.emit(I.TokenError),e.collect.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"WEBID\u8bf7\u6c42\u7f51\u7edc\u5f02\u5e38",logType:"fetch",level:"error",time:Date.now(),data:null}),e.collect.logger.warn("appid: "+e.config.app_id+", get webid error, use local webid~")}))},e.prototype.complete=function(e){var t=e.web_id,r=e.user_unique_id;e.timestamp=Date.now(),this.collect.configManager.set({web_id:t,user_unique_id:r}),this.setStorage(e),this.tokenReady=!0,this.collect.emit(I.TokenComplete)},e.prototype.completeTtWid=function(e){var t=e.user_unique_id||"",r=this.configManager.get("user_unique_id");(r||t)&&this.configManager.set({user_unique_id:r||t}),this.setStorage(e),this.tokenReady=!0,this.collect.emit(I.TokenComplete)},e.prototype.setUuid=function(e){var t,r;e&&-1===["null","undefined","Null","None"].indexOf(e)?(e=String(e),t=this.configManager.get("user_unique_id"),r=this.cacheToken&&this.cacheToken.user_unique_id,e===t&&e===r||(this.configManager.set({user_unique_id:e}),this.cacheToken||(this.cacheToken={}),this.cacheToken.user_unique_id=e,this.cacheToken.timestamp=Date.now(),this.setStorage(this.cacheToken),this.collect.emit(I.TokenChange,"uuid"),this.collect.emit(I.SessionReset))):this.clearUuid()},e.prototype.clearUuid=function(){this.config.enable_ttwebid||this.configManager.get("web_id")&&(this.configManager.set({user_unique_id:this.configManager.get("web_id")}),this.cacheToken&&this.cacheToken.web_id&&(this.cacheToken.user_unique_id=this.cacheToken.web_id,this.cacheToken.timestamp=Date.now(),this.setStorage(this.cacheToken)),this.collect.emit(I.TokenReset))},e.prototype.setWebId=function(e){var t,r;e&&!this.config.enable_ttwebid&&(this.cacheToken&&this.cacheToken.web_id?this.cacheToken.web_id!==e&&(this.cacheToken.user_unique_id=this.cacheToken.web_id===this.cacheToken.user_unique_id?e:this.cacheToken.user_unique_id,this.cacheToken.web_id=e):(this.cacheToken={},this.cacheToken.web_id=e,this.cacheToken.user_unique_id=e),this.cacheToken.timestamp=Date.now(),t=this.configManager.get("web_id"),(r=this.configManager.get("user_unique_id"))&&r!==t||(this.configManager.set({user_unique_id:e}),this.collect.emit(I.TokenChange,"uuid")),t!==e&&(this.configManager.set({web_id:e}),this.collect.emit(I.TokenChange,"webid")),this.setStorage(this.cacheToken))},e.prototype.setStorage=function(e){e._type_=this.enableCustomWebid?"custom":"default",delete e["diss".split("").reverse().join("")],this.enableCookie||this.enable_ttwebid?(this.storage.setCookie(this.tokenKey,e,this.expiresTime,this.cookieDomain),this.enable_ttwebid&&(delete e.web_id,this.storage.setItem(this.tokenKey,e))):this.storage.setItem(this.tokenKey,e),this.cacheToken=e},e.prototype.getReady=function(){return this.tokenReady},e.prototype.getTobId=function(){var e=this,t=this.configManager.getUrl("tobid");return new Promise((function(r){B(t,{app_id:e.config.app_id,user_unique_id:e.configManager.get("user_unique_id"),web_id:e.configManager.get("web_id"),user_unique_id_type:e.configManager.get("user_unique_id_type")},3e4,e.enable_ttwebid,(function(e){e&&0===e.e?r(e.tobid):r("")}),(function(){r("")}))}))},e}(),X=function(){function e(){}return e.prototype.apply=function(e,t){var r=this;this.collect=e,this.storage=new E(!1,"session"),this.sessionKey="__tea_session_id_"+t.app_id,this.expireTime=t.expireTime||18e5,this.disableSession=t.disable_session,this.disableSession||(this.setSessionId(),this.collect.on(I.SessionReset,(function(){r.resetSessionId()})),this.collect.on(I.SessionResetTime,(function(){r.updateSessionIdTime()})))},e.prototype.updateSessionIdTime=function(){var e,t=this.storage.getItem(this.sessionKey);t&&t.sessionId&&(e=t.timestamp,Date.now()-e>this.expireTime?t={sessionId:G(),timestamp:Date.now()}:t.timestamp=Date.now(),this.storage.setItem(this.sessionKey,t),this.resetExpTime())},e.prototype.setSessionId=function(){var e=this,t=this.storage.getItem(this.sessionKey);t&&t.sessionId?t.timestamp=Date.now():t={sessionId:G(),timestamp:Date.now()},this.storage.setItem(this.sessionKey,t),this.sessionExp=setInterval((function(){e.checkEXp()}),this.expireTime)},e.prototype.getSessionId=function(){var e=this.storage.getItem(this.sessionKey);return!this.disableSession&&e&&e.sessionId?e.sessionId:""},e.prototype.resetExpTime=function(){var e=this;this.sessionExp&&(clearInterval(this.sessionExp),this.sessionExp=setInterval((function(){e.checkEXp()}),this.expireTime))},e.prototype.resetSessionId=function(){var e={sessionId:G(),timestamp:Date.now()};this.storage.setItem(this.sessionKey,e)},e.prototype.checkEXp=function(){var e=this.storage.getItem(this.sessionKey);e&&e.sessionId&&Date.now()-e.timestamp+30>=this.expireTime&&(e={sessionId:G(),timestamp:Date.now()},this.storage.setItem(this.sessionKey,e))},e}(),J=function(){function e(e,t){this.devToolReady=!1,this.devToolOrigin="*",this.sendAlready=!1,this.collect=e,this.config=t,this.app_id=t.app_id,this.filterEvent=["__bav_page","__bav_beat","__bav_page_statistics","__bav_click","__bav_page_exposure","bav2b_page","bav2b_beat","bav2b_page_statistics","bav2b_click","bav2b_page_exposure","_be_active","predefine_pageview","__profile_set","__profile_set_once","__profile_increment","__profile_unset","__profile_append","predefine_page_alive","predefine_page_close","abtest_exposure"],t.enable_debug&&this.load()}return e.prototype.loadScript=function(e){try{var t=document.createElement("script");t.src=e,t.onerror=function(){console.log("load DevTool render fail")},t.onload=function(){console.log("load DevTool render success")},document.getElementsByTagName("body")[0].appendChild(t)}catch(e){console.log("devTool load fail, "+e.message)}},e.prototype.load=function(){try{this.loadBaseInfo(),this.loadHook();var e=d(window.location.href);e.open_devtool_web&&parseInt(e.app_id)===this.app_id&&(this.addLintener(),this.loadDebuggerModule(),this.loadDevTool())}catch(e){console.log("debug fail, "+e.message)}},e.prototype.loadDevTool=function(){this.loadScript("https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/devtool/debug-web.js")},e.prototype.loadBaseInfo=function(){var e=this;this.info=[{title:"\u57fa\u672c\u4fe1\u606f",type:1,infoName:{app_id:this.config.app_id,channel:this.config.channel,\u4e0a\u62a5\u57df\u540d:this.collect.configManager.getDomain(),SDK\u7248\u672c:j,SDK\u5f15\u5165\u65b9\u5f0f:"npm"}},{title:"\u7528\u6237\u4fe1\u606f",type:2,infoName:{uuid:this.collect.configManager.get("user").user_unique_id||"",web_id:this.collect.configManager.get("user").web_id||"",ssid:"\u70b9\u51fb\u83b7\u53d6SSID"}},{title:"\u516c\u5171\u53c2\u6570\u4fe1\u606f",type:2,infoName:{\u6d4f\u89c8\u5668:this.collect.configManager.get("browser"),\u6d4f\u89c8\u5668\u7248\u672c:this.collect.configManager.get("browser_version"),\u5e73\u53f0:this.collect.configManager.get("platform"),\u8bbe\u5907\u578b\u53f7:this.collect.configManager.get("device_model"),\u64cd\u4f5c\u7cfb\u7edf:this.collect.configManager.get("os_name"),\u64cd\u4f5c\u7cfb\u7edf\u7248\u672c:this.collect.configManager.get("os_version"),\u5c4f\u5e55\u5206\u8fa8\u7387:this.collect.configManager.get("os_version"),\u6765\u6e90:this.collect.configManager.get("referrer"),\u81ea\u5b9a\u4e49\u4fe1\u606f:""}},{title:"\u914d\u7f6e\u4fe1\u606f",type:3,infoName:{\u5168\u57cb\u70b9:!!this.config.autotrack,\u505c\u7559\u65f6\u957f:!!this.config.enable_stay_duration}},{title:"A/B\u914d\u7f6e\u4fe1\u606f",type:4,infoName:{"A/B\u5b9e\u9a8c":!!this.config.enable_ab_test}},{title:"\u5ba2\u6237\u7aef\u4fe1\u606f",type:3,infoName:{\u6253\u901a\u5f00\u5173:!!this.config.Native}}],this.log=[],this.event=[],this.collect.on(I.Ready,(function(){e.info[1].infoName.uuid=e.collect.configManager.get("user").user_unique_id,e.info[1].infoName.web_id=e.collect.configManager.get("user").web_id,e.info[2].infoName["\u81ea\u5b9a\u4e49\u4fe1\u606f"]=JSON.stringify(e.collect.configManager.get("custom")),e.config.enable_ab_test&&(e.info[4].infoName["\u5df2\u66dd\u5149VID"]=e.collect.configManager.getAbVersion(),e.info[4].infoName["A/B\u57df\u540d"]=e.config.ab_channel_domain||u(k[e.config.channel]),e.info[4].infoName["\u5168\u90e8\u914d\u7f6e"]=e.collect.configManager.getAbData()),e.config.Native&&(e.info[5].infoName["\u662f\u5426\u6253\u901a"]=!!e.collect.bridgeReport)}))},e.prototype.loadHook=function(){var e=this;this.collect.on(y.DEBUGGER_MESSAGE,(function(t){switch(t.type){case y.DEBUGGER_MESSAGE_SDK:var r={time:t.time,type:t.logType||"sdk",level:t.level,name:t.info,show:!0,levelShow:!0,needDesc:!!t.data};return t.data&&(r.desc={content:JSON.stringify(t.data)}),e.updateLog(r),t.secType&&"AB"===t.secType?(e.info[4].infoName["\u5df2\u66dd\u5149VID"]=e.collect.configManager.getAbVersion(),e.info[4].infoName["\u5168\u90e8\u914d\u7f6e"]=e.collect.configManager.getAbData()):"USER"===t.secType&&(e.info[1].infoName.uuid=e.collect.configManager.get("user").user_unique_id,e.info[1].infoName.web_id=e.collect.configManager.get("user").web_id),void e.updateInfo();case y.DEBUGGER_MESSAGE_EVENT:if(t.data&&t.data.length){var n=(r=t.data[0]).events;if(!n.length)return;n.forEach((function(r){r.checkShow=!0,r.searchShow=!0,r.success=t.status,r.type=-1!==e.filterEvent.indexOf(r.event)?"sdk":"cus",r.type=e.collect.bridgeReport?"bridge":r.type,r.info="","fail"===t.status&&(r.info={message:"code: "+t.code+"\uff0c msg: "+t.failType})})),e.updateEvent(r)}return}}))},e.prototype.addLintener=function(){var e=this;window.addEventListener("message",(function(t){if(t.origin===location.origin){if(t&&t.data&&"devtool:web:ready"===t.data.type){if(e.devToolOrigin=t.origin,e.devToolReady=!0,e.sendAlready)return;console.log("inittttt"),e.sendData("devtool:web:init",{info:e.info,log:e.log,event:e.event}),e.sendAlready=!0}t&&t.data&&"devtool:web:ssid"===t.data.type&&e.collect.getToken((function(t){e.info[1].infoName.ssid=t.tobid,e.updateInfo()}))}}))},e.prototype.sendData=function(e,t){try{var r={type:e,payload:t};(window.opener||window.parent).postMessage(r,this.devToolOrigin)}catch(e){}},e.prototype.updateInfo=function(){this.devToolReady&&this.sendData("devtool:web:info",this.info)},e.prototype.updateLog=function(e){this.devToolReady?this.sendData("devtool:web:log",e):this.log.push(e)},e.prototype.updateEvent=function(e){this.devToolReady?this.sendData("devtool:web:event",e):this.event.push(e)},e.prototype.loadDebuggerModule=function(){var e,t=document.head||document.getElementsByTagName("head")[0];(e=document.createElement("style")).appendChild(document.createTextNode("#debugger-applog-web {\n      position: absolute;\n      width: 90px;\n      height: 30px;\n      background: #23c243;\n      border-radius: 6px;\n      color: #fff;\n      font-size: 12px;\n      bottom: 5%;\n      right: 10%;\n      text-align: center;\n      line-height: 30px;\n      cursor: pointer;\n      z-index:100;\n    }")),t.appendChild(e),((t=document.createElement("div")).innerHTML='<div id="debugger-applog-web" class="debugger-applog-web">AppLog\u8c03\u8bd5</div>',e=document.createElement("div")).innerHTML='<div id="debugger-container" class="debugger-container"></div>',document.getElementsByTagName("body")[0].appendChild(t),document.getElementsByTagName("body")[0].appendChild(e),document.getElementById("debugger-applog-web").addEventListener("click",(function(){(window.opener||window.parent).postMessage({type:"devtool:web:open-draw"},location.origin)}))},e}(),Y=function(){function e(e){this.disableAutoPageView=!1,this.bridgeReport=!1,this.staging=!1,this.pluginInstances=[],this.sended=!1,this.started=!1,this.destroyInstance=!1,this.sdkReady=!1,this.adapters={},this.loadType="base",this.name=e,this.hook=new v,this.remotePlugin=new Map,this.Types=I,this.adapters.fetch=B,this.adapters.storage=E}return e.usePlugin=function(t,r,n){if(r){for(var i=!1,o=0,s=e.plugins.length;o<s;o++)if(e.plugins[o].name===r){e.plugins[o].plugin=t,e.plugins[o].options=n||{},i=!0;break}i||e.plugins.push({name:r,plugin:t,options:n})}else e.plugins.push({plugin:t})},e.prototype.usePlugin=function(e,t,r){e&&("full"===this.loadType&&this.remotePlugin.get(e)?console.info("your sdk version has "+e+" already ~"):t?"string"==typeof t?this.remotePlugin.get(e)||this.remotePlugin.set(e,{src:t,call:r}):this.remotePlugin.get(e)||this.remotePlugin.set(e,{instance:t}):this.remotePlugin.get(e)||this.remotePlugin.set(e,"sdk"))},e.prototype.init=function(t){var r,n=this;try{r=JSON.parse(JSON.stringify(t))}catch(i){r=t}this.logger=new F(this.name,r.log),this.inited?this.logger.warn("[instance: "+this.name+"], every instance's api: init,  can be call only one time!"):r&&l(r)?r.app_id&&"number"==typeof(t=r.app_id)&&!isNaN(t)?r.app_key&&"string"!=typeof r.app_key?this.logger.warn("app_key param is error, must be string, please check!"):(t=r.channel_type&&"tcpy"===r.channel_type?["sg","va","in"]:["sg","va"],r.channel_domain||-1!==t.indexOf(r.channel)||(this.logger.warn("channel must "+t.join(" ,")+"!!!"),r.channel="sg"),this.spider=new N,this.spider.checkSpider(r)?this.logger.warn("The current environment may be a spider, can not report!"):(this.logger=new F(this.name,r.log),this.appBridge=new z(this,r.enable_native),this.bridgeReport=this.appBridge.bridgeInject(),this.configManager=new M(this,r),this.debugger=new J(this,r),this.initConfig=r,this.emit(I.Init),this.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884cINIT",data:r,level:"info",time:Date.now()}),r.disable_auto_pv&&(this.disableAutoPageView=!0),this.bridgeReport||(this.configManager.setAppid(r.app_id),this.eventManager=new W,this.tokenManager=new q,this.sessionManager=new X,Promise.all([new Promise((function(e){n.once(I.TokenComplete,(function(){e(!0)}))})),new Promise((function(e){n.once(I.Start,(function(){e(!0)}))}))]).then((function(){try{e.plugins.reduce((function(e,t){var r=t.plugin;return t=t.options,t=Object.assign(n.initConfig,t),(r=new r).apply(n,t),e.push(r),e}),n.pluginInstances)}catch(i){console.warn("load plugin error, "+i.message),n.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:i.message})}n.sdkReady=!0,n.emit(I.Ready),n.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"SDK \u521d\u59cb\u5316\u5b8c\u6210",time:Date.now(),level:"info",data:n.configManager.get("user")}),n.logger.info("appid: "+r.app_id+", userInfo:"+JSON.stringify(n.configManager.get("user"))),n.logger.info("appid: "+r.app_id+", sdk is ready, version is "+j+", you can report now !!!"),r.disable_auto_pv&&(n.disableAutoPageView=!0);try{("full"===n.loadType&&r.enable_ab_test||r.autotrack)&&(window.opener||window.parent).postMessage("[tea-sdk]ready","*")}catch(i){n.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:i.message})}n.pageView(),n.on(I.TokenChange,(function(e){"webid"===e&&n.pageView(),n.logger.info("appid: "+r.app_id+" token change, new userInfo:"+JSON.stringify(n.configManager.get("user"))),n.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"SDK \u8bbe\u7f6e\u4e86\u7528\u6237\u4fe1\u606f",time:Date.now(),secType:"USER",level:"info",data:n.configManager.get("user")})})),n.on(I.TokenReset,(function(){n.logger.info("appid: "+r.app_id+" token reset, new userInfo:"+JSON.stringify(n.configManager.get("user"))),n.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"SDK \u91cd\u7f6e\u4e86\u7528\u6237\u4fe1\u606f",time:Date.now(),secType:"USER",level:"info",data:n.configManager.get("user")})})),n.on(I.RouteChange,(function(e){e.init||r.disable_route_report||n.pageView()}))})),this.tokenManager.apply(this,r),this.eventManager.apply(this,r),this.sessionManager.apply(this,r)),this.inited=!0)):this.logger.warn("app_id param is error, must be number, please check!"):this.logger.warn("init params error,please check")},e.prototype.config=function(e){if(this.inited)if(e&&l(e)){var t,r;try{t=JSON.parse(JSON.stringify(t))}catch(r){t=e}this.bridgeReport?this.appBridge.setConfig(t):(t._staging_flag&&1===t._staging_flag&&(this.staging=!0),t.disable_auto_pv&&(this.disableAutoPageView=!0,delete t.disable_auto_pv),e=a({},t),this.initConfig&&this.initConfig.configPersist&&((r=this.configManager.getStore())&&(e=Object.assign(r,t)),this.configManager.setStore(t)),e.web_id,e.user_unique_id,r=function(e,t){var r={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&(r[i[n]]=e[i[n]]);return r}(e,["web_id","user_unique_id"]),e.hasOwnProperty("web_id")&&this.emit(I.ConfigWebId,e.web_id),e.hasOwnProperty("user_unique_id")&&this.emit(I.ConfigUuid,e.user_unique_id),this.configManager.set(r),this.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884cCONFIG",level:"info",time:Date.now(),data:e}))}else this.logger.warn("config params is error, please check");else this.logger.warn("config must be use after function init")},e.prototype.setDomain=function(e){this.configManager&&this.configManager.setDomain(e),this.emit(I.ConfigDomain)},e.prototype.getConfig=function(e){return this.configManager.get(e)},e.prototype.send=function(){this.start()},e.prototype.start=function(){this.inited&&!this.sended&&(this.sended=!0,this.emit(I.Start),this.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884cSTART",level:"info",time:Date.now()}),this.bridgeReport)&&(this.pageView(),this.emit(I.Ready))},e.prototype.event=function(e,t){var r=this;try{var n=[];if(Array.isArray(e))e.forEach((function(e){(e=r.processEvent(e[0],e[1]||{}))&&n.push(e)}));else{var i=this.processEvent(e,t);if(!i)return;n.push(i)}this.bridgeReport?n.forEach((function(e){var t=e.event;e=e.params,r.appBridge.onEventV3(t,JSON.stringify(e))})):n.length&&(this.emit(I.Event,n),this.emit(I.SessionResetTime))}catch(e){this.logger.warn("something error, please check"),this.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:e.message})}},e.prototype.beconEvent=function(e,t){var r;Array.isArray(e)?this.logger.warn("beconEvent not support batch report, please check"):(r=[],(e=this.processEvent(e,t||{}))&&(r.push(e),r.length)&&(this.emit(I.BeconEvent,r),this.emit(I.SessionResetTime)))},e.prototype.processEvent=function(e,t){void 0===t&&(t={});try{var r,n,i;return e?(/^event\./.test(r=e)&&(r=e.slice(6)),i=void((n="object"!=typeof(n=t)?{}:n).profile?delete n.profile:n.event_index=m+=1),n.local_ms?(i=n.local_ms,delete n.local_ms):i=+new Date,{event:r,params:n,local_time_ms:i,is_bav:this.initConfig&&this.initConfig.autotrack?1:0}):(this.logger.warn("eventName is null\uff0c please check"),null)}catch(r){return this.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:r.message}),{event:e,params:t}}},e.prototype.filterEvent=function(e){this.eventFilter=e},e.prototype.on=function(e,t){this.hook.on(e,t)},e.prototype.once=function(e,t){this.hook.once(e,t)},e.prototype.off=function(e,t){this.hook.off(e,t)},e.prototype.emit=function(e,t,r){this.hook.emit(e,t,r)},e.prototype.set=function(e){this.hook.set(e)},e.prototype.pageView=function(){this.disableAutoPageView||this.predefinePageView()},e.prototype.predefinePageView=function(e){var t;void 0===e&&(e={}),this.inited?(t={title:document.title||location.pathname,url:location.href,url_path:location.pathname,time:Date.now(),referrer:window.document.referrer,$is_first_time:""+(this.configManager&&this.configManager.is_first_time||!1)},t=a({},t,e),this.event("predefine_pageview",t)):this.logger.warn("predefinePageView should call after init")},e.prototype.clearEventCache=function(){this.emit(I.CleanEvents)},e.prototype.setWebIDviaUnionID=function(e){var t;e&&(t=h(e),this.config({web_id:""+t,wechat_unionid:e}),this.emit(I.CustomWebId))},e.prototype.setWebId=function(e){this.config({web_id:""+e})},e.prototype.setWebIDviaOpenID=function(e){var t;e&&(t=h(e),this.config({web_id:""+t,wechat_openid:e}),this.emit(I.CustomWebId))},e.prototype.setNativeAppId=function(e){this.bridgeReport&&this.appBridge.setNativeAppId(e)},e.prototype.resetStayDuration=function(e,t,r){this.emit(I.ResetStay,{url_path:e,title:t,url:r},I.Stay)},e.prototype.resetStayParams=function(e,t,r){this.emit(I.SetStay,{url_path:e=void 0===e?"":e,title:t=void 0===t?"":t,url:r=void 0===r?"":r},I.Stay)},e.prototype.getToken=function(e,t){var r,n,i,o=this;this.inited?(r=!1,n=function(t){var n;if(!r)return r=!0,n=o.configManager.get().user,t&&(n.tobid=t,n["diss".split("").reverse().join("")]=t),e(a({},n))},i=function(){o.tokenManager.getTobId().then((function(e){n(e)}))},this.sdkReady?i():(t&&setTimeout((function(){n()}),t),this.on(I.Ready,(function(){i()})))):this.logger.warn("predefinePageView should call after init")},e.prototype.profileSet=function(e){this.bridgeReport?this.appBridge.profileSet(JSON.stringify(e)):this.emit(I.ProfileSet,e,I.Profile),this.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884cprofileSet",level:"info",time:Date.now(),data:e})},e.prototype.profileSetOnce=function(e){this.bridgeReport?this.appBridge.profileSetOnce(JSON.stringify(e)):this.emit(I.ProfileSetOnce,e,I.Profile),this.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884cprofileSetOnce",level:"info",time:Date.now(),data:e})},e.prototype.profileIncrement=function(e){this.bridgeReport?this.appBridge.profileIncrement(JSON.stringify(e)):this.emit(I.ProfileIncrement,e,I.Profile),this.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884cprofileIncrement",level:"info",time:Date.now(),data:e})},e.prototype.profileUnset=function(e){this.bridgeReport?this.appBridge.profileUnset(e):this.emit(I.ProfileUnset,e,I.Profile),this.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884cprofileUnset",level:"info",time:Date.now(),data:e})},e.prototype.profileAppend=function(e){this.bridgeReport?this.appBridge.profileAppend(JSON.stringify(e)):this.emit(I.ProfileAppend,e,I.Profile),this.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884cprofileAppend",level:"info",time:Date.now(),data:e})},e.prototype.setExternalAbVersion=function(e){this.emit(I.AbExternalVersion,"string"==typeof e&&e?(""+e).trim():null,I.Ab)},e.prototype.getVar=function(e,t,r,n){this.emit(I.AbVar,{name:e,defaultValue:t,callback:r,uuid:n},I.Ab)},e.prototype.getABconfig=function(e,t){this.emit(I.AbConfig,{params:e,callback:t},I.Ab)},e.prototype.getAbSdkVersion=function(){return this.configManager.getAbVersion()},e.prototype.onAbSdkVersionChange=function(e){var t=this;return this.emit(I.AbVersionChangeOn,e,I.Ab),function(){t.emit(I.AbVersionChangeOff,e,I.Ab)}},e.prototype.offAbSdkVersionChange=function(e){this.emit(I.AbVersionChangeOff,e,I.Ab)},e.prototype.openOverlayer=function(){this.emit(I.AbOpenLayer,"",I.Ab)},e.prototype.closeOverlayer=function(){this.emit(I.AbCloseLayer,"",I.Ab)},e.prototype.getAllVars=function(e){this.emit(I.AbAllVars,e,I.Ab)},e.prototype.autoInitializationRangers=function(e){var t=e.app_id,r=e.channel,n=e.onTokenReady,i=(e=x[r]+"/webid",new E(!1)),o="__tea_cache_tokens_"+t;(r=i.getItem(o))&&r.web_id?n(r.web_id):$(e,{app_key:"",app_id:t,url:location.href,user_agent:window.navigator.userAgent,referer:document.referrer},3e3,!1,(function(e){e&&0===e.e?(n(e.web_id),e={web_id:e.web_id,user_unique_id:e.web_id,timestamp:Date.now()},i.setItem(o,e)):n("")}),(function(){n("")}),!0)},e.prototype.destoryInstace=function(){this.destroyInstance||(this.destroyInstance=!0,this.off(I.TokenComplete))},e.plugins=[],e}(),Q=(t=function(){function e(){}return e.prototype.apply=function(e,t){var r=this,n=e.adapters.fetch;t.event_verify_url&&("string"==typeof t.event_verify_url?(this.url=t.event_verify_url+"/v1/list_test",this.url&&(t=e.Types,e.on(t.SubmitBefore,(function(e){n(r.url,e,3e4)})))):console.log("please use correct et_test url"))},e}(),function(){function e(){}return e.prototype.apply=function(e,t){var r=this,n=(this.collect=e,this.config=t,this.duration=6e4,this.reportUrl=e.configManager.getDomain()+"/profile/list",e.Types),i=e.adapters.fetch;this.eventCheck=new P(e,t),this.fetch=i,this.cache={},this.collect.on(n.ProfileSet,(function(e){r.setProfile(e)})),this.collect.on(n.ProfileSetOnce,(function(e){r.setOnceProfile(e)})),this.collect.on(n.ProfileUnset,(function(e){r.unsetProfile(e)})),this.collect.on(n.ProfileIncrement,(function(e){r.incrementProfile(e)})),this.collect.on(n.ProfileAppend,(function(e){r.appendProfile(e)})),this.collect.on(n.ProfileClear,(function(){r.cache={}})),this.ready(n.Profile)},e.prototype.ready=function(e){var t=this;if(this.collect.set(e),this.collect.hook._hooksCache.hasOwnProperty(e)){var r=this.collect.hook._hooksCache[e];if(Object.keys(r).length)for(var n in r)!function(e){r[e].length&&r[e].forEach((function(r){t.collect.hook.emit(e,r)}))}(n)}},e.prototype.report=function(e,t){void 0===t&&(t={});try{var r,n;this.config.disable_track_event||((r=[]).push(this.collect.processEvent(e,t)),n=this.collect.eventManager.merge(r),this.fetch(this.reportUrl,n),this.collect.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_EVENT,info:"\u57cb\u70b9\u4e0a\u62a5\u6210\u529f",time:Date.now(),data:n,code:200,status:"success"}))}catch(e){this.collect.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:e.message})}},e.prototype.setProfile=function(e){(e=this.formatParams(e))&&Object.keys(e).length&&(this.pushCache(e),this.report("__profile_set",a({},e,{profile:!0})))},e.prototype.setOnceProfile=function(e){(e=this.formatParams(e,!0))&&Object.keys(e).length&&(this.pushCache(e),this.report("__profile_set_once",a({},e,{profile:!0})))},e.prototype.incrementProfile=function(e){e?this.report("__profile_increment",a({},e,{profile:!0})):console.warn("please check the params, must be object!!!")},e.prototype.unsetProfile=function(e){var t;e?((t={})[e]="1",this.report("__profile_unset",a({},t,{profile:!0}))):console.warn("please check the key, must be string!!!")},e.prototype.appendProfile=function(e){if(e){var t,r={};for(t in e)"string"==typeof e[t]||"Array"===Object.prototype.toString.call(e[t]).slice(8,-1)?r[t]=e[t]:console.warn("please check the value of param: "+t+", must be string or array !!!");Object.keys(r).length&&this.report("__profile_append",a({},r,{profile:!0}))}else console.warn("please check the params, must be object!!!")},e.prototype.pushCache=function(e){var t=this;Object.keys(e).forEach((function(r){t.cache[r]={val:t.clone(e[r]),timestamp:Date.now()}}))},e.prototype.formatParams=function(e,t){var r=this;void 0===t&&(t=!1);try{if(e&&"[object Object]"===Object.prototype.toString.call(e)){var n,i={};for(n in e)"string"==typeof e[n]||"number"==typeof e[n]||"Array"===Object.prototype.toString.call(e[n]).slice(8,-1)?i[n]=e[n]:console.warn("please check the value of params:"+n+", must be string,number,Array !!!");var o,s=Object.keys(i);if(s.length&&this.eventCheck.checkEventParams(i))return o=Date.now(),s.filter((function(n){var i=r.cache[n];return t?!i:!(i&&r.compare(i.val,e[n])&&o-i.timestamp<r.duration)})).reduce((function(e,t){return e[t]=i[t],e}),{})}else console.warn("please check the params type, must be object !!!")}catch(e){this.collect.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:e.message}),console.log("error")}},e.prototype.compare=function(e,t){try{return JSON.stringify(e)===JSON.stringify(t)}catch(e){return this.collect.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:e.message}),!1}},e.prototype.clone=function(e){try{return JSON.parse(JSON.stringify(e))}catch(t){return this.collect.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:t.message}),e}},e.prototype.unReady=function(){console.warn("sdk is not ready, please use this api after start")},e}()),ee=function(){function e(){var e=this;this.setInterval=function(){e.clearIntervalFunc=function(e,t){void 0===e&&(e=function(){}),void 0===t&&(t=1e3);var r=Date.now()+t,n=window.setTimeout((function i(){var o=Date.now()-r;e(),r+=t,n=window.setTimeout(i,Math.max(0,t-o))}),t);return function(){window.clearTimeout(n)}}((function(){e.isSessionhasEvent&&e.endCurrentSession()}),e.sessionInterval)},this.clearInterval=function(){e.clearIntervalFunc&&e.clearIntervalFunc()}}return e.prototype.apply=function(e,t){var r=this;this.collect=e,t.disable_heartbeat||(this.sessionInterval=6e4,this.startTime=0,this.lastTime=0,this.setInterval(),e=this.collect.Types,this.collect.on(e.SessionReset,(function(){r.process()})))},e.prototype.endCurrentSession=function(){this.collect.event("_be_active",{start_time:this.startTime,end_time:this.lastTime,url:window.location.href,referrer:window.document.referrer,title:document.title||location.pathname}),this.isSessionhasEvent=!1,this.startTime=0},e.prototype.process=function(){this.isSessionhasEvent||(this.isSessionhasEvent=!0,this.startTime=+new Date);var e=this.lastTime||+new Date;this.lastTime=+new Date,this.lastTime-e>this.sessionInterval&&(this.clearInterval(),this.endCurrentSession(),this.setInterval())},e}(),te=function(){function e(){}return e.prototype.apply=function(e,t){var r=this;this.collect=e,this.config=t,this.config.channel_domain||t.disable_track_event||t.disable_sdk_monitor||(t=e.adapters.fetch,this.fetch=t,this.url=e.configManager.getUrl("event"),t=this.collect.Types,this.collect.on(t.Ready,(function(){r.sdkOnload()})),this.collect.on(t.SubmitError,(function(e){var t=e.type,n=e.eventData;e=e.errorCode,"f_data"===t&&r.sdkError(n,e)})))},e.prototype.sdkOnload=function(){var e=this;try{var t=this.collect.configManager.get(),r=t.header,n=t.user,i=r.app_id,o=r.app_name,s=r.sdk_version,a=n.web_id,c={events:[{event:"onload",params:JSON.stringify({app_id:i,app_name:o||"",sdk_version:s,sdk_type:"npm",sdk_config:this.config,sdk_desc:"TOC_OVERSEA"}),local_time_ms:Date.now()}],user:{user_unique_id:a},header:{}};setTimeout((function(){e.fetch(e.url,[c],3e4,!1,(function(){}),(function(){}),"566f58151b0ed37e")}),16)}catch(e){}},e.prototype.sdkError=function(e,t){var r=this;try{var n=e[0],i=n.user,o=n.header,s=[],a=(e.forEach((function(e){e.events.forEach((function(e){s.push(e)}))})),{events:s.map((function(e){return{event:"on_error",params:JSON.stringify({error_code:t,app_id:o.app_id,app_name:o.app_name||"",error_event:e.event,sdk_version:o.sdk_version,local_time_ms:e.local_time_ms,tea_event_index:Date.now(),params:e.params,header:JSON.stringify(o),user:JSON.stringify(i)}),local_time_ms:Date.now()}})),user:{user_unique_id:i.user_unique_id},header:{}});setTimeout((function(){r.fetch(r.url,[a],3e4,!1,(function(){}),(function(){}),"566f58151b0ed37e")}),16)}catch(e){}},e}(),re={autotrack:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/autotrack.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/autotrack.js"},object:"LogAutoTrack"},ab:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/ab.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/ab.js"},object:"LogAb"},stay:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/stay.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/stay.js"},object:"LogStay"},route:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/route.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/route.js"},object:"LogRoute"},cep:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/cep.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/cep.js"},object:"LogCep"},tracer:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/tracer.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/tracer.js"},object:"LogTracer"},visual:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/visual.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/visual.js"},object:"LogVisual"}},ne="undefined"!=typeof window?(window.LogPluginObject||(window.LogPluginObject={}),window.LogPluginObject):null,ie=function(){function e(){}return e.prototype.apply=function(e,t){this._plugin={},this.config=t,this.collect=e,this.channel=t.channel||"cn",this.loadExtend()},e.prototype.loadExtend=function(){var e=this;try{this.collect.remotePlugin.forEach((function(t,r){var n,i;"sdk"===t?re.hasOwnProperty(r)?(n=re[r].object,i=""+re[r].src[e.channel],e.exist(r,n,i)):console.warn("your "+r+" is not exist\uff0cplease check plugin name"):"object"==typeof t&&(t.src?e.exist(r,t.call,t.src):e.process(r,t.instance,"INSTANCE"))}))}catch(e){this.collect.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:e.message}),console.log("load extend error")}},e.prototype.exist=function(e,t,r){var n=this;ne[t]?(this.process(e,ne[t]),console.log("\u5df2\u6709"+e+"\u63d2\u4ef6\uff0c\u907f\u514d\u91cd\u590d\u52a0\u8f7d~")):this.loadPlugin(e,r,(function(){n.process(e,ne[t]),console.log(" %c %s %s %s","color: yellow; background-color: black;","\u2013","load plugin:"+e+" success","-")}),(function(){console.log(" %c %s %s %s","color: red; background-color: yellow;","\u2013","load plugin:"+e+" error","-")}))},e.prototype.process=function(e,t,r){try{var n;r?((n=new t).apply&&n.apply(this.collect,this.config),console.log("excude "+e+" success")):t&&t(this.collect,this.config)}catch(t){this.collect.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:t.message}),console.log("excude "+e+" error, message:"+t.message)}},e.prototype.loadPlugin=function(e,t,r,n){var i=this;try{var o=document.createElement("script");o.src=t,this._plugin[e]||(this._plugin[e]=[]),this._plugin[e].push(r),o.onerror=function(){n(t)},o.onload=function(){i._plugin[e].forEach((function(e){e()}))},document.getElementsByTagName("head")[0].appendChild(o)}catch(e){this.collect.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:e.message})}},e}(),oe=(Y.usePlugin(ie,"extend"),Y.usePlugin(t,"et"),Y.usePlugin(Q,"profile"),Y.usePlugin(ee,"heartbeat"),Y.usePlugin(te,"monitor"),ie=new Y("default")),se={selectRoute:900,browserError:1e3,crc32:1e3,preUpload:1001,initUploadID:1002,process:1003,fileMerge:1004,complete:1005},ae="video",ce="image",le="object",ue={video:"video_upload",image:"image_upload",object:"object_upload"},pe="vod",de="imagex";function he(e){return(he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fe(){return(fe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ge(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){return e=function(e,t){if("object"!==he(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);if("object"!==he(r=r.call(e,t||"default")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"),"symbol"===he(e)?e:String(e)}(n.key),n)}}var me=function(){function e(t,r){switch(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t,this.context=r,this.teaLog=oe,this.options.region){case"us-east-1":case"us-east-2":case"us-east-5":case"us-east-red":case"gcp":case"US-TTP":default:this.tea_app_id=2643,this.tea_channel="va";break;case"boei18n":case"ap-singapore-1":this.tea_app_id=2643,this.tea_channel="sg"}this.teaLog.init({app_id:this.tea_app_id,channel:this.tea_channel,log:!1,disable_sdk_monitor:!0,disable_auto_pv:!0}),this.teaLog.config({evtParams:{sdk_version:"2.0.3",line_app_id:this.options.appId},user_unique_id:this.options.userId}),this.teaLog.start()}return function(e,t,r){t&&ge(e.prototype,t),r&&ge(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(e,[{key:"send",value:function(e){var t=this.context,r=e.key,n=(t=t.tasks[r],se[e.stage]||999),i=(t=e.fileType||t&&t.fileType,e.fileSize||0),o={log_type:ue[t],stage:n,fk:r,fs:i,req:e.req,res:e.res,ts:Math.round(Date.now()/1e3),sst:e.stageStartTime,set:e.stageEndTime,dur:e.duration,tdur:e.totalDuration,durs:e.duration/1e3,tdurs:e.totalDuration/1e3,eslr:e.enableSelectRoute,ucsrr:e.useClientSelectRouteResult,skipCommit:!!e.skipCommit},s=(r="error"===(r=e.type)||"retry"===r?r:n,"".concat("image"===t?"image":"video","_")+r);switch(n){case 1e3:this.teaLog.event(s,fe({},o,{type:e.type,errc:e.extra&&e.extra.errorCode,ex:JSON.stringify({errc:e.extra&&e.extra.errorCode,msg:e.extra&&e.extra.message,crc32Array:e.crc32Array,isDirect:e.isDirect})}));break;case 1001:this.teaLog.event(s,fe({},o,{type:e.type,oid:e.oid,upload_host:e.tosDomain,errc:e.extra&&e.extra.errorCode,ex:JSON.stringify({errc:e.extra&&e.extra.errorCode,err:e.extra&&e.extra.error,msg:e.extra&&e.extra.message,sig:e.signature,stk:e.proxyStsToken})}));break;case 1002:this.teaLog.event(s,fe({},o,{type:e.type,oid:e.oid,upload_host:e.tosDomain,errc:e.extra&&e.extra.errorCode,ex:JSON.stringify({errc:e.extra&&e.extra.errorCode,msg:e.extra&&e.extra.message,upid:e.uploadID})}));break;case 1003:e.isAllFinish||e.isDirect||(delete o.sst,delete o.set,delete o.dur),this.teaLog.event(s,fe({},o,{type:e.type,oid:e.oid,errc:e.extra&&e.extra.errorCode,upload_host:e.tosDomain,af:e.isAllFinish,cst:e.crc32StartTime,cet:e.crc32EndTime,cdur:e.crc32Duration,slst:e.sliceStartTime,slet:e.sliceEndTime,sldurs:e.sliceDuration&&e.sliceDuration/1e3,ex:JSON.stringify({errc:e.extra&&e.extra.errorCode,msg:e.extra&&e.extra.message,si:e.sliceIndex,af:e.isAllFinish})}));break;case 1004:default:this.teaLog.event(s,fe({},o,{type:e.type,oid:e.oid,upload_host:e.tosDomain,errc:e.extra&&e.extra.errorCode,ex:JSON.stringify({errc:e.extra&&e.extra.errorCode,msg:e.extra&&e.extra.message})}));break;case 1005:this.teaLog.event(s,fe({},o,{type:e.type,oid:e.oid,upload_host:e.tosDomain,errc:e.extra&&e.extra.errorCode,speed:Math.round(i/(e.totalDuration/1e3)/1024),ex:JSON.stringify({errc:e.extra&&e.extra.errorCode,err:e.extra&&e.extra.error,msg:e.extra&&e.extra.message,vid:e.uploadResult&&e.uploadResult.Vid})}));break;case 900:this.teaLog.event(s,fe({},o,{type:e.type,errc:e.extra&&e.extra.errorCode,race_info:e.raceInfo,client_ip:e.lastClientIp,uc:e.useCache,ex:JSON.stringify({errc:e.extra&&e.extra.errorCode,err:e.extra&&e.extra.error,msg:e.extra&&e.extra.message})}))}}},{key:"console",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){this.options.debug&&console.log(e)}))}]),e}(),ye=(t=r(5),r.n(t)),ve=(Q=r(4),r.n(Q)),be={urlTemplate:function(e,t){var r;return t=t||{},Object.keys(t).forEach((function(n){r=new RegExp("{".concat(n,"}"),"g"),e=e.replace(r,t[n])})),e},toQueryString:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).map((function(t){return"".concat(t,"=").concat(encodeURIComponent(e[t]))})).join("&")},supportChunked:function(){var e=window.Blob||window.WebKitBlob;try{var t=e.prototype;return!(!FormData||!(t.slice||t.webkitSlice||t.mozSlice))}catch(e){return!1}},supportXhr:function(){return!!window.FormData||window.ProgressEvent&&window.FileReader},supportCrc32:function(){var e=window.FileReader&&window.FileReader.prototype.readAsBinaryString;return"undefined"!=typeof Int32Array&&e&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice)},storage:function(e){var t=e;e={removeItem:function(e){delete t.cache[e]},setItem:function(e,r){t.cache[e]=r},getItem:function(e){return t.cache[e]},clear:function(){delete t.cache,t.cache={}}};try{if(window.localStorage)return window.localStorage.setItem("",""),window.localStorage}catch(e){}return e},noop:function(){},getUnique:function(e){return"".concat(e,"_").concat((new Date).getTime(),"_").concat(parseInt(1e6*Math.random()))},getFileSliceLength:function(e,t){var r=e.size,n=1048576;return t&&"function"==typeof t?t(r)<2097152?2097152:t(r)||r:200*n<r?10*n:r<=200*n&&2*n<=r?5*n:e.size},getFileSuffix:function(e){if(e&&"[object String]"===Object.prototype.toString.call(e)){var t=e.lastIndexOf(".");if(0<t&&(e="."+e.substring(t+1)).length<=8)return e}},fileSlice:function(e,t,r){return(e.slice||e.webkitSlice||e.mozSlice).call(e,t,r)},getPathByURL:function(e){return/^(?:(https?\:)\/\/)?(([^:\/?#]*)(?:\:([0-9]+))?)([\/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/.exec(e)[5]||"/"},crypto:{hmac:function(e,t){return ye()(t,e)},sha256:function(e){return ve()(e)}},date:{iso8601:function(e){return(e=void 0===e?be.date.getDate():e).toISOString().replace(/\.\d{3}Z$/,"Z")}},Buffer:Uint8Array,generateKey:function(e){for(var t="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<e;n++)t+=r.charAt(Math.floor(62*Math.random()));return t}},_e=be;function we(e){return(we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Se(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){return e=function(e,t){if("object"!==we(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);if("object"!==we(r=r.call(e,t||"default")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"),"symbol"===we(e)?e:String(e)}(n.key),n)}}function Ee(e,t){return(Ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Oe(e){return(Oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xe=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ee(e,t)}(t,n.a);var e=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Oe(e);return function(e,t){if(t&&("object"===we(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,t?(r=Oe(this).constructor,Reflect.construct(n,arguments,r)):n.apply(this,arguments))}}(t);function t(){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=e.call(this)).xhr=new XMLHttpRequest,r._data=null,r}return function(e,t,r){t&&Se(e.prototype,t),r&&Se(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"_ajax",value:function(e){var t=this,r=this.xhr;r.upload.onprogress=function(e){t.emit("progress",e)},r.onreadystatechange=function(n){4===r.readyState&&(r.upload.onprogress=_e.noop,r.onreadystatechange=_e.noop,r.params=e,t._data&&t._data.url&&(r.currentUrl=t._data.url),200<=r.status&&r.status<300?t.emit("complete",r):400<=r.status&&t.emit("error",r))},r.onerror=function(){r.errText="unknow net error",t.emit("error",r)},r.ontimeout=function(){r.errText="timeout",t.emit("error",r)},r.onabort=function(){r.errText="abort",t.emit("error",r)},r.send(e)}},{key:"send",value:function(e){var t=this;return this._data=e,this.xhr.open(e.method||"POST",e.url||"",!0),e.headers&&Object.keys(e.headers).forEach((function(r){t.xhr.setRequestHeader(r,e.headers[r])})),this.xhr.timeout=e.timeout||0,e.ontimeout&&(this.xhr.ontimeout=e.ontimeout),e.binary?this.sendAsBinary(e):e.custom?"object"===we(e.custom)?this.sendAsCustom(JSON.stringify(e.custom)):"none"===e.custom?(delete e.custom,this.sendAsCustom()):this.sendAsCustom(e.custom):this.sendAsFormData(e)}},{key:"sendAsBinary",value:function(e){return this.xhr.setRequestHeader("Content-Type","application/octet-stream"),this.xhr.setRequestHeader("Content-Disposition",'attachment; filename="'.concat(encodeURI(e.filename),'"')),this._ajax(e.file)}},{key:"sendAsFormData",value:function(e){t=(t=e.formData?"function"==typeof e.formData?e.formData():e.formData:t)||[];for(var t,r=new FormData,n=0,i=t.length;n<i;n++){var o=r[n];r.append(o.name,o.value)}return e.file&&r.append(e.field,e.file,e.name),this._ajax(r)}},{key:"sendAsCustom",value:function(e){return this._ajax(e)}},{key:"abort",value:function(){this.xhr.onreadystatechange=_e.noop,this.xhr.abort()}},{key:"getResponse",value:function(){return this.xhr.response}},{key:"getText",value:function(){return this.xhr.responseText}},{key:"getJson",value:function(){return JSON.parse(this.xhr.responseText)}}]),t}(),ke=(ee=r(1),r.n(ee));function Ce(e){return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Te(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)),n}function je(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(r),!0).forEach((function(t){!function(e,t,r){(t=Ae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Pe(){return(Pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ae(n.key),n)}}function Ae(e){return e=function(e,t){if("object"!==Ce(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);if("object"!==Ce(r=r.call(e,t||"default")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"),"symbol"===Ce(e)?e:String(e)}function De(e,t){return(De=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Re(e){return(Re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Me=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&De(e,t)}(t,n.a);var e=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Re(e);return function(e,t){if(t&&("object"===Ce(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,t?(r=Re(this).constructor,Reflect.construct(n,arguments,r)):n.apply(this,arguments))}}(t);function t(r,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this)).options=r,i.config=n,i.uploaderCtx=r.context,i.file=r.file,i.cacheKey="__bd_uploader_cache",i}return function(e,t,r){t&&Ie(e.prototype,t),r&&Ie(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"start",value:function(e,t){this._st=Date.now(),this.uploaderCtx._broadcast("startSelectRoute",null,!0),this.clientIp=e.clientIp,this.selectRouteTimeout=e.selectRouteTimeout||5e3,this.selectRouteCacheTime=e.selectRouteCacheTime||36e5,this.selectRouteFileSize=e.selectRouteFileSize||2097152,this.completeCallback=t,(e=this.checkSelect({clientIp:this.clientIp}))?this.success(e,null,!0):this.startSelectRoute()}},{key:"checkSelect",value:function(e){e=e.clientIp;var t=null;try{t=JSON.parse(this.uploaderCtx.storage.getItem(this.cacheKey))}catch(e){return null}if(t){var r=t.lastClientIp,n=t.lastSelectRouteTime;if(e&&e!==r)return null;if((new Date).getTime()-n<this.selectRouteCacheTime)return t}return null}},{key:"startSelectRoute",value:function(){var e=this,t=this.config.region,r=new xe,n=(r.on("complete",(function(t){if(t.response)try{var r,n=JSON.parse(t.response);n.ResponseMetadata.Error?e.fail({xhr:t,errorCode:n.ResponseMetadata.Error.CodeN,error:n.ResponseMetadata.Error.Code,message:n.ResponseMetadata.Error.Message}):(r=n.Result.Domains,e.race(r,t))}catch(r){e.fail({error:"catch error: ".concat(r.toString()),xhr:t})}else e.fail({error:"request fail: ".concat(t.statusText||t.errText||"UNKNOWN"),xhr:t})})),r.on("error",(function(t){var r={error:"request fail: ".concat(t.statusText||t.errText||"UNKNOWN"),xhr:t};t.response&&(t=JSON.parse(t.response)).ResponseMetadata&&t.ResponseMetadata.Error&&(r.errorCode=t.ResponseMetadata.Error.CodeN,r.error=t.ResponseMetadata.Error.Code,r.message=t.ResponseMetadata.Error.Message),e.fail(r)})),this.config.videoHost),i=pe,o=this.config.videoConfig&&this.config.videoConfig.spaceName,s=(o={Action:"GetUploadCandidates",Version:"2020-11-19",SpaceName:o=this.options.type===le&&this.config.objectConfig&&this.config.objectConfig.spaceName?this.config.objectConfig.spaceName:o},this.options.stsToken),a=_e.toQueryString(o),c=s.AccessKeyID,l=s.AccessKeyId,u=s.SecretAccessKey,p=s.SessionToken;s=s.CurrentTime,n={method:"GET",url:"".concat(n,"?").concat(a),timeout:3e4,region:t,params:o},a=new ke.a(n,i),this.config.useServerCurrentTime&&6e4<Math.abs(new Date(s)-new Date)&&(this.systemTimeGap=new Date(s)-new Date),t=this.systemTimeGap?new Date((new Date).getTime()+this.systemTimeGap):new Date,a.addAuthorization({accessKeyId:l||c,secretAccessKey:u,sessionToken:p},t),r.send(n)}},{key:"race",value:function(e,t){var r=this,n=this.file,i=(n.slice||n.webkitSlice||n.mozSlice).call(n,0,Math.min(this.selectRouteFileSize,n.size)),s=e.map((function(e){return{domainName:e.Name,domainInfo:e,percent:0,startTime:(new Date).getTime(),endTime:(new Date).getTime(),complete:!1}})),a=0,c=s.length;s.forEach((function(e,n){var i=new xe;i.on("complete",(function(){s[n].endTime=(new Date).getTime(),s[n].complete=!0,s.forEach((function(e,t){n!==t&&e.transport&&e.transport.abort()})),r.formatRaceInfo(s,t)})),i.on("error",(function(e){s[n].endTime=(new Date).getTime(),s[n].complete=!0,s[n].error=e.errText,c<=++a&&r.formatRaceInfo(s,t)})),i.on("progress",(function(e){e=e.loaded/e.total,s[n].percent=e})),s[n].transport=i})),s.forEach((function(e){var t={oid:(n=e.domainInfo).StoreID,tosDomain:"".concat(r.config.schema,"://").concat(n.Name)},n=(t=_e.urlTemplate(o,t)+"?speedtest",n.Sign);e.transport.send({method:"post",url:t,headers:{Authorization:n,"Content-CRC32":"ignore"},file:i,binary:1,timeout:r.selectRouteTimeout})}))}},{key:"formatRaceInfo",value:function(e,t){e.sort((function(e,t){return e.percent<t.percent?1:e.percent>t.percent?-1:e.error?1:t.error?-1:0})),e.forEach((function(e){delete e.transport})),e={lastClientIp:this.clientIp,lastSelectRouteTime:(new Date).getTime(),raceInfo:e,type:"success"},this.uploaderCtx.storage.setItem(this.cacheKey,JSON.stringify(e)),this.success(e,t)}},{key:"success",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]&&arguments[2];t=t&&this.formatXhr(t),this.uploaderCtx.logger.send(Pe(je(je({stage:"selectRoute",stageStartTime:this._st,stageEndTime:Date.now(),duration:Date.now()-this._st,fileSize:this.file&&this.file.size},t),{},{useCache:r}),e)),this.uploaderCtx._broadcast("completeSelectRoute",je(je({},e),{},{useCache:r}),!0),this.completeCallback({selectRouteResult:e.raceInfo})}},{key:"fail",value:function(e){var t={error:e.error,errorCode:e.errorCode,message:e.message};this.uploaderCtx.logger.send(Pe(je({stage:"selectRoute",stageStartTime:this._st,stageEndTime:Date.now(),duration:Date.now()-this._st,fileSize:this.file&&this.file.size,extra:t,type:"warn"},this.formatXhr(e.xhr)))),this.uploaderCtx._broadcast("completeSelectRoute",je({type:"warn"},t),!0),this.completeCallback()}},{key:"formatXhr",value:function(e){return{req:{url:e.currentUrl,param:e.params},res:{status:e.status,header:e.getAllResponseHeaders(),body:e.responseText}}}}]),t}(),Fe=function(e,t){for(var r=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],n=("undefined"!=typeof Int32Array&&(r=new Int32Array(r)),-1^~~t),i=(e=new Uint8Array(e)).length,o=0;o<i;o++)n=r[255&(n^e[o])]^n>>>8;return(-1^n)>>>0},Ne=function(e){if(void 0!==e)return function e(t){return t.length<8?e(t="0".concat(t)):t}(Number(e).toString(16))};function ze(e){return(ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){return e=function(e,t){if("object"!==ze(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);if("object"!==ze(r=r.call(e,t||"default")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"),"symbol"===ze(e)?e:String(e)}(n.key),n)}}var Be=function(){function e(t,r,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.file=t,this.successProcess=n,this.failProcess=i,this.sliceLength=r,this.retryTime=0,this.fileSize=t.size,this.crc32Array=[]}return function(e,t,r){t&&Ue(e.prototype,t),r&&Ue(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(e,[{key:"start",value:function(){this.readFileCrc32(this.file)}},{key:"readFileCrc32",value:function(e){var t=this,r=this.sliceLength,n=e.slice||e.webkitSlice||e.mozSlice,i=new FileReader,o=0,s=0,a=0;!function c(){s<e.size&&(s=Math.min(o+r,e.size),104857600<e.size)&&e.size-s<=5242880&&(s=e.size),i.readAsArrayBuffer(n.call(e,o,s)),i.onload=function(r){r=r.target.result,a=Fe(r,0),t.crc32Array.push({start:o,end:s,crc32:Ne(a),buffer:r}),(o=s)<e.size?c():t.success(t.crc32Array)}}()}},{key:"success",value:function(e){this.successProcess(e)}},{key:"fail",value:function(e,t,r,n){3<=this.retryTime?this.failProcess():(this.readFileCrc32(e,t,r,n),this.retryTime++)}}]),e}(),Le=1000002,$e=1000003,Ze=1003e3,Ge="The format of stsToken is incorrect.";function He(e){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ve(){return(Ve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function We(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){return e=function(e,t){if("object"!==He(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);if("object"!==He(r=r.call(e,t||"default")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"),"symbol"===He(e)?e:String(e)}(n.key),n)}}var qe=function(){function e(t){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t.context,this.key=t.key,this.isDirect=t.isDirect,this.isImageBatchUpload=t.isImageBatchUpload,this.file=t.file,this.type=(this.isImageBatchUpload?null==(t=this.file[0])?void 0:t.type:null==(t=this.file)?void 0:t.type)||"",this.sliceLength=_e.getFileSliceLength(this.file,r.getSliceFunc),this.config=r}return function(e,t,r){t&&We(e.prototype,t),r&&We(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(e,[{key:"start",value:function(e,t,r){this.successProcess=t,this.failProcess=r,this._st=Date.now(),this.crc32(this.file,this.sliceLength)}},{key:"crc32",value:function(e,t){var r=this;if(this.isImageBatchUpload)for(var n=e.length,i=[],o=function(t){new Be(e[t],e[t].size,(function(e){i[t]=e[0],i.filter((function(e){return!!e})).length===n&&r.success(i)}),(function(e){r.fail(e)})).start()},s=0;s<n;s++)o(s);else!e||!e.size||e.size<=0?this.fail({errorCode:$e,message:"There is a problem with the input file or fileSize."}):this.isDirect?new Be(e,e.size,(function(e){r.success(e)}),(function(e){r.fail({errorCode:$e,message:"get crc32 error: ".concat(e&&e.message)})})).start():this.sliceFile(e,t,(function(e){r.success(e)}),(function(e){r.fail(e)}))}},{key:"sliceFile",value:function(e,t,r,n){for(var i=[],o=t,s=e.size,a=e.slice||e.webkitSlice||e.mozSlice,c=0,l=0,u=0;l<s;)l=Math.min(c+o,s),i.push({start:c,end:l=104857600<s&&s-l<=5242880?s:l,crc32:0}),c=l;try{!function t(o){var c=new FileReader,l=i[o].start,p=i[o].end;c.readAsArrayBuffer(a.call(e,l,p)),c.onload=function(e){e=e.target.result,u=Ne(Fe(e,0)),i[o].crc32=u,p===s?r(i):t(i.length-1)},c.onerror=function(e){var t=e.target.error.name;e=e.target.error.message,n({crc32Array:i,errorCode:1000003,message:t+": "+e})}}(0)}catch(t){n({message:t&&t.toString()})}}},{key:"getCrc32Key",value:function(e,t){return t="[object Array]"===Object.prototype.toString.call(t)?function(e){return function(e){if(Array.isArray(e))return Ke(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){var r;if(e)return"string"==typeof e?Ke(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ke(e,t):void 0}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t):[t],t.push(e[0].crc32,e[e.length-1].crc32),this.config.instanceId&&t.push(this.config.instanceId),t.join("_")}},{key:"success",value:function(e){var t=this.context,r=this.key,n=[],i=[];if(this.isImageBatchUpload)for(var o=0;o<this.file.length;o++)n.push(this.file[o].size),i.push(this.file[o].name);else n=this.file.size,i=this.file.name;var s=this.getCrc32Key(e,n);(t=t.tasks[r])&&this.successProcess(Ve(t,{key:r,crc32Array:e,crc32Key:s,sdkVersion:"2.0.3",sliceLength:this.sliceLength,extra:{message:"get crc32 success"},stage:"crc32",type:"success",fileSize:n,fileName:i,stageStartTime:this._st,stageEndTime:Date.now(),duration:Date.now()-this._st,totalDuration:Date.now()-this._st,isDirect:this.isDirect,isImageBatchUpload:this.isImageBatchUpload}))}},{key:"fail",value:function(e){var t=this.context,r=this.key,n=e&&e.message?e.message:"get crc32 error",i=e&&e.errorCode;e=e&&e.crc32Array,t=Ve(t.tasks[r],{crc32Array:e,extra:{message:n,errorCode:i},type:"error",stage:"crc32",stageStartTime:this._st,stageEndTime:Date.now(),duration:Date.now()-this._st,totalDuration:Date.now()-this._st}),this.failProcess(t)}}]),e}(),Xe=function(e){return!e||e.SessionToken&&e.SecretAccessKey&&(e.AccessKeyId||e.AccessKeyID)},Je=function(e,t,r){if(r===pe||r===de)return r;if(e!==ae){if(e===ce)return de;if(e===le){if(t.objectConfig&&t.objectConfig.spaceName)return pe;if(t.objectConfig&&t.objectConfig.serviceId)return de;if(t.videoConfig&&t.videoConfig.spaceName)return pe;if(t.imageConfig&&t.imageConfig.serviceId)return de}}return pe};function Ye(e){return(Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qe(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)),n}function et(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(r),!0).forEach((function(t){!function(e,t,r){(t=nt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function tt(){return(tt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function rt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nt(n.key),n)}}function nt(e){return e=function(e,t){if("object"!==Ye(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);if("object"!==Ye(r=r.call(e,t||"default")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"),"symbol"===Ye(e)?e:String(e)}function it(e,t){return(it=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ot(e){return(ot=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var st=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&it(e,t)}(t,n.a);var e=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ot(e);return function(e,t){if(t&&("object"===Ye(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,t?(r=ot(this).constructor,Reflect.construct(n,arguments,r)):n.apply(this,arguments))}}(t);function t(r,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this)).options=r,i.config=n,i.uploaderCtx=r.context,i.currFileCtx=r.context.tasks[r.key],i.systemTimeGap=0,i.retryTime=n.retryTaskTime||2,i.hasRetryTime=0,i.isImageBatchUpload=!!i.options.isImageBatchUpload,i.isDirect=i.options.isDirect,i}return function(e,t,r){t&&rt(e.prototype,t),r&&rt(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"start",value:function(e,t,r){this.startOptions=e,this.failProcess=r,this.successProcess=t,this._st=Date.now(),r=(e=this.uploaderCtx._getCache(this.currFileCtx.crc32Key))?JSON.parse(e):{},!this.isDirect&&r.oid&&r.UploadID?this.resumeFromCache(r):this.startPreUpload()}},{key:"startPreUpload",value:function(){var e=this,t=this.config.region,r=new xe,n=(r.on("complete",(function(t){if(t.response){var r=null;try{var n=JSON.parse(t.response);if(n.ResponseMetadata.Error)return e.fail({xhr:t,errorCode:n.ResponseMetadata.Error.CodeN,error:n.ResponseMetadata.Error.Code,message:n.ResponseMetadata.Error.Message});var i,o,s,a,c,l,u,p=Je(e.options.type,e.config,e.options.serviceType),d=n.Result,h=p===de?d.UploadAddress:d.InnerUploadAddress.UploadNodes[0],f=h.StoreInfos,g=h.UploadHosts,m=h.SessionKey,y=h.UploadHeader,v=void 0===y?{}:y,b=p===de?g[0]:h.UploadHost,_=null==(i=f[0])?void 0:i.UploadID,w=[],S=[];e.isImageBatchUpload&&1<f.length?f.forEach((function(e){w.push(e.Auth),S.push(e.StoreUri)})):(w=f[0].Auth,S=f[0].StoreUri),p===pe&&(o=d.InnerUploadAddress.UploadNodes).length&&1<o.length&&(a={SessionKey:(s=o[1]).SessionKey,UploadHeader:s.UploadHeader,StoreInfo:s.StoreInfos[0],UploadHost:s.UploadHost}),e.startOptions&&e.startOptions.enableSelectRoute&&(u=!0,e.startOptions.selectRouteResult)&&(l=!(((c=e.startOptions.selectRouteResult)[0]&&c[0].domainName)!==b)),r=tt(e.currFileCtx,{key:e.options.key,useBackupDomain:e.uploaderCtx.useBackupDomain,signature:w,type:"success",extra:{message:"prepare upload success"},stage:"preUpload",oid:S,systemTimeGap:e.systemTimeGap,tosDomain:"".concat(e.config.schema,"://").concat(b),xhr:t,UploadHeader:v,SessionKey:m,UploadID:_,fallbackStoreInfo:a,stageStartTime:e._st,stageEndTime:Date.now(),duration:Date.now()-e._st,totalDuration:Date.now()-e._st+e.currFileCtx.totalDuration,useClientSelectRouteResult:l,enableSelectRoute:u})}catch(r){return e.fail({error:"catch error: ".concat(r.message||r.toString()),xhr:t})}return e.successProcess(r)}return e.fail({error:"request fail: ".concat(t.statusText||t.errText||"UNKNOWN"),xhr:t})})),r.on("error",(function(t){var r;(e.options.type===ce&&e.config.imageFallbackHost||e.options.type===ae&&e.config.videoFallbackHost)&&!e.uploaderCtx.useBackupDomain?(e.hasRetryTime<e.retryTime-1?e.hasRetryTime++:e.uploaderCtx.useBackupDomain=!0,e.startPreUpload()):(r={error:"request fail: ".concat(t.statusText||t.errText||"UNKNOWN"),xhr:t},t.response&&(t=JSON.parse(t.response)).ResponseMetadata&&t.ResponseMetadata.Error&&(r.errorCode=t.ResponseMetadata.Error.CodeN,r.error=t.ResponseMetadata.Error.Code,r.message=t.ResponseMetadata.Error.Message),e.fail(r))})),""),i={},o=this.uploaderCtx.useBackupDomain,s=Je(this.options.type,this.config,this.options.serviceType),a=(s===de&&(n=o?this.config.imageFallbackHost:this.config.imageHost,i={Action:"ApplyImageUpload",Version:"2018-08-01"},this.options.type===ce&&(this.config.imageConfig&&this.config.imageConfig.serviceId?i.ServiceId=this.config.imageConfig.serviceId:i.SpaceName=this.config.videoConfig&&this.config.videoConfig.spaceName),this.options.type===le&&(i.ServiceId=this.config.objectConfig&&this.config.objectConfig.serviceId||this.config.imageConfig&&this.config.imageConfig.serviceId),this.currFileCtx.fileSize&&1<this.currFileCtx.fileSize.length&&(i.UploadNum=this.currFileCtx.fileSize.length),this.options.storeKey)&&(a=this.options.storeKey,"[object Array]"===Object.prototype.toString.call(a)?i.StoreKeys=a:"[object String]"===Object.prototype.toString.call(a)&&(i.StoreKeys=[a])),s===pe&&(a=this.config.videoConfig&&this.config.videoConfig.spaceName,this.options.type===le&&this.config.objectConfig&&this.config.objectConfig.spaceName&&(a=this.config.objectConfig.spaceName),n=o?this.config.videoFallbackHost:this.config.videoHost,i={Action:"ApplyUploadInner",Version:"2020-11-19",SpaceName:a,FileType:this.options.type,IsInner:1},this.currFileCtx.fileSize&&(i.FileSize=this.currFileCtx.fileSize),this.config.enOID&&(i.EnOID=1),(this.options.testHost||this.config.testHost)&&(i.TestHost=this.options.testHost||this.config.testHost),this.startOptions)&&this.startOptions.selectRouteResult&&(o=this.startOptions.selectRouteResult,i.ClientBestHosts=o.map((function(e){return e.domainName})).join(",")),this.config.useFileExtension&&this.currFileCtx.fileName&&(this.options.type===le||this.options.type===ce)&&(a=this.currFileCtx.fileName,o=_e.getFileSuffix(a))&&(i.FileExtension=o),this.config.accountId&&(i["X-Account-Id"]=this.config.accountId),this.options.type!==ce&&this.options.type!==le||!this.config.bizType||(i.BizType=this.config.bizType,i.AppID=this.config.appId,i.UserID=this.config.userId),this.config.openExperiment&&(i.app_id=this.config.appId,i.user_id=this.config.userId),i.s=Math.random().toString(36).substr(2),this.options.fileSize&&(i.FileSize=this.options.fileSize),this.currFileCtx.proxyStsToken||this.config.stsToken),c=(o=_e.toQueryString(i),a.AccessKeyID),l=a.AccessKeyId,u=a.SecretAccessKey,p=a.SessionToken;a=a.CurrentTime,o={method:"GET",url:"".concat(n,"?").concat(o),timeout:this.config.gatewayTimeout||3e4,region:t,params:i,pathname:_e.getPathByURL(n)},t=new ke.a(o,s),this.config.useServerCurrentTime&&6e4<Math.abs(new Date(a)-new Date)&&(this.systemTimeGap=new Date(a)-new Date),i=this.systemTimeGap?new Date((new Date).getTime()+this.systemTimeGap):new Date,t.addAuthorization({accessKeyId:l||c,secretAccessKey:u,sessionToken:p},i),r.send(o)}},{key:"resumeFromCache",value:function(e){var t=this,r=this.options.key,n=new xe,i=(n.on("complete",(function(n){var i=null;try{var o=JSON.parse(n.response);if(!(2e3===o.code&&0<o.data.partlist.length))return t.startPreUpload();var s=t.confirmCache(o.data.partlist),a=e.hasMerge?5:s.isAllFinished?4:3;i=tt(t.currFileCtx,e,{key:r,xhr:n,extra:{message:"prepare upload from cache success"},stage:"preUpload",type:"success",percent:0,cacheTask:a,proxyStsToken:t.options.stsToken,currentTask:1,status:1,isBreak:1,crc32Array:s.crc32Array,stageStartTime:t._st,stageEndTime:Date.now(),duration:Date.now()-t._st,totalDuration:Date.now()-t._st+t.currFileCtx.totalDuration})}catch(n){return t.startPreUpload()}t.successProcess(i)})),n.on("error",(function(e){400<=e.status?t.startPreUpload():t.fail({error:"request error",xhr:e})})),this.config.userId);n.send({method:"get",url:_e.urlTemplate("{tosDomain}/upload/v1/{oid}?uploadid={uploadId}&action=part_list",{tosDomain:e.tosDomain,oid:e.oid,uploadId:e.UploadID}),headers:et({Authorization:e.signature,"X-Storage-U":encodeURIComponent(i)},e.UploadHeader),timeout:3e4})}},{key:"confirmCache",value:function(e){var t=this.currFileCtx.crc32Array,r={},n=(e.forEach((function(e){void 0===r[e.num-1]&&(r[e.num-1]={tag:!0,crc32:e.crc32})})),!0);return e=t.map((function(e,t){return r[t]&&r[t].tag&&r[t].crc32?(e.crc32=r[t].crc32,e.finished=!0,e.loaded=e.end-e.start):n=!1,e})),{isAllFinished:n,crc32Array:e}}},{key:"fail",value:function(e){var t=this,r=e.xhr,n=e.errorCode||1001e3,i="prepare upload error: UNKNOWN";r&&(i=0===r.status?"prepare upload error: NETERROR":e.message||"prepare upload error: ".concat(r.status)),i=tt(this.currFileCtx,{extra:{message:i,error:e.error,errorCode:n},type:"error",stage:"preUpload",xhr:r,stageStartTime:this._st,stageEndTime:Date.now(),duration:Date.now()-this._st,totalDuration:Date.now()-this._st+this.currFileCtx.totalDuration}),this.isImageBatchUpload&&(i.successImage=[],i.failImage=null==(e=this.currFileCtx)?void 0:e.crc32Array.map((function(e,r){return{crc32:e.crc32,fileSize:null==(e=t.currFileCtx)?void 0:e.fileSize[r],fileName:null==(e=t.currFileCtx)?void 0:e.fileName[r],finishSize:0,success:!1}}))),this.uploaderCtx._removeTaskCache(this.options.key),this.failProcess(i)}}]),t}();function at(e){return(at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ct(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)),n}function lt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(r),!0).forEach((function(t){!function(e,t,r){(t=dt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ct(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ut(){return(ut=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function pt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dt(n.key),n)}}function dt(e){return e=function(e,t){if("object"!==at(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);if("object"!==at(r=r.call(e,t||"default")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"),"symbol"===at(e)?e:String(e)}function ht(e,t){return(ht=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ft(e){return(ft=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var gt=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ht(e,t)}(t,n.a);var e=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ft(e);return function(e,t){if(t&&("object"===at(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,t?(r=ft(this).constructor,Reflect.construct(n,arguments,r)):n.apply(this,arguments))}}(t);function t(r,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this)).options=r,i.config=n,i.transport=new xe,i.uploaderCtx=r.context,i.currFileCtx=r.context.tasks[r.key],i.eventInit(),i}return function(e,t,r){t&&pt(e.prototype,t),r&&pt(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"initUpload",value:function(e){e&&(e=this.currFileCtx.fallbackStoreInfo,ut(this.currFileCtx,{oid:e.StoreInfo.StoreUri,tosDomain:"".concat(this.config.schema,"://").concat(e.UploadHost),signature:e.StoreInfo.Auth,UploadHeader:e.UploadHeader,SessionKey:e.SessionKey}),this.uploaderCtx._saveTask(this.options.key)),e={oid:this.currFileCtx.oid,tosDomain:this.currFileCtx.tosDomain},e=_e.urlTemplate("{tosDomain}/upload/v1/{oid}?uploadmode=part&phase=init",e);var t=this.config.userId;this.transport.send({method:"post",url:e,headers:lt({Authorization:this.currFileCtx.signature,"X-Storage-U":encodeURIComponent(t)},this.currFileCtx.UploadHeader),timeout:this.config.initUploadTimeout||3e4})}},{key:"start",value:function(e,t,r){this.successProcess=t,this.failProcess=r,this._st=Date.now(),this.initUpload(e&&e.changeNodeRetry)}},{key:"eventInit",value:function(){var e=this;this.transport.on("complete",(function(t){var r=null;try{var n,i=JSON.parse(t.response),o=null==(n=i.data)?void 0:n.uploadid;if(2e3!==i.code||!o)return e.fail({error:"fail! response.code: ".concat(i.code,", fail message: ").concat(i.message),xhr:t});r=ut(e.currFileCtx,{UploadID:o,percent:0,type:"success",extra:{message:"init upload id success"},stage:"initUploadID",xhr:t,stageStartTime:e._st,stageEndTime:Date.now(),duration:Date.now()-e._st,totalDuration:Date.now()-e._st+e.currFileCtx.totalDuration})}catch(r){return e.fail({error:"catch error: ".concat(r.message||JSON.stringify(r)),xhr:t})}return e.successProcess(r)})),this.transport.on("error",(function(t){e.fail({error:"request fail: ".concat(t.statusText||t.errText||"UNKNOWN"),xhr:t})}))}},{key:"fail",value:function(e){var t=this.options.context,r=this.options.key;t=ut(t.tasks[r],{extra:{message:"init upload id error, ".concat(e.error),errorCode:1002e3},type:"error",stage:"initUploadID",xhr:e.xhr,stageStartTime:this._st,stageEndTime:Date.now(),duration:Date.now()-this._st,totalDuration:Date.now()-this._st+this.currFileCtx.totalDuration}),this.uploaderCtx._removeTaskCache(this.options.key),this.failProcess(t)}}]),t}();function mt(e){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yt(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)),n}function vt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yt(Object(r),!0).forEach((function(t){!function(e,t,r){(t=_t(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function bt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_t(n.key),n)}}function _t(e){return e=function(e,t){if("object"!==mt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);if("object"!==mt(r=r.call(e,t||"default")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"),"symbol"===mt(e)?e:String(e)}function wt(e,t){return(wt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function St(e){return(St=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Et=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wt(e,t)}(t,n.a);var e=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=St(e);return function(e,t){if(t&&("object"===mt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,t?(r=St(this).constructor,Reflect.construct(n,arguments,r)):n.apply(this,arguments))}}(t);function t(r){var n,i=r.sliceItem,o=r.crc32,s=r.url,a=r.signature,c=r.uploadHeader,l=r.userId,u=r.retryTime,p=r.timeout;return r=void 0===(r=r.method)?"POST":r,function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=e.call(this)).fileSlice=i,n.crc32=o,n.uploadUrl=s,n.uploadHeader=c,n.signature=a,n.userId=l,n.retryTime=u||0,n.method=r,n.retryCount=0,n.timeout=p||18e5,n.ready=!1,n.cancel=!1,n.transport=new xe,n.eventInit(),n}return function(e,t,r){t&&bt(e.prototype,t),r&&bt(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"upload",value:function(e,t){this.isParamsValid()&&(this._st=Date.now(),this.transport&&this.transport.send({method:this.method,url:this.uploadUrl,headers:vt({Authorization:this.signature,"Content-CRC32":this.crc32,"X-Storage-U":encodeURIComponent(this.userId)},this.uploadHeader),file:this.fileSlice,binary:1,timeout:this.timeout}),e)&&this.emit("retry",t)}},{key:"isParamsValid",value:function(){return this.fileSlice&&(this.fileSlice.size||this.fileSlice.byteLength)?this.crc32?!!this.uploadUrl||(this.emit("error",{message:"slice upload failed: NOURL",crc32:this.crc32,size:this.fileSlice.size||this.fileSlice.byteLength}),!1):(this.emit("error",{message:"slice upload failed: NOCRC32",crc32:this.crc32,size:this.fileSlice.size||this.fileSlice.byteLength}),!1):(this.emit("error",{message:"slice upload failed: NOCONTENT",crc32:this.crc32}),!1)}},{key:"eventInit",value:function(){var e=this;this.transport.on("complete",(function(t){try{var r=JSON.parse(t.response);2e3===r.code?e.success(t):e.fail(t,r)}catch(r){e.fail(t)}})),this.transport.on("error",(function(t){e.fail(t)})),this.transport.on("progress",(function(t){e.process(t)}))}},{key:"success",value:function(e){this.ready=!0;var t=Date.now()-this._st,r=this.fileSlice.size||this.fileSlice.byteLength;this.emit("complete",{crc32:this.crc32,size:r,speed:r/t,xhr:e,sliceStartTime:this._st,sliceEndTime:Date.now(),sliceDuration:Date.now()-this._st})}},{key:"fail",value:function(e){var t,r,n=this;this.cancel||(t={crc32:this.crc32,size:this.fileSlice.size||this.fileSlice.byteLength,xhr:e,sliceStartTime:this._st,sliceEndTime:Date.now(),sliceDuration:Date.now()-this._st},e&&401===e.status?this.emit("error",vt({message:"slice upload failed: UNAUTHORIZED"},t)):(r="slice upload failed: UNKNOWN",e&&(r=e.status?"slice upload failed: ".concat(e.status):"slice upload failed: NETERROR"),this.retryCount<this.retryTime?(setTimeout((function(){n.upload(!0,vt({message:r},t))}),1e3),this.retryCount++):this.emit("error",vt({message:r},t))))}},{key:"process",value:function(e){this.cancel||this.emit("progress",{crc32:this.crc32,loaded:e.loaded||0,total:e.total||0})}},{key:"abort",value:function(){this.transport&&(this.cancel=!0,this.transport.abort())}},{key:"destroy",value:function(){this.transport=null}}]),t}(),Ot=(te=r(2),r.n(te));function xt(e){return(xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kt(){return(kt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){return e=function(e,t){if("object"!==xt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);if("object"!==xt(r=r.call(e,t||"default")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"),"symbol"===xt(e)?e:String(e)}(n.key),n)}}function jt(e,t){return(jt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Pt(e){return(Pt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var It=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jt(e,t)}(t,n.a);var e=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Pt(e);return function(e,t){if(t&&("object"===xt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,t?(r=Pt(this).constructor,Reflect.construct(n,arguments,r)):n.apply(this,arguments))}}(t);function t(r){var n,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=e.call(this)).file=r.file,n.context=r.context,n.key=r.key,n.config=i,n.finishArr=[],n.errorLength=0,n.finishSize=0,n.retryUploadTime=Number(i.retryUploadTime)||2,n.progressMonitorTime=Number(i.progressMonitorTime)||10,n.progressMonitorSpeed=Number(i.progressMonitorSpeed)||50,n.uploadSliceCount=Number(i.uploadSliceCount)||3,n.realtimeSpeedInterval=Number(i.realtimeSpeedInterval)||5,n.processRetry=0,n.lastFinishSize=-1,n.lastProcessPercent=-1,n.lastIntervalSize=-1,n.lastCalculateSpeedTime=-1,n.lastCalculateSpeedSize=0,n.uploadHandlers={},n}return function(e,t,r){t&&Tt(e.prototype,t),r&&Tt(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"start",value:function(e,t,r){this.failProcess=r,this.successProcess=t,this.errorLength=0,this.currentCtx=this.context.tasks[this.key],this.crc32Array=this.context.tasks[this.key].crc32Array,this.uploadSliceCount=this.uploadSliceCount>this.crc32Array.length?this.crc32Array.length:this.uploadSliceCount,this.lastIndex=0,this.uploading=[],this._uploadSize=this.crc32Array.reduce((function(e,t){return e+(t.finished?0:t.end-t.start)}),0),this._st=Date.now(),this._lastSaveTime=Date.now(),this.lastCalculateSpeedTime=this._st,this.initWorker(),this.setProgressMonitor(),this.threadUpload()}},{key:"initWorker",value:function(){var e,t=this;this.worker||(e=this.crc32Array,this.worker=new Ot.a,this.worker.onmessage=function(r){r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,s,a=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(l)throw i}}return a}}(e,t)||function(e,t){var r;if(e)return"string"==typeof e?Ct(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ct(e,t):void 0}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r.data,4);var n=r[0],i=r[1],o=r[2],s=(r=r[3],(new Date).getTime()),a=e[o];a.crc32=i,a.crc32StartTime=r,a.crc32EndTime=s,a.crc32Duration=s-r,t.upload(a,n,o)})}},{key:"read",value:function(e,t){var r=this,n=this.file,i=n.slice||n.webkitSlice||n.mozSlice,o=new FileReader;o.onload=function(e){var n=(new Date).getTime();r.worker.postMessage([e.target.result,t,n,!!r.config.clientEncrypt,r.currentCtx.clientEncryptKey,r.crc32Array.length-1===t],[e.target.result])},o.onerror=function(){r.stop(),r.fail({extra:{message:"An error occurred reading the file",errorCode:1003003}})},o.readAsArrayBuffer(i.call(n,e.start,e.end))}},{key:"threadUpload",value:function(){if(this.uploading.length<this.uploadSliceCount){var e=this.lastIndex,t=this.crc32Array[e];if(t){if(t.finished){if(-1===this.finishArr.indexOf(t.start)&&(this.finishArr.push(t.start),this.finishArr.length>=this.crc32Array.length))return this.stop(),void this.success()}else t.loaded=0,this.uploading.push(e),this.read(t,e);this.lastIndex++,this.threadUpload()}}}},{key:"stop",value:function(){var e=this;Object.keys(this.uploadHandlers).forEach((function(t){e.uploadHandlers[t].abort(),e.uploadHandlers[t].destroy()})),this.uploadHandlers={},this.worker&&this.worker.terminate(),this.worker=null,this.clearMonitor()}},{key:"setProgressMonitor",value:function(){var e=this;this.progressMonitorInterval=setInterval((function(){var t,r=e.finishSize;r-e.lastIntervalSize<e.progressMonitorTime*e.progressMonitorSpeed*1024?(t=kt(e.currentCtx,{stage:"process",type:"warn",extra:{message:"percent are not updated in ".concat(e.progressMonitorTime," seconds")}}),e.context.logger.send(t),e.context._broadcast("slowProgress",t),e.clearMonitor()):e.lastIntervalSize=r}),1e3*this.progressMonitorTime)}},{key:"clearMonitor",value:function(){this.progressMonitorInterval&&clearInterval(this.progressMonitorInterval)}},{key:"upload",value:function(e,t,r){var n=this,o=e.crc32,s=(this.context._saveTask(this.key,{crc32Array:this.crc32Array}),{part_number:r+1,uploadId:this.currentCtx.UploadID,oid:this.currentCtx.oid,tosDomain:this.currentCtx.tosDomain}),a=(s=_e.urlTemplate(i,s),this.config.userId),c=this.config.uploadTimeout;(this.config.clientEncrypt||(t=_e.fileSlice(this.file,e.start,e.end)),t=new Et({sliceItem:t,crc32:o,url:s,signature:this.currentCtx.signature,uploadHeader:this.currentCtx.UploadHeader,userId:a,method:"POST",retryTime:this.retryUploadTime,timeout:c})).on("complete",(function(t){1===n.currentCtx.status&&(t.start=e.start,t.crc32StartTime=e.crc32StartTime,t.crc32EndTime=e.crc32EndTime,t.crc32Duration=e.crc32Duration,t.index=r,n.fileSliceSuccess(t))})),t.on("error",(function(t){1===n.currentCtx.status&&(t.start=e.start,t.crc32StartTime=e.crc32StartTime,t.crc32EndTime=e.crc32EndTime,t.crc32Duration=e.crc32Duration,t.index=r,n.fail(t))})),t.on("progress",(function(t){1===n.currentCtx.status&&(t.start=e.start,t.index=r,n.process(t))})),t.on("retry",(function(t){1===n.currentCtx.status&&(t.start=e.start,t.index=r,n.retry(t))})),t.upload(),this.uploadHandlers[r]=t}},{key:"success",value:function(e){this.finishArr=[];var t=Date.now()-this._st;t=this._uploadSize/t,t=kt(this.currentCtx,{type:"success",stage:"process",percent:100,extra:{message:"upload all success"},speed:t,xhr:e,stageStartTime:this._st,stageEndTime:Date.now(),duration:Date.now()-this._st,totalDuration:Date.now()-this._lastSaveTime+this.currentCtx.totalDuration,isAllFinish:!0}),this.worker&&this.worker.terminate(),this.successProcess(t)}},{key:"fail",value:function(e){var t=this.errorFormat(e);t.type="error",void 0!==e.statusCode&&kt(this.currentCtx,{statusCode:e.statusCode}),this.errorLength||(this.context.logger.send(kt({},t)),this.stop(),this.context._broadcast("error",t),this.currentCtx.isBreak?this.context._cancel(this.key):this.context._pause(this.key),this.errorLength++)}},{key:"retry",value:function(e){e=this.errorFormat(e),this.context.logger.send(kt({},e,{type:"retry"}))}},{key:"fileSliceSuccess",value:function(e){var t,r=e.index,n=Date.now(),i=(-1===this.finishArr.indexOf(e.start)&&this.finishArr.push(e.start),this.crc32Array[r].finished=!0,this.crc32Array[r].speed=e.speed,{message:"slice upload success"});e.xhr&&(t=e.xhr,i.currentUrl=t.currentUrl||"",kt(this.currentCtx,{req:{url:t.currentUrl,param:t.params},res:{status:t.status,body:t.responseText,header:t.getAllResponseHeaders()}}),delete e.xhr),this.context.logger.send(kt(this.currentCtx,{stage:"process",type:"success",sliceIndex:r,extra:i,totalDuration:n-this._lastSaveTime+this.currentCtx.totalDuration,sliceStartTime:e.sliceStartTime,sliceEndTime:e.sliceEndTime,sliceDuration:e.sliceDuration,crc32StartTime:e.crc32StartTime,crc32EndTime:e.crc32EndTime,crc32Duration:e.crc32Duration})),this._lastSaveTime=n,this.context._saveTask(this.key),this.uploading.splice(this.uploading.indexOf(r),1),this.uploadHandlers[r]&&delete this.uploadHandlers[r],this.finishArr.length>=this.crc32Array.length?(this.stop(),this.success(e.xhr)):this.threadUpload()}},{key:"getFinishSize",value:function(e,t){var r=t.crc32,n=0;return e.forEach((function(e){e.crc32===r?(e.loaded=t.loaded,n+=t.loaded):(e.loaded||(e.loaded=0),n+=e.loaded)})),n}},{key:"process",value:function(e){var t=this.currentCtx.realtimeSpeed||0,r=this.currentCtx.fileSize,n=(this.finishSize=this.getFinishSize(this.crc32Array,e),this.finishSize>this.lastFinishSize&&((e=new Date).getTime()-this.lastCalculateSpeedTime>1e3*this.realtimeSpeedInterval&&(i=e.getTime()-this.lastCalculateSpeedTime,n=this.finishSize-this.lastCalculateSpeedSize,t=Math.floor(n/i),this.lastCalculateSpeedTime=e.getTime(),this.lastCalculateSpeedSize=this.finishSize),this.lastFinishSize=this.finishSize),Math.floor(this.finishSize/r*100*100)/100||0),i=kt(this.currentCtx,{stage:"process",percent:n,realtimeSpeed:t});n>this.lastProcessPercent&&100!==n&&(this.lastProcessPercent=n,this.context._broadcast("progress",i))}},{key:"errorFormat",value:function(e){var t=this.currentCtx.totalDuration,r=Date.now()-this._st,n=e.index,i=((i=e.crc32?{message:e.message,data:e.crc32,size:e.size}:e.extra).errorCode=i.errorCode||Ze,kt(this.currentCtx,{extra:i,sliceIndex:n,stage:"process",req:{},res:{},totalDuration:r+t,sliceStartTime:e.sliceStartTime,sliceEndTime:e.sliceEndTime,sliceDuration:e.sliceDuration,crc32StartTime:e.crc32StartTime,crc32EndTime:e.crc32EndTime,crc32Duration:e.crc32Duration}));return e.xhr&&(n=e.xhr,i.req={url:e.xhr.currentUrl},i.res={status:n.status,body:n.responseText,header:n.getAllResponseHeaders()},delete e.xhr),i}}]),t}();function At(e){return(At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dt(){return(Dt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Rt(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)),n}function Mt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ft(n.key),n)}}function Ft(e){return e=function(e,t){if("object"!==At(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);if("object"!==At(r=r.call(e,t||"default")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"),"symbol"===At(e)?e:String(e)}function Nt(e,t){return(Nt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function zt(e){return(zt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ut=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nt(e,t)}(t,n.a);var e=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=zt(e);return function(e,t){if(t&&("object"===At(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,t?(r=zt(this).constructor,Reflect.construct(n,arguments,r)):n.apply(this,arguments))}}(t);function t(r,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this)).options=r,i.config=n,i.transport=new xe,i.eventInit(),i.errorCount=0,i.uploaderCtx=r.context,i.currFileCtx=r.context.tasks[r.key],i}return function(e,t,r){t&&Mt(e.prototype,t),r&&Mt(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"mergeFile",value:function(){for(var e={oid:this.currFileCtx.oid,uploadId:this.currFileCtx.UploadID,tosDomain:this.currFileCtx.tosDomain},t=this.currFileCtx.crc32Array,r="",n=0;n<t.length;n++)r=(r?"".concat(r,","):"").concat(n+1,":").concat(t[n].crc32);e=_e.urlTemplate("{tosDomain}/upload/v1/{oid}?uploadmode=part&phase=finish&uploadid={uploadId}",e);var i=this.config.userId;i=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(r),!0).forEach((function(t){!function(e,t,r){(t=Ft(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({Authorization:this.currFileCtx.signature,"X-Storage-U":encodeURIComponent(i)},this.currFileCtx.UploadHeader),this.config.clientEncrypt&&(i["x-upload-encryption-mode"]=2,i["x-upload-encryption-key"]=btoa(this.currFileCtx.clientEncryptKey)),this.transport.send({method:"post",url:e,headers:i,custom:r})}},{key:"start",value:function(e,t,r){this.successProcess=t,this.failProcess=r,this._st=Date.now(),this.mergeFile()}},{key:"eventInit",value:function(){var e=this,t=this.options.stage;this.transport.on("complete",(function(r){var n=null;try{var i,o=JSON.parse(r.response);if(2e3!==o.code||null==(i=o.data)||!i.key)return e.fail({error:"fail! response.code: ".concat(o.code,", fail message: ").concat(o.message),xhr:r});n=Dt(e.currFileCtx,{stage:t,type:"success",hasMerge:!0,extra:{message:"merge file success"},xhr:r,stageStartTime:e._st,stageEndTime:Date.now(),duration:Date.now()-e._st,totalDuration:Date.now()-e._st+e.currFileCtx.totalDuration})}catch(n){return e.fail({error:"response parse error: ".concat(n.message||JSON.stringify(n)),xhr:r})}return e.successProcess(n)})),this.transport.on("error",(function(t){e.fail({error:"request fail: ".concat(t.statusText||t.errText),xhr:t})}))}},{key:"getProcessIndex",value:function(e){var t=0;return e.forEach((function(e,r){"process"===e.stage&&(t=r)})),t}},{key:"fail",value:function(e){e=Dt(this.currFileCtx,{extra:{message:"merge file error, ".concat(e.error),errorCode:1004e3},type:"error",stage:this.options.stage,xhr:e.xhr,stageStartTime:this._st,stageEndTime:Date.now(),duration:Date.now()-this._st,totalDuration:Date.now()-this._st+this.currFileCtx.totalDuration}),this.failProcess(e)}}]),t}();function Bt(e){return(Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lt(){return(Lt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function $t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){return e=function(e,t){if("object"!==Bt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);if("object"!==Bt(r=r.call(e,t||"default")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"),"symbol"===Bt(e)?e:String(e)}(n.key),n)}}function Zt(e,t){return(Zt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Gt(e){return(Gt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ht=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zt(e,t)}(t,n.a);var e=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Gt(e);return function(e,t){if(t&&("object"===Bt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,t?(r=Gt(this).constructor,Reflect.construct(n,arguments,r)):n.apply(this,arguments))}}(t);function t(r){var n,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=e.call(this)).options=r,n.file=r.file,n.context=r.context,n.key=r.key,n.isImageBatchUpload=r.isImageBatchUpload,n.config=i,n.finishArr=[],n.errorLength=0,n.finishSize=0,n.retryUploadTime=n.config.retryUploadTime||0,n.processRetry=0,n.lastFinishSize=-1,n.lastProcessPercent=-1,n.lastIntervalSize=-1,n.uploader={},n._uploadProcessMap={},n}return function(e,t,r){t&&$t(e.prototype,t),r&&$t(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"start",value:function(e,t,r){this.failProcess=r,this.successProcess=t,this.currentCtx=this.context.tasks[this.key],this.crc32Array=this.context.tasks[this.key].crc32Array,this._uploadSize=this.isImageBatchUpload?this.currentCtx.fileSize.reduce((function(e,t){return e+t})):this.file.size,this._st=Date.now(),this.upload()}},{key:"stop",value:function(){var e=this;this.uploader&&Object.keys(this.uploader).forEach((function(t){e.uploader[t]&&(e.uploader[t].abort(),e.uploader[t].destroy())}))}},{key:"upload",value:function(){for(var e=this,t=this.crc32Array.length,r=0,n=0,i=0;i<t;i++){var s=(a=this.crc32Array[i]).buffer,a=a.crc32,c=this.currentCtx.signature,l=(c="[object Array]"===Object.prototype.toString.call(c)?c[i]:c,this.currentCtx.oid),u={oid:l="[object Array]"===Object.prototype.toString.call(l)?l[i]:l,tosDomain:this.currentCtx.tosDomain},p=(u=_e.urlTemplate(o,u),this.config.userId),d=this.config.uploadTimeout,h=void 0,f=this.isImageBatchUpload?(h=this.currentCtx.fileSize[i],this.currentCtx.fileName[i]):(h=this.file.size,this.file.name);this._uploadProcessMap[a]&&this._uploadProcessMap[a].success?r+=1:(this._uploadProcessMap[a]={crc32:a,fileSize:h,fileName:f,oid:l,finishSize:0,success:!1},(h=new Et({sliceItem:s,crc32:a,url:u,signature:c,uploadHeader:this.currentCtx.UploadHeader,userId:p,retryTime:this.retryUploadTime,method:"POST",timeout:d})).on("complete",(function(i){r++,e._uploadProcessMap[i.crc32].finishSize=i.size,e._uploadProcessMap[i.crc32].success=!0,n+r===t&&e.success(i.xhr)})),h.on("error",(function(r){++n===t&&e.fail(r)})),h.on("progress",(function(t){e.process(t)})),h.upload(),this.uploader[a]=h)}}},{key:"success",value:function(e){this.finishArr=[];var t=Date.now()-this._st,r=(t=this._uploadSize/t,Lt(this.currentCtx,{type:"success",stage:"process",percent:100,extra:{message:"direct upload success"},speed:t,xhr:e,stageStartTime:this._st,stageEndTime:Date.now(),duration:Date.now()-this._st,totalDuration:Date.now()-this._st+this.currentCtx.totalDuration}));this.isImageBatchUpload&&(r.successImage=[],r.failImage=[],Object.values(this._uploadProcessMap).forEach((function(e){(e.success?r.successImage:r.failImage).push(e)}))),this.uploader=null,this._uploadProcessMap=null,this.successProcess(r)}},{key:"fail",value:function(e){e=Lt(this.currentCtx,{extra:{message:"direct upload error: ".concat(e.message||e.xhr.errText),errorCode:Ze},type:"error",stage:"process",xhr:e.xhr,stageStartTime:this._st,stageEndTime:Date.now(),duration:Date.now()-this._st,totalDuration:Date.now()-this._st+this.currentCtx.totalDuration}),this.isImageBatchUpload&&(e.failImage=Object.values(this._uploadProcessMap)),this.uploader=null,this._uploadProcessMap=null,this.failProcess(e)}},{key:"process",value:function(e){var t=this._uploadSize;this._uploadProcessMap[e.crc32].finishSize=Math.max(this._uploadProcessMap[e.crc32].finishSize,e.loaded),this.finishSize=Object.values(this._uploadProcessMap).reduce((function(e,t){return e+t.finishSize}),0),this.finishSize>this.lastFinishSize&&(this.lastFinishSize=this.finishSize),e=Math.floor(this.finishSize/t*100*100)/100||0,t=Lt(this.currentCtx,{stage:"process",percent:e}),e>this.lastProcessPercent&&100!==e&&(this.lastProcessPercent=e,this.context._broadcast("progress",t))}}]),t}();function Vt(e){return(Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kt(){return(Kt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Wt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){return e=function(e,t){if("object"!==Vt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);if("object"!==Vt(r=r.call(e,t||"default")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"),"symbol"===Vt(e)?e:String(e)}(n.key),n)}}function qt(e,t){return(qt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Xt(e){return(Xt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Jt=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qt(e,t)}(t,n.a);var e=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Xt(e);return function(e,t){if(t&&("object"===Vt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,t?(r=Xt(this).constructor,Reflect.construct(n,arguments,r)):n.apply(this,arguments))}}(t);function t(r){var n,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=e.call(this)).options=r,n.file=r.file,n.context=r.context,n.key=r.key,n.config=i,n.errorLength=0,n.retryUploadTime=Number(i.retryUploadTime)||2,n.maxUploadSliceCount=Number(i.uploadSliceCount)||5,n.uploadQueue=[],n.crc32Array=[],n.uploadSliceCount=0,n.isCalcCrc32=!1,n.isFileReading=!1,n.hasStarted=!1,n.hasCompleteUpload=!1,n}return function(e,t,r){t&&Wt(e.prototype,t),r&&Wt(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"start",value:function(e,t,r){this.failProcess=r,this.successProcess=t,this.currentCtx=this.context.tasks[this.key],this.hasStarted=!0,this._st=Date.now(),this.initWorker()}},{key:"initWorker",value:function(){var e=this;this.worker||(this.worker=new Ot.a,this.worker.onmessage=function(t){e.isCalcCrc32=!1;var r=t.data[0],n=t.data[2],i=t.data[1];e.uploadQueue.forEach((function(t,o){t.index===n&&(e.uploadQueue[o].crc32=i,e.uploadQueue[o].fileSliceBuffer=r,e.crc32Array[n]={crc32:i})})),e.startUploadQueue()},this.startUploadQueue())}},{key:"addStreamSlice",value:function(e){var t=this,r=e.fileSlice,n=e.index;(this.isFileReading=!0,e=new FileReader).readAsArrayBuffer(r),e.onload=function(e){t.isFileReading=!1,e=e.target.result,t.uploadQueue.push({fileSliceBuffer:e,index:n}),t.hasStarted&&t.startUploadQueue()}}},{key:"completeStreamUpload",value:function(){this.hasCompleteUpload=!0,0!==this.uploadQueue.length||this.isFileReading||this.success()}},{key:"startUploadQueue",value:function(){var e;this.uploadSliceCount<=this.maxUploadSliceCount&&0<this.uploadQueue.length&&this.uploadQueue[0].crc32?(e=this.uploadQueue.shift(),this.uploadSliceCount++,this.upload({sliceItem:e.fileSliceBuffer,index:e.index,crc32:e.crc32})):0<this.uploadQueue.length&&!this.uploadQueue[0].crc32&&this.startCrc32Queue()}},{key:"startCrc32Queue",value:function(){if(!this.isCalcCrc32)for(var e=0;e<this.uploadQueue.length;e++){var t=this.uploadQueue[e];if(!t.crc32){this.isCalcCrc32=!0,this.worker.postMessage([t.fileSliceBuffer,t.index],[t.fileSliceBuffer]);break}}}},{key:"upload",value:function(e){var t=this,r=e.sliceItem,n=e.index,o=(e=e.crc32,this.currentCtx.signature),s={part_number:n+1,uploadId:this.currentCtx.UploadID,oid:this.currentCtx.oid,tosDomain:this.currentCtx.tosDomain},a=(s=_e.urlTemplate(i,s),this.config.userId);(r=new Et({sliceItem:r,crc32:e,url:s,signature:o,uploadHeader:this.currentCtx.UploadHeader,userId:a,retryTime:this.retryUploadTime,method:"POST",timeout:this.config.uploadTimeout})).on("complete",(function(e){1===t.currentCtx.status&&(e.index=n,t.fileSliceSuccess(e))})),r.on("error",(function(e){1===t.currentCtx.status&&(e.index=n,t.fail(e))})),r.upload()}},{key:"fileSliceSuccess",value:function(e){var t=e.index,r=Date.now(),n={message:"stream slice upload success"},i=(e.xhr&&(i=e.xhr,n.currentUrl=i.currentUrl||"",Kt(this.currentCtx,{req:{url:i.currentUrl,param:i.params},res:{status:i.status,body:i.responseText,header:i.getAllResponseHeaders()}}),delete e.xhr),this.context.logger.send(Kt(this.currentCtx,{stage:"process",type:"success",sliceIndex:t,extra:n,totalDuration:r-this._lastSaveTime+this.currentCtx.totalDuration})),Kt(this.currentCtx,{uploadQueueLength:this.uploadQueue.length,sliceIndex:t}));this.context._broadcast("stream-progress",i),this.uploadSliceCount--,this.hasCompleteUpload&&0===this.uploadQueue.length?this.success(e.xhr):this.startUploadQueue()}},{key:"success",value:function(e){this.isAllSuccess||(e=Kt(this.currentCtx,{type:"success",stage:"process",percent:100,extra:{message:"all slice upload success"},crc32Array:this.crc32Array,xhr:e,stageStartTime:this._st,stageEndTime:Date.now(),duration:Date.now()-this._st,totalDuration:Date.now()-this._st+this.currentCtx.totalDuration}),this.successProcess(e))}},{key:"fail",value:function(e){var t=e.index;e=Kt(this.currentCtx,{extra:{message:"stream slice upload error"},type:"error",stage:"process",xhr:e.xhr,stageStartTime:this._st,stageEndTime:Date.now(),duration:Date.now()-this._st,totalDuration:Date.now()-this._st+this.currentCtx.totalDuration,sliceIndex:t}),this.context.logger.send(Kt({},e)),this.context._broadcast("error",e)}}]),t}();function Yt(e){return(Yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qt(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)),n}function er(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qt(Object(r),!0).forEach((function(t){!function(e,t,r){(t=nr(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function tr(){return(tr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function rr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nr(n.key),n)}}function nr(e){return e=function(e,t){if("object"!==Yt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);if("object"!==Yt(r=r.call(e,t||"default")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"),"symbol"===Yt(e)?e:String(e)}function ir(e,t){return(ir=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function or(e){return(or=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var sr=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ir(e,t)}(t,n.a);var e=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=or(e);return function(e,t){if(t&&("object"===Yt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,t?(r=or(this).constructor,Reflect.construct(n,arguments,r)):n.apply(this,arguments))}}(t);function t(r,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this)).options=r,i.config=n,i.uploaderCtx=r.context,i.currFileCtx=r.context.tasks[r.key],i.isImageBatchUpload=!!i.options.isImageBatchUpload,i.skipCommit=r.skipCommit,i.transport=new xe,i.eventInit(),i}return function(e,t,r){t&&rr(e.prototype,t),r&&rr(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"commitUpload",value:function(){var e,t,r=this.options.key,n=(r=this.options.context.tasks[r],this.config.region),i="",o={},s=this.uploaderCtx.useBackupDomain,a=Je(this.options.type,this.config,this.options.serviceType),c=(a===de&&(i=s?this.config.imageFallbackHost:this.config.imageHost,o={Action:"CommitImageUpload",Version:"2018-08-01"},t={SessionKey:r.SessionKey},this.options.type===ce&&(this.config.imageConfig&&this.config.imageConfig.serviceId?o.ServiceId=this.config.imageConfig.serviceId:o.SpaceName=this.config.videoConfig&&this.config.videoConfig.spaceName,e=this.config.imageConfig&&this.config.imageConfig.processAction,Array.isArray(e)&&0<e.length&&(t.Functions=e),this.config.skipMeta)&&(o.SkipMeta=!0),this.options.type===le&&(o.ServiceId=this.config.objectConfig&&this.config.objectConfig.serviceId||this.config.imageConfig&&this.config.imageConfig.serviceId),e=JSON.stringify(t)),a===pe&&(c=this.config.videoConfig&&this.config.videoConfig.spaceName,this.options.type===le&&this.config.objectConfig&&this.config.objectConfig.spaceName&&(c=this.config.objectConfig.spaceName),i=s?this.config.videoFallbackHost:this.config.videoHost,o={Action:"CommitUploadInner",Version:"2020-11-19",SpaceName:c},t={SessionKey:r.SessionKey,Functions:[]},s=this.config.videoConfig&&this.config.videoConfig.processAction,this.options.type===le&&this.config.objectConfig&&this.config.objectConfig.processAction&&(s=this.config.objectConfig.processAction),Array.isArray(s)&&0<s.length&&(t.Functions=s),(this.config.videoConfig&&this.config.videoConfig.callbackArgs||this.options.callbackArgs)&&(t.CallbackArgs=this.options.callbackArgs||this.config.videoConfig.callbackArgs),this.options.type===ae&&this.config.skipDownload&&(o.SkipDownload=!0),this.options.type===le&&this.options.objectSync&&(t.ObjectSync=this.options.objectSync),this.options.type===ae&&this.options.needExactFormat&&(t.needExactFormat=this.options.needExactFormat),e=JSON.stringify(t)),this.config.accountId&&(o["X-Account-Id"]=this.config.accountId),this.config.openExperiment&&(o.app_id=this.config.appId,o.user_id=this.config.userId),_e.toQueryString(o)),l=(s=this.currFileCtx.proxyStsToken||this.config.stsToken).AccessKeyID,u=s.AccessKeyId,p=s.SecretAccessKey;s=s.SessionToken,(c={method:"POST",url:"".concat(i,"?").concat(c),timeout:this.config.gatewayTimeout||3e4,region:n,params:o,headers:{},pathname:_e.getPathByURL(i)}).custom=e,c.body=t,a===de&&(c.headers["Content-Type"]="application/json"),n=new ke.a(c,a),i=(o=r.systemTimeGap)?new Date((new Date).getTime()+o):new Date,n.addAuthorization({accessKeyId:u||l,secretAccessKey:p,sessionToken:s},i),this.transport.send(c)}},{key:"start",value:function(e,t,r){if(this.successProcess=t,this.failProcess=r,this._st=Date.now(),this.skipCommit)return this.successProcess(tr(this.currFileCtx,{stage:"complete",type:"success",percent:100,extra:{message:"upload successful, skip commit"},stageStartTime:this._st,stageEndTime:Date.now(),duration:Date.now()-this._st,totalDuration:Date.now()-this._st+this.currFileCtx.totalDuration,skipCommit:this.skipCommit}));try{this.commitUpload()}catch(e){this.fail({error:"catch error: ".concat(e.toString())})}}},{key:"eventInit",value:function(){var e=this;this.transport.on("complete",(function(t){var r=null;try{var n=JSON.parse(t.response);if(n.ResponseMetadata.Error)return e.fail({xhr:t,errorCode:n.ResponseMetadata.Error.CodeN,error:n.ResponseMetadata.Error.Code,message:n.ResponseMetadata.Error.Message});var i,o,s=Je(e.options.type,e.config,e.options.serviceType),a=n.Result,c={};s===de?e.isImageBatchUpload?(i=a.Results,o=a.PluginResult||[],i.forEach((function(e,t){i[t]=er(er({},i[t]),o[t])})),c=i):tr(c=a.Results[0],a.PluginResult&&a.PluginResult[0]):c=a.Results[0],r=tr(e.currFileCtx,{stage:"complete",type:"success",percent:100,extra:{message:"upload successful"},uploadResult:c,xhr:t,stageStartTime:e._st,stageEndTime:Date.now(),duration:Date.now()-e._st,totalDuration:Date.now()-e._st+e.currFileCtx.totalDuration,skipCommit:e.skipCommit})}catch(r){return e.fail({error:"catch error: ".concat(r.message||r.toString()),xhr:t})}return e.successProcess(r)})),this.transport.on("error",(function(t){var r={error:"request fail: ".concat(t.statusText||t.errText||"UNKNOWN"),xhr:t};t.response&&(t=JSON.parse(t.response)).ResponseMetadata&&t.ResponseMetadata.Error&&(r.errorCode=t.ResponseMetadata.Error.CodeN,r.error=t.ResponseMetadata.Error.Code,r.message=t.ResponseMetadata.Error.Message),e.fail(r)}))}},{key:"fail",value:function(e){var t=this.options.context,r=this.options.key,n=e.xhr,i=e.errorCode||1005e3,o="commit upload error: UNKNOWN";n&&(o=0===n.status?"commit upload error: NETERROR":e.message||"commit upload error: ".concat(n.status)),t=tr(t.tasks[r],{extra:{message:o,error:e.error,errorCode:i},type:"error",stage:"complete",xhr:n,stageStartTime:this._st,stageEndTime:Date.now(),duration:Date.now()-this._st,totalDuration:Date.now()-this._st+this.currFileCtx.totalDuration,skipCommit:this.skipCommit}),this.failProcess(t)}}]),t}();function ar(e){return(ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cr(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)),n}function lr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cr(Object(r),!0).forEach((function(t){!function(e,t,r){(t=dr(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ur(){return(ur=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function pr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dr(n.key),n)}}function dr(e){return e=function(e,t){if("object"!==ar(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);if("object"!==ar(r=r.call(e,t||"default")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"),"symbol"===ar(e)?e:String(e)}function hr(e,t){return(hr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function fr(e){return(fr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var gr=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hr(e,t)}(t,n.a);var e=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=fr(e);return function(e,t){if(t&&("object"===ar(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,t?(r=fr(this).constructor,Reflect.construct(n,arguments,r)):n.apply(this,arguments))}}(t);function t(r){var n,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},o=2<arguments.length?arguments[2]:void 0,s=3<arguments.length?arguments[3]:void 0;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=e.call(this,r)).tasks=r,n.config=i,n.key=s,n.uploaderCtx=o,n.current=0,n.length=n.tasks.length,n.taskError={},n.uploadList=[],n.retryTaskTime=i.retryTaskTime||2,n}return function(e,t,r){t&&pr(e.prototype,t),r&&pr(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"start",value:function(e){var t=this.tasks.shift();t&&(this.current=t.index,this.execTask(t,e))}},{key:"execTask",value:function(e,t){var r,n,i=this,o=e.key,s=this.uploaderCtx,a=s.tasks[o];a&&(r=a.cacheTask,n=s.taskList[o].length,r&&0<e.index&&e.index<r?this.start():(a.currentTask=e.index,1===a.status&&(1!==e.index&&"initUploadID"!==e.stage||(e.arg=ur(e.arg,t)),e)&&e.func.call(e.context,e.arg,(function(r){var c;s.taskList[o]&&((c=s.taskList[o][e.index+1])&&0!==e.index&&!a.isDirect?s._saveTask(o,{currentTask:c.index,stage:c.stage}):e.index===n-1&&s._removeTaskCache(o),i.success(r),0<i.tasks.length?i.start(t):s._queueSuccess(o))}),(function(r){var n;r.xhr&&400<=r.xhr.status||3===e.index&&r.isDirect?i.fail(r):!i.taskError[o]||i.taskError[o]<i.retryTaskTime?(i.taskError[o]?i.taskError[o]++:i.taskError[o]=1,n=i.errorFormat(r,!0),i.uploaderCtx.logger.send(n),"initUploadID"===e.stage?i.execTask(e,lr(lr({},t),{},{changeNodeRetry:!0})):i.execTask(e,t)):(r.key=o,i.fail(r))}))))}},{key:"addTask",value:function(e){this.tasks.push(e)}},{key:"success",value:function(e){var t;e.xhr&&(t=e.xhr,e.req={url:t.currentUrl,param:t.params},e.res={status:t.status,header:t.getAllResponseHeaders(),body:t.responseText},delete e.xhr),ur(e,{type:"success"});try{this.uploaderCtx._broadcast(e.stage,e)}catch(e){console.error(e)}this.uploaderCtx.logger.send(e)}},{key:"fail",value:function(e){var t=this.uploaderCtx,r=e.key;e=this.errorFormat(e);try{t._broadcast("error",e)}catch(e){}t.tasks[r].isBreak?t._cancel(r):t._pause(r),t.logger.send(e)}},{key:"cancel",value:function(e){var t,r=this.key,n=this.uploaderCtx.tasks[r].currentTask;this.uploaderCtx.taskList[r].forEach((function(e){n===e.index&&(t=e)})),e?3===n&&this.uploaderCtx.tasks[r].isDirect&&t&&null!=(e=t)&&null!=(e=e.context)&&e.stop():(this.tasks=[],t&&3===t.index&&t.context.stop(),this.uploaderCtx._removeTaskCache(r))}},{key:"restart",value:function(){this.uploadList.forEach((function(e){e.cancel=!1})),this.start()}},{key:"errorFormat",value:function(e,t){var r;return t={type:t?"retry":"error"},e.xhr&&(r=e.xhr,e.req={url:r.currentUrl,param:r.params},e.res={status:r.status,header:r.getAllResponseHeaders(),body:r.responseText},e.extra&&(e.extra.req=e.req,e.extra.res=e.res),delete e.xhr),ur(e,t)}}]),t}();function mr(e){return(mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yr(){return(yr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function vr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){return e=function(e,t){if("object"!==mr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);if("object"!==mr(r=r.call(e,t||"default")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"),"symbol"===mr(e)?e:String(e)}(n.key),n)}}function br(e,t){return(br=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wr(e){return(wr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Sr=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&br(e,t)}(t,n.a);var e=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=wr(e);return function(e,t){if(t&&("object"===mr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _r(e)}(this,t?(r=wr(this).constructor,Reflect.construct(n,arguments,r)):n.apply(this,arguments))}}(t);function t(r){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=e.call(this,r)).config=yr({},s),n._mergeOptions(n.config,r),n.tasks={},n.taskList={},n.cache={},n.storage=_e.storage(_r(n)),n.logger=n.config.noLog?{send:function(){}}:new me(n.config,_r(n)),n}return function(e,t,r){t&&vr(e.prototype,t),r&&vr(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"_mergeOptions",value:function(e,t){t&&"object"===mr(t)&&(yr(e,t),Object.keys(t).forEach((function(r){"vodDomain"===r&&(e.replace[r]=t[r])})))}},{key:"_setCache",value:function(e,t){this.storage.setItem(e,t)}},{key:"_getCache",value:function(e){return this.storage.getItem(e)}},{key:"_removeCache",value:function(e){e?this.storage.removeItem(e):this.storage.clear()}},{key:"_addTask",value:function(e,t){var r=this.tasks,n=this.taskList;r[e]&&r[e].task?n[e].push(t):(n[e]=[],n[e].push(t),r[e]=r[e]||{},r[e].task=new gr([],this.config,this,e)),r[e].task.addTask(t)}},{key:"_broadcast",value:function(e,t,r){if(r)this.emit(e,t);else if(1===(r=this.tasks[t.key].status)||0===r)try{this.emit(e,t)}catch(e){if(!(r=!("[object Error]"!==Object.prototype.toString.call(e)))||"Error"===e.name)throw e}}},{key:"_addCrc32ProcessTask",value:function(e,t){var r=(n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).isDirect,n=n.isImageBatchUpload;r={context:e=new qe({file:e.file,context:this,key:t,isDirect:r,isImageBatchUpload:void 0!==n&&n},this.config),func:e.start,arg:{},key:t,index:0,stage:"crc32"},this._addTask(t,r)}},{key:"_addPreUploadTask",value:function(e,t){var r=(n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).isDirect,n=n.isImageBatchUpload;r={file:e.file,stsToken:e.stsToken,context:this,type:e.type||ae,preUploadUriParams:e.preUploadUriParams||{},storeKey:e.storeKey,testHost:e.testHost,key:t,isDirect:r,isImageBatchUpload:void 0!==n&&n,fileSize:e.fileSize,serviceType:e.serviceType||null},e={context:n=new st(r,this.config),func:n.start,arg:{},key:t,index:1,stage:"preUpload"},this._addTask(t,e)}},{key:"_addDirectUploadTask",value:function(e,t){var r=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).isImageBatchUpload;r={context:e=new Ht({file:e.file,context:this,key:t,isImageBatchUpload:void 0!==r&&r},this.config),func:e.start,arg:{},key:t,index:3,stage:"process"},this._addTask(t,r)}},{key:"_addInitUploadIDTask",value:function(e,t){e={context:e=new gt({file:e.file,context:this,key:t},this.config),func:e.start,arg:{},key:t,index:2,stage:"initUploadID"},this._addTask(t,e)}},{key:"_addUploadProcessTask",value:function(e,t){e={context:e=new It({file:e.file,context:this,key:t},this.config),func:e.start,arg:{},key:t,index:3,stage:"process"},this._addTask(t,e)}},{key:"_addStreamUploadTask",value:function(e,t){this.streamUploadTask=new Jt({context:this,key:t},this.config);var r={context:this.streamUploadTask,func:this.streamUploadTask.start,arg:{},key:t,index:3,stage:"process"};this._addTask(t,r)}},{key:"_mergeFileTask",value:function(e,t){e={context:e=new Ut({file:e.file,context:this,stage:"fileMerge",key:t},this.config),func:e.start,arg:{},key:t,index:4,stage:"fileMerge"},this._addTask(t,e)}},{key:"_getMetaInfoTask",value:function(e,t){var r=(n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).isImageBatchUpload,n=n.skipCommit;r={file:e.file,context:this,data:e.data,type:e.type||ae,callbackArgs:e.callbackArgs,objectSync:e.objectSync,needExactFormat:e.needExactFormat,key:t,isImageBatchUpload:void 0!==r&&r,skipCommit:void 0!==n&&n,serviceType:e.serviceType||null},e={context:n=new sr(r,this.config),func:n.start,arg:{},key:t,index:5,stage:"complete"},this._addTask(t,e)}},{key:"_addAllUploadProcess",value:function(e,t){var r=e.type===ce&&"[object Array]"===Object.prototype.toString.call(e.file),n=(this.tasks[t]=this.tasks[t]||{},this.tasks[t].fileType=e.type||ae,this.tasks[t].fileSize=e.file&&e.file.size,this.tasks[t].proxyStsToken=e.stsToken,this.lastStsToken=e.stsToken,this.lastFile=e.file,e.file.size<=_e.getFileSliceLength(e.file)||r);e.useDirectUpload&&(n=!0),this._addCrc32ProcessTask(e,t,{isDirect:n,isImageBatchUpload:r}),this._addPreUploadTask(e,t,{isDirect:n,isImageBatchUpload:r}),n?this._addDirectUploadTask(e,t,{isImageBatchUpload:r}):(this._addInitUploadIDTask(e,t),this._addUploadProcessTask(e,t),this._mergeFileTask(e,t)),n=!(!this.config.skipCommit||Je(e.type,this.config)!==de),this._getMetaInfoTask(e,t,{isImageBatchUpload:r,skipCommit:n})}},{key:"_addAllUploadProcessClientEncrypt",value:function(e){var t,r=this;return e.type===ce&&Array.isArray(e.file)?(t=[],e.file.forEach((function(n){t.push(r._createClientEncryptTask({stsToken:e.stsToken,type:e.type,file:n}))})),t):this._createClientEncryptTask(e)}},{key:"_createClientEncryptTask",value:function(e){var t=_e.getUnique("file"),r=(this.tasks[t]=this.tasks[t]||{},this.tasks[t].fileType=e.type||ae,this.tasks[t].fileSize=e.file&&e.file.size,this.tasks[t].proxyStsToken=e.stsToken,this.tasks[t].clientEncryptKey=_e.generateKey(16),this._addCrc32ProcessTask(e,t,{isDirect:!1,isImageBatchUpload:!1}),this._addPreUploadTask(e,t,{isDirect:!1,isImageBatchUpload:!1}),this._addInitUploadIDTask(e,t),this._addUploadProcessTask(e,t),this._mergeFileTask(e,t),!(!this.config.skipCommit||Je(e.type,this.config)!==de));return this._getMetaInfoTask(e,t,{isImageBatchUpload:!1,skipCommit:r}),t}},{key:"_addAllStreamUploadProcess",value:function(e,t){this.tasks[t]=this.tasks[t]||{},this.tasks[t].fileType=e.type||ae,this.tasks[t].proxyStsToken=e.stsToken,this._addPreUploadTask(e,t),this._addInitUploadIDTask(e,t),this._addStreamUploadTask(e,t),this._mergeFileTask(e,t),this._getMetaInfoTask(e,t)}},{key:"_addStreamSlice",value:function(e){var t=e.fileSlice;e=e.index,this.streamUploadTask.addStreamSlice({fileSlice:t,index:e})}},{key:"_completeStreamUpload",value:function(){this.streamUploadTask.completeStreamUpload()}},{key:"_run",value:function(e,t){var r=this.tasks,n=navigator.userAgent.toLowerCase().match(/msie ([\d.]+)/);n&&n[1]&&Number(n[1])<=9?(this._broadcast("error",yr(r[e],{key:e,status:0,stage:"browserError",extra:{message:"cannot support the browser below ie10"},type:"error"})),this.logger.send(r[e]),this._cancel(e)):r[e]?3===r[e].status?this._restart(e):(r[e].startTime=(new Date).getTime(),r[e].task&&1!==r[e].status&&r[e].task.tasks.length&&(r[e].status=1,this.logger.send(yr({},r[e],{extra:{message:"start upload"},type:"start",key:e})),r[e].task.start(t))):console.warn("".concat(e," is not exit in object tasks, stop running..."))}},{key:"_selectRoute",value:function(e,t){new Me({stsToken:this.lastStsToken,context:this,type:ae,file:this.lastFile},this.config).start(e,t)}},{key:"_restart",value:function(e){var t,r,n=this,i=this.tasks;i[e]?(t=i[e].task,r=i[e].currentTask||0,this.taskList[e].forEach((function(i,o){i.index===r&&(t.tasks=n.taskList[e].slice(o))})),t&&1!==i[e].status&&t.tasks.length&&(i[e].status=1,t.restart())):console.warn("".concat(e," is not exit in object tasks"))}},{key:"_cancel",value:function(e){var t=this.tasks;t[e]?(t[e].status=2,t[e].task.cancel(),delete this.taskList[e]):console.warn("".concat(e," is not exit in object tasks"))}},{key:"_pause",value:function(e){var t=this.tasks;t[e]?(t[e].status=3,t[e].task.cancel(!0),t[e].isDirect||this._saveTask(e)):console.warn("".concat(e," is not exit in object tasks"))}},{key:"_removeTaskCache",value:function(e){var t=this.tasks;t[e]?(t=t[e].crc32Key)&&this._removeCache(t):console.warn("".concat(e," is not exit in object tasks"))}},{key:"_saveTask",value:function(e,t){(t=(e=yr({},this.tasks[e],t||{})).crc32Key)&&this._setCache(t,this.serializeCacheInfo(e))}},{key:"serializeCacheInfo",value:function(e){var t="";delete e.task,delete e.xhr,delete e.crc32Array;try{t=JSON.stringify(e)}catch(n){var r={};Object.keys(e).forEach((function(t){"task"!==t&&"xhr"!==t&&"crc32Array"!==t&&(r[t]=e[t])})),t=JSON.stringify(r)}return t}},{key:"_queueSuccess",value:function(e){var t,r=this.tasks;r[e]?(t=new Date,r[e].endTime=t.getTime(),r[e].time=r[e].endTime-r[e].startTime,r[e].status=0,delete this.taskList[e],delete r[e]):console.warn("".concat(e," is not exit in object tasks"))}},{key:"_removeFile",value:function(e){delete this.tasks[e]}},{key:"_batchAction",value:function(e,t){var r=this.tasks;Object.keys(r).forEach((function(r){e&&e(r,t)}))}},{key:"_refreshSTSToken",value:function(e){var t=this,r=this.tasks;Object.keys(r).forEach((function(n){var i=yr({},n=r[n],{proxyStsToken:e}),o=(n.proxyStsToken=e,i.crc32Key);o&&(n.proxyStsToken=e,t._setCache(o,t.serializeCacheInfo(i)))}))}},{key:"_setOption",value:function(e){this._mergeOptions(this.config,e)}},{key:"_getOption",value:function(e){var t=yr({},this.config);return Object.keys(t).forEach((function(e){(-1<e.indexOf("Url")||"replace"===e||"log"===e)&&delete t[e]})),e?t[e]:t}},{key:"_userCancel",value:function(e){var t=this,r=this.tasks;e?(this._cancel(e),this.logger.send(yr({},r[e],{type:"cancel"})),delete this.tasks[e]):Object.keys(r).forEach((function(e){t._cancel(e),t.logger.send(yr({},r[e],{type:"cancel"})),delete t.tasks[e]}))}},{key:"_userPause",value:function(e){var t=this,r=this.tasks;e?(this._pause(e),this.logger.send(yr({},r[e],{type:"pause"}))):Object.keys(r).forEach((function(e){t._pause(e),t.logger.send(yr({},r[e],{type:"pause"}))}))}}]),t}();function Er(e){return(Er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Or(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)),n}function xr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Or(Object(r),!0).forEach((function(t){!function(e,t,r){(t=Cr(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Or(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function kr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Cr(n.key),n)}}function Cr(e){return e=function(e,t){if("object"!==Er(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);if("object"!==Er(r=r.call(e,t||"default")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"),"symbol"===Er(e)?e:String(e)}function Tr(e,t){return(Tr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function jr(e){return(jr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Pr=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tr(e,t)}(t,Sr);var e=function(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,n=jr(t);return function(e,t){if(t&&("object"===Er(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,r?(e=jr(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments))}}(t);function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.apply(this,arguments)}return function(e,t,r){t&&kr(e.prototype,t),r&&kr(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"start",value:function(e){var t=this,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.abort=!1,r.selectRoute?this._selectRoute(r,(function(r){r=xr(xr({},r),{},{enableSelectRoute:!0}),e?t._run(e,r):t._batchAction(t._run.bind(t),r)})):e?this._run(e):this._batchAction(this._run.bind(this))}},{key:"addFile",value:function(e){var t;return e&&Xe(e.stsToken)?e.file&&this.config.clientEncrypt?this._addAllUploadProcessClientEncrypt(e):e.file?(t=_e.getUnique("file"),this._addAllUploadProcess(e,t),t):null:(this.emit("error",{extra:{message:Ge,errorCode:Le}}),null)}},{key:"addImageFile",value:function(e){var t;return e&&Xe(e.stsToken)?e.file?(e.type=e.type||ce,t=_e.getUnique("file"),this._addAllUploadProcess(e,t),t):null:(this.emit("error",{extra:{message:Ge,errorCode:Le}}),null)}},{key:"addStreamUploadTask",value:function(e){var t;return e&&Xe(e.stsToken)?(t=_e.getUnique("file"),this._addAllStreamUploadProcess(e,t),t):(this.emit("error",{extra:{message:Ge,errorCode:Le}}),null)}},{key:"addStreamSlice",value:function(e){var t=e.fileSlice;e=e.index,this._addStreamSlice({fileSlice:t,index:e})}},{key:"completeStreamUpload",value:function(){this._completeStreamUpload()}},{key:"removeFile",value:function(e){e&&this._removeFile(e)}},{key:"cancel",value:function(e){e?this._userCancel(e):this._batchAction(this._userCancel.bind(this))}},{key:"pause",value:function(e){this._userPause(e)}},{key:"restart",value:function(e){e?this._restart(e):this._batchAction(this._restart.bind(this))}},{key:"refreshSTSToken",value:function(e){this._refreshSTSToken(e)}},{key:"setOption",value:function(e){this._setOption(e)}},{key:"getOption",value:function(e){return this._getOption(e)}}]),t}()}]).default},e.exports=t()},6903:(e,t,r)=>{"use strict";r.d(t,{UX:()=>n,j2:()=>i});const n={PREFIX:`${r(82345).T}-form`},i={LAYOUT:["horizontal","vertical"],LABEL_POS:["left","top","inset"],LABEL_ALIGN:["left","right"],EXTRA_POS:["middle","bottom"],DEFAULT_TRIGGER:"change"}},25027:(e,t,r)=>{"use strict";r.d(t,{G$:()=>D,Gf:()=>A,JY:()=>R,JH:()=>N,dG:()=>z,Fs:()=>F,TM:()=>M});var n=r(71180),i=r(54834);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o.apply(this,arguments)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function c(e,t,r){return c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&a(i,r.prototype),i},c.apply(null,arguments)}function l(e){var t="function"==typeof Map?new Map:void 0;return l=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return c(e,arguments,s(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a(n,e)},l(e)}var u=/%[sdj%]/g;function p(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var r=e.field;t[r]=t[r]||[],t[r].push(e)})),t}function d(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=1,i=t[0],o=t.length;return"function"==typeof i?i.apply(null,t.slice(1)):"string"==typeof i?String(i).replace(u,(function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(t[n++]);case"%d":return Number(t[n++]);case"%j":try{return JSON.stringify(t[n++])}catch(r){return"[Circular]"}break;default:return e}})):i}function h(e,t){return null==e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(t)||"string"!=typeof e||e))}function f(e,t,r){var n=0,i=e.length;!function o(s){if(s&&s.length)r(s);else{var a=n;n+=1,a<i?t(e[a],o):r([])}}([])}"undefined"!=typeof process&&process.env;var g=function(e){var t,r;function n(t,r){var n;return(n=e.call(this,"Async Validation Error")||this).errors=t,n.fields=r,n}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,a(t,r),n}(l(Error));function m(e,t,r,n){if(t.first){var i=new Promise((function(t,i){var o=function(e){var t=[];return Object.keys(e).forEach((function(r){t.push.apply(t,e[r])})),t}(e);f(o,r,(function(e){return n(e),e.length?i(new g(e,p(e))):t()}))}));return i.catch((function(e){return e})),i}var o=t.firstFields||[];!0===o&&(o=Object.keys(e));var s=Object.keys(e),a=s.length,c=0,l=[],u=new Promise((function(t,i){var u=function(e){if(l.push.apply(l,e),++c===a)return n(l),l.length?i(new g(l,p(l))):t()};s.length||(n(l),t()),s.forEach((function(t){var n=e[t];-1!==o.indexOf(t)?f(n,r,u):function(e,t,r){var n=[],i=0,o=e.length;function s(e){n.push.apply(n,e),++i===o&&r(n)}e.forEach((function(e){t(e,s)}))}(n,r,u)}))}));return u.catch((function(e){return e})),u}function y(e){return function(t){return t&&t.message?(t.field=t.field||e.fullField,t):{message:"function"==typeof t?t():t,field:t.field||e.fullField}}}function v(e,t){if(t)for(var r in t)if(t.hasOwnProperty(r)){var n=t[r];"object"==typeof n&&"object"==typeof e[r]?e[r]=o({},e[r],n):e[r]=n}return e}function b(e,t,r,n,i,o){!e.required||r.hasOwnProperty(e.field)&&!h(t,o||e.type)||n.push(d(i.messages.required,e.fullField))}var _={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},w={integer:function(e){return w.number(e)&&parseInt(e,10)===e},float:function(e){return w.number(e)&&!w.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(t){return!1}},date:function(e){return"function"==typeof e.getTime&&"function"==typeof e.getMonth&&"function"==typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"==typeof e},object:function(e){return"object"==typeof e&&!w.array(e)},method:function(e){return"function"==typeof e},email:function(e){return"string"==typeof e&&!!e.match(_.email)&&e.length<255},url:function(e){return"string"==typeof e&&!!e.match(_.url)},hex:function(e){return"string"==typeof e&&!!e.match(_.hex)}};var S="enum";var E={required:b,whitespace:function(e,t,r,n,i){(/^\s+$/.test(t)||""===t)&&n.push(d(i.messages.whitespace,e.fullField))},type:function(e,t,r,n,i){if(e.required&&void 0===t)b(e,t,r,n,i);else{var o=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(o)>-1?w[o](t)||n.push(d(i.messages.types[o],e.fullField,e.type)):o&&typeof t!==e.type&&n.push(d(i.messages.types[o],e.fullField,e.type))}},range:function(e,t,r,n,i){var o="number"==typeof e.len,s="number"==typeof e.min,a="number"==typeof e.max,c=t,l=null,u="number"==typeof t,p="string"==typeof t,h=Array.isArray(t);if(u?l="number":p?l="string":h&&(l="array"),!l)return!1;h&&(c=t.length),p&&(c=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),o?c!==e.len&&n.push(d(i.messages[l].len,e.fullField,e.len)):s&&!a&&c<e.min?n.push(d(i.messages[l].min,e.fullField,e.min)):a&&!s&&c>e.max?n.push(d(i.messages[l].max,e.fullField,e.max)):s&&a&&(c<e.min||c>e.max)&&n.push(d(i.messages[l].range,e.fullField,e.min,e.max))},enum:function(e,t,r,n,i){e[S]=Array.isArray(e[S])?e[S]:[],-1===e[S].indexOf(t)&&n.push(d(i.messages[S],e.fullField,e[S].join(", ")))},pattern:function(e,t,r,n,i){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||n.push(d(i.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"==typeof e.pattern){new RegExp(e.pattern).test(t)||n.push(d(i.messages.pattern.mismatch,e.fullField,t,e.pattern))}}};function O(e,t,r,n,i){var o=e.type,s=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(h(t,o)&&!e.required)return r();E.required(e,t,n,s,i,o),h(t,o)||E.type(e,t,n,s,i)}r(s)}var x={string:function(e,t,r,n,i){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(h(t,"string")&&!e.required)return r();E.required(e,t,n,o,i,"string"),h(t,"string")||(E.type(e,t,n,o,i),E.range(e,t,n,o,i),E.pattern(e,t,n,o,i),!0===e.whitespace&&E.whitespace(e,t,n,o,i))}r(o)},method:function(e,t,r,n,i){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(h(t)&&!e.required)return r();E.required(e,t,n,o,i),void 0!==t&&E.type(e,t,n,o,i)}r(o)},number:function(e,t,r,n,i){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(""===t&&(t=void 0),h(t)&&!e.required)return r();E.required(e,t,n,o,i),void 0!==t&&(E.type(e,t,n,o,i),E.range(e,t,n,o,i))}r(o)},boolean:function(e,t,r,n,i){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(h(t)&&!e.required)return r();E.required(e,t,n,o,i),void 0!==t&&E.type(e,t,n,o,i)}r(o)},regexp:function(e,t,r,n,i){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(h(t)&&!e.required)return r();E.required(e,t,n,o,i),h(t)||E.type(e,t,n,o,i)}r(o)},integer:function(e,t,r,n,i){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(h(t)&&!e.required)return r();E.required(e,t,n,o,i),void 0!==t&&(E.type(e,t,n,o,i),E.range(e,t,n,o,i))}r(o)},float:function(e,t,r,n,i){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(h(t)&&!e.required)return r();E.required(e,t,n,o,i),void 0!==t&&(E.type(e,t,n,o,i),E.range(e,t,n,o,i))}r(o)},array:function(e,t,r,n,i){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(null==t&&!e.required)return r();E.required(e,t,n,o,i,"array"),null!=t&&(E.type(e,t,n,o,i),E.range(e,t,n,o,i))}r(o)},object:function(e,t,r,n,i){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(h(t)&&!e.required)return r();E.required(e,t,n,o,i),void 0!==t&&E.type(e,t,n,o,i)}r(o)},enum:function(e,t,r,n,i){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(h(t)&&!e.required)return r();E.required(e,t,n,o,i),void 0!==t&&E.enum(e,t,n,o,i)}r(o)},pattern:function(e,t,r,n,i){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(h(t,"string")&&!e.required)return r();E.required(e,t,n,o,i),h(t,"string")||E.pattern(e,t,n,o,i)}r(o)},date:function(e,t,r,n,i){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(h(t,"date")&&!e.required)return r();var s;if(E.required(e,t,n,o,i),!h(t,"date"))s=t instanceof Date?t:new Date(t),E.type(e,s,n,o,i),s&&E.range(e,s.getTime(),n,o,i)}r(o)},url:O,hex:O,email:O,required:function(e,t,r,n,i){var o=[],s=Array.isArray(t)?"array":typeof t;E.required(e,t,n,o,i,s),r(o)},any:function(e,t,r,n,i){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(h(t)&&!e.required)return r();E.required(e,t,n,o,i)}r(o)}};function k(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var C=k();function T(e){this.rules=null,this._messages=C,this.define(e)}T.prototype={messages:function(e){return e&&(this._messages=v(k(),e)),this._messages},define:function(e){if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!=typeof e||Array.isArray(e))throw new Error("Rules must be an object");var t,r;for(t in this.rules={},e)e.hasOwnProperty(t)&&(r=e[t],this.rules[t]=Array.isArray(r)?r:[r])},validate:function(e,t,r){var n=this;void 0===t&&(t={}),void 0===r&&(r=function(){});var i,s,a=e,c=t,l=r;if("function"==typeof c&&(l=c,c={}),!this.rules||0===Object.keys(this.rules).length)return l&&l(),Promise.resolve();if(c.messages){var u=this.messages();u===C&&(u=k()),v(u,c.messages),c.messages=u}else c.messages=this.messages();var h={};(c.keys||Object.keys(this.rules)).forEach((function(t){i=n.rules[t],s=a[t],i.forEach((function(r){var i=r;"function"==typeof i.transform&&(a===e&&(a=o({},a)),s=a[t]=i.transform(s)),(i="function"==typeof i?{validator:i}:o({},i)).validator=n.getValidationMethod(i),i.field=t,i.fullField=i.fullField||t,i.type=n.getType(i),i.validator&&(h[t]=h[t]||[],h[t].push({rule:i,value:s,source:a,field:t}))}))}));var f={};return m(h,c,(function(e,t){var r,n=e.rule,i=!("object"!==n.type&&"array"!==n.type||"object"!=typeof n.fields&&"object"!=typeof n.defaultField);function s(e,t){return o({},t,{fullField:n.fullField+"."+e})}function a(r){void 0===r&&(r=[]);var a=r;if(Array.isArray(a)||(a=[a]),!c.suppressWarning&&a.length&&T.warning("async-validator:",a),a.length&&void 0!==n.message&&(a=[].concat(n.message)),a=a.map(y(n)),c.first&&a.length)return f[n.field]=1,t(a);if(i){if(n.required&&!e.value)return void 0!==n.message?a=[].concat(n.message).map(y(n)):c.error&&(a=[c.error(n,d(c.messages.required,n.field))]),t(a);var l={};if(n.defaultField)for(var u in e.value)e.value.hasOwnProperty(u)&&(l[u]=n.defaultField);for(var p in l=o({},l,e.rule.fields))if(l.hasOwnProperty(p)){var h=Array.isArray(l[p])?l[p]:[l[p]];l[p]=h.map(s.bind(null,p))}var g=new T(l);g.messages(c.messages),e.rule.options&&(e.rule.options.messages=c.messages,e.rule.options.error=c.error),g.validate(e.value,e.rule.options||c,(function(e){var r=[];a&&a.length&&r.push.apply(r,a),e&&e.length&&r.push.apply(r,e),t(r.length?r:null)}))}else t(a)}i=i&&(n.required||!n.required&&e.value),n.field=e.field,n.asyncValidator?r=n.asyncValidator(n,e.value,a,e.source,c):n.validator&&(!0===(r=n.validator(n,e.value,a,e.source,c))?a():!1===r?a(n.message||n.field+" fails"):r instanceof Array?a(r):r instanceof Error&&a(r.message)),r&&r.then&&r.then((function(){return a()}),(function(e){return a(e)}))}),(function(e){!function(e){var t,r,n,i=[],o={};for(t=0;t<e.length;t++)r=e[t],n=void 0,Array.isArray(r)?i=(n=i).concat.apply(n,r):i.push(r);i.length?o=p(i):(i=null,o=null),l(i,o)}(e)}))},getType:function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!=typeof e.validator&&e.type&&!x.hasOwnProperty(e.type))throw new Error(d("Unknown rule type %s",e.type));return e.type||"string"},getValidationMethod:function(e){if("function"==typeof e.validator)return e.validator;var t=Object.keys(e),r=t.indexOf("message");return-1!==r&&t.splice(r,1),1===t.length&&"required"===t[0]?x.required:x[this.getType(e)]||!1}},T.register=function(e,t){if("function"!=typeof t)throw new Error("Cannot register a validator by type, validator is not a function");x[e]=t},T.warning=function(){},T.messages=C,T.validators=x;const j=T;var P=r(6903),I=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};function A(e){const t=e.displayName||e.name;return t?`SemiField${t}`:"SemiField"}function D(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const r={};r[e]=t;return new j(r)}function R(e){let t=!0;return"string"==typeof e&&e.length?t=!1:Array.isArray(e)&&e.length?t=e.every((e=>R(e))):"boolean"==typeof e?t=e:e&&"symbol"==typeof e.$$typeof&&"Symbol(react.element)"===e.$$typeof.toString()&&(t=!1),t}function M(e,t){let r=[],i=[];return r=(0,n.Z)(e)?(0,n.Z)(t)?P.j2.DEFAULT_TRIGGER:t:e,Array.isArray(r)&&(i=r),"string"==typeof r&&(i[0]=r),i}function F(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,n.Z)(e)?(0,n.Z)(t)?r:t:e}function N(e,t){const r=Object.assign(Object.assign({},{valueKey:"value",onKeyChangeFnName:"onChange",valuePath:"",maintainCursor:!1,shouldInject:!0,shouldMemo:!0}),e);return{options:r,shouldInject:"field"in t||r.shouldInject}}function z(e){let t=Object.assign(Object.assign({},{allowEmptyString:!1,allowEmpty:!1,emptyValue:"",noLabel:!1,noErrorMessage:!1,isInInputGroup:!1}),e),{field:r,label:n,labelPosition:o,labelWidth:s,labelAlign:a,labelCol:c,wrapperCol:l,initValue:u,validate:p,validateStatus:d,trigger:h,allowEmptyString:f,allowEmpty:g,emptyValue:m,rules:y,onChange:v,keepState:b,transform:_,name:w,fieldClassName:S,fieldStyle:E,noLabel:O,noErrorMessage:x,isInInputGroup:k,stopValidateWithError:C,convert:T,showValidateIcon:j,helpText:P,extraText:A,extraTextPosition:D,pure:R,id:M}=t,F=I(t,["field","label","labelPosition","labelWidth","labelAlign","labelCol","wrapperCol","initValue","validate","validateStatus","trigger","allowEmptyString","allowEmpty","emptyValue","rules","onChange","keepState","transform","name","fieldClassName","fieldStyle","noLabel","noErrorMessage","isInInputGroup","stopValidateWithError","convert","showValidateIcon","helpText","extraText","extraTextPosition","pure","id"]);delete F.defaultChecked,delete F.defaultValue,delete F.checked,void 0!==u&&(u=(0,i.Z)(u));const N=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=!1;return"object"==typeof e&&"required"in e?t=e.required:Array.isArray(e)&&e.length&&e.forEach((e=>{e.required&&(t=!0)})),t}(y);return m=void 0!==m?m:"",{field:r,label:n,labelPosition:o,labelWidth:s,labelAlign:a,labelCol:c,wrapperCol:l,noLabel:O,noErrorMessage:x,isInInputGroup:k,initValue:u,validate:p,validateStatus:d,trigger:h,allowEmptyString:f,allowEmpty:g,emptyValue:m,rules:y,required:N,keepState:b,transform:_,name:w,fieldClassName:S,fieldStyle:E,convert:T,stopValidateWithError:C,showValidateIcon:j,helpText:P,extraText:A,extraTextPosition:D,pure:R,rest:F,id:M}}},66380:(e,t,r)=>{"use strict";r.d(t,{U:()=>n});const n={PREFIX:`${r(82345).T}`}},75778:(e,t,r)=>{"use strict";r.d(t,{UX:()=>n,j2:()=>i});const n={PREFIX:`${r(82345).T}-input`},i={SIZE:["small","large","default"],DEFAULT_SIZE:"default",STATUS:["default","error","warning","success"],CLEARBTN_CLICKED_EVENT_FLAG:"__fromClearBtn",MODE:["password"]}},12236:(e,t,r)=>{"use strict";r.d(t,{KT:()=>a,UX:()=>o,j2:()=>s});var n=r(58706),i=r(82345);const o={PREFIX:`${i.T}-popover`,ARROW:`${i.T}-popover-icon-arrow`},s={POSITION_SET:["top","topLeft","topRight","left","leftTop","leftBottom","right","rightTop","rightBottom","bottom","bottomLeft","bottomRight","leftTopOver","rightTopOver"],TRIGGER_SET:["hover","focus","click","custom","contextMenu"],DEFAULT_ARROW_STYLE:{borderOpacity:"1",backgroundColor:"var(--semi-color-bg-3)",borderColor:"var(--semi-color-border)"}},a={ARROW_BOUNDING:Object.assign(Object.assign({},n.KT.ARROW_BOUNDING),{offsetY:6,offsetX:0,height:8}),SPACING:4,SPACING_WITH_ARROW:10,DEFAULT_Z_INDEX:1030}},77860:(e,t,r)=>{"use strict";r.d(t,{U:()=>n,j:()=>i});const n={PREFIX:`${r(82345).T}-tag`},i={TAG_SIZE:["default","small","large"],TAG_COLOR:["grey","red","pink","purple","violet","indigo","blue","light-blue","cyan","teal","green","light-green","lime","yellow","amber","orange","white"],TAG_TYPE:["light","solid","ghost"],AVATAR_SHAPE:["square","circle"]}},1293:(e,t,r)=>{"use strict";r.d(t,{U:()=>n,j:()=>i});const n={PREFIX:`${r(82345).T}-typography`},i={WEIGHT:["light","regular","medium","semibold","bold","default"],TYPE:["primary","secondary","danger","warning","success","tertiary","quaternary"],SIZE:["normal","small"],SPACING:["normal","extended"],HEADING:[1,2,3,4,5,6],RULE:["text","numbers","bytes-decimal","bytes-binary","percentages","exponential"],TRUNCATE:["ceil","floor","round"]}},19895:(e,t,r)=>{"use strict";function n(e){return null!==(t=e)&&"object"==typeof t&&"function"==typeof e.then;var t}r.d(t,{Z:()=>n})},75108:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>i,q7:()=>n});const n="Enter",i={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229}},75181:(e,t,r)=>{"use strict";r.d(t,{cS:()=>m,U2:()=>y,Od:()=>v,t8:()=>b});var n=r(82433),i=r(69708),o=r(28019);const s=function(e,t){return(0,o.Z)(t,(function(t){return e[t]}))};var a=r(77251);const c=function(e){return null==e?[]:s(e,(0,a.Z)(e))};var l=r(79824);const u=function(e,t){return null==e||(0,l.Z)(e,t)};var p=r(88375),d=r(19780),h=r(54029);const f=e=>{const t=(0,p.Z)(e);return!((0,i.Z)(e)&&1===t.length)&&Number.isInteger(+t[t.length-1])};function g(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(0===t.length)return;const i=(0,h.Z)(e,t);(Array.isArray(i)&&i.every((e=>null==e))||function(e){if((0,n.Z)(e)){const t=c(e);return!t.length||t.every((e=>void 0===e))}return!1}(i))&&u(e,t),g(e,t.slice(0,t.length-1),r)}function m(e){return 0===c(e).length}function y(e,t){return(0,h.Z)(e,t)}function v(e,t){u(e,t);let r=(0,p.Z)(t);r=r.slice(0,r.length-1),g(e,r,!1)}function b(e,t,r,n){if(n)return(0,d.Z)(e,t,r);if(void 0!==r)return(0,d.Z)(e,t,r);if(f(t)&&void 0!==y(e,t)){(0,d.Z)(e,t,void 0);let r=(0,p.Z)(t);r=r.slice(0,r.length-1),g(e,r,!1)}else f(t)||void 0===y(e,t)||v(e,t)}},74777:(e,t,r)=>{"use strict";function n(e){return`${e}-${(new Date).getTime()}-${Math.random()}`}function i(){var e,t;try{return null!==(t=null===(e=null===crypto||void 0===crypto?void 0:crypto.randomUUID)||void 0===e?void 0:e.call(crypto))&&void 0!==t?t:String(-99990013e3).replace(/[018]/g,(e=>(Number(e)^crypto.getRandomValues(new Uint8Array(1))[0]&15>>Number(e)/4).toString(16)))}catch(r){return n("semi")}}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{prefix:t="",length:r=7}=e,n="0123456789abcdefghijklmnopqrstuvwxyz";let i="";for(let o=0;o<r;o++){const e=Math.floor(36*Math.random());i+=n.charAt(e)}return t?`${t}-${i}`:i}r.d(t,{Cd:()=>i,Ms:()=>o,ZP:()=>n})},86756:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(50959);const i=(0,r(95571).A)((function(e){return n.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23 12C23 18.0751 18.0751 23 12 23C5.92487 23 1 18.0751 1 12C1 5.92487 5.92487 1 12 1C18.0751 1 23 5.92487 23 12ZM13.5 17.5C13.5 16.6716 12.8284 16 12 16C11.1716 16 10.5 16.6716 10.5 17.5C10.5 18.3284 11.1716 19 12 19C12.8284 19 13.5 18.3284 13.5 17.5ZM12 5C10.9138 5 10.0507 5.91244 10.1109 6.99692L10.4168 12.5023C10.4635 13.3426 11.1584 14 12 14C12.8416 14 13.5365 13.3426 13.5832 12.5023L13.8891 6.99692C13.9493 5.91244 13.0862 5 12 5Z",fill:"currentColor"}))}),"alert_circle")},40910:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(50959);const i=(0,r(95571).A)((function(e){return n.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.2268 2.3986L1.52616 19.0749C0.831449 20.4064 1.79747 22 3.29933 22H20.7007C22.2025 22 23.1686 20.4064 22.4739 19.0749L13.7732 2.3986C13.0254 0.965441 10.9746 0.965442 10.2268 2.3986ZM13.1415 14.0101C13.0603 14.5781 12.5739 15 12.0001 15C11.4263 15 10.9398 14.5781 10.8586 14.0101L10.2829 9.97992C10.1336 8.93495 10.9445 8.00002 12.0001 8.00002C13.0556 8.00002 13.8665 8.93495 13.7172 9.97992L13.1415 14.0101ZM13.5001 18.5C13.5001 19.3284 12.8285 20 12.0001 20C11.1716 20 10.5001 19.3284 10.5001 18.5C10.5001 17.6716 11.1716 17 12.0001 17C12.8285 17 13.5001 17.6716 13.5001 18.5Z",fill:"currentColor"}))}),"alert_triangle")},91890:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(50959);const i=(0,r(95571).A)((function(e){return n.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23ZM17.0352 16.8626C16.4597 17.4585 15.5101 17.4751 14.9142 16.8996L12.0368 14.121L9.25822 16.9984C8.68274 17.5943 7.73314 17.6109 7.13722 17.0354C6.5413 16.4599 6.52472 15.5103 7.1002 14.9144L9.87883 12.037L7.00147 9.2584C6.40555 8.68293 6.38897 7.73332 6.96445 7.1374C7.53992 6.54148 8.48953 6.52491 9.08545 7.10038L11.9628 9.87901L14.7414 7.00165C15.3169 6.40573 16.2665 6.38916 16.8624 6.96463C17.4584 7.54011 17.4749 8.48971 16.8995 9.08563L14.1208 11.963L16.9982 14.7416C17.5941 15.3171 17.6107 16.2667 17.0352 16.8626Z",fill:"currentColor"}))}),"clear")},95193:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(50959);const i=(0,r(95571).A)((function(e){return n.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),n.createElement("path",{d:"M17.6568 19.7782C18.2426 20.3639 19.1924 20.3639 19.7782 19.7782C20.3639 19.1924 20.3639 18.2426 19.7782 17.6568L14.1213 12L19.7782 6.34313C20.3639 5.75734 20.3639 4.8076 19.7782 4.22181C19.1924 3.63602 18.2426 3.63602 17.6568 4.22181L12 9.87866L6.34313 4.22181C5.75734 3.63602 4.8076 3.63602 4.22181 4.22181C3.63602 4.8076 3.63602 5.75734 4.22181 6.34313L9.87866 12L4.22181 17.6568C3.63602 18.2426 3.63602 19.1924 4.22181 19.7782C4.8076 20.3639 5.75734 20.3639 6.34313 19.7782L12 14.1213L17.6568 19.7782Z",fill:"currentColor"}))}),"close")},85848:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(50959);const i=(0,r(95571).A)((function(e){return n.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23ZM14 7C14 8.10457 13.1046 9 12 9C10.8954 9 10 8.10457 10 7C10 5.89543 10.8954 5 12 5C13.1046 5 14 5.89543 14 7ZM9 10.75C9 10.3358 9.33579 10 9.75 10H12.5C13.0523 10 13.5 10.4477 13.5 11V16.5H14.25C14.6642 16.5 15 16.8358 15 17.25C15 17.6642 14.6642 18 14.25 18H9.75C9.33579 18 9 17.6642 9 17.25C9 16.8358 9.33579 16.5 9.75 16.5H10.5V11.5H9.75C9.33579 11.5 9 11.1642 9 10.75Z",fill:"currentColor"}))}),"info_circle")},41232:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(50959);const i=(0,r(95571).A)((function(e){return n.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),n.createElement("path",{d:"M9 17.0657V6.93425C9 6.5349 9.44507 6.29671 9.77735 6.51823L17.376 11.584C17.6728 11.7819 17.6728 12.2181 17.376 12.416L9.77735 17.4818C9.44507 17.7033 9 17.4651 9 17.0657Z",fill:"currentColor"}))}),"small_triangle_right")},33831:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(50959);const i=(0,r(95571).A)((function(e){return n.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.3516 4.2652C22.0336 4.73552 22.2052 5.66964 21.7348 6.35162L11.7348 20.8516C11.4765 21.2262 11.0622 21.4632 10.6084 21.4961C10.1546 21.529 9.71041 21.3541 9.40082 21.0207L2.90082 14.0207C2.33711 13.4136 2.37226 12.4645 2.97933 11.9008C3.5864 11.3371 4.53549 11.3723 5.0992 11.9793L10.3268 17.6091L19.2652 4.64842C19.7355 3.96644 20.6696 3.79487 21.3516 4.2652Z",fill:"currentColor"}))}),"tick")},2175:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(50959);const i=(0,r(95571).A)((function(e){return n.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23ZM17.8831 9.82235L11.6854 17.4112C11.4029 17.7806 10.965 17.9981 10.5 18C10.035 18.0019 9.59533 17.788 9.30982 17.421L5.81604 13.4209C5.30744 12.767 5.42524 11.8246 6.07916 11.316C6.73308 10.8074 7.67549 10.9252 8.1841 11.5791L10.4838 14.0439L15.5 8C16.0032 7.34193 16.9446 7.21641 17.6027 7.71964C18.2608 8.22287 18.3863 9.16428 17.8831 9.82235Z",fill:"currentColor"}))}),"tick_circle")},61214:(e,t,r)=>{"use strict";r.d(t,{W8:()=>o,kK:()=>i});var n=r(50959);function i(e){return n.isValidElement(e)}function o(e){return 0===n.Children.count(e)}},60679:(e,t,r)=>{"use strict";r.d(t,{Z:()=>oe});var n=r(55883),i=r(50959),o=r(84875),s=r.n(o),a=r(41916),c=r.n(a),l=r(88375),u=r(88987),p=r(71180),d=r(1714),h=r(75181),f=r(19895),g=r(25027);function m(e){return"object"==typeof e&&null!=e&&1===e.nodeType}function y(e,t){return(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e}function v(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var r=getComputedStyle(e,null);return y(r.overflowY,t)||y(r.overflowX,t)||function(e){var t=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)}(e)}return!1}function b(e,t,r,n,i,o,s,a){return o<e&&s>t||o>e&&s<t?0:o<=e&&a<=r||s>=t&&a>=r?o-e-n:s>t&&a<r||o<e&&a>r?s-t+i:0}var _=function(e,t){var r=window,n=t.scrollMode,i=t.block,o=t.inline,s=t.boundary,a=t.skipOverflowHiddenElements,c="function"==typeof s?s:function(e){return e!==s};if(!m(e))throw new TypeError("Invalid target");for(var l,u,p=document.scrollingElement||document.documentElement,d=[],h=e;m(h)&&c(h);){if((h=null==(u=(l=h).parentElement)?l.getRootNode().host||null:u)===p){d.push(h);break}null!=h&&h===document.body&&v(h)&&!v(document.documentElement)||null!=h&&v(h,a)&&d.push(h)}for(var f=r.visualViewport?r.visualViewport.width:innerWidth,g=r.visualViewport?r.visualViewport.height:innerHeight,y=window.scrollX||pageXOffset,_=window.scrollY||pageYOffset,w=e.getBoundingClientRect(),S=w.height,E=w.width,O=w.top,x=w.right,k=w.bottom,C=w.left,T="start"===i||"nearest"===i?O:"end"===i?k:O+S/2,j="center"===o?C+E/2:"end"===o?x:C,P=[],I=0;I<d.length;I++){var A=d[I],D=A.getBoundingClientRect(),R=D.height,M=D.width,F=D.top,N=D.right,z=D.bottom,U=D.left;if("if-needed"===n&&O>=0&&C>=0&&k<=g&&x<=f&&O>=F&&k<=z&&C>=U&&x<=N)return P;var B=getComputedStyle(A),L=parseInt(B.borderLeftWidth,10),$=parseInt(B.borderTopWidth,10),Z=parseInt(B.borderRightWidth,10),G=parseInt(B.borderBottomWidth,10),H=0,V=0,K="offsetWidth"in A?A.offsetWidth-A.clientWidth-L-Z:0,W="offsetHeight"in A?A.offsetHeight-A.clientHeight-$-G:0,q="offsetWidth"in A?0===A.offsetWidth?0:M/A.offsetWidth:0,X="offsetHeight"in A?0===A.offsetHeight?0:R/A.offsetHeight:0;if(p===A)H="start"===i?T:"end"===i?T-g:"nearest"===i?b(_,_+g,g,$,G,_+T,_+T+S,S):T-g/2,V="start"===o?j:"center"===o?j-f/2:"end"===o?j-f:b(y,y+f,f,L,Z,y+j,y+j+E,E),H=Math.max(0,H+_),V=Math.max(0,V+y);else{H="start"===i?T-F-$:"end"===i?T-z+G+W:"nearest"===i?b(F,z,R,$,G+W,T,T+S,S):T-(F+R/2)+W/2,V="start"===o?j-U-L:"center"===o?j-(U+M/2)+K/2:"end"===o?j-N+Z+K:b(U,N,M,L,Z+K,j,j+E,E);var J=A.scrollLeft,Y=A.scrollTop;T+=Y-(H=Math.max(0,Math.min(Y+H/X,A.scrollHeight-R/X+W))),j+=J-(V=Math.max(0,Math.min(J+V/q,A.scrollWidth-M/q+K)))}P.push({el:A,top:H,left:V})}return P};function w(e){return e===Object(e)&&0!==Object.keys(e).length}const S=function(e,t){var r=e.isConnected||e.ownerDocument.documentElement.contains(e);if(w(t)&&"function"==typeof t.behavior)return t.behavior(r?_(e,t):[]);if(r){var n=function(e){return!1===e?{block:"end",inline:"nearest"}:w(e)?e:{block:"start",inline:"nearest"}}(t);return function(e,t){void 0===t&&(t="auto");var r="scrollBehavior"in document.body.style;e.forEach((function(e){var n=e.el,i=e.top,o=e.left;n.scroll&&r?n.scroll({top:i,left:o,behavior:t}):(n.scrollTop=i,n.scrollLeft=o)}))}(_(e,n),n.behavior)}};class E extends d.Z{constructor(e){super(Object.assign({},e));let{initValues:t}=this._adapter.getProps();t=this._adapter.cloneDeep(t),this.data={values:t||{},errors:{},touched:{}},this.fields=new Map,this.registered={},this.registeredArrayField=new Map,this.register=this.register.bind(this),this.unRegister=this.unRegister.bind(this),this.registerArrayField=this.registerArrayField.bind(this),this.unRegisterArrayField=this.unRegisterArrayField.bind(this),this.getArrayField=this.getArrayField.bind(this),this.updateArrayField=this.updateArrayField.bind(this),this.getField=this.getField.bind(this),this.setValues=this.setValues.bind(this),this.updateStateValue=this.updateStateValue.bind(this),this.updateStateError=this.updateStateError.bind(this),this.updateStateTouched=this.updateStateTouched.bind(this),this.getFormState=this.getFormState.bind(this),this.getValue=this.getValue.bind(this),this.getError=this.getError.bind(this),this.getTouched=this.getTouched.bind(this),this.getInitValues=this.getInitValues.bind(this),this.getInitValue=this.getInitValue.bind(this),this.getFormProps=this.getFormProps.bind(this),this.getFieldExist=this.getFieldExist.bind(this),this.scrollToField=this.scrollToField.bind(this)}init(){this._adapter.initFormId()}getField(e){return this.fields.get(e)}register(e,t,r){this.registered[e];if(this.registered[e]=!0,this.fields.set(e,r),r.keepState);else{const n=r.allowEmpty||!1,i={notNotify:!0,notUpdate:!1,allowEmpty:n};let o=t.value;n||""!==o||(o=void 0),this.updateStateValue(e,o,i),t.error&&this.updateStateError(e,t.error,i)}}unRegister(e){const t=this.fields.get(e);try{t.keepState||(h.Od(this.data.values,e),h.Od(this.data.errors,e),h.Od(this.data.touched,e))}catch(r){console.error(`some thing wrong when unregister field:${e}`)}this.fields.delete(e),this._adapter.notifyChange(this.data),this._adapter.forceUpdate()}registerArrayField(e,t){this.updateArrayField(e,{updateKey:(new Date).valueOf(),initValue:t})}unRegisterArrayField(e){this.registeredArrayField.delete(e)}getArrayField(e){return this.registeredArrayField.get(e)}updateArrayField(e,t){const r=Object.assign(Object.assign({},this.registeredArrayField.get(e)),t);this.registeredArrayField.set(e,r)}validate(e){const{validateFields:t}=this.getProps();return t&&(0,u.Z)(t)?this._formValidate():this._fieldsValidate(e)}_formValidate(){const{values:e}=this.data,{validateFields:t}=this.getProps();return new Promise(((r,n)=>{let i;try{i=t(e)}catch(o){i=o}if(i)(0,f.Z)(i)?i.then((t=>{if(t)this.data.errors=t,this._adapter.notifyChange(this.data),this.injectErrorToField(t),this._adapter.forceUpdate(),this._autoScroll(100),n(t);else{const t=this._adapter.cloneDeep(e);r(t),this.injectErrorToField({})}}),(e=>{this._autoScroll(100),n(e)})):(this.data.errors=i,this.injectErrorToField(i),this._adapter.notifyChange(this.data),this._adapter.forceUpdate(),this._autoScroll(100),n(i));else{const t=this._adapter.cloneDeep(e);r(t),this.injectErrorToField({})}}))}_fieldsValidate(e){const{values:t}=this.data;return new Promise(((r,n)=>{let i=[];const o=this._getOperateFieldMap(e);o.forEach(((e,t)=>{const r=this.getValue(t),n={notNotify:!0,notUpdate:!0},o=e.fieldApi.validate(r,n);i.push(o),e.fieldApi.setTouched(!0,n)})),Promise.all(i).then((()=>{this._adapter.notifyChange(this.data),this._adapter.forceUpdate();const e=this.getError();if(this._isValid(o)){const e=this._adapter.cloneDeep(t);r(e)}else this._autoScroll(),n(e)}))}))}submit(e){const{values:t}=this.data;this.validate().then((t=>{const r=this._adapter.cloneDeep(t);this._adapter.notifySubmit(r,e)})).catch((r=>{const n=this._adapter.cloneDeep(r),i=this._adapter.cloneDeep(t);this._adapter.notifySubmitFail(n,i,e)}))}_getNestedField(e){const t=this.fields,r=[...t].map((e=>e[0]));let n=new Map;return r.forEach((r=>{let i=(0,l.Z)(r),o=(0,l.Z)(e);if(o.every(((e,t)=>o[t]===i[t]))){const e=t.get(r);n.set(r,e)}})),n}_getOperateFieldMap(e){let t=new Map;return(0,p.Z)(e)?t=this.fields:e.forEach((e=>{const r=this.fields.get(e);if((0,p.Z)(r)){const r=this._getNestedField(e);t=new Map([...t,...r])}else t.set(e,r)})),t}reset(e){this._getOperateFieldMap(e).forEach((e=>{e.fieldApi.reset()})),this.registeredArrayField.size&&this._resetArrayField(),this._adapter.notifyChange(this.data),this._adapter.forceUpdate(),this._adapter.notifyReset()}_resetArrayField(){[...this.registeredArrayField.keys()].forEach((e=>{const t=this.registeredArrayField.get(e).initValue;this.updateStateValue(e,t,{notNotify:!0,notUpdate:!0}),this.updateArrayField(e,{updateKey:(new Date).valueOf()})}))}injectErrorToField(e){this.fields.forEach((t=>{const r=h.U2(e,t.field);t.fieldApi.setError(r,{notNotify:!0,notUpdate:!0})}))}getValue(e,t){const r=void 0===e,n=t&&t.needClone;let i,o;switch(!0){case!r&&!n:i=h.U2(this.data.values,e);break;case!r&&n:o=h.U2(this.data.values,e),i=this._adapter.cloneDeep(o);break;case r&&!n:i=Object.assign({},this.data.values);break;case r&&n:i=this._adapter.cloneDeep(this.data.values)}return i}setValues(e,t){let{isOverride:r=!1}=t;const n=this._adapter.cloneDeep(e);if(this.fields.forEach((e=>{const t=h.U2(n,e.field);e.fieldApi.setValue(t,{notNotify:!0,notUpdate:!0})})),this.registeredArrayField.size){[...this.registeredArrayField.keys()].forEach((e=>{this.updateArrayField(e,{updateKey:(new Date).valueOf()})}))}r&&(this.data.values=n),this._adapter.notifyChange(this.data),this._adapter.notifyValueChange(this.data.values,Object.assign({},e)),this._adapter.forceUpdate()}updateStateValue(e,t,r,n){const i=r&&r.notNotify,o=r&&r.notUpdate,s=r&&r.fieldAllowEmpty,a=this.getProp("allowEmpty"),c=s||a;h.t8(this.data.values,e,t,c),i||(this._adapter.notifyChange(this.data),this._adapter.notifyValueChange(this.data.values,{[e]:t})),o||this._adapter.forceUpdate(n)}getTouched(e){return void 0===e?this.data.touched:h.U2(this.data.touched,e)}updateStateTouched(e,t,r,n){const i=r&&r.notNotify,o=r&&r.notUpdate;h.t8(this.data.touched,e,t),i||this._adapter.notifyChange(this.data),o||this._adapter.forceUpdate(n)}getError(e){return void 0===e?this.data.errors:h.U2(this.data.errors,e)}updateStateError(e,t,r,n){const i=r&&r.notNotify,o=r&&r.notUpdate;h.t8(this.data.errors,e,t),i||this._adapter.notifyChange(this.data),o||this._adapter.forceUpdate(n)}getFieldSetterApi(){return{setValue:(e,t,r)=>{const n=this.fields.get(e)?this.fields.get(e).fieldApi:void 0,i=this._adapter.cloneDeep(t);n?n.setValue(i,r):(this.updateStateValue(e,i,r,(()=>{let t=this._getNestedField(e);t.size&&t.forEach((e=>{let t=e.field,r=h.U2(this.data.values,t);e.fieldApi.setValue(r,{notNotify:!0,notUpdate:!0})}))})),this.getArrayField(e)&&this.updateArrayField(e,{updateKey:(new Date).valueOf()}))},setError:(e,t,r)=>{const n=this.fields.get(e)?this.fields.get(e).fieldApi:void 0,i=this._adapter.cloneDeep(t);n?n.setError(i,r):(this.updateStateError(e,i,r,(()=>{let t=this._getNestedField(e);t.size&&t.forEach((e=>{let t=e.field,r=h.U2(this.data.errors,t);e.fieldApi.setError(r,{notNotify:!0,notUpdate:!0})}))})),this.getArrayField(e)&&this.updateArrayField(e,{updateKey:(new Date).valueOf()}))},setTouched:(e,t,r)=>{const n=this.fields.get(e)?this.fields.get(e).fieldApi:void 0;n?n.setTouched(t,r):(this.updateStateTouched(e,t,r,(()=>{let t=this._getNestedField(e);t.size&&t.forEach((e=>{let t=e.field,r=h.U2(this.data.touched,t);e.fieldApi.setTouched(r,{notNotify:!0,notUpdate:!0})}))})),this.getArrayField(e)&&this.updateArrayField(e,{updateKey:(new Date).valueOf()}))}}}getModifyFormStateApi(){return{register:this.register,unRegister:this.unRegister,updateStateValue:this.updateStateValue,updateStateError:this.updateStateError,updateStateTouched:this.updateStateTouched,getValue:this.getValue,getError:this.getError,getTouched:this.getTouched,getInitValues:this.getInitValues,getInitValue:this.getInitValue,getFormProps:this.getFormProps,getField:this.getField,registerArrayField:this.registerArrayField,unRegisterArrayField:this.unRegisterArrayField,getArrayField:this.getArrayField,updateArrayField:this.updateArrayField}}getFormApi(){const e=this.getFieldSetterApi();return Object.assign(Object.assign({},e),{reset:e=>this.reset(e),validate:e=>this.validate(e),getValue:e=>this.getValue(e,{needClone:!0}),getValues:()=>this.getValue(void 0,{needClone:!0}),getFormState:()=>this.getFormState(!0),getInitValue:e=>this.getInitValue(e),getInitValues:()=>this.getInitValues(),getTouched:e=>this.getTouched(e),getError:e=>this.getError(e),setValues:(e,t)=>this.setValues(e,t||{isOverride:!1}),submitForm:()=>this.submit(),getFieldExist:e=>this.getFieldExist(e),scrollToField:(e,t)=>this.scrollToField(e,t)})}getFormState(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?this._adapter.cloneDeep(this.data):Object.assign({},this.data)}_isValid(e){let t=!0;if(e){[...e.keys()].forEach((e=>{const r=h.U2(this.data.errors,e);(0,g.JY)(r)||(t=!1)}))}else t=Boolean(h.cS(this.data.errors));return t}getInitValues(){return this._adapter.getInitValues()}getInitValue(e){return void 0===e?this._adapter.getInitValues():h.U2(this._adapter.getInitValues(),e)}getFormProps(e){return this._adapter.getFormProps(e)}getFieldExist(e){return Boolean(this.fields.has(e))}_autoScroll(e){const{autoScrollToError:t}=this.getFormProps();if(!t)return;let r={behavior:"smooth",block:"start"};"object"==typeof t&&(r=t),e?setTimeout((()=>this._getErrorFieldAndScroll(r)),100):this._getErrorFieldAndScroll(r)}_getErrorFieldAndScroll(e){const t=this._adapter.getAllErrorDOM();if(t&&t.length)try{const r=t[0].parentNode.parentNode;S(r,e)}catch(r){}}scrollToField(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{behavior:"smooth",block:"start"};if(this.getFieldExist(e)){const r=this._adapter.getFieldDOM(e);S(r,t)}}}var O=r(6903),x=r(74777),k=r(32890),C=r(76232),T=r(19503),j=r(61214),P=r(71894),I=r(60153),A=r(82433),D=r(69708),R=r(83873),M=r(75198),F=r(55055),N=r(27295),z=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const U=O.UX.PREFIX,B=e=>{let t,r,n,o,a,c="top";try{const e=(0,i.useContext)(T.kn).getFormProps(["labelPosition","labelWidth","labelAlign","labelCol","wrapperCol"]);t=e.labelCol,r=e.wrapperCol,n=e.labelWidth,o=e.labelAlign,c=e.labelPosition?e.labelPosition:c}catch(h){}e.labelPosition&&(c=e.labelPosition);let{children:l,label:u,className:p,style:d,error:h,noLabel:f}=e;z(e,["children","label","className","style","error","noLabel"]);const g=t&&r,m=s()({[`${U}-field`]:!0,[`${U}-slot`]:!0},p),y=s()({[`${U}-col-${o}`]:!0});switch(!0){case(0,A.Z)(u)&&!i.isValidElement(u):break;case(0,R.Z)(u)||(0,D.Z)(u):case i.isValidElement(u):u={text:u}}let v=null;if(void 0!==typeof h){let e={};switch(!0){case(0,A.Z)(h)&&!i.isValidElement(h):e=h;break;case(0,R.Z)(h)||(0,D.Z)(h):case i.isValidElement(h):e={error:h}}v=i.createElement(N.Z,Object.assign({},e))}let b=Object.assign({align:o,width:n},u),_=s()({[`${U}-field-main`]:!0,[`${U}-slot-main`]:!0});switch(!0){case!g&&!f:a=i.createElement(i.Fragment,null,i.createElement(M.Z,Object.assign({},b)),i.createElement("div",{className:_},l,v));break;case!g&&f:a=i.createElement(i.Fragment,null,i.createElement("div",{className:_},l,v));break;case g&&"top"===c:a=i.createElement(i.Fragment,null,i.createElement("div",{style:{overflow:"hidden"}},i.createElement(F.Z,Object.assign({},t,{className:y}),i.createElement(M.Z,Object.assign({},b)))),i.createElement(F.Z,null,l,v));break;case g&&"top"!==c:a=i.createElement(i.Fragment,null,i.createElement(F.Z,Object.assign({},t,{className:y}),i.createElement(M.Z,Object.assign({},b))),i.createElement(F.Z,null,l,v))}return i.createElement("div",{className:m,"x-label-pos":c,style:d},a)},L=O.UX.PREFIX;class $ extends i.PureComponent{render(){const{text:e,className:t,style:r,children:n}=this.props,o=s()({[L+"-section"]:!0},t),a=L+"-section-text";return i.createElement("section",{className:o,style:r},i.createElement("h5",{className:a},e),n)}}$.propTypes={text:c().node,className:c().string,style:c().object,children:c().node};var Z=r(10949),G=r(54029),H=r(75778),V=r(35043),K=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const W=H.UX.PREFIX,q=H.j2.SIZE;class X extends C.Z{renderGroupWithLabel(e){const t=this.props,{size:r,className:n,label:o,labelPosition:a}=t,c=(K(t,["size","className","label","labelPosition"]),s()({[`${W}-group-wrapper`]:!0,[`${W}-group-wrapper-with-top-label`]:"top"===a,[`${W}-group-wrapper-with-left-label`]:"left"===a})),l=s()(`${W}-group`,n,{[`${W}-${r}`]:"default"!==r}),u="input-group";return i.createElement("div",{className:c},o&&o.text?i.createElement(M.Z,Object.assign({name:u},o)):null,i.createElement("span",{role:"group","aria-disabled":this.props.disabled,id:o&&o.name||u,className:l,style:this.props.style,onFocus:this.props.onFocus,onBlur:this.props.onBlur},e))}render(){const e=this.props,{size:t,style:r,className:n,children:o,label:a,onBlur:c,onFocus:l,disabled:p}=e,d=K(e,["size","style","className","children","label","onBlur","onFocus","disabled"]),h=s()(`${W}-group`,{[`${W}-${t}`]:"default"!==t},n);let f;return o&&(f=(Array.isArray(o)?o:[o]).map(((e,r)=>{if(e){const{onBlur:n,onFocus:o,disabled:s}=e.props,a=(0,u.Z)(n)&&"noop"!==(0,G.Z)(n,"name")?n:c,h=(0,u.Z)(o)&&"noop"!==(0,G.Z)(o,"name")?o:l,f="boolean"==typeof s?s:p;return i.cloneElement(e,Object.assign(Object.assign({key:r},d),{size:t,onBlur:a,onFocus:h,disabled:f}))}return null}))),a&&a.text?this.renderGroupWithLabel(f):i.createElement("span",{role:"group","aria-label":"Input group","aria-disabled":this.props.disabled,className:h,style:r,onFocus:this.props.onFocus,onBlur:this.props.onBlur},f)}}X.propTypes={className:c().string,children:c().node,size:c().oneOf(q),style:c().object,onBlur:c().func,onFocus:c().func,label:c().object,labelPosition:c().string},X.defaultProps={size:"default",className:"",onBlur:V.Z,onFocus:V.Z};var J=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const Y=O.UX.PREFIX,Q=e=>{const{fieldSet:t}=e,r=(0,Z.Z)(),n=t.map((e=>h.U2(r.errors,e)));return(0,g.JY)(n)?null:i.createElement(N.Z,{error:n,showValidateIcon:e.showValidateIcon,isInInputGroup:e.isInInputGroup})};class ee extends i.Component{renderLabel(e,t){return e?(0,R.Z)(e)?i.createElement(M.Z,{width:t.labelWidth,text:e}):i.createElement(M.Z,Object.assign({width:t.labelWidth},e)):null}render(){const e=this.props,{children:t,label:r,extraText:n,extraTextPosition:o}=e,a=J(e,["children","label","extraText","extraTextPosition"]),c=this.context.getFormProps(["labelPosition","labelWidth","labelAlign","showValidateIcon","wrapperCol","labelCol","disabled"]),l=this.props.labelPosition||c.labelPosition,u=[],p=i.Children.map(t,(e=>e&&e.props&&e.props.field?(u.push(e.props.field),i.cloneElement(e,{isInInputGroup:!0})):null)),d=s()({[`${Y}-field-group`]:!0}),h=c.labelCol,f=c.wrapperCol,g=c.labelAlign,m=h&&f,y=h?`${Y}-col-${g}`:"",v=this.renderLabel(r,c),b=i.createElement(X,Object.assign({disabled:c.disabled},a),p),_=i.createElement(Q,{fieldSet:u,showValidateIcon:c.showValidateIcon,isInInputGroup:!0}),w=s()(`${Y}-field-extra`,{[`${Y}-field-extra-string`]:"string"==typeof n,[`${Y}-field-extra-middle`]:"middle"===o,[`${Y}-field-extra-bottom`]:"bottom"===o}),S=n?i.createElement("div",{className:w,"x-semi-prop":"extraText"},n):null;let E;switch(!0){case!m:E=i.createElement(i.Fragment,null,v,i.createElement("div",null,"middle"===o?S:null,b,"bottom"===o?S:null,_));break;case m&&"top"===l:E=i.createElement(i.Fragment,null,i.createElement("div",{style:{overflow:"hidden"}},i.createElement(F.Z,Object.assign({},h,{className:y}),v)),i.createElement(F.Z,Object.assign({},f),"middle"===o?S:null,b,"bottom"===o?S:null,_));break;case m&&"top"!==l:E=i.createElement(i.Fragment,null,i.createElement(F.Z,Object.assign({},h,{className:y}),v),i.createElement(F.Z,Object.assign({},f),"middle"===o?S:null,b,"bottom"===o?S:null,_))}return i.createElement("div",{"x-label-pos":l,className:d},E)}}ee.contextType=T.kn;const te=ee;var re=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const ne=O.UX.PREFIX;class ie extends C.Z{constructor(e){super(e),this.state={formId:""},(0,k.Z)(Boolean(e.component&&e.render),"[Semi Form] You should not use <Form component> and <Form render> in ths same time; <Form render> will be ignored"),(0,k.Z)(e.component&&e.children&&!(0,j.W8)(e.children),"[Semi Form] You should not use <Form component> and <Form>{children}</Form> in ths same time; <Form>{children}</Form> will be ignored"),(0,k.Z)(e.render&&e.children&&!(0,j.W8)(e.children),"[Semi Form] You should not use <Form render> and <Form>{children}</Form> in ths same time; <Form>{children}</Form> will be ignored"),this.submit=this.submit.bind(this),this.reset=this.reset.bind(this),this.foundation=new E(this.adapter),this.formApi=this.foundation.getFormApi(),this.props.getFormApi&&this.props.getFormApi(this.formApi)}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}get adapter(){return Object.assign(Object.assign({},super.adapter),{cloneDeep:I.Xh,notifySubmit:(e,t)=>{this.props.onSubmit(e,t)},notifySubmitFail:(e,t,r)=>{this.props.onSubmitFail(e,t,r)},forceUpdate:e=>{this.forceUpdate(e)},notifyChange:e=>{this.props.onChange(e)},notifyValueChange:(e,t)=>{this.props.onValueChange(e,t)},notifyReset:()=>{this.props.onReset()},initFormId:()=>{this.setState({formId:(0,x.Cd)()})},getInitValues:()=>this.props.initValues,getFormProps:e=>{if(void 0===e)return this.props;if("string"==typeof e)return this.props[e];{const t={};return e.forEach((e=>{t[e]=this.props[e]})),t}},getAllErrorDOM:()=>{const{formId:e}=this.state,{id:t}=this.props,r=t||e;return document.querySelectorAll(`form[x-form-id="${r}"] .${O.UX.PREFIX}-field-error-message`)},getFieldDOM:e=>document.querySelector(`.${O.UX.PREFIX}-field[x-field-id="${e}"]`)})}get content(){const{children:e,component:t,render:r}=this.props,n=this.foundation.getFormState(),o={formState:n,formApi:this.foundation.getFormApi(),values:n.values};return t?i.createElement(t,o):r?r(o):"function"==typeof e?e(o):e}submit(e){e.preventDefault(),this.foundation.submit(e)}reset(e){e.preventDefault(),this.foundation.reset()}render(){const e=this.foundation.getFormState(!1),t=this.foundation.getModifyFormStateApi(),{formId:r}=this.state,n=this.props,{children:o,getFormApi:a,onChange:c,onSubmit:l,onSubmitFail:u,onValueChange:p,component:d,render:h,validateFields:f,initValues:g,layout:m,style:y,className:v,labelPosition:b,labelWidth:_,labelAlign:w,labelCol:S,wrapperCol:E,allowEmpty:O,autoScrollToError:x,showValidateIcon:k,stopValidateWithError:C,extraTextPosition:j,id:I,trigger:A}=n,D=re(n,["children","getFormApi","onChange","onSubmit","onSubmitFail","onValueChange","component","render","validateFields","initValues","layout","style","className","labelPosition","labelWidth","labelAlign","labelCol","wrapperCol","allowEmpty","autoScrollToError","showValidateIcon","stopValidateWithError","extraTextPosition","id","trigger"]),R=s()(ne,v,{[ne+"-vertical"]:"vertical"===m,[ne+"-horizontal"]:"horizontal"===m}),M=E&&S,F=i.createElement("form",Object.assign({style:y},D,{onReset:this.reset,onSubmit:this.submit,className:R,"x-form-id":I||r}),this.content),N=i.createElement(P.Z,null,F);return i.createElement(T.kn.Provider,{value:t},i.createElement(T.mC.Provider,{value:this.formApi},i.createElement(T.Ar.Provider,{value:e},M?N:F)))}}ie.propTypes={"aria-label":c().string,onSubmit:c().func,onSubmitFail:c().func,onChange:c().func,onReset:c().func,onValueChange:c().func,autoScrollToError:c().oneOfType([c().bool,c().object]),allowEmpty:c().bool,className:c().string,component:c().oneOfType([c().node,c().func]),disabled:c().bool,extraTextPosition:c().oneOf(O.j2.EXTRA_POS),getFormApi:c().func,initValues:c().object,validateFields:c().func,layout:c().oneOf(O.j2.LAYOUT),labelPosition:c().oneOf(O.j2.LABEL_POS),labelWidth:c().oneOfType([c().number,c().string]),labelAlign:c().oneOf(O.j2.LABEL_ALIGN),labelCol:c().object,render:c().func,style:c().object,showValidateIcon:c().bool,stopValidateWithError:c().bool,id:c().string,wrapperCol:c().object,trigger:c().oneOfType([c().oneOf(["blur","change","custom","mount"]),c().arrayOf(c().oneOf(["blur","change","custom","mount"]))])},ie.defaultProps={onChange:n.Z,onSubmitFail:n.Z,onSubmit:n.Z,onReset:n.Z,onValueChange:n.Z,layout:"vertical",labelPosition:"top",allowEmpty:!1,autoScrollToError:!1,showValidateIcon:!0},ie.Slot=B,ie.ErrorMessage=N.Z,ie.InputGroup=te,ie.Label=M.Z,ie.Section=$;const oe=ie},19503:(e,t,r)=>{"use strict";r.d(t,{Ar:()=>i,f5:()=>a,kn:()=>s,mC:()=>o});var n=r(50959);const i=n.createContext({});i.displayName="FormState";const o=n.createContext({});o.displayName="FormApi";const s=n.createContext({});s.displayName="FormUpdater";const a=n.createContext({shouldUseInitValue:!0})},27295:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var n=r(50959),i=r(84875),o=r.n(i),s=r(41916),a=r.n(s),c=r(6903),l=r(40910),u=r(86756);const p=c.UX.PREFIX;class d extends n.PureComponent{generatorText(e){const{helpTextId:t,errorMessageId:r}=this.props;let i=r;if(this.props.error||(i=t),"string"==typeof e)return n.createElement("span",{id:i},e);if(Array.isArray(e)){const t=e.filter((e=>e));return t.length?n.createElement("span",{id:i},t.join(", ")):null}return n.isValidElement(e)?e:null}render(){const{error:e,className:t,style:r,validateStatus:i,helpText:s,showValidateIcon:a,isInInputGroup:c}=this.props,d=o()({[p+"-field-error-message"]:Boolean(e),[p+"-field-help-text"]:Boolean(s)},t);if(!e&&!s)return null;const h={warning:n.createElement(l.Z,null),error:n.createElement(u.Z,null)},f=e?this.generatorText(e):this.generatorText(s),g=`${p}-field-validate-status-icon`;let m=null;return c?m=n.createElement(u.Z,{className:g}):h[i]&&(m=n.cloneElement(h[i],{className:g})),n.createElement("div",{className:d,style:r},a&&f?m:null,f)}}d.propTypes={error:a().oneOfType([a().bool,a().string,a().array,a().node]),className:a().string,style:a().object,validateStatus:a().string,showValidateIcon:a().bool,helpText:a().node,isInInputGroup:a().bool,errorMessageId:a().string,helpTextId:a().string}},5455:(e,t,r)=>{"use strict";r.d(t,{Z:()=>w});var n=r(50959),i=r(84875),o=r.n(i),s=r(6903),a=r(25027),c=r(75181),l=r(19895),u=r(32890),p=r(10949),d=r(19503);const h=function(){return(0,n.useContext)(d.f5)};function f(e){const t=(0,n.useRef)(),[r,i]=(0,n.useState)(e);t.current=r;return[r,e=>{t.current=e,i(e)},()=>t.current]}var g=r(27295),m=r(61214),y=r(75198),v=r(55055);const b=s.UX.PREFIX,_="undefined"!=typeof window?n.useLayoutEffect:n.useEffect;const w=function(e,t){let r=(r,i)=>{let{field:s,label:w,labelPosition:S,labelWidth:E,labelAlign:O,labelCol:x,wrapperCol:k,noLabel:C,noErrorMessage:T,isInInputGroup:j,initValue:P,validate:I,validateStatus:A,trigger:D,allowEmptyString:R,allowEmpty:M,emptyValue:F,rules:N,required:z,keepState:U,transform:B,name:L,fieldClassName:$,fieldStyle:Z,convert:G,stopValidateWithError:H,helpText:V,extraText:K,extraTextPosition:W,pure:q,id:X,rest:J}=(0,a.dG)(r),{options:Y,shouldInject:Q}=(0,a.JH)(t,r);if((0,u.Z)(void 0===s&&Y.shouldInject,"[Semi Form]: 'field' is required, please check your props of Field Component"),!Q)return n.createElement(e,Object.assign({},J,{ref:i}));(0,p.Z)();const ee=(0,n.useContext)(d.kn);if(!ee.getFormProps)return(0,u.Z)(!0,"[Semi Form]: Field Component must be use inside the Form, please check your dom declaration"),null;let te,re=ee.getFormProps(["labelPosition","labelWidth","labelAlign","labelCol","wrapperCol","disabled","showValidateIcon","extraTextPosition","stopValidateWithError","trigger"]),ne=S||re.labelPosition,ie=E||re.labelWidth,oe=O||re.labelAlign,se=x||re.labelCol,ae=k||re.wrapperCol,ce=W||re.extraTextPosition||"bottom",le=(0,a.Fs)(H,re.stopValidateWithError,!1),ue=(0,a.TM)(D,re.trigger),pe=void 0!==s?ee.getValue(s):void 0,de=void 0!==P?P:pe;try{te=h(),te&&(de=te.shouldUseInitValue&&void 0!==P?P:pe)}catch(He){}const[he,fe,ge]=f(void 0!==typeof de?de:null),me=ue.includes("mount");M=M||ee.getFormProps().allowEmpty;const[ye,ve,be]=f(),[_e,we]=(0,n.useState)(),[Se,Ee,Oe]=f(0),[xe,ke]=(0,n.useState)(A),Ce=(0,n.useRef)(N),Te=(0,n.useRef)(I),je=(0,n.useRef)(null),Pe=(e,t)=>{we(e),ee.updateStateTouched(s,e,t)},Ie=(e,t)=>{e!==be()&&(ve(e),ee.updateStateError(s,e,t),(0,a.JY)(e)?ke("success"):ke("error"))},Ae=(e,t)=>{fe(e);let r=Object.assign(Object.assign({},t),{allowEmpty:M});ee.updateStateValue(s,e,r)},De=(e,t)=>{let r=e,n=Ce.current;return B&&(r=B(e)),Te.current?((e,t,r)=>{const n=new Promise((i=>{let o;try{o=Te.current(e,t)}catch(He){o=He}void 0===o?(i({}),Ie(void 0,r)):(0,l.Z)(o)?o.then((e=>{je.current===n&&((0,a.JY)(e)?(Ie(void 0,r),i(null)):(Ie(e,r),i(e)))})):(0,a.JY)(o)?(Ie(void 0,r),i(null)):(Ie(o,r),i(o))}));return je.current=n,n})(r,ee.getValue(),t):n?((e,t)=>{let r=Ce.current||[];const n=(0,a.G$)(s,r),i={[s]:e},o=new Promise(((e,r)=>{n.validate(i,{first:le},((e,t)=>{})).then((r=>{je.current===o&&(ke("success"),Ie(void 0,t),e({}))})).catch((r=>{if(je.current!==o)return;let{errors:n,fields:i}=r;if(!n||!i)throw ke("error"),Ie(r.message,t),e(r.message),r;{let r=n.map((e=>e.message));1===r.length&&(r=r[0]),Ie(r,t),(0,a.JY)(r)||(ke("error"),e(n))}}))}));return je.current=o,o})(r,t):null},Re=function(e,t){let n;if(Y.onKeyChangeFnName in r&&"function"==typeof r[Y.onKeyChangeFnName]){for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];r[Y.onKeyChangeFnName](e,t,...o)}n=Y.valuePath?c.U2(e,Y.valuePath):e,"function"==typeof G&&(n=G(n)),R||M||n===F&&(n=void 0);try{t&&t.target&&t.target.selectionStart&&Ee(t.target.selectionStart)}catch(He){}Pe(!0,{notNotify:!0,notUpdate:!0}),Ae(n),ue.includes("change")&&De(n)},Me=function(){if(r.onBlur&&r.onBlur(...arguments),_e||Pe(!0),ue.includes("blur")){let e=ge();De(e)}},Fe={setValue:Ae,setTouched:Pe,setError:Ie,reset:()=>{let e={notNotify:!0,notUpdate:!0};Ae(null!==de?de:void 0,e),Ie(void 0,e),Pe(void 0,e),ke("default")},validate:De},Ne={value:he,error:ye,touched:_e,status:xe};_((()=>{Ce.current=N,Te.current=I}),[N,I]),_((()=>{me&&De(he)}),[]),_((()=>{if(void 0===s)return()=>{};const e=ge();return ee.register(s,{value:e,error:ye,touched:_e,status:xe},{field:s,fieldApi:Fe,keepState:U,allowEmpty:M||R}),()=>{ee.unRegister(s)}}),[s]);const ze=X||s,Ue=`${ze}-label`,Be=`${ze}-helpText`,Le=`${ze}-extraText`,$e=`${ze}-errormessage`,Ze=()=>{let t=A||xe;const r=o()(`${b}-field-extra`,{[`${b}-field-extra-string`]:"string"==typeof K,[`${b}-field-extra-middle`]:"middle"===ce,[`${b}-field-extra-bottom`]:"bottom"===ce}),a=K?n.createElement("div",{className:r,id:Le,"x-semi-prop":"extraText"},K):null;let c=Object.assign(Object.assign({id:ze,disabled:re.disabled},J),{ref:i,onBlur:Me,[Y.onKeyChangeFnName]:Re,[Y.valueKey]:he,validateStatus:t,"aria-required":z,"aria-labelledby":Ue});L&&(c.name=L),V&&(c["aria-describedby"]=K?`${Be} ${Le}`:Be),K&&(c["aria-describedby"]=V?`${Be} ${Le}`:Le),"error"===xe&&(c["aria-errormessage"]=$e,c["aria-invalid"]=!0);const l=o()({[`${b}-field`]:!0,[`${b}-field-${L}`]:Boolean(L),[$]:Boolean($)}),u=o()({[`${b}-field-main`]:!0});"inset"!==ne||C||(c.insetLabel=w||s,c.insetLabelId=Ue,"object"!=typeof w||(0,m.kK)(w)||(c.insetLabel=w.text,c.insetLabelId=Ue));const p=n.createElement(e,Object.assign({},c));if(j)return p;if(q){let t=o()(J.className,{[`${b}-field-pure`]:!0,[`${b}-field-${L}`]:Boolean(L),[$]:Boolean($)});return c.className=t,n.createElement(e,Object.assign({},c))}let d=se&&ae;const h=oe?`${b}-col-${oe}`:"";let f=null;if(!C&&"inset"!==ne){let e="object"!=typeof w||(0,m.kK)(w)?{}:w;f=n.createElement(y.Z,Object.assign({text:w||s,id:Ue,required:z,name:ze||L||s,width:ie,align:oe},e))}const _=n.createElement("div",{className:u},"middle"===ce?a:null,p,T?null:n.createElement(g.Z,{error:ye,validateStatus:t,helpText:V,helpTextId:Be,errorMessageId:$e,showValidateIcon:re.showValidateIcon}),"bottom"===ce?a:null),S=n.createElement(n.Fragment,null,"top"===ne?n.createElement("div",{style:{overflow:"hidden"}},n.createElement(v.Z,Object.assign({},se,{className:h}),f)):n.createElement(v.Z,Object.assign({},se,{className:h}),f),n.createElement(v.Z,Object.assign({},ae),_));return n.createElement("div",{className:l,style:Z,"x-label-pos":ne,"x-field-id":s,"x-extra-pos":ce},d?S:n.createElement(n.Fragment,null,f,_))},Ge=[...Object.values(Ne),...Object.values(r),s,ne,oe,re.disabled];return Y.shouldMemo?(0,n.useMemo)(Ze,[...Ge]):Ze()};return r=(0,n.forwardRef)(r),r.displayName=(0,a.Gf)(e),r}},10949:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(50959),i=r(19503);const o=function(){return(0,n.useContext)(i.Ar)}},75198:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var n=r(50959),i=r(84875),o=r.n(i),s=r(41916),a=r.n(s),c=r(6903),l=r(32006);const u=c.UX.PREFIX;class p extends n.PureComponent{render(){const{children:e,required:t,text:r,disabled:i,name:s,width:a,align:c,style:p,className:d,extra:h,id:f,optional:g}=this.props,m=o()(d,{[`${u}-field-label`]:!0,[`${u}-field-label-left`]:"left"===c,[`${u}-field-label-right`]:"right"===c,[`${u}-field-label-required`]:t,[`${u}-field-label-disabled`]:i,[`${u}-field-label-with-extra`]:h}),y=p||{};a&&(y.width=a);const v=n.createElement(l.Z,{componentName:"Form"},(e=>n.createElement("span",{className:`${u}-field-label-optional-text`},e.optional))),b=n.createElement("div",{className:`${u}-field-label-text`,"x-semi-prop":"label"},void 0!==r?r:e,g?v:null),_=n.createElement(n.Fragment,null,b,n.createElement("div",{className:`${u}-field-label-extra`},h));return n.createElement("label",{className:m,htmlFor:s,style:y,id:f},h?_:b)}}p.defaultProps={required:!1,name:"",align:"left",className:"",optional:!1},p.propTypes={id:a().string,children:a().node,required:a().bool,text:a().node,disabled:a().bool,name:a().string,align:a().string,width:a().oneOfType([a().number,a().string]),style:a().object,className:a().string,extra:a().node,optional:a().bool}},55055:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var n=r(50959),i=r(41916),o=r.n(i),s=r(71894),a=r(84875),c=r.n(a),l=r(66380),u=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const p=o().oneOfType([o().object,o().number]);class d extends n.Component{render(){const{props:e}=this,{prefixCls:t,span:r,order:i,offset:o,push:s,pull:a,className:l,children:p}=e,d=u(e,["prefixCls","span","order","offset","push","pull","className","children"]);let h={};const f=`${t}-col`;["xs","sm","md","lg","xl","xxl"].forEach((t=>{let r={};"number"==typeof e[t]?r.span=e[t]:"object"==typeof e[t]&&(r=e[t]||{}),delete d[t],h=Object.assign(Object.assign({},h),{[`${f}-${t}-${r.span}`]:void 0!==r.span,[`${f}-${t}-order-${r.order}`]:r.order||0===r.order,[`${f}-${t}-offset-${r.offset}`]:r.offset||0===r.offset,[`${f}-${t}-push-${r.push}`]:r.push||0===r.push,[`${f}-${t}-pull-${r.pull}`]:r.pull||0===r.pull})}));const g=c()(f,{[`${f}-${r}`]:void 0!==r,[`${f}-order-${i}`]:i,[`${f}-offset-${o}`]:o,[`${f}-push-${s}`]:s,[`${f}-pull-${a}`]:a},l,h);let m,{style:y}=d;try{m=this.context.gutters}catch(v){throw new Error("please make sure <Col> inside <Row>")}return y=Object.assign(Object.assign(Object.assign({},m[0]>0?{paddingLeft:m[0]/2,paddingRight:m[0]/2}:{}),m[1]>0?{paddingTop:m[1]/2,paddingBottom:m[1]/2}:{}),y),n.createElement("div",Object.assign({},d,{style:y,className:g,"x-semi-prop":"children"}),p)}}d.contextType=s.g,d.propTypes={span:o().number,order:o().number,offset:o().number,push:o().number,pull:o().number,className:o().string,children:o().node,xs:p,sm:p,md:p,lg:p,xl:p,xxl:p,prefixCls:o().string},d.defaultProps={prefixCls:l.U.PREFIX};const h=d},71894:(e,t,r)=>{"use strict";r.d(t,{g:()=>d,Z:()=>g});var n=r(50959),i=r(84875),o=r.n(i),s=r(41916),a=r.n(s),c=r(66380),l=r(60153),u=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const p=["xxl","xl","lg","md","sm","xs"],d=n.createContext(null),h={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"};class f extends n.Component{constructor(){super(...arguments),this.state={screens:{xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}},this.unRegisters=[]}componentDidMount(){this.unRegisters=Object.keys(h).map((e=>(0,l.ql)(h[e],{match:()=>{"object"==typeof this.props.gutter&&this.setState((t=>({screens:Object.assign(Object.assign({},t.screens),{[e]:!0})})))},unmatch:()=>{"object"==typeof this.props.gutter&&this.setState((t=>({screens:Object.assign(Object.assign({},t.screens),{[e]:!1})})))}})))}componentWillUnmount(){this.unRegisters.forEach((e=>e()))}getGutter(){const{gutter:e=0}=this.props,t=[0,0];return(Array.isArray(e)?e.slice(0,2):[e,0]).forEach(((e,r)=>{if("object"==typeof e)for(let n=0;n<p.length;n++){const i=p[n];if(this.state.screens[i]&&void 0!==e[i]){t[r]=e[i];break}}else t[r]=e||0})),t}render(){const e=this.props,{prefixCls:t,type:r,justify:i,align:s,className:a,style:c,children:l}=e,p=u(e,["prefixCls","type","justify","align","className","style","children"]),h=this.getGutter(),f=`${t}-row`,g=o()({[f]:"flex"!==r,[`${f}-${r}`]:r,[`${f}-${r}-${i}`]:r&&i,[`${f}-${r}-${s}`]:r&&s},a),m=Object.assign(Object.assign(Object.assign({},h[0]>0?{marginLeft:h[0]/-2,marginRight:h[0]/-2}:{}),h[1]>0?{marginTop:h[1]/-2,marginBottom:h[1]/-2}:{}),c),y=Object.assign({},p);return delete y.gutter,n.createElement(d.Provider,{value:{gutters:h}},n.createElement("div",Object.assign({},y,{className:g,style:m,"x-semi-prop":"children"}),l))}}f.propTypes={type:a().oneOf(["flex"]),align:a().oneOf(["top","middle","bottom"]),justify:a().oneOf(["start","end","center","space-around","space-between"]),className:a().string,style:a().object,children:a().node,gutter:a().oneOfType([a().object,a().number,a().array]),prefixCls:a().string},f.defaultProps={prefixCls:c.U.PREFIX},f.RowContext={gutters:a().any};const g=f},55550:(e,t,r)=>{"use strict";r.d(t,{Z:()=>I});var n=r(71180),i=r(88987),o=r(55883),s=r(83873),a=r(50959),c=r(84875),l=r.n(c),u=r(41916),p=r.n(u),d=r(69708),h=r(19780),f=r(1714),g=r(75778),m=r(75108);class y extends f.Z{static get inputDefaultAdapter(){return{notifyChange:o.Z,setValue:o.Z}}constructor(e){super(Object.assign(Object.assign({},y.inputDefaultAdapter),e))}init(){this._setInitValue()}destroy(){this._timer&&(clearTimeout(this._timer),this._timer=null)}setDisable(){}_setInitValue(){const{defaultValue:e,value:t}=this.getProps();let r=e;this._isControlledComponent()&&(r=t),this._adapter.setValue(r)}setValue(e){this._adapter.setValue(e)}handleChange(e,t){const{maxLength:r,minLength:n,getValueLength:o}=this._adapter.getProps();let s=e;r&&(0,i.Z)(o)&&(s=this.handleVisibleMaxLength(e)),n&&(0,i.Z)(o)&&this.handleVisibleMinLength(s),this._isControlledComponent()||this._adapter.setValue(s),this._adapter.notifyChange(s,t)}handleVisibleMinLength(e){const{minLength:t,getValueLength:r}=this._adapter.getProps(),{minLength:n}=this._adapter.getStates();if((0,d.Z)(t)&&t>=0&&(0,i.Z)(r)&&(0,s.Z)(e)){const i=r(e);if(i<t){const r=e.length+(t-i);r!==n&&this._adapter.setMinLength(r)}else n!==t&&this._adapter.setMinLength(t)}}handleVisibleMaxLength(e){const{maxLength:t,getValueLength:r}=this._adapter.getProps();if((0,d.Z)(t)&&t>=0&&(0,i.Z)(r)&&(0,s.Z)(e)){if(r(e)>t){console.warn("[Semi Input] The input character is truncated because the input length exceeds the maximum length limit");return this.handleTruncateValue(e,t)}return e}}handleTruncateValue(e,t){const{getValueLength:r}=this._adapter.getProps();if((0,i.Z)(r)){let n="";for(let i=1,o=e.length;i<=o;i++){const o=e.slice(0,i);if(r(o)>t)return n;n=o}return n}return e.slice(0,t)}handleClear(e){let t=e;this._isControlledComponent("value")?this._adapter.setState({isFocus:!1}):this._adapter.setState({value:"",isFocus:!1}),t&&"object"==typeof t||(t={}),(0,h.Z)(t,g.j2.CLEARBTN_CLICKED_EVENT_FLAG,!0),this._adapter.notifyChange("",t),this._adapter.notifyClear(t),t&&this.stopPropagation(t)}handleClick(e){const{disabled:t}=this._adapter.getProps(),{isFocus:r}=this._adapter.getStates();t||r||this._adapter.isEventTarget(e)&&(this._adapter.focusInput(),this._adapter.toggleFocusing(!0))}handleModeChange(e){"password"===e?this._adapter.setEyeClosed(!0):this._adapter.setEyeClosed(!1)}handleClickEye(e){const t=this._adapter.getState("eyeClosed");this._adapter.focusInput(),this._adapter.toggleFocusing(!0),this._adapter.setEyeClosed(!t)}handleInputType(e){const t=this._adapter.getProp("mode"),r=this._adapter.getState("eyeClosed");return"password"===t?r?"password":"text":e}handleMouseDown(e){e.preventDefault()}handleMouseUp(e){e.preventDefault()}handleBlur(e){const{value:t}=this.getStates();this._adapter.toggleFocusing(!1),this._adapter.notifyBlur(t,e)}handleFocus(e){const{value:t}=this.getStates();this._adapter.toggleFocusing(!0),this._adapter.notifyFocus(t,e)}handleInput(e){this._adapter.notifyInput(e)}handleKeyDown(e){this._adapter.notifyKeyDown(e)}handleKeyUp(e){this._adapter.notifyKeyUp(e)}handleKeyPress(e){this._adapter.notifyKeyPress(e),e.key===m.q7&&this._adapter.notifyEnterPress(e)}isAllowClear(){const{value:e,isFocus:t,isHovering:r}=this._adapter.getStates(),{showClear:n,disabled:i,showClearIgnoreDisabled:o}=this._adapter.getProps();return e&&n&&(!i||o)&&(t||r)}handleClickPrefixOrSuffix(e){const{disabled:t}=this._adapter.getProps(),{isFocus:r}=this._adapter.getStates();t||r||(this._adapter.focusInput(),this._adapter.toggleFocusing(!0))}handlePreventMouseDown(e){e&&(0,i.Z)(e.preventDefault)&&e.preventDefault()}handleModeEnterPress(e){["Enter"," "].includes(null==e?void 0:e.key)&&(this.handlePreventMouseDown(e),this.handleClickEye(e))}}const v=y;var b=r(60153),_=r(76232),w=r(91890),S=r(95571);const E=(0,S.A)((function(e){return a.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.7071 3.70711C22.0976 3.31658 22.0976 2.68342 21.7071 2.29289C21.3166 1.90237 20.6834 1.90237 20.2929 2.29289L17.3135 5.27233C15.8114 4.50566 14.0321 4 12 4C5 4 1 10 1 12C1 13.1757 2.38219 15.7335 4.94345 17.6423L2.29289 20.2929C1.90237 20.6834 1.90237 21.3166 2.29289 21.7071C2.68342 22.0976 3.31658 22.0976 3.70711 21.7071L21.7071 3.70711ZM7.8284 14.7574L9.29237 13.2934C9.10495 12.9018 9 12.4631 9 12C9 10.3431 10.3431 9 12 9C12.4631 9 12.9018 9.10495 13.2934 9.29237L14.7574 7.8284C13.967 7.30488 13.0191 7 12 7C9.23858 7 7 9.23858 7 12C7 13.0191 7.30488 13.967 7.8284 14.7574Z",fill:"currentColor"}),a.createElement("path",{d:"M12 20C10.7789 20 9.64914 19.8174 8.61594 19.5054L11.1871 16.9342C11.4516 16.9775 11.7232 17 12 17C14.7614 17 17 14.7614 17 12C17 11.7232 16.9775 11.4516 16.9342 11.1871L20.5032 7.61808C22.1342 9.27317 23 11.0695 23 12C23 14 19 20 12 20Z",fill:"currentColor"}))}),"eye_closed_solid");const O=(0,S.A)((function(e){return a.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4C5 4 1 10 1 12C1 14 5 20 12 20C19 20 23 14 23 12C23 10 19 4 12 4ZM17 12C17 14.7614 14.7614 17 12 17C9.23858 17 7 14.7614 7 12C7 9.23858 9.23858 7 12 7C14.7614 7 17 9.23858 17 12ZM12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z",fill:"currentColor"}))}),"eye_opened");var x=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const k=g.UX.PREFIX,C=g.j2.SIZE,T=g.j2.STATUS,j=g.j2.MODE;class P extends _.Z{constructor(e){super(e),this.handleClear=e=>{this.foundation.handleClear(e)},this.handleClick=e=>{this.foundation.handleClick(e)},this.handleMouseOver=e=>{this.setState({isHovering:!0})},this.handleMouseLeave=e=>{this.setState({isHovering:!1})},this.handleModeChange=e=>{this.foundation.handleModeChange(e)},this.handleClickEye=e=>{this.foundation.handleClickEye(e)},this.handleMouseDown=e=>{this.foundation.handleMouseDown(e)},this.handleMouseUp=e=>{this.foundation.handleMouseUp(e)},this.handleModeEnterPress=e=>{this.foundation.handleModeEnterPress(e)},this.handleClickPrefixOrSuffix=e=>{this.foundation.handleClickPrefixOrSuffix(e)},this.handlePreventMouseDown=e=>{this.foundation.handlePreventMouseDown(e)},this.state={value:"",cachedValue:null,disabled:!1,props:{},isFocus:!1,isHovering:!1,eyeClosed:"password"===e.mode,minLength:e.minLength},this.inputRef=a.createRef(),this.prefixRef=a.createRef(),this.suffixRef=a.createRef(),this.foundation=new v(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{setValue:e=>this.setState({value:e}),setEyeClosed:e=>this.setState({eyeClosed:e}),toggleFocusing:e=>{this.setState({isFocus:e})},focusInput:()=>{const{preventScroll:e}=this.props,t=this.inputRef&&this.inputRef.current;t&&t.focus({preventScroll:e})},toggleHovering:e=>this.setState({isHovering:e}),getIfFocusing:()=>this.state.isFocus,notifyChange:(e,t)=>this.props.onChange(e,t),notifyBlur:(e,t)=>this.props.onBlur(t),notifyFocus:(e,t)=>this.props.onFocus(t),notifyInput:e=>this.props.onInput(e),notifyKeyPress:e=>this.props.onKeyPress(e),notifyKeyDown:e=>this.props.onKeyDown(e),notifyKeyUp:e=>this.props.onKeyUp(e),notifyEnterPress:e=>this.props.onEnterPress(e),notifyClear:e=>this.props.onClear(e),setMinLength:e=>this.setState({minLength:e}),isEventTarget:e=>e&&e.target===e.currentTarget})}static getDerivedStateFromProps(e,t){const r={};return e.value!==t.cachedValue&&(r.value=e.value,r.cachedValue=e.value),r}componentDidUpdate(e){const{mode:t}=this.props;e.mode!==t&&this.handleModeChange(t)}componentDidMount(){this.foundation.init();const{disabled:e,autoFocus:t,preventScroll:r}=this.props;e||!t&&!this.props.autofocus||this.inputRef.current.focus({preventScroll:r})}renderPrepend(){const{addonBefore:e}=this.props;if(e){const t=l()({[`${k}-prepend`]:!0,[`${k}-prepend-text`]:e&&(0,s.Z)(e),[`${k}-prepend-icon`]:(0,b.ID)(e)});return a.createElement("div",{className:t,"x-semi-prop":"addonBefore"},e)}return null}renderAppend(){const{addonAfter:e}=this.props;if(e){const t=l()({[`${k}-append`]:!0,[`${k}-append-text`]:e&&(0,s.Z)(e),[`${k}-append-icon`]:(0,b.ID)(e)});return a.createElement("div",{className:t,"x-semi-prop":"addonAfter"},e)}return null}renderClearBtn(){const e=l()(`${k}-clearbtn`),{clearIcon:t}=this.props;return this.foundation.isAllowClear()?a.createElement("div",{className:e,onMouseDown:this.handleClear},t||a.createElement(w.Z,null)):null}renderModeBtn(){const{eyeClosed:e}=this.state,{mode:t,disabled:r}=this.props,n=l()(`${k}-modebtn`),i=e?a.createElement(E,null):a.createElement(O,null),o=e?"Show password":"Hidden password";return"password"===t&&!r?a.createElement("div",{role:"button",tabIndex:0,"aria-label":o,className:n,onClick:this.handleClickEye,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onKeyPress:this.handleModeEnterPress},i):null}renderPrefix(){const{prefix:e,insetLabel:t,insetLabelId:r}=this.props,n=e||t;if(!n)return null;const i=l()({[`${k}-prefix`]:!0,[`${k}-inset-label`]:t,[`${k}-prefix-text`]:n&&(0,s.Z)(n),[`${k}-prefix-icon`]:(0,b.ID)(n)});return a.createElement("div",{className:i,onMouseDown:this.handlePreventMouseDown,onClick:this.handleClickPrefixOrSuffix,id:r,"x-semi-prop":"prefix,insetLabel"},n)}renderSuffix(e){const{suffix:t,hideSuffix:r}=this.props;if(!t)return null;const n=l()({[`${k}-suffix`]:!0,[`${k}-suffix-text`]:t&&(0,s.Z)(t),[`${k}-suffix-icon`]:(0,b.ID)(t),[`${k}-suffix-hidden`]:e&&Boolean(r)});return a.createElement("div",{className:n,onMouseDown:this.handlePreventMouseDown,onClick:this.handleClickPrefixOrSuffix,"x-semi-prop":"suffix"},t)}getInputRef(){const{forwardRef:e}=this.props;if(!(0,n.Z)(e)){if("function"==typeof e)return t=>{e(t),this.inputRef={current:t}};if("[object Object]"===Object.prototype.toString.call(e))return this.inputRef=e,e}return this.inputRef}render(){const e=this.props,{addonAfter:t,addonBefore:r,autoFocus:n,clearIcon:o,className:s,disabled:c,defaultValue:u,placeholder:p,prefix:d,mode:h,insetLabel:f,insetLabelId:g,validateStatus:m,type:y,readonly:v,size:_,suffix:w,style:S,showClear:E,onEnterPress:O,onClear:C,hideSuffix:T,inputStyle:j,forwardRef:P,maxLength:I,getValueLength:A,preventScroll:D,borderless:R,showClearIgnoreDisabled:M}=e,F=x(e,["addonAfter","addonBefore","autoFocus","clearIcon","className","disabled","defaultValue","placeholder","prefix","mode","insetLabel","insetLabelId","validateStatus","type","readonly","size","suffix","style","showClear","onEnterPress","onClear","hideSuffix","inputStyle","forwardRef","maxLength","getValueLength","preventScroll","borderless","showClearIgnoreDisabled"]),{value:N,isFocus:z,minLength:U}=this.state,B=this.foundation.isAllowClear(),L=(0,b.ID)(w),$=this.getInputRef(),Z=`${k}-wrapper`,G=l()(Z,s,{[`${k}-wrapper__with-prefix`]:d||f,[`${k}-wrapper__with-suffix`]:w,[`${k}-wrapper__with-suffix-hidden`]:B&&Boolean(T),[`${k}-wrapper__with-suffix-icon`]:L,[`${k}-wrapper__with-append`]:r,[`${k}-wrapper__with-prepend`]:t,[`${k}-wrapper__with-append-only`]:r&&!t,[`${k}-wrapper__with-prepend-only`]:!r&&t,[`${Z}-readonly`]:v,[`${Z}-disabled`]:c,[`${Z}-warning`]:"warning"===m,[`${Z}-error`]:"error"===m,[`${Z}-focus`]:z,[`${Z}-clearable`]:E,[`${Z}-modebtn`]:"password"===h,[`${Z}-hidden`]:"hidden"===y,[`${Z}-${_}`]:_,[`${k}-borderless`]:R}),H=l()(k,{[`${k}-${_}`]:_,[`${k}-disabled`]:c,[`${k}-sibling-clearbtn`]:this.foundation.isAllowClear(),[`${k}-sibling-modebtn`]:"password"===h}),V=null==N?"":N,K=Object.assign(Object.assign({},F),{style:j,className:H,disabled:c,readOnly:v,type:this.foundation.handleInputType(y),placeholder:p,onInput:e=>this.foundation.handleInput(e),onChange:e=>this.foundation.handleChange(e.target.value,e),onFocus:e=>this.foundation.handleFocus(e),onBlur:e=>this.foundation.handleBlur(e),onKeyUp:e=>this.foundation.handleKeyUp(e),onKeyDown:e=>this.foundation.handleKeyDown(e),onKeyPress:e=>this.foundation.handleKeyPress(e),value:V});return(0,i.Z)(A)||(K.maxLength=I),U&&(K.minLength=U),"error"===m&&(K["aria-invalid"]="true"),a.createElement("div",{className:G,style:S,onMouseEnter:e=>this.handleMouseOver(e),onMouseLeave:e=>this.handleMouseLeave(e),onClick:e=>this.handleClick(e)},this.renderPrepend(),this.renderPrefix(),a.createElement("input",Object.assign({},K,{ref:$})),this.renderClearBtn(),this.renderSuffix(B),this.renderModeBtn(),this.renderAppend())}}P.propTypes={"aria-label":p().string,"aria-labelledby":p().string,"aria-invalid":p().bool,"aria-errormessage":p().string,"aria-describedby":p().string,"aria-required":p().bool,addonBefore:p().node,addonAfter:p().node,clearIcon:p().node,prefix:p().node,suffix:p().node,mode:p().oneOf(j),value:p().any,defaultValue:p().any,disabled:p().bool,readonly:p().bool,autoFocus:p().bool,type:p().string,showClear:p().bool,hideSuffix:p().bool,placeholder:p().any,size:p().oneOf(C),className:p().string,style:p().object,validateStatus:p().oneOf(T),onClear:p().func,onChange:p().func,onBlur:p().func,onFocus:p().func,onInput:p().func,onKeyDown:p().func,onKeyUp:p().func,onKeyPress:p().func,onEnterPress:p().func,insetLabel:p().node,insetLabelId:p().string,inputStyle:p().object,getValueLength:p().func,preventScroll:p().bool,borderless:p().bool},P.defaultProps={addonBefore:"",addonAfter:"",prefix:"",suffix:"",readonly:!1,type:"text",showClear:!1,hideSuffix:!1,placeholder:"",size:"default",className:"",onClear:o.Z,onChange:o.Z,onBlur:o.Z,onFocus:o.Z,onInput:o.Z,onKeyDown:o.Z,onKeyUp:o.Z,onKeyPress:o.Z,onEnterPress:o.Z,validateStatus:"default",borderless:!1};const I=a.forwardRef(((e,t)=>a.createElement(P,Object.assign({},e,{forwardRef:t}))))},32006:(e,t,r)=>{"use strict";r.d(t,{Z:()=>O});var n=r(54029),i=r(50959),o=r(41916),s=r.n(o);const a=i.createContext(null);var c=r(25691),l={lessThanXSeconds:{one:"\u4e0d\u5230 1 \u79d2",other:"\u4e0d\u5230 {{count}} \u79d2"},xSeconds:{one:"1 \u79d2",other:"{{count}} \u79d2"},halfAMinute:"\u534a\u5206\u949f",lessThanXMinutes:{one:"\u4e0d\u5230 1 \u5206\u949f",other:"\u4e0d\u5230 {{count}} \u5206\u949f"},xMinutes:{one:"1 \u5206\u949f",other:"{{count}} \u5206\u949f"},xHours:{one:"1 \u5c0f\u65f6",other:"{{count}} \u5c0f\u65f6"},aboutXHours:{one:"\u5927\u7ea6 1 \u5c0f\u65f6",other:"\u5927\u7ea6 {{count}} \u5c0f\u65f6"},xDays:{one:"1 \u5929",other:"{{count}} \u5929"},aboutXWeeks:{one:"\u5927\u7ea6 1 \u4e2a\u661f\u671f",other:"\u5927\u7ea6 {{count}} \u4e2a\u661f\u671f"},xWeeks:{one:"1 \u4e2a\u661f\u671f",other:"{{count}} \u4e2a\u661f\u671f"},aboutXMonths:{one:"\u5927\u7ea6 1 \u4e2a\u6708",other:"\u5927\u7ea6 {{count}} \u4e2a\u6708"},xMonths:{one:"1 \u4e2a\u6708",other:"{{count}} \u4e2a\u6708"},aboutXYears:{one:"\u5927\u7ea6 1 \u5e74",other:"\u5927\u7ea6 {{count}} \u5e74"},xYears:{one:"1 \u5e74",other:"{{count}} \u5e74"},overXYears:{one:"\u8d85\u8fc7 1 \u5e74",other:"\u8d85\u8fc7 {{count}} \u5e74"},almostXYears:{one:"\u5c06\u8fd1 1 \u5e74",other:"\u5c06\u8fd1 {{count}} \u5e74"}};const u=function(e,t,r){var n,i=l[e];return n="string"==typeof i?i:1===t?i.one:i.other.replace("{{count}}",String(t)),null!=r&&r.addSuffix?r.comparison&&r.comparison>0?n+"\u5185":n+"\u524d":n};function p(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}var d={date:p({formats:{full:"y'\u5e74'M'\u6708'd'\u65e5' EEEE",long:"y'\u5e74'M'\u6708'd'\u65e5'",medium:"yyyy-MM-dd",short:"yy-MM-dd"},defaultWidth:"full"}),time:p({formats:{full:"zzzz a h:mm:ss",long:"z a h:mm:ss",medium:"a h:mm:ss",short:"a h:mm"},defaultWidth:"full"}),dateTime:p({formats:{full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},defaultWidth:"full"})};function h(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}var g={};function m(){return g}function y(e,t){var r,n,i,o,s,a,c,l;h(1,arguments);var u=m(),p=function(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}(null!==(r=null!==(n=null!==(i=null!==(o=null==t?void 0:t.weekStartsOn)&&void 0!==o?o:null==t||null===(s=t.locale)||void 0===s||null===(a=s.options)||void 0===a?void 0:a.weekStartsOn)&&void 0!==i?i:u.weekStartsOn)&&void 0!==n?n:null===(c=u.locale)||void 0===c||null===(l=c.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==r?r:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=function(e){h(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===f(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}(e),g=d.getUTCDay(),y=(g<p?7:0)+g-p;return d.setUTCDate(d.getUTCDate()-y),d.setUTCHours(0,0,0,0),d}function v(e,t,r){var n="eeee p";return function(e,t,r){h(2,arguments);var n=y(e,r),i=y(t,r);return n.getTime()===i.getTime()}(e,t,r)?n:e.getTime()>t.getTime()?"'\u4e0b\u4e2a'"+n:"'\u4e0a\u4e2a'"+n}var b={lastWeek:v,yesterday:"'\u6628\u5929' p",today:"'\u4eca\u5929' p",tomorrow:"'\u660e\u5929' p",nextWeek:v,other:"PP p"};function _(e){return function(t,r){var n;if("formatting"===(null!=r&&r.context?String(r.context):"standalone")&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,o=null!=r&&r.width?String(r.width):i;n=e.formattingValues[o]||e.formattingValues[i]}else{var s=e.defaultWidth,a=null!=r&&r.width?String(r.width):e.defaultWidth;n=e.values[a]||e.values[s]}return n[e.argumentCallback?e.argumentCallback(t):t]}}function w(e){return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;var s,a=o[0],c=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(c)?function(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r;return}(c,(function(e){return e.test(a)})):function(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r;return}(c,(function(e){return e.test(a)}));return s=e.valueCallback?e.valueCallback(l):l,{value:s=r.valueCallback?r.valueCallback(s):s,rest:t.slice(a.length)}}}var S;const E={code:"zh-CN",dateFnsLocale:{code:"zh-CN",formatDistance:u,formatLong:d,formatRelative:function(e,t,r,n){var i=b[e];return"function"==typeof i?i(t,r,n):i},localize:{ordinalNumber:function(e,t){var r=Number(e);switch(null==t?void 0:t.unit){case"date":return r.toString()+"\u65e5";case"hour":return r.toString()+"\u65f6";case"minute":return r.toString()+"\u5206";case"second":return r.toString()+"\u79d2";default:return"\u7b2c "+r.toString()}},era:_({values:{narrow:["\u524d","\u516c\u5143"],abbreviated:["\u524d","\u516c\u5143"],wide:["\u516c\u5143\u524d","\u516c\u5143"]},defaultWidth:"wide"}),quarter:_({values:{narrow:["1","2","3","4"],abbreviated:["\u7b2c\u4e00\u5b63","\u7b2c\u4e8c\u5b63","\u7b2c\u4e09\u5b63","\u7b2c\u56db\u5b63"],wide:["\u7b2c\u4e00\u5b63\u5ea6","\u7b2c\u4e8c\u5b63\u5ea6","\u7b2c\u4e09\u5b63\u5ea6","\u7b2c\u56db\u5b63\u5ea6"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:_({values:{narrow:["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u5341\u4e00","\u5341\u4e8c"],abbreviated:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],wide:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"]},defaultWidth:"wide"}),day:_({values:{narrow:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"],short:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"],abbreviated:["\u5468\u65e5","\u5468\u4e00","\u5468\u4e8c","\u5468\u4e09","\u5468\u56db","\u5468\u4e94","\u5468\u516d"],wide:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"]},defaultWidth:"wide"}),dayPeriod:_({values:{narrow:{am:"\u4e0a",pm:"\u4e0b",midnight:"\u51cc\u6668",noon:"\u5348",morning:"\u65e9",afternoon:"\u4e0b\u5348",evening:"\u665a",night:"\u591c"},abbreviated:{am:"\u4e0a\u5348",pm:"\u4e0b\u5348",midnight:"\u51cc\u6668",noon:"\u4e2d\u5348",morning:"\u65e9\u6668",afternoon:"\u4e2d\u5348",evening:"\u665a\u4e0a",night:"\u591c\u95f4"},wide:{am:"\u4e0a\u5348",pm:"\u4e0b\u5348",midnight:"\u51cc\u6668",noon:"\u4e2d\u5348",morning:"\u65e9\u6668",afternoon:"\u4e2d\u5348",evening:"\u665a\u4e0a",night:"\u591c\u95f4"}},defaultWidth:"wide",formattingValues:{narrow:{am:"\u4e0a",pm:"\u4e0b",midnight:"\u51cc\u6668",noon:"\u5348",morning:"\u65e9",afternoon:"\u4e0b\u5348",evening:"\u665a",night:"\u591c"},abbreviated:{am:"\u4e0a\u5348",pm:"\u4e0b\u5348",midnight:"\u51cc\u6668",noon:"\u4e2d\u5348",morning:"\u65e9\u6668",afternoon:"\u4e2d\u5348",evening:"\u665a\u4e0a",night:"\u591c\u95f4"},wide:{am:"\u4e0a\u5348",pm:"\u4e0b\u5348",midnight:"\u51cc\u6668",noon:"\u4e2d\u5348",morning:"\u65e9\u6668",afternoon:"\u4e2d\u5348",evening:"\u665a\u4e0a",night:"\u591c\u95f4"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(S={matchPattern:/^(\u7b2c\s*)?\d+(\u65e5|\u65f6|\u5206|\u79d2)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.match(S.matchPattern);if(!r)return null;var n=r[0],i=e.match(S.parsePattern);if(!i)return null;var o=S.valueCallback?S.valueCallback(i[0]):i[0];return{value:o=t.valueCallback?t.valueCallback(o):o,rest:e.slice(n.length)}}),era:w({matchPatterns:{narrow:/^(\u524d)/i,abbreviated:/^(\u524d)/i,wide:/^(\u516c\u5143\u524d|\u516c\u5143)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^(\u524d)/i,/^(\u516c\u5143)/i]},defaultParseWidth:"any"}),quarter:w({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^\u7b2c[\u4e00\u4e8c\u4e09\u56db]\u523b/i,wide:/^\u7b2c[\u4e00\u4e8c\u4e09\u56db]\u523b\u949f/i},defaultMatchWidth:"wide",parsePatterns:{any:[/(1|\u4e00)/i,/(2|\u4e8c)/i,/(3|\u4e09)/i,/(4|\u56db)/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:w({matchPatterns:{narrow:/^(\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d|\u5341[\u4e8c\u4e00])/i,abbreviated:/^(\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d|\u5341[\u4e8c\u4e00]|\d|1[12])\u6708/i,wide:/^(\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d|\u5341[\u4e8c\u4e00])\u6708/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^\u4e00/i,/^\u4e8c/i,/^\u4e09/i,/^\u56db/i,/^\u4e94/i,/^\u516d/i,/^\u4e03/i,/^\u516b/i,/^\u4e5d/i,/^\u5341(?!(\u4e00|\u4e8c))/i,/^\u5341\u4e00/i,/^\u5341\u4e8c/i],any:[/^\u4e00|1/i,/^\u4e8c|2/i,/^\u4e09|3/i,/^\u56db|4/i,/^\u4e94|5/i,/^\u516d|6/i,/^\u4e03|7/i,/^\u516b|8/i,/^\u4e5d|9/i,/^\u5341(?!(\u4e00|\u4e8c))|10/i,/^\u5341\u4e00|11/i,/^\u5341\u4e8c|12/i]},defaultParseWidth:"any"}),day:w({matchPatterns:{narrow:/^[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u65e5]/i,short:/^[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u65e5]/i,abbreviated:/^\u5468[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u65e5]/i,wide:/^\u661f\u671f[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u65e5]/i},defaultMatchWidth:"wide",parsePatterns:{any:[/\u65e5/i,/\u4e00/i,/\u4e8c/i,/\u4e09/i,/\u56db/i,/\u4e94/i,/\u516d/i]},defaultParseWidth:"any"}),dayPeriod:w({matchPatterns:{any:/^(\u4e0a\u5348?|\u4e0b\u5348?|\u5348\u591c|[\u4e2d\u6b63]\u5348|\u65e9\u4e0a?|\u4e0b\u5348|\u665a\u4e0a?|\u51cc\u6668|)/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^\u4e0a\u5348?/i,pm:/^\u4e0b\u5348?/i,midnight:/^\u5348\u591c/i,noon:/^[\u4e2d\u6b63]\u5348/i,morning:/^\u65e9\u4e0a/i,afternoon:/^\u4e0b\u5348/i,evening:/^\u665a\u4e0a?/i,night:/^\u51cc\u6668/i}},defaultParseWidth:"any"})},options:{weekStartsOn:1,firstWeekContainsDate:4}},Pagination:{pageSize:"\u6bcf\u9875\u6761\u6570\uff1a${pageSize}",total:"\u603b\u9875\u6570\uff1a${total}",jumpTo:"\u8df3\u81f3",page:"\u9875"},Modal:{confirm:"\u786e\u5b9a",cancel:"\u53d6\u6d88"},TimePicker:{placeholder:{time:"\u8bf7\u9009\u62e9\u65f6\u95f4",timeRange:"\u8bf7\u9009\u62e9\u65f6\u95f4\u8303\u56f4"},begin:"\u5f00\u59cb\u65f6\u95f4",end:"\u7ed3\u675f\u65f6\u95f4",hour:"\u65f6",minute:"\u5206",second:"\u79d2",AM:"\u4e0a\u5348",PM:"\u4e0b\u5348"},DatePicker:{placeholder:{date:"\u8bf7\u9009\u62e9\u65e5\u671f",dateTime:"\u8bf7\u9009\u62e9\u65e5\u671f\u53ca\u65f6\u95f4",dateRange:["\u5f00\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"],dateTimeRange:["\u5f00\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"],monthRange:["\u5f00\u59cb\u6708\u4efd","\u7ed3\u675f\u6708\u4efd"]},presets:"\u5feb\u6377\u9009\u62e9",footer:{confirm:"\u786e\u5b9a",cancel:"\u53d6\u6d88"},selectDate:"\u8fd4\u56de\u9009\u62e9\u65e5\u671f",selectTime:"\u9009\u62e9\u65f6\u95f4",year:"\u5e74",month:"\u6708",day:"\u65e5",monthText:"${year}\u5e74 ${month}",months:{1:"1\u6708",2:"2\u6708",3:"3\u6708",4:"4\u6708",5:"5\u6708",6:"6\u6708",7:"7\u6708",8:"8\u6708",9:"9\u6708",10:"10\u6708",11:"11\u6708",12:"12\u6708"},fullMonths:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12"},weeks:{Mon:"\u4e00",Tue:"\u4e8c",Wed:"\u4e09",Thu:"\u56db",Fri:"\u4e94",Sat:"\u516d",Sun:"\u65e5"},localeFormatToken:{FORMAT_SWITCH_DATE:"yyyy-MM-dd"}},Navigation:{collapseText:"\u6536\u8d77\u4fa7\u8fb9\u680f",expandText:"\u5c55\u5f00\u4fa7\u8fb9\u680f"},Popconfirm:{confirm:"\u786e\u5b9a",cancel:"\u53d6\u6d88"},Table:{emptyText:"\u6682\u65e0\u6570\u636e",pageText:"\u663e\u793a\u7b2c ${currentStart} \u6761-\u7b2c ${currentEnd} \u6761\uff0c\u5171 ${total} \u6761"},Select:{emptyText:"\u6682\u65e0\u6570\u636e",createText:"\u521b\u5efa"},Cascader:{emptyText:"\u6682\u65e0\u6570\u636e"},Tree:{emptyText:"\u6682\u65e0\u6570\u636e",searchPlaceholder:"\u641c\u7d22"},List:{emptyText:"\u6682\u65e0\u6570\u636e"},Calendar:{allDay:"\u5168\u5929",AM:"\u4e0a\u5348${time}\u65f6",PM:"\u4e0b\u5348${time}\u65f6",datestring:"\u65e5",remaining:"\u8fd8\u6709${remained}\u9879"},Upload:{mainText:"\u70b9\u51fb\u4e0a\u4f20\u6587\u4ef6\u6216\u62d6\u62fd\u6587\u4ef6\u5230\u8fd9\u91cc",illegalTips:"\u4e0d\u652f\u6301\u6b64\u7c7b\u578b\u6587\u4ef6",legalTips:"\u677e\u624b\u5f00\u59cb\u4e0a\u4f20",retry:"\u91cd\u8bd5",replace:"\u66ff\u6362\u6587\u4ef6",clear:"\u6e05\u7a7a",selectedFiles:"\u5df2\u9009\u62e9\u6587\u4ef6",illegalSize:"\u6587\u4ef6\u5c3a\u5bf8\u4e0d\u5408\u6cd5",fail:"\u4e0a\u4f20\u5931\u8d25"},TreeSelect:{searchPlaceholder:"\u641c\u7d22"},Typography:{copy:"\u590d\u5236",copied:"\u590d\u5236\u6210\u529f",expand:"\u5c55\u5f00",collapse:"\u6536\u8d77"},Transfer:{emptyLeft:"\u6682\u65e0\u6570\u636e",emptySearch:"\u65e0\u641c\u7d22\u7ed3\u679c",emptyRight:"\u6682\u65e0\u5185\u5bb9\uff0c\u53ef\u4ece\u5de6\u4fa7\u52fe\u9009",placeholder:"\u641c\u7d22",clear:"\u6e05\u7a7a",selectAll:"\u5168\u9009",clearSelectAll:"\u53d6\u6d88\u5168\u9009",total:"\u603b\u4e2a\u6570\uff1a${total}",selected:"\u5df2\u9009\u4e2a\u6570\uff1a${total}"},Form:{optional:"\uff08\u53ef\u9009\uff09"},Image:{preview:"\u9884\u89c8",loading:"\u52a0\u8f7d\u4e2d",loadError:"\u52a0\u8f7d\u5931\u8d25",prevTip:"\u4e0a\u4e00\u5f20",nextTip:"\u4e0b\u4e00\u5f20",zoomInTip:"\u653e\u5927",zoomOutTip:"\u7f29\u5c0f",rotateTip:"\u65cb\u8f6c",downloadTip:"\u4e0b\u8f7d",adaptiveTip:"\u9002\u5e94\u9875\u9762",originTip:"\u539f\u59cb\u5c3a\u5bf8"}};class O extends i.Component{renderChildren(e,t){const{componentName:r}=this.props;let i=e;(null==e?void 0:e.code)||(i=E);const o=(0,n.Z)(E,"dateFnsLocale"),s=(0,n.Z)(i,"dateFnsLocale",o);return t(i[r],i.code,s)}render(){const{children:e}=this.props;return i.createElement(c.Z.Consumer,null,(t=>{let{locale:r}=t;return i.createElement(a.Consumer,null,(t=>this.renderChildren(r||t,e)))}))}}O.propTypes={componentName:s().string.isRequired,children:s().any},O.defaultProps={componentName:""}},15194:(e,t,r)=>{"use strict";r.d(t,{Z:()=>Pe});var n=r(55883),i=r(50959);const o=`${r(82345).T}-modal`,s=["small","medium","large","full-width"],a=["ltr","rtl"];var c=r(99891),l=r(1714),u=r(19895);class p extends l.Z{constructor(e){super(Object.assign({},e)),this.toggleDisplayNone=(e,t)=>{this._adapter.toggleDisplayNone(e,t)}}destroy(){this.afterHide()}handleCancel(e){var t;const r=this._adapter.notifyCancel(e);(0,u.Z)(r)&&(this._adapter.setState({onCancelReturnPromiseStatus:"pending"}),null===(t=null==r?void 0:r.then((()=>{this._adapter.setState({onCancelReturnPromiseStatus:"fulfilled"})})))||void 0===t||t.catch((e=>{throw this._adapter.setState({onCancelReturnPromiseStatus:"rejected"}),e})))}handleOk(e){var t;const r=this._adapter.notifyOk(e);(0,u.Z)(r)&&(this._adapter.setState({onOKReturnPromiseStatus:"pending"}),null===(t=null==r?void 0:r.then((()=>{this._adapter.setState({onOKReturnPromiseStatus:"fulfilled"})})))||void 0===t||t.catch((e=>{throw this._adapter.setState({onOKReturnPromiseStatus:"rejected"}),e})))}beforeShow(){this._adapter.disabledBodyScroll()}afterHide(){this._adapter.enabledBodyScroll(),this._adapter.notifyClose()}}var d=r(88987),h=r(54029),f=r(41916),g=r.n(f),m=r(84875),y=r.n(m),v=r(25691),b=r(810),_=r(96230),w=r(81137),S=r(1293),E=r(31783),O=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};class x extends i.PureComponent{render(){const e=this.props,{heading:t}=e,r=O(e,["heading"]),n=-1!==S.j.HEADING.indexOf(t)?`h${t}`:"h1";return i.createElement(E.Z,Object.assign({component:n,heading:n},r))}}x.propTypes={copyable:g().oneOfType([g().object,g().bool]),delete:g().bool,disabled:g().bool,ellipsis:g().oneOfType([g().object,g().bool]),mark:g().bool,link:g().oneOfType([g().object,g().bool]),underline:g().bool,strong:g().bool,type:g().oneOf(S.j.TYPE),heading:g().oneOf(S.j.HEADING),style:g().object,className:g().string,component:g().string,weight:g().oneOfType([g().oneOf(S.j.WEIGHT),g().number])},x.defaultProps={copyable:!1,delete:!1,disabled:!1,ellipsis:!1,mark:!1,underline:!1,strong:!1,link:!1,type:"primary",heading:1,style:{},className:""};var k=r(75483);class C{constructor(e,t,r,n,i){this.ruleMethods={"bytes-decimal":e=>{let t=0;for(;e>=1e3;)e/=1e3,t++;return`${this.truncatePrecision(e)} ${["B","KB","MB","GB","TB","PB","EB","ZB","YB"][t]}`},"bytes-binary":e=>{let t=0;for(;e>=1024;)e/=1024,t++;return`${this.truncatePrecision(e)} ${["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"][t]}`},percentages:e=>`${this.truncatePrecision(100*e)}%`,exponential:e=>{const t=e.toExponential(this.precision+2).split("e");return`${this.truncatePrecision(Number(t[0]))}e${t[1]}`}},this.truncateMethods={ceil:Math.ceil,floor:Math.floor,round:Math.round},this.isDiyParser=void 0!==i,this.content=e,this.rule=t,this.precision=r,this.truncate=n,this.parser=i}format(){return this.isDiyParser?this.parser(this.content):"text"===this.rule?T(this.content).map((e=>j(e)?this.truncatePrecision(e):e)).join(""):"numbers"===this.rule?T(this.content).filter((e=>j(e))).map((e=>this.truncatePrecision(e))).join(","):T(this.content).map((e=>j(e)?this.ruleMethods[this.rule](Number(e)):e)).join("")}truncatePrecision(e){const t=this.truncateMethods[this.truncate](Number(e)*Math.pow(10,this.precision))/Math.pow(10,this.precision),r=t.toString().split(".");if(1===r.length)return t.toFixed(this.precision);const n=r[1].length;return n<this.precision?`${r[0]}.${r[1]}${"0".repeat(this.precision-n)}`:t.toString()}}function T(e){return e.match(/(-?[0-9]*\.?[0-9]+([eE]-?[0-9]+)?)|([^-\d\.]+)/g)||[]}function j(e){return!(isNaN(Number(e))||""===e.replace(/\s+/g,""))}class P extends i.PureComponent{formatNodeDFS(e){return Array.isArray(e)||(e=[e]),1===(e=e.map((e=>"string"==typeof e||"number"==typeof e?new C(String(e),this.props.rule,this.props.precision,this.props.truncate,this.props.parser).format():"function"==typeof e?this.formatNodeDFS(e()):"object"==typeof e&&"children"in e.props?Object.assign(Object.assign({},e),{props:Object.assign(Object.assign({},e.props),{children:this.formatNodeDFS(e.props.children)})}):e))).length?e[0]:e}render(){const e=Object.assign({},this.props);return delete e.rule,delete e.parser,e.children=this.formatNodeDFS(this.props.children),i.createElement(E.Z,Object.assign({component:"span"},e))}}P.propTypes={rule:g().oneOf(S.j.RULE),precision:g().number,truncate:g().oneOf(S.j.TRUNCATE),parser:g().func,copyable:g().oneOfType([g().object,g().bool]),delete:g().bool,disabled:g().bool,icon:g().oneOfType([g().node,g().string]),mark:g().bool,underline:g().bool,link:g().oneOfType([g().object,g().bool]),strong:g().bool,type:g().oneOf(S.j.TYPE),size:g().oneOf(S.j.SIZE),style:g().object,className:g().string,code:g().bool,component:g().string},P.defaultProps={rule:"text",precision:0,truncate:"round",parser:void 0,copyable:!1,delete:!1,icon:"",mark:!1,underline:!1,strong:!1,link:!1,type:"primary",style:{},size:"normal",className:""};const I=_.Z;I.Text=w.Z,I.Title=x,I.Paragraph=k.Z,I.Numeral=P;const A=I;var D=r(76232),R=r(75108);class M extends l.Z{constructor(e){super(Object.assign(Object.assign({},M.defaultAdapter),e)),this.handleKeyDown=e=>{const{closeOnEsc:t}=this.getProps();if(t&&e.keyCode===R.ZP.ESC)return e.stopPropagation(),void this.close(e)}}destroy(){this.handleKeyDownEventListenerUnmount(),this.modalDialogBlur(),this.prevFocusElementReFocus()}handleDialogMouseDown(){this._adapter.notifyDialogMouseDown()}handleMaskMouseUp(){this._adapter.notifyDialogMouseUp()}handleKeyDownEventListenerMount(){this._adapter.addKeyDownEventListener()}handleKeyDownEventListenerUnmount(){this._adapter.removeKeyDownEventListener()}getMouseState(){this._adapter.getMouseState()}handleMaskClick(e){const{dialogMouseDown:t}=this.getStates();e.target!==e.currentTarget||t||this.close(e)}close(e){this._adapter.notifyClose(e)}modalDialogFocus(){this._adapter.modalDialogFocus()}modalDialogBlur(){this._adapter.modalDialogBlur()}prevFocusElementReFocus(){this._adapter.prevFocusElementReFocus()}}var F=r(95193),N=r(61694);const z=function(e,t,r,n){for(var i=e.length,o=r+(n?1:-1);n?o--:++o<i;)if(t(e[o],o,e))return o;return-1};const U=function(e){return e!=e};const B=function(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1};const L=function(e,t,r){return t==t?B(e,t,r):z(e,U,r)};const $=function(e,t){return!!(null==e?0:e.length)&&L(e,t,0)>-1};const Z=function(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1};var G=r(28019),H=r(5467),V=r(20465);const K=function(e,t,r,n){var i=-1,o=$,s=!0,a=e.length,c=[],l=t.length;if(!a)return c;r&&(t=(0,G.Z)(t,(0,H.Z)(r))),n?(o=Z,s=!1):t.length>=200&&(o=V.Z,s=!1,t=new N.Z(t));e:for(;++i<a;){var u=e[i],p=null==r?u:r(u);if(u=n||0!==u?u:0,s&&p==p){for(var d=l;d--;)if(t[d]===p)continue e;c.push(u)}else o(t,p,n)||c.push(u)}return c};var W=r(19851),q=r(84488);const X=(0,W.Z)((function(e,t){return(0,q.Z)(e)?K(e,t):[]}));var J=r(50840);class Y{constructor(e,t){var r;this.addFocusRedirectListener=e=>(this.focusRedirectListenerList.push(e),()=>this.removeFocusRedirectListener(e)),this.removeFocusRedirectListener=e=>{this.focusRedirectListenerList=X(this.focusRedirectListenerList,e)},this.destroy=()=>{var e;null===(e=this.container)||void 0===e||e.removeEventListener("keydown",this.onKeyPress)},this.shouldFocusRedirect=e=>{if(!this.enable)return!1;for(const t of this.focusRedirectListenerList){if(!t(e))return!1}return!0},this.focusElement=(e,t)=>{const{preventScroll:r}=this.options;null==e||e.focus({preventScroll:r}),t.preventDefault()},this.onKeyPress=e=>{if(e&&"Tab"===e.key){const t=Y.getFocusableElements(this.container);t.length&&(e.shiftKey?this.handleContainerShiftTabKeyDown(t,e):this.handleContainerTabKeyDown(t,e))}},this.handleContainerTabKeyDown=(e,t)=>{const r=Y.getActiveElement(),n=e[e.length-1]===r,i=e[0];n&&this.shouldFocusRedirect(i)&&this.focusElement(i,t)},this.handleContainerShiftTabKeyDown=(e,t)=>{const r=Y.getActiveElement(),n=e[0]===r,i=e[e.length-1];n&&this.shouldFocusRedirect(i)&&this.focusElement(i,t)},Object.freeze(t),this.container=e,this.options=t,this.enable=null===(r=null==t?void 0:t.enable)||void 0===r||r,this.focusRedirectListenerList=(null==t?void 0:t.onFocusRedirectListener)?Array.isArray(t.onFocusRedirectListener)?[...t.onFocusRedirectListener]:[t.onFocusRedirectListener]:[],this.container.addEventListener("keydown",this.onKeyPress)}get enable(){return this._enable}set enable(e){this._enable=e}static getFocusableElements(e){if(!(0,J.Z)(e))return[];const t=["input:not([disabled]):not([tabindex='-1'])","textarea:not([disabled]):not([tabindex='-1'])","button:not([disabled]):not([tabindex='-1'])","a[href]:not([tabindex='-1'])","select:not([disabled]):not([tabindex='-1'])","area[href]:not([tabindex='-1'])","iframe:not([tabindex='-1'])","object:not([tabindex='-1'])","*[tabindex]:not([tabindex='-1'])","*[contenteditable]:not([tabindex='-1'])"].join(",");return Array.from(e.querySelectorAll(t))}static getActiveElement(){return document?document.activeElement:null}}const Q=Y;var ee=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};let te=0;class re extends D.Z{constructor(e){super(e),this.onKeyDown=e=>{this.foundation.handleKeyDown(e)},this.onDialogMouseDown=()=>{this.foundation.handleDialogMouseDown()},this.onMaskMouseUp=()=>{this.foundation.handleMaskMouseUp()},this.onMaskClick=e=>{this.foundation.handleMaskClick(e)},this.close=e=>{this.foundation.close(e)},this.getMaskElement=()=>{const e=ee(this.props,[]),{mask:t,maskClassName:r}=e;if(t){const t=y()(`${o}-mask`,{});return i.createElement("div",Object.assign({key:"mask"},this.props.maskExtraProps,{className:y()(t,r),style:e.maskStyle}))}return null},this.renderCloseBtn=()=>{const{closable:e,closeIcon:t}=this.props;let r;if(e){const e=t||i.createElement(F.Z,{"x-semi-prop":"closeIcon"});r=i.createElement(b.Z,{"aria-label":"close",className:`${o}-close`,key:"close-btn",onClick:this.close,type:"tertiary",icon:e,theme:"borderless",size:"small"})}return r},this.renderIcon=()=>{const{icon:e}=this.props;return e?i.createElement("span",{className:`${o}-icon-wrapper`,"x-semi-prop":"icon"},e):null},this.renderHeader=()=>{if("header"in this.props)return this.props.header;const{title:e}=this.props,t=this.renderCloseBtn(),r=this.renderIcon();return null==e?null:i.createElement("div",{className:`${o}-header`},r,i.createElement(A.Title,{heading:5,className:`${o}-title`,id:`${o}-title`,"x-semi-prop":"title"},e),t)},this.renderBody=()=>{const{bodyStyle:e,children:t,title:r}=this.props,n=y()(`${o}-body`,{[`${o}-withIcon`]:this.props.icon}),s=this.renderCloseBtn(),a=this.renderIcon();return null!=r||"header"in this.props?i.createElement("div",{className:n,id:`${o}-body`,style:e,"x-semi-prop":"children"},t):i.createElement("div",{className:`${o}-body-wrapper`},a,i.createElement("div",{className:n,style:e,"x-semi-prop":"children"},t),s)},this.getDialogElement=()=>{const e=ee(this.props,[]),t={},r=y()(`${o}`,{[`${o}-centered`]:e.centered,[`${o}-${e.size}`]:e.size});e.width&&(t.width=e.width),e.height&&(t.height=e.height),e.isFullScreen&&(t.width="100%",t.height="100%",t.margin="unset");const n=this.renderBody(),s=this.renderHeader(),a=e.footer?i.createElement("div",{className:`${o}-footer`,"x-semi-prop":"footer"},e.footer):null;return i.createElement("div",{key:"dialog-element",className:r,onMouseDown:this.onDialogMouseDown,style:Object.assign(Object.assign({},e.style),t),id:this.dialogId},i.createElement("div",{role:"dialog",ref:this.modalDialogRef,"aria-modal":"true","aria-labelledby":`${o}-title`,"aria-describedby":`${o}-body`,onAnimationEnd:e.onAnimationEnd,className:y()([`${o}-content`,e.contentClassName,{[`${o}-content-fullScreen`]:e.isFullScreen}])},s,n,a))},this.state={dialogMouseDown:!1,prevFocusElement:Q.getActiveElement()},this.foundation=new M(this.adapter),this.dialogId="dialog-"+te++,this.modalDialogRef=i.createRef()}get adapter(){return Object.assign(Object.assign({},super.adapter),{notifyClose:e=>{this.props.onClose(e)},notifyDialogMouseDown:()=>{this.setState({dialogMouseDown:!0})},notifyDialogMouseUp:()=>{this.state.dialogMouseDown&&(this.timeoutId=setTimeout((()=>{this.setState({dialogMouseDown:!1})}),0))},addKeyDownEventListener:()=>{this.props.closeOnEsc&&document.addEventListener("keydown",this.foundation.handleKeyDown)},removeKeyDownEventListener:()=>{this.props.closeOnEsc&&document.removeEventListener("keydown",this.foundation.handleKeyDown)},getMouseState:()=>this.state.dialogMouseDown,modalDialogFocus:()=>{var e,t,r;const{preventScroll:n}=this.props;let i;if(this.modalDialogRef){const t=Q.getActiveElement();i=this.modalDialogRef.current.contains(t),null===(e=this.focusTrapHandle)||void 0===e||e.destroy(),this.focusTrapHandle=new Q(this.modalDialogRef.current,{preventScroll:n})}i||null===(r=null===(t=this.modalDialogRef)||void 0===t?void 0:t.current)||void 0===r||r.focus({preventScroll:n})},modalDialogBlur:()=>{var e,t;null===(e=this.modalDialogRef)||void 0===e||e.current.blur(),null===(t=this.focusTrapHandle)||void 0===t||t.destroy()},prevFocusElementReFocus:()=>{const{prevFocusElement:e}=this.state,{preventScroll:t}=this.props,r=(0,h.Z)(e,"focus");(0,d.Z)(r)&&e.focus({preventScroll:t})}})}componentDidMount(){var e;this.foundation.handleKeyDownEventListenerMount(),this.foundation.modalDialogFocus();const t=Q.getFocusableElements(this.modalDialogRef.current);this.modalDialogRef.current.contains(document.activeElement)||null===(e=t[0])||void 0===e||e.focus()}componentWillUnmount(){clearTimeout(this.timeoutId),this.foundation.destroy()}render(){const e=this.props,{maskClosable:t,className:r,getPopupContainer:n,maskFixed:s,getContainerContext:a}=e,c=ee(e,["maskClosable","className","getPopupContainer","maskFixed","getContainerContext"]),{direction:l}=this.context,u=y()(r,{[`${o}-popup`]:n&&!s,[`${o}-fixed`]:s,[`${o}-rtl`]:"rtl"===l}),p=a(),d=this.getDataAttr(c),h=i.createElement("div",Object.assign({className:u},d),this.getMaskElement(),i.createElement("div",Object.assign({role:"none",className:y()({[`${o}-wrap`]:!0,[`${o}-wrap-center`]:this.props.centered}),onClick:t?this.onMaskClick:null,onMouseUp:t?this.onMaskMouseUp:null},this.props.contentExtraProps),this.getDialogElement()));return p&&p.Provider?i.createElement(p.Provider,{value:p.value},h):h}}re.contextType=v.Z,re.propTypes={close:g().func,getContainerContext:g().func,contentClassName:g().string,maskClassName:g().string,onAnimationEnd:g().func,preventScroll:g().bool},re.defaultProps={close:n.Z,getContainerContext:n.Z,contentClassName:"",maskClassName:""};var ne=r(55587),ie=r(32006),oe=r(93639),se=r(10422),ae=r(60153),ce=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const le=e=>{const[t,r]=(0,i.useState)(!0),[n,s]=(0,i.useState)(),[a,c]=(0,i.useState)(),{direction:l}=e,{title:u,content:p,icon:d,type:h,onCancel:f,onOk:g,className:m}=e,v=ce(e,["title","content","icon","type","onCancel","onOk","className"]),b=(0,i.useCallback)((e=>{const t=g&&g(e);t&&t.then?(s(!0),t.then((function(){r(!1),s(!1)}),(e=>{s(!1)}))):r(!1)}),[g]),_=(0,i.useCallback)((e=>{const t=f&&f(e);t&&t.then?(c(!0),t.then((function(){r(!1),c(!1)}),(e=>{c(!1)}))):r(!1)}),[f]),w=`${o}-confirm`,S=y()(m,w,{[`${w}-rtl`]:"rtl"===l}),E=y()(`${o}-${h}`),O=(0,ae.ID)(d)?i.cloneElement(d,{className:`${w}-icon ${E}-icon`,size:"extra-large"}):d,x=null==u?null:i.createElement("span",{className:`${w}-title-text`},u),k=y()(`${w}-content`,{[`${w}-content-withIcon`]:e.icon});return i.createElement(je,Object.assign({className:S,title:x,confirmLoading:n,cancelLoading:a,onOk:b,onCancel:_,icon:O,visible:t},v),i.createElement("div",{className:k,"x-semi-prop":"content"},p))};var ue=r(85848),pe=r(2175),de=r(40910),he=r(86756);const fe=(0,r(95571).A)((function(e){return i.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23ZM11.8281 14.6094C10.9688 14.6094 10.5391 14.0723 10.5391 13.3691C10.5391 12.3242 11.0566 11.6504 12.2676 10.7324C12.2894 10.7158 12.3111 10.6993 12.3326 10.6829C13.1573 10.0555 13.7324 9.61807 13.7324 8.82812C13.7324 7.93945 12.9023 7.42188 11.9746 7.42188C11.2129 7.42188 10.627 7.70508 10.168 8.30078C9.83594 8.64258 9.57227 8.82812 9.12305 8.82812C8.38086 8.82812 8 8.31055 8 7.71484C8 7.10938 8.3418 6.49414 8.87891 6.02539C9.60156 5.40039 10.7539 5 12.2773 5C14.9922 5 16.8965 6.33789 16.8965 8.64258C16.8965 10.3223 15.8906 11.1328 14.709 11.9531C13.9082 12.5391 13.5273 12.8809 13.2246 13.5742L13.2238 13.5756C12.8922 14.1609 12.638 14.6094 11.8281 14.6094ZM11.8086 18.7695C10.8711 18.7695 10.0996 18.1641 10.0996 17.2266C10.0996 16.2891 10.8711 15.6836 11.8086 15.6836C12.7461 15.6836 13.5078 16.2891 13.5078 17.2266C13.5078 18.1641 12.7461 18.7695 11.8086 18.7695Z",fill:"currentColor"}))}),"help_circle");function ge(e){const t=document.createElement("div");document.body.appendChild(t);let r=Object.assign({},e);const n=()=>{se.unmountComponentAtNode(t)&&t.parentNode&&t.parentNode.removeChild(t);for(let e=0;e<Ce.length;e++){if(Ce[e]===s){Ce.splice(e,1);break}}};function o(r){const{afterClose:o}=r;se.render(i.createElement(le,Object.assign({},r,{afterClose:function(){null==o||o(...arguments),n()},motion:e.motion})),t)}function s(){r=Object.assign(Object.assign({},r),{visible:!1}),o(r)}return o(r),Ce.push(s),{destroy:s,update:function(e){r=Object.assign(Object.assign({},r),e),o(r)}}}function me(e){return Object.assign({type:"info",icon:i.createElement(ue.Z,null)},e)}function ye(e){return Object.assign({type:"success",icon:i.createElement(pe.Z,null)},e)}function ve(e){return Object.assign({type:"warning",icon:i.createElement(de.Z,null)},e)}function be(e){return Object.assign({type:"error",icon:i.createElement(he.Z,null),okButtonProps:Object.assign({type:"danger"},e.okButtonProps)},(0,oe.Z)(e,["okButtonProps"]))}function _e(e){return Object.assign({type:"confirm",icon:i.createElement(fe,null)},e)}var we=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const Se=(e,t)=>{var{afterClose:r,config:n}=e;we(e,["afterClose","config"]);const[o,s]=i.useState(n);i.useImperativeHandle(t,(()=>({destroy:()=>{s((e=>Object.assign(Object.assign({},e),{visible:!1})))},update:e=>{s((t=>Object.assign(Object.assign({},t),e)))}})));return i.createElement(le,Object.assign({},o,{afterClose:()=>{var e;null===(e=null==n?void 0:n.afterClose)||void 0===e||e.call(n),r()}}))},Ee=i.forwardRef(Se);let Oe=0;var xe=r(51464),ke=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const Ce=[];class Te extends D.Z{constructor(e){super(e),this.handleCancel=e=>{this.foundation.handleCancel(e)},this.handleOk=e=>{this.foundation.handleOk(e)},this.updateState=()=>{const{visible:e}=this.props;this.foundation.toggleDisplayNone(!e)},this.renderFooter=()=>{const{okText:e,okType:t,cancelText:r,confirmLoading:n,cancelLoading:o,hasCancel:s}=this.props,a=e=>s?i.createElement(c.Z,Object.assign({"aria-label":"cancel",onClick:this.handleCancel,loading:void 0===o?"pending"===this.state.onCancelReturnPromiseStatus:o,type:"tertiary",autoFocus:!0},this.props.cancelButtonProps,{"x-semi-children-alias":"cancelText"}),r||e.cancel):null;return i.createElement(ie.Z,{componentName:"Modal"},((r,o)=>i.createElement("div",null,a(r),i.createElement(c.Z,Object.assign({"aria-label":"confirm",type:t,theme:"solid",loading:void 0===n?"pending"===this.state.onOKReturnPromiseStatus:n,onClick:this.handleOk},this.props.okButtonProps,{"x-semi-children-alias":"okText"}),e||r.confirm))))},this.renderDialog=()=>{let e=this.props,{footer:t,className:r,motion:n,maskStyle:s,keepDOM:a,style:c,zIndex:l,getPopupContainer:u,visible:p}=e,d=ke(e,["footer","className","motion","maskStyle","keepDOM","style","zIndex","getPopupContainer","visible"]),h=c;const f=s,g="footer"in this.props?t:this.renderFooter();let m={zIndex:l};u&&(m={zIndex:l,position:"static"});const v=y()(r,{[`${o}-displayNone`]:a&&this.state.displayNone}),b=this.props.visible||this.props.keepDOM&&(!this.props.lazyRender||this._haveRendered)||this.props.motion&&!this.state.displayNone;return b&&(this._haveRendered=!0),i.createElement(xe.Z,{motion:this.props.motion,animationState:p?"enter":"leave",startClassName:p?`${o}-content-animate-show`:`${o}-content-animate-hide`,onAnimationEnd:()=>{this.updateState()}},(e=>{let{animationClassName:t,animationEventsNeedBind:r}=e;return i.createElement(xe.Z,{motion:this.props.motion,animationState:p?"enter":"leave",startClassName:p?`${o}-mask-animate-show`:`${o}-mask-animate-hide`,onAnimationEnd:()=>{this.updateState()}},(e=>{let{animationClassName:n,animationEventsNeedBind:o}=e;return b?i.createElement(ne.Z,{style:m,getPopupContainer:u}," ",i.createElement(re,Object.assign({},d,{contentExtraProps:r,maskExtraProps:o,isFullScreen:this.state.isFullScreen,contentClassName:t,maskClassName:n,className:v,getPopupContainer:u,maskStyle:f,style:h,ref:this.modalRef,footer:g,onClose:this.handleCancel}))):i.createElement(i.Fragment,null)}))}))},this.state={displayNone:!e.visible,isFullScreen:e.fullScreen},this.foundation=new p(this.adapter),this.modalRef=i.createRef(),this.bodyOverflow="",this.scrollBarWidth=0,this.originBodyWidth="100%"}get adapter(){return Object.assign(Object.assign({},super.adapter),{getProps:()=>this.props,disabledBodyScroll:()=>{const{getPopupContainer:e}=this.props;this.bodyOverflow=document.body.style.overflow||"",e||"hidden"===this.bodyOverflow||(document.body.style.overflow="hidden",document.body.style.width=`calc(${this.originBodyWidth||"100%"} - ${this.scrollBarWidth}px)`)},enabledBodyScroll:()=>{const{getPopupContainer:e}=this.props;e||"hidden"===this.bodyOverflow||(document.body.style.overflow=this.bodyOverflow,document.body.style.width=this.originBodyWidth)},notifyCancel:e=>this.props.onCancel(e),notifyOk:e=>this.props.onOk(e),notifyClose:()=>{this.props.afterClose()},toggleDisplayNone:(e,t)=>{e!==this.state.displayNone&&this.setState({displayNone:e},t||n.Z)},notifyFullScreen:e=>{e!==this.state.isFullScreen&&this.setState({isFullScreen:e})}})}static getDerivedStateFromProps(e,t){const r={};return e.fullScreen!==t.isFullScreen&&(r.isFullScreen=e.fullScreen),e.visible&&t.displayNone&&(r.displayNone=!1),r}componentDidMount(){this.scrollBarWidth=(0,ae.np)(),this.originBodyWidth=document.body.style.width,this.props.visible&&this.foundation.beforeShow()}componentDidUpdate(e,t,r){!e.visible&&this.props.visible&&this.foundation.beforeShow(),!t.displayNone&&this.state.displayNone&&this.foundation.afterHide()}componentWillUnmount(){this.props.visible&&this.foundation.destroy()}render(){const{visible:e,keepDOM:t,lazyRender:r}=this.props;return this.renderDialog()}}Te.propTypes={mask:g().bool,closable:g().bool,centered:g().bool,visible:g().bool,width:g().oneOfType([g().string,g().number]),height:g().oneOfType([g().string,g().number]),confirmLoading:g().bool,cancelLoading:g().bool,okText:g().string,okType:g().string,cancelText:g().string,maskClosable:g().bool,onCancel:g().func,onOk:g().func,afterClose:g().func,okButtonProps:g().object,cancelButtonProps:g().object,style:g().object,className:g().string,maskStyle:g().object,bodyStyle:g().object,zIndex:g().number,title:g().node,icon:g().node,header:g().node,footer:g().node,hasCancel:g().bool,motion:g().bool,children:g().node,getPopupContainer:g().func,getContainerContext:g().func,maskFixed:g().bool,closeIcon:g().node,closeOnEsc:g().bool,size:g().oneOf(s),keepDOM:g().bool,lazyRender:g().bool,direction:g().oneOf(a),fullScreen:g().bool},Te.defaultProps={zIndex:1e3,motion:!0,mask:!0,centered:!1,closable:!0,visible:!1,okType:"primary",maskClosable:!0,hasCancel:!0,onCancel:n.Z,onOk:n.Z,afterClose:n.Z,maskFixed:!1,closeOnEsc:!0,size:"small",keepDOM:!1,lazyRender:!0,fullScreen:!1},Te.useModal=function(){const[e,t]=function(){const[e,t]=i.useState([]);return[e,function(e){return t((t=>[...t,e])),()=>{t((t=>t.filter((t=>t!==e))))}}]}();function r(e){return function(r){Oe+=1;const n=i.createRef();let o;const s=i.createElement(Ee,{key:`semi-modal-${Oe}`,config:e(r),ref:n,afterClose:()=>{o()}});return o=t(s),{destroy:()=>{n.current&&n.current.destroy()},update:e=>{n.current&&n.current.update(e)}}}}return[{info:r(me),success:r(ye),error:r(be),warning:r(ve),confirm:r(_e)},i.createElement(i.Fragment,null,e)]},Te.info=function(e){return ge(me(e))},Te.success=function(e){return ge(ye(e))},Te.error=function(e){return ge(be(e))},Te.warning=function(e){return ge(ve(e))},Te.confirm=function(e){return ge(_e(e))},Te.destroyAll=function(){for(;Ce.length;){const e=Ce.pop();e&&e()}};const je=Te,Pe=Te},21797:(e,t,r)=>{"use strict";r.d(t,{Z:()=>S});var n=r(55883),i=r(88987),o=r(50959),s=r(84875),a=r.n(s),c=r(41916),l=r.n(c),u=r(25691),p=r(12236),d=r(11643),h=r(54029),f=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{position:t="",className:r,arrowStyle:n,popStyle:i}=e,s=f(e,["position","className","arrowStyle","popStyle"]),c=0===t.indexOf("top")||0===t.indexOf("bottom"),l=a()(r,p.UX.ARROW),u=(0,h.Z)(n,"borderOpacity",p.j2.DEFAULT_ARROW_STYLE.borderOpacity),d=(0,h.Z)(n,"backgroundColor",(0,h.Z)(i,"backgroundColor",p.j2.DEFAULT_ARROW_STYLE.backgroundColor)),g=(0,h.Z)(n,"borderColor",(0,h.Z)(i,"borderColor",p.j2.DEFAULT_ARROW_STYLE.borderColor)),m=Object.assign(Object.assign({},s),{width:p.KT.ARROW_BOUNDING.width,height:p.KT.ARROW_BOUNDING.height,xmlns:"http://www.w3.org/2000/svg",className:l});return c?o.createElement("svg",Object.assign({},m),o.createElement("path",{d:"M0 0.5L0 1.5C4 1.5, 5.5 3, 7.5 5S10,8 12,8S14.5 7, 16.5 5S20,1.5 24,1.5L24 0.5L0 0.5z",fill:g,opacity:u}),o.createElement("path",{d:"M0 0L0 1C4 1, 5.5 2, 7.5 4S10,7 12,7S14.5  6, 16.5 4S20,1 24,1L24 0L0 0z",fill:d})):o.createElement("svg",Object.assign({},m),o.createElement("path",{d:"M0.5 0L1.5 0C1.5 4, 3 5.5, 5 7.5S8,10 8,12S7 14.5, 5 16.5S1.5,20 1.5,24L0.5 24L0.5 0z",fill:g,opacity:u}),o.createElement("path",{d:"M0 0L1 0C1 4, 2 5.5, 4 7.5S7,10 7,12S6 14.5, 4 16.5S1,20 1,24L0 24L0 0z",fill:d}))};g.propTypes={position:l().string,className:l().string,arrowStyle:l().object,popStyle:l().object};const m=g;var y=r(86475),v=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const b=p.j2.POSITION_SET,_=p.j2.TRIGGER_SET;class w extends o.PureComponent{constructor(e){super(e),this.focusTrigger=()=>{var e;null===(e=this.tooltipRef.current)||void 0===e||e.focusTrigger()},this.renderPopCard=e=>{let{initialFocusRef:t}=e;const{content:r,contentClassName:n,prefixCls:i}=this.props,{direction:s}=this.context,c=a()(i,n,{[`${i}-rtl`]:"rtl"===s}),l=this.renderContentNode({initialFocusRef:t,content:r});return o.createElement("div",{className:c},o.createElement("div",{className:`${i}-content`},l))},this.renderContentNode=e=>{const{initialFocusRef:t,content:r}=e,n={initialFocusRef:t};return(0,i.Z)(r)?r(n):r},this.tooltipRef=o.createRef()}render(){const e=this.props,{children:t,prefixCls:r,showArrow:n,arrowStyle:i={},arrowBounding:s,position:a,style:c,trigger:l}=e,u=v(e,["children","prefixCls","showArrow","arrowStyle","arrowBounding","position","style","trigger"]);let{spacing:h}=this.props;const f={position:a,className:"",popStyle:c,arrowStyle:i},g=!!n&&o.createElement(m,Object.assign({},f));(0,y.Z)(h)&&(h=n?p.KT.SPACING_WITH_ARROW:p.KT.SPACING);const b="click"===l||"custom"===l?"dialog":"tooltip";return o.createElement(d.Z,Object.assign({guardFocus:!0,ref:this.tooltipRef},u,{trigger:l,position:a,style:c,content:this.renderPopCard,prefixCls:r,spacing:h,showArrow:g,arrowBounding:s,role:b}),t)}}w.contextType=u.Z,w.propTypes={children:l().node,content:l().oneOfType([l().node,l().func]),visible:l().bool,autoAdjustOverflow:l().bool,motion:l().bool,position:l().oneOf(b),margin:l().oneOfType([l().number,l().object]),mouseEnterDelay:l().number,mouseLeaveDelay:l().number,trigger:l().oneOf(_).isRequired,contentClassName:l().oneOfType([l().string,l().array]),onVisibleChange:l().func,onClickOutSide:l().func,style:l().object,spacing:l().oneOfType([l().number,l().object]),zIndex:l().number,showArrow:l().bool,arrowStyle:l().shape({borderColor:l().string,backgroundColor:l().string,borderOpacity:l().oneOfType([l().string,l().number])}),arrowPointAtCenter:l().bool,arrowBounding:l().object,prefixCls:l().string,guardFocus:l().bool,disableArrowKeyDown:l().bool},w.defaultProps={arrowBounding:p.KT.ARROW_BOUNDING,showArrow:!1,autoAdjustOverflow:!0,zIndex:p.KT.DEFAULT_Z_INDEX,motion:!0,trigger:"hover",cancelText:"No",okText:"Yes",position:"bottom",prefixCls:p.UX.PREFIX,onClickOutSide:n.Z,onEscKeyDown:n.Z,closeOnEsc:!0,returnFocusOnClose:!0,guardFocus:!0,disableFocusListener:!0};const S=w},63522:(e,t,r)=>{"use strict";r.d(t,{Z:()=>F});var n=r(50959),i=r(84875),o=r.n(i),s=r(41916),a=r.n(s);const c={PREFIX:`${r(82345).T}-progress`},l={types:["line","circle"],DEFAULT_TYPE:"line",STROKE_DEFAULT:"var(--semi-color-success)",strokeLineCap:["square","round"],DEFAULT_LINECAP:"round",sizes:["default","small","large"],DEFAULT_SIZE:"default",directions:["vertical","horizontal"],DEFAULT_DIRECTION:"horizontal"};var u=r(69624),p=r(65943),d=r.n(p);function h(e,t,r){return Math.min(Math.max(e,t),r)}function f(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;const t=h(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,1,10),r=h(e,.1,2);return e=>0===e||1===e?e:-t*Math.pow(2,10*(e-1))*Math.sin((e-1-r/(2*Math.PI)*Math.asin(1/t))*(2*Math.PI)/r)}const g=(()=>{const e=["Quad","Cubic","Quart","Quint","Sine","Expo","Circ","Back","Elastic"],t={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],f],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],(e,t)=>r=>1-f(e,t)(1-r)],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],(e,t)=>r=>r<.5?f(e,t)(2*r)/2:1-f(e,t)(-2*r+2)/2]},r={linear:[.25,.25,.75,.75]};for(const n of Object.keys(t))t[n].forEach(((t,i)=>{r["ease"+n+e[i]]=t}));return r})();function m(e){if("function"==typeof e)return e;let t=(e=e&&"string"==typeof e?e.trim():"linear").split("(")[0];const r=function(e){const t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map((e=>parseFloat(e))):[]}(e);let n;return"cubic-bezier"===t||"cubicBezier"===t?d()(...r.length?r:g.linear):((!t||"string"!=typeof t||"string"==typeof t&&null==g[t])&&(t="linear"),n=g[t],"function"==typeof n?n(...r):r.length?d()(...r):d()(...n))}class y{constructor(){this._eventMap=new Map}on(e,t){return e&&"function"==typeof t&&(this._eventMap.has(e)||this._eventMap.set(e,[]),this._eventMap.get(e).push(t)),this}once(e,t){var r=this;if(e&&"function"==typeof t){const n=function(){t(...arguments),r.off(e,n)};this.on(e,n)}}off(e,t){if(e)if("function"==typeof t){const r=this._eventMap.get(e);if(Array.isArray(r)&&r.length){let e=-1;for(;(e=r.findIndex((e=>e===t)))>-1;)r.splice(e,1)}}else null==t&&this._eventMap.delete(e);return this}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return!!this._eventMap.has(e)&&(this._eventMap.get(e).forEach((e=>e(...r))),!0)}}function v(e){return Boolean(e&&"object"==typeof e&&(e.duration>0||"string"==typeof e.easing||"function"==typeof e.easing))}function b(e){const t={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]="number"==typeof e[r]?e[r]:e[r].val);return t}const _=[0,0];function w(e,t,r,n,i,o,s){const a=r+(-i*(t-n)+-o*r)*e,c=t+a*e;return Math.abs(a)<s&&Math.abs(c-n)<s?(_[0]=n,_[1]=0,_):(_[0]=c,_[1]=a,_)}const S=Object.assign(Object.assign({},{tension:170,friction:26}),{precision:.01});function E(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(v(t)){const e=m(t.easing),r="number"==typeof t.duration&&t.duration>0?t.duration:1e3;t=Object.assign(Object.assign({},t),{easing:e,duration:r})}let r=Object.assign(Object.assign(Object.assign({},S),t),{done:!1});if(e&&"object"==typeof e&&"val"in e){if(v(e)){const r=m(e.easing),n="number"==typeof e.duration&&e.duration>0?e.duration:parseInt(t.duration)||1e3;e=Object.assign(Object.assign({},e),{easing:r,duration:n})}r=Object.assign(Object.assign({},r),e)}else r=Object.assign(Object.assign({},r),{val:e});return r}const O=()=>Date.now(),x=1e3/60;class k extends y{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),this._props=Object.assign({},e),this._config=Object.assign({},t),this.initStates()}_wrapConfig(e,t){t=t&&"object"==typeof t?t:this._config;const r={};for(const n of Object.keys(e))r[n]=E(e[n],t);return r}initStates(e,t){e=e&&"object"==typeof e?e:this._props,t=t&&"object"==typeof t?t:this._config;const{from:r,to:n}=e;if(this._from={},r)for(const s of Object.keys(r))this._from[s]="object"==typeof r[s]&&r[s].val?r[s].val:r[s];this._to=this._wrapConfig(n,t),this._delay=parseInt(t.delay)||0;const i=this._from&&b(this._from)||b(this._to),o=function(e){const t={},r=e&&Object.keys(e)||[];for(const n of r)t[n]=0;return t}(i);this._currentStyle=Object.assign({},i),this._currentVelocity=Object.assign({},o),this._lastIdealStyle=Object.assign({},i),this._lastIdealVelocity=Object.assign({},o),this.resetPlayStates(),this._frameCount=0,this._prevTime=0}animate(){null==this._timer&&(this._timer=requestAnimationFrame((e=>{const t=O();if(function(e,t,r,n,i){for(const o of Object.keys(t)){const s=t[o],a="number"==typeof s?s:s.val;if("object"!=typeof s||!s.done){if(v(s)&&n&&i&&s.duration){if(s.duration+n<=i||a!==e[o])return!1}else if("number"==typeof r[o]&&0!==r[o])return!1;if(e[o]!==a)return!1}}return!0}(this._currentStyle,this._to,this._currentVelocity,this._startedTime||t,t)||this._ended||this._stopped)return!this._wasAnimating||this._ended||this._stopped||(this._timer=setTimeout((()=>{clearTimeout(this._timer),this._timer=null,this._ended=!0,this.emit("rest",this.getCurrentStates())}),x)),void this.resetPlayStates();this._started||(this._started=!0,this.emit("start",this.getCurrentStates())),this._stopped=!1,this._paused=!1,this._wasAnimating=!0,0===this._startedTime&&(this._startedTime=t);const r=t,n=r-this._prevTime;this._prevTime=r,r-this._startedTime<this._delay&&(this._timer=null,this.animate());const i={},o={},s={},a={},c=this._to&&Object.keys(this._to)||[];for(const l of c){const e=this._to[l];this._accumulatedTime[l]="number"!=typeof this._accumulatedTime[l]?n:this._accumulatedTime[l]+n;const t=null!=this._from[l]&&"object"==typeof this._from[l]?this._from[l].val:this._from[l],c=e.val;if("number"==typeof e)s[l]=e,a[l]=0,i[l]=e,o[l]=0;else{let n=this._lastIdealStyle[l],u=this._lastIdealVelocity[l];if(v(this._config)||v(e)){const{easing:o,duration:a}=e;n=t+o((r-this._startedTime)/a)*(c-t),r>=this._startedTime+a&&(n=c,e.done=!0),i[l]=n,s[l]=n}else if(null!=c&&c===this._currentStyle[l])s[l]=c,a[l]=0,i[l]=c,o[l]=0;else{const t=(this._accumulatedTime[l]-Math.floor(this._accumulatedTime[l]/x)*x)/x,r=Math.floor(this._accumulatedTime[l]/x);for(let i=0;i<r;i++)[n,u]=w(x/1e3,n,u,e.val,e.tension,e.friction,e.precision);const[c,p]=w(x/1e3,n,u,e.val,e.tension,e.friction,e.precision);s[l]=n+(c-n)*t,a[l]=u+(p-u)*t,i[l]=n,o[l]=u,this._accumulatedTime[l]-=r*x}}}this._timer=null,this._currentStyle=Object.assign({},s),this._currentVelocity=Object.assign({},a),this._lastIdealStyle=Object.assign({},i),this._lastIdealVelocity=Object.assign({},o),this._destroyed||(this.emit("frame",this.getCurrentStates()),this.animate())})))}start(){this._prevTime=O(),this._startedTime=O(),this.animate()}end(){this._ended||(this._ended=!0,this._currentStyle=this.getFinalStates(),this.emit("frame",this.getFinalStates()),this.emit("rest",this.getFinalStates())),this.destroy()}pause(){this._paused||(this._pausedTime=O(),this._paused=!0,this.emit("pause",this.getCurrentStates()),this.destroy(),this._destroyed=!1)}resume(){if(this._started&&this._paused){const e=O()-this._pausedTime;this._paused=!1,this._startedTime+=e,this._prevTime+=e,this._pausedTime=0,this.emit("resume",this.getCurrentStates()),this.animate()}}stop(){this.destroy(),this._stopped||(this._stopped=!0,this.emit("stop",this.getInitialStates()),this.initStates())}destroy(){cancelAnimationFrame(this._timer),clearTimeout(this._timer),this._timer=null,this._destroyed=!0}resetPlayStates(){this._started=!1,this._stopped=!1,this._ended=!1,this._paused=!1,this._destroyed=!1,this._timer=null,this._wasAnimating=!1,this._accumulatedTime={},this._startedTime=0,this._pausedTime=0}reset(){this.destroy(),this.initStates()}reverse(){this.destroy();const e=Object.assign({},this._props),[t,r]=[e.to,e.from];e.from=t,e.to=r,this._props=Object.assign({},e),this.initStates()}getCurrentStates(){return Object.assign({},this._currentStyle)}getInitialStates(){return Object.assign({},b(this._props.from))}getFinalStates(){return Object.assign({},b(this._props.to))}}function C(e,t,r){try{const n=function(e,t,r){if(e.sort(((e,t)=>e.percent-t.percent)),e[0].percent>t)return l.STROKE_DEFAULT;const n=e[e.length-1];if(n.percent<t)return j(n.color);for(const[i,o]of e.entries()){if(o.percent===t)return j(o.color);if(t>o.percent)continue;const n=e[i-1];return r?T({startColor:j(n.color),endColor:j(o.color),size:o.percent-n.percent-1},t-n.percent-1):j(n.color)}return}(e,t,r);if(0!==n.length)return n}catch(n){return}}function T(e,t){const{startColor:r,endColor:n,size:i}=e,o=r.split(""),s=n.split(""),a=[parseInt(`${o[1]}${o[2]}`,16),parseInt(`${s[1]}${s[2]}`,16)],c=[parseInt(`${o[3]}${o[4]}`,16),parseInt(`${s[3]}${s[4]}`,16)],l=[parseInt(`${o[5]}${o[6]}`,16),parseInt(`${s[5]}${s[6]}`,16)],u=[parseInt(`${o[7]}${o[8]}`,16),parseInt(`${s[7]}${s[8]}`,16)],p=(a[0]-a[1])/(i+1),d=(c[0]-c[1])/(i+1),h=(l[0]-l[1])/(i+1),f=(u[0]-u[1])/(i+1);function g(e){const t=Math.round(a[0]-p*(e+1)).toString(16),r=Math.round(c[0]-d*(e+1)).toString(16),n=Math.round(l[0]-h*(e+1)).toString(16),i=`${m(t)}${m(r)}${m(n)}`,o=Math.floor(f*(e+1)+u[1]).toString(16);return P.Hex(`#${i}`,o)}function m(e){return 1===e.length?`0${e}`:0===e.length?"00":e}if(void 0===t){const e=[r];for(let t=0;t<i;t+=1)e.push(g(t));return e}return g(t)}function j(e){return e=e.trim().toLowerCase(),I.hex.test(e)?P.Hex(e,void 0):I.hslA.test(e)?P.Hex(P.HslA(e),void 0):I.rgbA.test(e)?P.Hex(P.RgbA(e),void 0):I.semiDesignTokens.test(e)?-1!==A.ALONG.indexOf(e)?P.SemiDesignToken(e):-1!==A.SEQUENCE.indexOf(e)?P.SemiDesignToken(`${e}-5`):P.SemiDesignToken(`${e}`):void 0}const P={Hex:(e,t)=>8===(e=e.replace("#","")).length?`#${e}`:(6===e.length||3===e.length&&(e=e.split("").map((e=>e+e)).join("")),`#${e}${t||"ff"}`),SemiDesignToken(e){if("undefined"==typeof window)return;const t=getComputedStyle(document.body).getPropertyValue(`--semi-${e}`);if(""===t)return;const r=`rgba(${t}, 1)`;return P.RgbA(r)},HslA(e){const t=I.hslA.exec(e),r=parseInt(t[2]),n=parseInt(t[3])/100,i=parseInt(t[4])/100,o=t[5],s=(1-Math.abs(2*i-1))*n,a=s*(1-Math.abs(r/60%2-1)),c=i-s/2;let l=0,u=0,p=0;return 0<=r&&r<60?(l=s,u=a,p=0):60<=r&&r<120?(l=a,u=s,p=0):120<=r&&r<180?(l=0,u=s,p=a):180<=r&&r<240?(l=0,u=a,p=s):240<=r&&r<300?(l=a,u=0,p=s):300<=r&&r<360&&(l=s,u=0,p=a),l=Math.round(255*(l+c)).toString(16),u=Math.round(255*(u+c)).toString(16),p=Math.round(255*(p+c)).toString(16),P.utils.pAL(l,u,p,o)},RgbA(e){const t=I.rgbA.exec(e),r=parseInt(t[2],10).toString(16),n=parseInt(t[3],10).toString(16),i=parseInt(t[4],10).toString(16),o=t[5];return P.utils.pAL(r,n,i,o)},utils:{pAL:(e,t,r,n)=>(1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==r.length&&(r="0"+r),void 0!==n?(1==(n=Math.round(255*parseInt(n)).toString(16)).length&&(n="0"+n),"#"+e+t+r+n):"#"+e+t+r)}},I={hex:/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,hslA:/(hsl)a?\(\s*?(\d+),?\s*?(\d+)%,?\s*?(\d+)%,?\s*?\/?(\s*?[\d.]+)?\s*?\)/,rgbA:/(rgb)a?\(\s*?(\d+),?\s*?(\d+),?\s*?(\d+),?\s*?\/?(\s*?[\d.]+)?\s*?\)/,semiDesignTokens:/(\w+)?-?(\w+)-?(\d)?/},A={ALONG:["black","white"],SEQUENCE:["amber","blue","cyan","green","grey","indigo","light-blue","light-green","lime","orange","pink","purple","red","teal","violet","yellow"]};var D=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const R=c.PREFIX;class M extends n.Component{constructor(e){super(e),this._mounted=!0,this._mounted=!0,this.state={percentNumber:this.props.percent}}componentDidUpdate(e){if(isNaN(this.props.percent)||isNaN(e.percent))throw new Error("[Semi Progress]:percent can not be NaN");if(e.percent!==this.props.percent){if(!this.props.motion)return void this.setState({percentNumber:this.props.percent});this.animation&&this.animation.destroy&&this.animation.destroy(),this.animation=new k({from:{value:e.percent},to:{value:this.props.percent}},{easing:"linear",duration:300}),this.animation.on("frame",(e=>{if(!1===this._mounted)return;const t=parseInt(e.value);this.setState({percentNumber:t})})),this.animation.on("rest",(()=>{!1!==this._mounted&&this.setState({percentNumber:this.props.percent})})),this.animation.start()}}componentWillUnmount(){this.animation&&this.animation.destroy(),this._mounted=!1}renderCircleProgress(){const e=this.props,{strokeLinecap:t,style:r,className:i,strokeWidth:s,format:a,size:c,stroke:p,strokeGradient:d,showInfo:h,percent:f,orbitStroke:g,id:m}=e,y=D(e,["strokeLinecap","style","className","strokeWidth","format","size","stroke","strokeGradient","showInfo","percent","orbitStroke","id"]),v=this.props["aria-label"],b=this.props["aria-labelledby"],_=this.props["aria-valuetext"],{percentNumber:w}=this.state,S={wrapper:o()(`${R}-circle`,i),svg:o()(`${R}-circle-ring`),circle:o()(`${R}-circle-ring-inner`)},E=this.calcPercent(f),O=this.calcPercent(w);let x;x=this.props.width?this.props.width:c===l.DEFAULT_SIZE?72:24;const k=this.selectStroke(p,f,d),C=x/2,T=x/2,j=(x-s)/2,P=2*j*Math.PI,I=(1-E/100)*P,A=`${P} ${P}`,M=a(O);return n.createElement("div",Object.assign({id:m,className:S.wrapper,style:r,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":O,"aria-labelledby":b,"aria-label":v,"aria-valuetext":_},(0,u.Z)(y)),n.createElement("svg",{key:c,className:S.svg,height:x,width:x,"aria-hidden":!0},n.createElement("circle",{strokeDashoffset:0,strokeWidth:s,strokeDasharray:A,strokeLinecap:t,fill:"transparent",stroke:g,r:j,cx:T,cy:C,"aria-hidden":!0}),n.createElement("circle",{className:S.circle,strokeDashoffset:I,strokeWidth:s,strokeDasharray:A,strokeLinecap:t,fill:"transparent",stroke:k,r:j,cx:T,cy:C,"aria-hidden":!0})),h&&"small"!==c?n.createElement("span",{className:`${R}-circle-text`},M):null)}calcPercent(e){let t;return t=e>100?100:e<0?0:e,t}selectStroke(e,t,r){if("string"==typeof e)return e;const n=C(e,t,r);return void 0!==n?n:l.STROKE_DEFAULT}renderLineProgress(){const e=this.props,{className:t,style:r,stroke:i,strokeGradient:s,direction:a,format:c,showInfo:p,size:d,percent:h,orbitStroke:f,id:g}=e,m=D(e,["className","style","stroke","strokeGradient","direction","format","showInfo","size","percent","orbitStroke","id"]),y=this.props["aria-label"],v=this.props["aria-labelledby"],b=this.props["aria-valuetext"],{percentNumber:_}=this.state,w=o()(R,t,{[`${R}-horizontal`]:a===l.DEFAULT_DIRECTION,[`${R}-vertical`]:a!==l.DEFAULT_DIRECTION,[`${R}-large`]:"large"===d}),S=o()({[`${R}-track`]:!0}),E=o()(`${R}-track-inner`),O=this.calcPercent(h),x=this.calcPercent(_),k={background:this.selectStroke(i,h,s)};a===l.DEFAULT_DIRECTION?k.width=`${O}%`:k.height=`${O}%`;const C=c(x);return n.createElement("div",Object.assign({id:g,className:w,style:r,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":O,"aria-labelledby":v,"aria-label":y,"aria-valuetext":b},(0,u.Z)(m)),n.createElement("div",{className:S,style:f?{backgroundColor:f}:{},"aria-hidden":!0},n.createElement("div",{className:E,style:k,"aria-hidden":!0})),p?n.createElement("div",{className:`${R}-line-text`},C):null)}render(){const{type:e}=this.props;return"line"===e?this.renderLineProgress():this.renderCircleProgress()}}M.propTypes={"aria-label":a().string,"aria-labelledby":a().string,"aria-valuetext":a().string,className:a().string,direction:a().oneOf(l.directions),format:a().oneOfType([a().func,a().node]),id:a().string,motion:a().oneOfType([a().bool,a().func,a().object]),orbitStroke:a().string,percent:a().number,scale:a().number,showInfo:a().bool,size:a().oneOf(l.sizes),stroke:a().oneOfType([a().string,a().arrayOf(a().shape({percent:a().number,color:a().string}))]),strokeGradient:a().bool,strokeLinecap:a().oneOf(l.strokeLineCap),strokeWidth:a().number,style:a().object,type:a().oneOf(l.types),width:a().number},M.defaultProps={className:"",direction:l.DEFAULT_DIRECTION,format:e=>`${e}%`,motion:!0,orbitStroke:"var(--semi-color-fill-0)",percent:0,showInfo:!1,size:l.DEFAULT_SIZE,stroke:l.STROKE_DEFAULT,strokeGradient:!1,strokeLinecap:l.DEFAULT_LINECAP,strokeWidth:4,style:{},type:l.DEFAULT_TYPE};const F=M},82826:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(50959),i=r(10422),o=r(41916),s=r.n(o),a=r(76232),c=r(73023);class l extends a.Z{constructor(e){super(e),this.getElement=()=>{try{return(0,i.findDOMNode)(this.childNode||this)}catch(e){return null}},this.mergeRef=(e,t)=>{this.childNode=t,"function"==typeof e?e(t):"object"==typeof e&&e&&"current"in e&&(e.current=t)},this.observer=new c.Z(e.onResize)}componentDidMount(){this.observeElement()}componentDidUpdate(e){this.observeElement(this.props.observeParent!==e.observeParent)}componentWillUnmount(){this.observer&&(this.observer.disconnect(),this.observer=null,this.element=null)}observeElement(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.getElement();this.observer||(this.observer=new c.Z(this.props.onResize)),t&&t instanceof Element?(t!==this.element||e)&&(this.observer.disconnect(),this.element=t,this.observer.observe(t),this.props.observeParent&&t.parentNode&&t.parentNode.ownerDocument&&t.parentNode.ownerDocument.defaultView&&t.parentNode instanceof t.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=t.parentNode,this.observer.observe(this._parentNode))):this.observer.disconnect()}render(){const e=n.Children.only(this.props.children),{ref:t}=e;return n.cloneElement(e,{ref:e=>this.mergeRef(t,e)})}}l.propTypes={onResize:s().func,observeParent:s().bool},l.defaultProps={onResize:()=>{},observeParent:!1}},48611:(e,t,r)=>{"use strict";r.d(t,{Z:()=>y});var n=r(50959),i=r(41916),o=r.n(i),s=r(84875),a=r.n(s),c=r(76232);const l={PREFIX:`${r(82345).T}-spin`};var u=r(1714);class p extends u.Z{static get spinDefaultAdapter(){return{getProp:()=>{},setLoading:e=>{}}}constructor(e){super(Object.assign(Object.assign({},p.spinDefaultAdapter),e))}updateLoadingIfNeedDelay(){const{spinning:e,delay:t}=this._adapter.getProps(),{delay:r}=this._adapter.getStates();if(r){const r=this;this._timer=setTimeout((()=>{r._adapter.setState({loading:e,delay:0})}),t)}}destroy(){this._timer&&(clearTimeout(this._timer),this._timer=null)}}const d=p;var h=r(27873),f=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const g=l.PREFIX;class m extends c.Z{constructor(e){super(e),this.foundation=new d(this.adapter),this.state={delay:e.delay,loading:!0}}static getDerivedStateFromProps(e){return e.delay?!1===e.spinning?{delay:0,loading:!1}:{delay:e.delay}:{loading:e.spinning}}get adapter(){return Object.assign(Object.assign({},super.adapter),{setLoading:e=>{this.setState({loading:e})}})}componentWillUnmount(){this.foundation.destroy()}renderSpin(){const{indicator:e,tip:t}=this.props,{loading:r}=this.state;return r?n.createElement("div",{className:`${g}-wrapper`},e?n.createElement("div",{className:`${g}-animate`,"x-semi-prop":"indicator"},e):n.createElement(h.Z,null),t?n.createElement("div",{"x-semi-prop":"tip"},t):null):null}render(){this.foundation.updateLoadingIfNeedDelay();const e=this.props,{children:t,style:r,wrapperClassName:i,childStyle:o,size:s}=e,c=f(e,["children","style","wrapperClassName","childStyle","size"]),{loading:l}=this.state,u=a()(g,i,{[`${g}-${s}`]:s,[`${g}-block`]:t,[`${g}-hidden`]:!l});return n.createElement("div",Object.assign({className:u,style:r},this.getDataAttr(c)),this.renderSpin(),n.createElement("div",{className:`${g}-children`,style:o,"x-semi-prop":"children"},t))}}m.propTypes={size:o().oneOf(["small","middle","large"]),spinning:o().bool,children:o().node,indicator:o().node,delay:o().number,tip:o().node,wrapperClassName:o().string,childStyle:o().object,style:o().object},m.defaultProps={size:"middle",spinning:!0,children:null,indicator:null,delay:0};const y=m},40996:(e,t,r)=>{"use strict";r.d(t,{Z:()=>D});var n=r(83873),i=r(50959),o=r(84875),s=r.n(o),a=r(41916),c=r.n(a),l=r(77860);const u={PREFIX:`${r(82345).T}-avatar`},p=["circle","square"],d=["extra-extra-small","extra-small","small","default","medium","large","extra-large"],h=["grey","red","pink","purple","violet","indigo","blue","light-blue","cyan","teal","green","light-green","lime","yellow","amber","orange","white"];var f=r(1714),g=r(32890);class m extends f.Z{constructor(e){super(Object.assign({},e)),this.handleFocusVisible=e=>{const{target:t}=e;try{t.matches(":focus-visible")&&this._adapter.setFocusVisible(!0)}catch(r){(0,g.Z)(!0,"Warning: [Semi Avatar] The current browser does not support the focus-visible")}},this.handleBlur=()=>{this._adapter.setFocusVisible(!1)},this.changeScale=()=>{const{gap:e}=this.getProps(),t=this._adapter.getAvatarNode(),r=null==t?void 0:t.firstChild,[n,i]=[(null==t?void 0:t.offsetWidth)||0,(null==r?void 0:r.offsetWidth)||0];if(0!==n&&0!==i&&2*e<n){const t=n-2*e>i?1:(n-2*e)/i;this._adapter.setScale(t)}}}init(){const{children:e}=this.getProps();"string"==typeof e&&this.changeScale()}destroy(){}handleImgLoadError(){const{onError:e}=this.getProps();!1!==(e?e():void 0)&&this._adapter.notifyImgState(!1)}handleEnter(e){this._adapter.notifyEnter(e)}handleLeave(e){this._adapter.notifyLeave(e)}}var y=r(35043),v=r(76232),b=r(19608),_=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const w=d,S=p,E=h,O=u.PREFIX;class x extends v.Z{constructor(e){super(e),this.handleFocusVisible=e=>{this.foundation.handleFocusVisible(e)},this.handleBlur=e=>{this.foundation.handleBlur()},this.getContent=()=>{const{children:e,onClick:t,imgAttr:r,src:n,srcSet:o,alt:a}=this.props,{isImgExist:c}=this.state;let l=e;const u=t!==y.Z,p=n&&c,d={tabIndex:0,onKeyDown:this.handleKeyDown,onFocus:this.handleFocusVisible,onBlur:this.handleBlur};if(p){const e=u?`clickable Avatar: ${a}`:a,t=Object.assign(Object.assign({src:n,srcSet:o,onError:this.handleError},r),{className:s()({[`${O}-no-focus-visible`]:u})}),c=u?Object.assign(Object.assign({},t),d):t;l=i.createElement("img",Object.assign({alt:e},c))}else if("string"==typeof e){const t=null!=a?a:e,r={role:"img","aria-label":u?`clickable Avatar: ${t}`:t,className:s()(`${O}-label`,{[`${O}-no-focus-visible`]:u})},n=u?Object.assign(Object.assign({},r),d):r,o={transform:`scale(${this.state.scale})`};l=i.createElement("span",{className:`${O}-content`,style:o},i.createElement("span",Object.assign({},n,{"x-semi-prop":"children"}),e))}return l},this.state={isImgExist:!0,hoverContent:"",focusVisible:!1,scale:1},this.onEnter=this.onEnter.bind(this),this.onLeave=this.onLeave.bind(this),this.handleError=this.handleError.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.getContent=this.getContent.bind(this),this.avatarRef=i.createRef()}get adapter(){return Object.assign(Object.assign({},super.adapter),{notifyImgState:e=>{this.setState({isImgExist:e})},notifyEnter:e=>{const{hoverMask:t}=this.props,r=t;this.setState({hoverContent:r},(()=>{const{onMouseEnter:t}=this.props;t&&t(e)}))},notifyLeave:e=>{this.setState({hoverContent:""},(()=>{const{onMouseLeave:t}=this.props;t&&t(e)}))},setFocusVisible:e=>{this.setState({focusVisible:e})},setScale:e=>{this.setState({scale:e})},getAvatarNode:()=>{var e;return null===(e=this.avatarRef)||void 0===e?void 0:e.current}})}componentDidMount(){this.foundation=new m(this.adapter),this.foundation.init()}componentDidUpdate(e){if(this.props.src&&this.props.src!==e.src){const e=new Image(0,0);e.src=this.props.src,e.onload=()=>{this.setState({isImgExist:!0})},e.onerror=()=>{this.setState({isImgExist:!1})},e.onabort=()=>{this.setState({isImgExist:!1})}}"string"==typeof this.props.children&&this.props.children!==e.children&&this.foundation.changeScale()}componentWillUnmount(){this.foundation.destroy()}onEnter(e){this.foundation.handleEnter(e)}onLeave(e){this.foundation.handleLeave(e)}handleError(){this.foundation.handleImgLoadError()}handleKeyDown(e){const{onClick:t}=this.props;switch(e.key){case"Enter":t(e),(0,b.Jt)(e);break;case"Escape":e.target.blur()}}render(){const e=this.props,{shape:t,children:r,size:n,color:o,className:a,hoverMask:c,onClick:l,imgAttr:u,src:p,srcSet:d,style:h,alt:f,gap:g}=e,m=_(e,["shape","children","size","color","className","hoverMask","onClick","imgAttr","src","srcSet","style","alt","gap"]),{isImgExist:y,hoverContent:v,focusVisible:b}=this.state,w=p&&y,S=s()(O,{[`${O}-${t}`]:t,[`${O}-${n}`]:n,[`${O}-${o}`]:o&&!w,[`${O}-img`]:w,[`${O}-focus`]:b},a),E=v?i.createElement("div",{className:`${O}-hover`,"x-semi-prop":"hoverContent"},v):null;return i.createElement("span",Object.assign({},m,{style:h,className:S,onClick:l,onMouseEnter:this.onEnter,onMouseLeave:this.onLeave,role:"listitem",ref:this.avatarRef}),this.getContent(),E)}}x.defaultProps={size:"medium",color:"grey",shape:"circle",gap:3,onClick:y.Z,onMouseEnter:y.Z,onMouseLeave:y.Z},x.propTypes={children:c().node,color:c().oneOf(E),shape:c().oneOf(S),size:c().oneOf(w),hoverMask:c().node,className:c().string,style:c().object,gap:c().number,imgAttr:c().object,src:c().string,srcSet:c().string,alt:c().string,onError:c().func,onClick:c().func,onMouseEnter:c().func,onMouseLeave:c().func},x.elementType="Avatar";var k=r(95193),C=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const T=l.U.PREFIX,j=l.j.TAG_COLOR,P=l.j.TAG_SIZE,I=l.j.TAG_TYPE,A=l.j.AVATAR_SHAPE;class D extends i.Component{constructor(e){super(e),this.state={visible:!0},this.close=this.close.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}static getDerivedStateFromProps(e){return"visible"in e?{visible:e.visible}:null}setVisible(e){"visible"in this.props||this.setState({visible:e})}close(e,t,r){const{onClose:n}=this.props;e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),n&&n(t,e,r),e.defaultPrevented||this.setVisible(!1)}handleKeyDown(e){const{closable:t,onClick:r,onKeyDown:n}=this.props;switch(e.key){case"Backspace":case"Delete":t&&this.close(e,this.props.children,this.props.tagKey),(0,b.Jt)(e);break;case"Enter":r(e),(0,b.Jt)(e);break;case"Escape":e.target.blur()}n&&n(e)}renderAvatar(){const{avatarShape:e,avatarSrc:t}=this.props;return i.createElement(x,{src:t,shape:e})}render(){const e=this.props,{tagKey:t,children:r,size:o,color:a,closable:c,visible:l,onClose:u,onClick:p,className:d,type:h,shape:f,avatarSrc:g,avatarShape:m,tabIndex:y,prefixIcon:v,suffixIcon:b}=e,_=C(e,["tagKey","children","size","color","closable","visible","onClose","onClick","className","type","shape","avatarSrc","avatarShape","tabIndex","prefixIcon","suffixIcon"]),{visible:w}=this.state,S=p!==D.defaultProps.onClick||c,E={role:"button",tabIndex:y||0,onKeyDown:this.handleKeyDown},O=Object.assign(Object.assign({},_),{onClick:p,tabIndex:y,className:s()(T,{[`${T}-default`]:"default"===o,[`${T}-small`]:"small"===o,[`${T}-large`]:"large"===o,[`${T}-square`]:"square"===f,[`${T}-circle`]:"circle"===f,[`${T}-${h}`]:h,[`${T}-${a}-${h}`]:a&&h,[`${T}-closable`]:c,[`${T}-invisible`]:!w,[`${T}-avatar-${m}`]:g},d)}),x=S?Object.assign(Object.assign({},O),E):O,j=c?i.createElement("div",{className:`${T}-close`,onClick:e=>this.close(e,r,t)},i.createElement(k.Z,{size:"small"})):null,P=(0,n.Z)(r),I=s()(`${T}-content`,`${T}-content-${P?"ellipsis":"center"}`);return i.createElement("div",Object.assign({"aria-label":this.props["aria-label"]||P?`${c?"Closable ":""}Tag: ${r}`:""},x),v?i.createElement("div",{className:`${T}-prefix-icon`},v):null,g?this.renderAvatar():null,i.createElement("div",{className:I},r),b?i.createElement("div",{className:`${T}-suffix-icon`},b):null,j)}}D.defaultProps={size:P[0],color:j[0],closable:!1,type:I[0],onClose:()=>{},onClick:()=>{},onMouseEnter:()=>{},style:{},className:"",shape:"square",avatarShape:"square",prefixIcon:null,suffixIcon:null},D.propTypes={children:c().node,tagKey:c().oneOfType([c().string,c().number]),size:c().oneOf(P),color:c().oneOf(j),type:c().oneOf(I),closable:c().bool,visible:c().bool,onClose:c().func,onClick:c().func,prefixIcon:c().node,suffixIcon:c().node,style:c().object,className:c().string,avatarSrc:c().string,avatarShape:c().oneOf(A),"aria-label":c().string}},23997:(e,t,r)=>{"use strict";r.d(t,{Z:()=>U});var n=r(50959),i=r(10422),o=r(41916),s=r.n(o),a=r(1714);class c extends a.Z{constructor(e){super(Object.assign(Object.assign({},c.defaultAdapter),e)),this.handleMouseInSideChange=e=>{this._adapter.handleMouseInSideChange(e)},this.getInputWrapperRect=()=>this._adapter.getInputWrapperRect()}hasToast(e){return this._adapter.getState("list").map((e=>{let{id:t}=e;return t})).includes(e)}addToast(e){const t=this._adapter.getState("list");t.push(e),this._adapter.updateToast(t,[],[])}updateToast(e,t){let r=this._adapter.getState("list");r=r.map((r=>r.id===e?Object.assign(Object.assign({},r),t):r));const n=r.filter((t=>t.id===e));this._adapter.updateToast(r,[],n)}removeToast(e){let t=this._adapter.getState("list");const r=[];t=t.filter((t=>t.id!==e||(r.push(t),!1))),this._adapter.updateToast(t,r,[])}destroyAll(){const e=this._adapter.getState("list");e.length>0&&this._adapter.updateToast([],e,[])}}const l=`${r(82345).T}-toast`,u={PREFIX:l,WRAPPER:`${l}-wrapper`,LIST:`${l}-list`},p=["warning","success","info","error","default"],d=["normal","light"],h=["ltr","rtl"];var f=r(76232),g=r(55883),m=r(84875),y=r.n(m),v=r(25691),b=r(69708);class _ extends a.Z{constructor(e){super(Object.assign(Object.assign({},_.defaultAdapter),e)),this._timer=null,this._id=null}init(){this.startCloseTimer_(),this._id=this._adapter.getProp("id")}destroy(){this.clearCloseTimer_()}startCloseTimer_(){const e=this._adapter.getProp("duration");e&&(0,b.Z)(e)&&(this._timer=setTimeout((()=>{this.close()}),1e3*e))}close(e){e&&e.stopPropagation(),this._adapter.notifyWrapperToRemove(this._id),this._adapter.notifyClose()}clearCloseTimer_(){this._timer&&(clearTimeout(this._timer),this._timer=null)}restartCloseTimer(){this.clearCloseTimer_(),this.startCloseTimer_()}}var w=r(810),S=r(40910),E=r(2175),O=r(85848),x=r(86756),k=r(95193),C=r(60153);const T=u.PREFIX;class j extends f.Z{constructor(e){super(e),this.toastEle=n.createRef(),this.clearCloseTimer=()=>{this.foundation.clearCloseTimer_()},this.startCloseTimer=()=>{this.foundation.startCloseTimer_()},this.restartCloseTimer=()=>{this.foundation.restartCloseTimer()},this.state={},this.foundation=new _(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{notifyWrapperToRemove:e=>{this.props.close(e)},notifyClose:()=>{this.props.onClose()}})}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}close(e){this.foundation.close(e)}renderIcon(){const{type:e,icon:t}=this.props,r={warning:n.createElement(S.Z,null),success:n.createElement(E.Z,null),info:n.createElement(O.Z,null),error:n.createElement(x.Z,null)}[e],i="large",o=y()(`${T}-icon`,`${T}-icon-${e}`);return t?(0,C.ID)(t)?n.cloneElement(t,{size:i,className:`${T}-icon`}):t:e&&r?n.cloneElement(r,{size:i,className:o}):null}render(){const{content:e,type:t,theme:r,showClose:i,textMaxWidth:o,className:s,style:a}=this.props,c=this.props.direction||this.context.direction,l=y()(T,s,{[`${T}-${t}`]:!0,[`${T}-${r}`]:"light"===r,[`${T}-rtl`]:"rtl"===c}),u={};u.maxWidth=o;const p=this.props.positionInList?this.props.positionInList.length-this.props.positionInList.index-1:0,d=n.createElement("div",{ref:this.toastEle,role:"alert","aria-label":`${t||"default"} type`,className:l,style:Object.assign(Object.assign({},a),{transform:`translate3d(0,0,${-10*p}px)`}),onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer,onAnimationStart:this.props.onAnimationStart,onAnimationEnd:this.props.onAnimationEnd},n.createElement("div",{className:`${T}-content`},this.renderIcon(),n.createElement("span",{className:`${T}-content-text`,style:u,"x-semi-prop":"content"},e),i&&n.createElement("div",{className:`${T}-close-button`},n.createElement(w.Z,{onClick:e=>this.close(e),type:"tertiary",icon:n.createElement(k.Z,{"x-semi-prop":"icon"}),theme:"borderless",size:"small"}))));if(this.props.stack){const e=this.props.stackExpanded&&this.toastEle.current&&getComputedStyle(this.toastEle.current).height||0;return n.createElement("div",{className:`${T}-zero-height-wrapper`,style:{height:e}},d)}return d}}j.contextType=v.Z,j.propTypes={onClose:s().func,content:s().node,close:s().func,duration:s().number,theme:s().oneOf(d),type:s().oneOf(p),textMaxWidth:s().oneOfType([s().string,s().number]),style:s().object,className:s().string,showClose:s().bool,stack:s().bool,stackExpanded:s().bool,icon:s().node,direction:s().oneOf(h)},j.defaultProps={onClose:g.Z,content:"",close:g.Z,duration:3,textMaxWidth:450,showClose:!0,stack:!1,stackExpanded:!1,theme:"normal"};const P=j;var I=r(74777),A=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const D=(e,t)=>{var{afterClose:r}=e,i=A(e,["afterClose"]);const[o,s]=(0,n.useState)(!0);return n.useImperativeHandle(t,(()=>({close:()=>{s(!1)}}))),(0,n.useEffect)((()=>{o||r(i.id)}),[o]),o?n.createElement(P,Object.assign({},i,{close:()=>{s(!1)}})):null},R=n.forwardRef(D),M={motion:!0,zIndex:1010,duration:3};function F(){const[e,t]=function(){const[e,t]=n.useState([]);return[e,function(e,r){return t((t=>[{element:e,config:r},...t])),e=>{t((t=>t.filter((t=>{let{config:r}=t;return r.id!==e}))))}}]}(),r=(0,n.useRef)(new Map),i=e=>{const i=(0,I.ZP)("semi_toast_"),o=Object.assign(Object.assign({},e),{id:i});let s;const a=n.createElement(R,Object.assign({},o,{key:i,afterClose:e=>s(e),ref:e=>{var t;r.current.set(i,{close:null!==(t=null==e?void 0:e.close)&&void 0!==t?t:g.Z})}}));return s=t(a,Object.assign({},o)),i};return[{success:e=>i(Object.assign(Object.assign(Object.assign({},M),e),{type:"success"})),info:e=>i(Object.assign(Object.assign(Object.assign({},M),e),{type:"info"})),error:e=>i(Object.assign(Object.assign(Object.assign({},M),e),{type:"error"})),warning:e=>i(Object.assign(Object.assign(Object.assign({},M),e),{type:"warning"})),open:e=>i(Object.assign(Object.assign(Object.assign({},M),e),{type:"default"})),close:e=>(e=>{var t;const{close:n}=null!==(t=r.current.get(e))&&void 0!==t?t:{};null==n||n()})(e)},n.createElement(n.Fragment,null,Array.isArray(e)&&e.length?n.createElement(n.Fragment,null,e.map((e=>e.element))):null)]}var N=r(51464);const z=()=>{var e;return e=class e extends f.Z{constructor(e){super(e),this.stack=!1,this.innerWrapperRef=n.createRef(),this.handleMouseEnter=e=>{this.stack&&this.foundation.handleMouseInSideChange(!0)},this.handleMouseLeave=e=>{var t;if(this.stack){(null===(t=this.foundation.getInputWrapperRect())||void 0===t?void 0:t.height)&&this.foundation.handleMouseInSideChange(!1)}},this.state={list:[],removedItems:[],updatedItems:[],mouseInSide:!1},this.foundation=new c(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{updateToast:(e,t,r)=>{this.setState({list:e,removedItems:t,updatedItems:r})},handleMouseInSideChange:e=>{this.setState({mouseInSide:e})},getInputWrapperRect:()=>{var e;return null===(e=this.innerWrapperRef.current)||void 0===e?void 0:e.getBoundingClientRect()}})}static create(t){var r;const o=null!==(r=t.id)&&void 0!==r?r:(0,I.ZP)("toast");if(e.ref){const r=document.querySelector(`#${this.wrapperId}`);["top","left","bottom","right"].map((e=>{e in t&&(r.style[e]="number"==typeof t[e]?`${t[e]}px`:t[e])})),Boolean(t.stack)!==e.ref.stack&&(e.ref.stack=Boolean(t.stack)),e.ref.has(o)?e.ref.update(o,Object.assign(Object.assign({},t),{id:o})):e.ref.add(Object.assign(Object.assign({},t),{id:o}))}else{const r=document.createElement("div");if(this.wrapperId||(this.wrapperId=(0,I.ZP)("toast-wrapper").slice(0,26)),r.className=u.WRAPPER,r.id=this.wrapperId,r.style.zIndex=String("number"==typeof t.zIndex?t.zIndex:e.defaultOpts.zIndex),["top","left","bottom","right"].map((n=>{if(n in e.defaultOpts||n in t){const i=t[n]?t[n]:e.defaultOpts[n];r.style[n]="number"==typeof i?`${i}px`:i}})),e.defaultOpts.getPopupContainer){e.defaultOpts.getPopupContainer().appendChild(r)}else document.body.appendChild(r);i.render(n.createElement(e,{ref:t=>e.ref=t}),r,(()=>{e.ref.add(Object.assign(Object.assign({},t),{id:o})),e.ref.stack=Boolean(t.stack)}))}return o}static close(t){e.ref&&e.ref.remove(t)}static destroyAll(){if(e.ref){e.ref.destroyAll();const t=document.querySelector(`#${this.wrapperId}`);i.unmountComponentAtNode(t),t&&t.parentNode.removeChild(t),e.ref=null,this.wrapperId=null}}static getWrapperId(){return this.wrapperId}static info(t){return"string"==typeof t&&(t={content:t}),this.create(Object.assign(Object.assign(Object.assign({},e.defaultOpts),t),{type:"info"}))}static warning(t){return"string"==typeof t&&(t={content:t}),this.create(Object.assign(Object.assign(Object.assign({},e.defaultOpts),t),{type:"warning"}))}static error(t){return"string"==typeof t&&(t={content:t}),this.create(Object.assign(Object.assign(Object.assign({},e.defaultOpts),t),{type:"error"}))}static success(t){return"string"==typeof t&&(t={content:t}),this.create(Object.assign(Object.assign(Object.assign({},e.defaultOpts),t),{type:"success"}))}static config(t){["top","left","bottom","right"].forEach((r=>{r in t&&(e.defaultOpts[r]=t[r])})),"number"==typeof t.zIndex&&(e.defaultOpts.zIndex=t.zIndex),"number"==typeof t.duration&&(e.defaultOpts.duration=t.duration),"function"==typeof t.getPopupContainer&&(e.defaultOpts.getPopupContainer=t.getPopupContainer)}has(e){return this.foundation.hasToast(e)}add(e){return this.foundation.addToast(e)}update(e,t){return this.foundation.updateToast(e,t)}remove(e){return this.foundation.removeToast(e)}destroyAll(){return this.foundation.destroyAll()}render(){let{list:e}=this.state;const{removedItems:t,updatedItems:r}=this.state;e=Array.from(new Set([...e,...t]));const i=r.map((e=>{let{id:t}=e;return t})),o=e=>{var t;(null===(t=null==e?void 0:e.foundation)||void 0===t?void 0:t._id)&&i.includes(e.foundation._id)&&e.foundation.restartCloseTimer()};return n.createElement(n.Fragment,null,n.createElement("div",{className:y()({[`${u.PREFIX}-innerWrapper`]:!0,[`${u.PREFIX}-innerWrapper-hover`]:this.state.mouseInSide}),ref:this.innerWrapperRef,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},e.map(((r,i)=>{const s=void 0!==t.find((e=>e.id===r.id));return n.createElement(N.Z,{key:r.id,motion:r.motion,animationState:s?"leave":"enter",startClassName:s?`${u.PREFIX}-animation-hide`:`${u.PREFIX}-animation-show`},(t=>{let{animationClassName:a,animationEventsNeedBind:c,isAnimating:l}=t;return s&&!l?null:n.createElement(P,Object.assign({},r,{stack:this.stack,stackExpanded:this.state.mouseInSide,positionInList:{length:e.length,index:i},className:y()({[r.className]:Boolean(r.className),[a]:!0})},c,{style:Object.assign({},r.style),close:e=>this.remove(e),ref:o}))}))}))))}},e.defaultOpts={motion:!0,zIndex:1010,content:""},e.propTypes={content:s().node,duration:s().number,onClose:s().func,icon:s().node,direction:s().oneOf(h),stack:s().bool},e.defaultProps={},e};const U=class{static create(e){const t=z();return t.useToast=F,e&&t.config(e),t}}.create()},31783:(e,t,r)=>{"use strict";r.d(t,{Z:()=>ae});var n=r(88987),i=r(97459),o=r(83873),s=r(24507),a=r(857),c=r(54523);const l=function(e,t,r){(void 0!==r&&!(0,c.Z)(e[t],r)||void 0===r&&!(t in e))&&(0,a.Z)(e,t,r)};var u=r(29148),p=r(14054),d=r(11523),h=r(32126),f=r(16448),g=r(65380),m=r(56052),y=r(84488),v=r(45673),b=r(82433),_=r(54098),w=r(79064);const S=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]};var E=r(52949),O=r(32817);const x=function(e){return(0,E.Z)(e,(0,O.Z)(e))};const k=function(e,t,r,i,o,s,a){var c=S(e,r),u=S(t,r),E=a.get(u);if(E)l(e,r,E);else{var O=s?s(c,u,r+"",e,t,a):void 0,k=void 0===O;if(k){var C=(0,m.Z)(u),T=!C&&(0,v.Z)(u),j=!C&&!T&&(0,w.Z)(u);O=u,C||T||j?(0,m.Z)(c)?O=c:(0,y.Z)(c)?O=(0,h.Z)(c):T?(k=!1,O=(0,p.Z)(u,!0)):j?(k=!1,O=(0,d.Z)(u,!0)):O=[]:(0,_.Z)(u)||(0,g.Z)(u)?(O=c,(0,g.Z)(c)?O=x(c):(0,b.Z)(c)&&!(0,n.Z)(c)||(O=(0,f.Z)(u))):k=!1}k&&(a.set(u,O),o(O,u,i,s,a),a.delete(u)),l(e,r,O)}};const C=function e(t,r,n,i,o){t!==r&&(0,u.Z)(r,(function(a,c){if(o||(o=new s.Z),(0,b.Z)(a))k(t,r,c,n,e,i,o);else{var u=i?i(S(t,c),a,c+"",t,r,o):void 0;void 0===u&&(u=a),l(t,c,u)}}),O.Z)};var T=r(19851),j=r(61833);const P=function(e){return(0,T.Z)((function(t,r){var n=-1,i=r.length,o=i>1?r[i-1]:void 0,s=i>2?r[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,s&&(0,j.Z)(r[0],r[1],s)&&(o=i<3?void 0:o,i=1),t=Object(t);++n<i;){var a=r[n];a&&e(t,a,n,o)}return t}))}((function(e,t,r){C(e,t,r)}));var I=r(93639),A=r(71180),D=r(50959),R=r(84875),M=r.n(R),F=r(41916),N=r.n(F),z=r(1293),U=r(96230),B=r(11643),L=r(22732),$=r.n(L),Z=r(35043),G=r(32006),H=r(33831);const V=(0,r(95571).A)((function(e){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),D.createElement("path",{d:"M7 4C7 2.89543 7.89543 2 9 2H20C21.1046 2 22 2.89543 22 4V15C22 16.1046 21.1046 17 20 17H19V8C19 6 18 5 16 5H7V4Z",fill:"currentColor"}),D.createElement("path",{d:"M5 7C3.89543 7 3 7.89543 3 9V19C3 20.1046 3.89543 21 5 21H15C16.1046 21 17 20.1046 17 19V9C17 7.89543 16.1046 7 15 7H5Z",fill:"currentColor"}))}),"copy");var K=r(37375);const W=z.U.PREFIX;class q extends D.PureComponent{constructor(e){super(e),this.copy=e=>{const{content:t,duration:r,onCopy:n}=this.props,i=$()(t);n&&n(e,t,i),this.setCopied(t,r)},this.setCopied=(e,t)=>{this.setState({copied:!0,item:e}),this._timeId=setTimeout((()=>{this.resetCopied()}),1e3*t)},this.resetCopied=()=>{this._timeId&&(clearTimeout(this._timeId),this._timeId=null,this.setState({copied:!1,item:""}))},this.renderSuccessTip=()=>{const{successTip:e}=this.props;return void 0!==e?e:D.createElement(G.Z,{componentName:"Typography"},(e=>D.createElement("span",null,D.createElement(H.Z,null),e.copied)))},this.renderCopyIcon=()=>{const{icon:e}=this.props,t={role:"button",tabIndex:0,onClick:this.copy,onKeyPress:e=>(0,K.Z)(e)&&this.copy(e)},r=D.createElement("a",{className:`${W}-action-copy-icon`},D.createElement(V,Object.assign({onClick:this.copy},t)));return D.isValidElement(e)?D.cloneElement(e,t):r},this.state={copied:!1,item:""}}componentWillUnmount(){this._timeId&&(clearTimeout(this._timeId),this._timeId=null)}render(){const{style:e,className:t,forwardRef:r,copyTip:n}=this.props,{copied:i}=this.state,o=M()(t,{[`${W}-action-copy`]:!i,[`${W}-action-copied`]:i});return D.createElement(G.Z,{componentName:"Typography"},(t=>D.createElement("span",{style:Object.assign({marginLeft:"4px"},e),className:o,ref:r},i?this.renderSuccessTip():D.createElement(B.Z,{content:void 0!==n?n:t.copy},this.renderCopyIcon()))))}}q.propTypes={content:N().string,onCopy:N().func,successTip:N().node,copyTip:N().node,duration:N().number,style:N().object,className:N().string,icon:N().node},q.defaultProps={content:"",onCopy:Z.Z,duration:3,style:{},className:""};const X=q;var J=r(21797),Y=r(10422);let Q;function ee(e){if(!e)return 0;const t=e.match(/^\d*(\.\d*)?/);return t?Number(t[0]):0}const te=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0;if(0===r.length)return"";Q||(Q=document.createElement("div"),Q.setAttribute("aria-hidden","true"),document.body.appendChild(Q));const a=window.getComputedStyle(e),c=(l=a,Array.prototype.slice.apply(l).map((e=>`${e}: ${l.getPropertyValue(e)};`)).join(""));var l;const u=ee(a.lineHeight),p=Math.round(u*(t+1)+ee(a.paddingTop)+ee(a.paddingBottom));function d(){const e=Q.scrollWidth<=Q.offsetWidth,r=Q.scrollHeight<p;return 1===t?e&&r:r}Q.setAttribute("style",c),Q.style.position="fixed",Q.style.left="0",Q.style.height="auto",Q.style.top="-999999px",Q.style.zIndex="-1000",Q.style.textOverflow="clip",Q.style.webkitLineClamp="none",Y.render(D.createElement(D.Fragment,null),Q);const h=document.createElement("span"),f=document.createTextNode(r);if(h.appendChild(f),o.length>0){const e=document.createTextNode(o);h.appendChild(e)}function g(e,t){const r=e.length;return t?"end"===s?e.slice(0,t)+i:e.slice(0,t)+i+e.slice(r-t,r):i}Q.appendChild(h),Object.values((0,I.Z)(n,"expand")).map((e=>e&&Q.appendChild(e.cloneNode(!0))));let m=r;return d()||(Q.innerHTML="",Q.appendChild(h),Object.values(n).map((e=>e&&Q.appendChild(e.cloneNode(!0)))),m=function e(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.length,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;const a=Math.floor((n+o)/2),c=g(r,a);if(t.textContent=c,n>=o-1&&o>0)for(let i=o;i>=n;i-=1){const e=g(r,i);if(t.textContent=e,d())return e}else if(0===o)return i;return d()?e(t,r,a,o,a):e(t,r,n,a,s)}(f,r,0,"middle"===s?Math.floor(r.length/2):r.length)),Q.innerHTML="",m};var re=r(32890),ne=r(60153),ie=r(82826),oe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const se=z.U.PREFIX;class ae extends D.Component{constructor(e){super(e),this.onResize=()=>{this.rafId&&window.cancelAnimationFrame(this.rafId),this.rafId=window.requestAnimationFrame(this.getEllipsisState.bind(this))},this.canUseCSSEllipsis=()=>{const{copyable:e}=this.props,{expandable:t,expandText:r,pos:n,suffix:i}=this.getEllipsisOpt();return!t&&(0,A.Z)(r)&&!e&&"end"===n&&!i.length},this.shouldTruncated=e=>{if(!e||e<1)return!1;return e<=1?this.wrapperRef.current.scrollWidth>this.wrapperRef.current.offsetWidth:this.wrapperRef.current.scrollHeight>this.wrapperRef.current.offsetHeight},this.showTooltip=()=>{var e,t;const{isOverflowed:r,isTruncated:n,expanded:i}=this.state,{showTooltip:o,expandable:s,expandText:a}=this.getEllipsisOpt(),c=!i&&(r||n),l=!s&&(0,A.Z)(a)&&c&&o;if(!l)return l;const u={type:"tooltip"};return"object"==typeof o?o.type&&"popover"===o.type.toLowerCase()?P({opts:{showArrow:!0}},o,{opts:{className:M()({[`${se}-ellipsis-popover`]:!0,[null===(e=null==o?void 0:o.opts)||void 0===e?void 0:e.className]:Boolean(null===(t=null==o?void 0:o.opts)||void 0===t?void 0:t.className)})}}):Object.assign(Object.assign({},u),o):u},this.toggleOverflow=e=>{const{onExpand:t,expandable:r,collapsible:n}=this.getEllipsisOpt(),{expanded:i}=this.state;t&&t(!i,e),(r&&!i||n&&i)&&this.setState({expanded:!i})},this.getEllipsisOpt=()=>{const{ellipsis:e}=this.props;if(!e)return{};return Object.assign({rows:1,expandable:!1,pos:"end",suffix:"",showTooltip:!1,collapsible:!1,expandText:e.expandable?this.expandStr:void 0,collapseText:e.collapsible?this.collapseStr:void 0},"object"==typeof e?e:null)},this.renderExpandable=()=>{const{expanded:e,isTruncated:t}=this.state;if(!t)return null;const{expandText:r,expandable:n,collapseText:i,collapsible:o}=this.getEllipsisOpt(),s=!n&&(0,A.Z)(r),a=!o&&(0,A.Z)(i);let c;return e||s?e&&!a&&(c=i):c=r,s&&a?null:D.createElement("a",{role:"button",tabIndex:0,className:`${se}-ellipsis-expand`,key:"expand",ref:this.expandRef,"aria-label":c,onClick:this.toggleOverflow,onKeyPress:e=>(0,K.Z)(e)&&this.toggleOverflow(e)},c)},this.getEllipsisStyle=()=>{const{ellipsis:e,component:t}=this.props;if(!e)return{ellipsisCls:"",ellipsisStyle:{}};const{rows:r}=this.getEllipsisOpt(),{expanded:n}=this.state,i=!n&&this.canUseCSSEllipsis();return{ellipsisCls:M()({[`${se}-ellipsis`]:!0,[`${se}-ellipsis-single-line`]:1===r,[`${se}-ellipsis-multiple-line`]:r>1,[`${se}-ellipsis-multiple-line-text`]:r>1&&"span"===t,[`${se}-ellipsis-overflow-ellipsis`]:1===r&&i,[`${se}-ellipsis-overflow-ellipsis-text`]:1===r&&i&&"span"===t}),ellipsisStyle:i&&r>1?{WebkitLineClamp:r}:{}}},this.renderEllipsisText=e=>{const{suffix:t}=e,{children:r}=this.props,{isTruncated:n,expanded:i,ellipsisContent:o}=this.state;return i||!n?D.createElement(D.Fragment,null,r,t&&t.length?t:null):D.createElement("span",null,o,t)},this.state={editable:!1,copied:!1,isOverflowed:!0,ellipsisContent:e.children,expanded:!1,isTruncated:!0,prevChildren:null},this.wrapperRef=D.createRef(),this.expandRef=D.createRef(),this.copyRef=D.createRef()}componentDidMount(){this.props.ellipsis&&this.onResize()}static getDerivedStateFromProps(e,t){const{prevChildren:r}=t,n={};return n.prevChildren=e.children,e.ellipsis&&r!==e.children&&(n.isOverflowed=!0,n.ellipsisContent=e.children,n.expanded=!1,n.isTruncated=!0),n}componentDidUpdate(e){this.props.children!==e.children&&(this.forceUpdate(),this.props.ellipsis&&this.onResize())}componentWillUnmount(){this.rafId&&window.cancelAnimationFrame(this.rafId)}getEllipsisState(){const{rows:e,suffix:t,pos:r}=this.getEllipsisOpt(),{children:n}=this.props;if(!this.wrapperRef||!this.wrapperRef.current)return this.onResize(),!1;const{expanded:o}=this.state,s=this.canUseCSSEllipsis();if((0,i.Z)(n))return void this.setState({isTruncated:!1,isOverflowed:!1});if((0,re.Z)("children"in this.props&&"string"!=typeof n,"[Semi Typography] Only children with pure text could be used with ellipsis at this moment."),!e||e<0||o)return;if(s){const t=this.shouldTruncated(e);return void this.setState({isOverflowed:t,isTruncated:!1})}const a={expand:this.expandRef.current,copy:this.copyRef&&this.copyRef.current},c=te(this.wrapperRef.current,e,String(n),a,"...",t,r);this.setState({isOverflowed:!1,ellipsisContent:c,isTruncated:n!==c})}renderOperations(){return D.createElement(D.Fragment,null,this.renderExpandable(),this.renderCopy())}renderCopy(){var e;const{copyable:t,children:r}=this.props;if(!t)return null;const n=null!==(e=null==t?void 0:t.content)&&void 0!==e?e:r;let i,o=!1;Array.isArray(n)?(i="",n.forEach((e=>{"object"==typeof e&&(o=!0),i+=String(e)}))):("object"!=typeof n||(o=!0),i=String(n)),(0,re.Z)(o,"Content to be copied in Typography is a object, it will case a [object Object] mistake when copy to clipboard.");const s=Object.assign({content:i,duration:3},"object"==typeof t?t:null);return D.createElement(X,Object.assign({},s,{forwardRef:this.copyRef}))}renderIcon(){const{icon:e,size:t}=this.props;if(!e)return null;const r="small"===t?"small":"default";return D.createElement("span",{className:`${se}-icon`,"x-semi-prop":"icon"},(0,ne.ID)(e)?D.cloneElement(e,{size:r}):e)}renderContent(){const e=this.props,{component:t,children:r,className:n,type:i,spacing:s,disabled:a,style:c,ellipsis:l,icon:u,size:p,link:d,heading:h,weight:f}=e,g=oe(e,["component","children","className","type","spacing","disabled","style","ellipsis","icon","size","link","heading","weight"]),m=(0,I.Z)(g,["strong","editable","mark","copyable","underline","code","delete"]),y=this.renderIcon(),v=this.getEllipsisOpt(),{ellipsisCls:b,ellipsisStyle:_}=this.getEllipsisStyle();let w=l?this.renderEllipsisText(v):r;const S=M()({[`${se}-link-text`]:d,[`${se}-link-underline`]:this.props.underline&&d});w=((e,t)=>{const{mark:r,code:n,underline:i,strong:o,link:s,disabled:a}=e;let c=t;const l=(e,t)=>{let r={};e&&("object"==typeof e&&(r=Object.assign({},e)),c=D.createElement(t,r,c))};return l(r,"mark"),l(n,"code"),l(i&&!s,"u"),l(o,"strong"),l(e.delete,"del"),l(s,a?"span":"a"),c})(this.props,D.createElement(D.Fragment,null,y,this.props.link?D.createElement("span",{className:S},w):w));const E=(0,o.Z)(h)&&/^h[1-6]$/.test(h),O=M()(n,b,{[`${se}-${i}`]:i&&!d,[`${se}-${p}`]:p,[`${se}-link`]:d,[`${se}-disabled`]:a,[`${se}-${s}`]:s,[`${se}-${h}`]:E,[`${se}-${h}-weight-${f}`]:E&&f&&isNaN(Number(f))}),x=Object.assign(Object.assign({},isNaN(Number(f))?{}:{fontWeight:f}),c);return D.createElement(U.Z,Object.assign({className:O,style:Object.assign(Object.assign({},x),_),component:t,forwardRef:this.wrapperRef},m),w,this.renderOperations())}renderTipWrapper(){const{children:e}=this.props,t=this.showTooltip(),r=this.renderContent();if(t){const{type:i,opts:o,renderTooltip:s}=t;return(0,n.Z)(s)?s(e,r):"popover"===i.toLowerCase()?D.createElement(J.Z,Object.assign({content:e,position:"top"},o),r):D.createElement(B.Z,Object.assign({content:e,position:"top"},o),r)}return r}render(){const e=D.createElement(G.Z,{componentName:"Typography"},(e=>(this.expandStr=e.expand,this.collapseStr=e.collapse,this.renderTipWrapper())));return this.props.ellipsis?D.createElement(ie.Z,{onResize:this.onResize,observeParent:!0},e):e}}ae.propTypes={children:N().node,copyable:N().oneOfType([N().shape({text:N().string,onCopy:N().func,successTip:N().node,copyTip:N().node}),N().bool]),delete:N().bool,disabled:N().bool,ellipsis:N().oneOfType([N().shape({rows:N().number,expandable:N().bool,expandText:N().string,onExpand:N().func,suffix:N().string,showTooltip:N().oneOfType([N().shape({type:N().string,opts:N().object}),N().bool]),collapsible:N().bool,collapseText:N().string,pos:N().oneOf(["end","middle"])}),N().bool]),mark:N().bool,underline:N().bool,link:N().oneOfType([N().object,N().bool]),spacing:N().oneOf(z.j.SPACING),strong:N().bool,size:N().oneOf(z.j.SIZE),type:N().oneOf(z.j.TYPE),style:N().object,className:N().string,icon:N().oneOfType([N().node,N().string]),heading:N().string,component:N().string},ae.defaultProps={children:null,copyable:!1,delete:!1,disabled:!1,ellipsis:!1,icon:"",mark:!1,underline:!1,strong:!1,link:!1,type:"primary",spacing:"normal",size:"normal",style:{},className:""}},75483:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var n=r(50959),i=r(41916),o=r.n(i),s=r(84875),a=r.n(s),c=r(1293),l=r(31783);const u=c.U.PREFIX;class p extends n.PureComponent{render(){const{className:e}=this.props,t=a()(e,`${u}-paragraph`);return n.createElement(l.Z,Object.assign({component:"p"},this.props,{className:t}))}}p.propTypes={copyable:o().oneOfType([o().object,o().bool]),delete:o().bool,disabled:o().bool,ellipsis:o().oneOfType([o().object,o().bool]),mark:o().bool,link:o().oneOfType([o().object,o().bool]),underline:o().bool,strong:o().bool,type:o().oneOf(c.j.TYPE),size:o().oneOf(c.j.SIZE),spacing:o().oneOf(c.j.SPACING),style:o().object,className:o().string,component:o().string},p.defaultProps={copyable:!1,delete:!1,disabled:!1,ellipsis:!1,mark:!1,underline:!1,strong:!1,link:!1,type:"primary",size:"normal",spacing:"normal",style:{},className:""}},81137:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=r(50959),i=r(41916),o=r.n(i),s=r(1293),a=r(31783);class c extends n.PureComponent{render(){return n.createElement(a.Z,Object.assign({component:"span"},this.props))}}c.propTypes={copyable:o().oneOfType([o().object,o().bool]),delete:o().bool,disabled:o().bool,icon:o().oneOfType([o().node,o().string]),ellipsis:o().oneOfType([o().object,o().bool]),mark:o().bool,underline:o().bool,link:o().oneOfType([o().object,o().bool]),strong:o().bool,type:o().oneOf(s.j.TYPE),size:o().oneOf(s.j.SIZE),style:o().object,className:o().string,code:o().bool,component:o().string},c.defaultProps={copyable:!1,delete:!1,disabled:!1,icon:"",ellipsis:!1,mark:!1,underline:!1,strong:!1,link:!1,type:"primary",style:{},size:"normal",className:""}},96230:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var n=r(50959),i=r(84875),o=r.n(i),s=r(41916),a=r.n(s),c=r(1293),l=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const u=c.U.PREFIX;class p extends n.PureComponent{render(){const e=this.props,{component:t,className:r,children:i,forwardRef:s}=e,a=l(e,["component","className","children","forwardRef"]),c=t,p=o()(u,r);return n.createElement(c,Object.assign({className:p,ref:s},a),i)}}p.defaultProps={component:"article",style:{},className:""},p.propTypes={component:a().string,style:a().object,className:a().string};const d=p},65943:e=>{var t=.1,r="function"==typeof Float32Array;function n(e,t){return 1-3*t+3*e}function i(e,t){return 3*t-6*e}function o(e){return 3*e}function s(e,t,r){return((n(t,r)*e+i(t,r))*e+o(t))*e}function a(e,t,r){return 3*n(t,r)*e*e+2*i(t,r)*e+o(t)}function c(e){return e}e.exports=function(e,n,i,o){if(!(0<=e&&e<=1&&0<=i&&i<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===n&&i===o)return c;for(var l=r?new Float32Array(11):new Array(11),u=0;u<11;++u)l[u]=s(u*t,e,i);function p(r){for(var n=0,o=1;10!==o&&l[o]<=r;++o)n+=t;--o;var c=n+(r-l[o])/(l[o+1]-l[o])*t,u=a(c,e,i);return u>=.001?function(e,t,r,n){for(var i=0;i<4;++i){var o=a(t,r,n);if(0===o)return t;t-=(s(t,r,n)-e)/o}return t}(r,c,e,i):0===u?c:function(e,t,r,n,i){var o,a,c=0;do{(o=s(a=t+(r-t)/2,n,i)-e)>0?r=a:t=a}while(Math.abs(o)>1e-7&&++c<10);return a}(r,n,n+t,e,i)}return function(e){return 0===e?0:1===e?1:s(p(e),n,o)}}},6636:e=>{var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],r=0;r<e.length;r++)t.push(255&e.charCodeAt(r));return t},bytesToString:function(e){for(var t=[],r=0;r<e.length;r++)t.push(String.fromCharCode(e[r]));return t.join("")}}};e.exports=t},22732:e=>{"use strict";const t=(e,{target:t=document.body}={})=>{const r=document.createElement("textarea"),n=document.activeElement;r.value=e,r.setAttribute("readonly",""),r.style.contain="strict",r.style.position="absolute",r.style.left="-9999px",r.style.fontSize="12pt";const i=document.getSelection();let o=!1;i.rangeCount>0&&(o=i.getRangeAt(0)),t.append(r),r.select(),r.selectionStart=0,r.selectionEnd=e.length;let s=!1;try{s=document.execCommand("copy")}catch(a){}return r.remove(),o&&(i.removeAllRanges(),i.addRange(o)),n&&n.focus(),s};e.exports=t,e.exports.default=t},1048:e=>{var t,r;t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&r.rotl(e,8)|4278255360&r.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=r.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],r=0,n=0;r<e.length;r++,n+=8)t[n>>>5]|=e[r]<<24-n%32;return t},wordsToBytes:function(e){for(var t=[],r=0;r<32*e.length;r+=8)t.push(e[r>>>5]>>>24-r%32&255);return t},bytesToHex:function(e){for(var t=[],r=0;r<e.length;r++)t.push((e[r]>>>4).toString(16)),t.push((15&e[r]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},bytesToBase64:function(e){for(var r=[],n=0;n<e.length;n+=3)for(var i=e[n]<<16|e[n+1]<<8|e[n+2],o=0;o<4;o++)8*n+6*o<=8*e.length?r.push(t.charAt(i>>>6*(3-o)&63)):r.push("=");return r.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var r=[],n=0,i=0;n<e.length;i=++n%4)0!=i&&r.push((t.indexOf(e.charAt(n-1))&Math.pow(2,-2*i+8)-1)<<2*i|t.indexOf(e.charAt(n))>>>6-2*i);return r}},e.exports=r},72100:e=>{"use strict";var t,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(r,n){function i(r){e.removeListener(t,o),n(r)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}g(e,t,o,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&g(e,"error",t,r)}(e,i,{once:!0})}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function l(e,t,r,n){var i,o,s,l;if(a(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),s=o[t]),void 0===s)s=o[t]=r,++e._eventsCount;else if("function"==typeof s?s=o[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(i=c(e))>0&&s.length>i&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=s.length,l=u,console&&console.warn&&console.warn(l)}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=u.bind(n);return i.listener=r,n.wrapFn=i,i}function d(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):f(i,i.length)}function h(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function f(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function g(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){n.once&&e.removeEventListener(t,i),r(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return c(this)},o.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=o[e];if(void 0===c)return!1;if("function"==typeof c)n(c,this,t);else{var l=c.length,u=f(c,l);for(r=0;r<l;++r)n(u[r],this,t)}return!0},o.prototype.addListener=function(e,t){return l(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return l(this,e,t,!0)},o.prototype.once=function(e,t){return a(t),this.on(e,p(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,p(this,e,t)),this},o.prototype.removeListener=function(e,t){var r,n,i,o,s;if(a(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){s=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,s||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},o.prototype.listeners=function(e){return d(this,e,!0)},o.prototype.rawListeners=function(e){return d(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},o.prototype.listenerCount=h,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},13149:e=>{function t(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(t(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&t(e.slice(0,0))}(e)||!!e._isBuffer)}},96706:(e,t,r)=>{var n,i,o,s,a;n=r(1048),i=r(6636).utf8,o=r(13149),s=r(6636).bin,(a=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?s.stringToBytes(e):i.stringToBytes(e):o(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var r=n.bytesToWords(e),c=8*e.length,l=1732584193,u=-271733879,p=-1732584194,d=271733878,h=0;h<r.length;h++)r[h]=16711935&(r[h]<<8|r[h]>>>24)|4278255360&(r[h]<<24|r[h]>>>8);r[c>>>5]|=128<<c%32,r[14+(c+64>>>9<<4)]=c;var f=a._ff,g=a._gg,m=a._hh,y=a._ii;for(h=0;h<r.length;h+=16){var v=l,b=u,_=p,w=d;l=f(l,u,p,d,r[h+0],7,-680876936),d=f(d,l,u,p,r[h+1],12,-389564586),p=f(p,d,l,u,r[h+2],17,606105819),u=f(u,p,d,l,r[h+3],22,-1044525330),l=f(l,u,p,d,r[h+4],7,-176418897),d=f(d,l,u,p,r[h+5],12,1200080426),p=f(p,d,l,u,r[h+6],17,-1473231341),u=f(u,p,d,l,r[h+7],22,-45705983),l=f(l,u,p,d,r[h+8],7,1770035416),d=f(d,l,u,p,r[h+9],12,-1958414417),p=f(p,d,l,u,r[h+10],17,-42063),u=f(u,p,d,l,r[h+11],22,-1990404162),l=f(l,u,p,d,r[h+12],7,1804603682),d=f(d,l,u,p,r[h+13],12,-40341101),p=f(p,d,l,u,r[h+14],17,-1502002290),l=g(l,u=f(u,p,d,l,r[h+15],22,1236535329),p,d,r[h+1],5,-165796510),d=g(d,l,u,p,r[h+6],9,-1069501632),p=g(p,d,l,u,r[h+11],14,643717713),u=g(u,p,d,l,r[h+0],20,-373897302),l=g(l,u,p,d,r[h+5],5,-701558691),d=g(d,l,u,p,r[h+10],9,38016083),p=g(p,d,l,u,r[h+15],14,-660478335),u=g(u,p,d,l,r[h+4],20,-405537848),l=g(l,u,p,d,r[h+9],5,568446438),d=g(d,l,u,p,r[h+14],9,-1019803690),p=g(p,d,l,u,r[h+3],14,-187363961),u=g(u,p,d,l,r[h+8],20,1163531501),l=g(l,u,p,d,r[h+13],5,-1444681467),d=g(d,l,u,p,r[h+2],9,-51403784),p=g(p,d,l,u,r[h+7],14,1735328473),l=m(l,u=g(u,p,d,l,r[h+12],20,-1926607734),p,d,r[h+5],4,-378558),d=m(d,l,u,p,r[h+8],11,-2022574463),p=m(p,d,l,u,r[h+11],16,1839030562),u=m(u,p,d,l,r[h+14],23,-35309556),l=m(l,u,p,d,r[h+1],4,-1530992060),d=m(d,l,u,p,r[h+4],11,1272893353),p=m(p,d,l,u,r[h+7],16,-155497632),u=m(u,p,d,l,r[h+10],23,-1094730640),l=m(l,u,p,d,r[h+13],4,681279174),d=m(d,l,u,p,r[h+0],11,-358537222),p=m(p,d,l,u,r[h+3],16,-722521979),u=m(u,p,d,l,r[h+6],23,76029189),l=m(l,u,p,d,r[h+9],4,-640364487),d=m(d,l,u,p,r[h+12],11,-421815835),p=m(p,d,l,u,r[h+15],16,530742520),l=y(l,u=m(u,p,d,l,r[h+2],23,-995338651),p,d,r[h+0],6,-198630844),d=y(d,l,u,p,r[h+7],10,1126891415),p=y(p,d,l,u,r[h+14],15,-1416354905),u=y(u,p,d,l,r[h+5],21,-57434055),l=y(l,u,p,d,r[h+12],6,1700485571),d=y(d,l,u,p,r[h+3],10,-1894986606),p=y(p,d,l,u,r[h+10],15,-1051523),u=y(u,p,d,l,r[h+1],21,-2054922799),l=y(l,u,p,d,r[h+8],6,1873313359),d=y(d,l,u,p,r[h+15],10,-30611744),p=y(p,d,l,u,r[h+6],15,-1560198380),u=y(u,p,d,l,r[h+13],21,1309151649),l=y(l,u,p,d,r[h+4],6,-145523070),d=y(d,l,u,p,r[h+11],10,-1120210379),p=y(p,d,l,u,r[h+2],15,718787259),u=y(u,p,d,l,r[h+9],21,-343485551),l=l+v>>>0,u=u+b>>>0,p=p+_>>>0,d=d+w>>>0}return n.endian([l,u,p,d])})._ff=function(e,t,r,n,i,o,s){var a=e+(t&r|~t&n)+(i>>>0)+s;return(a<<o|a>>>32-o)+t},a._gg=function(e,t,r,n,i,o,s){var a=e+(t&n|r&~n)+(i>>>0)+s;return(a<<o|a>>>32-o)+t},a._hh=function(e,t,r,n,i,o,s){var a=e+(t^r^n)+(i>>>0)+s;return(a<<o|a>>>32-o)+t},a._ii=function(e,t,r,n,i,o,s){var a=e+(r^(t|~n))+(i>>>0)+s;return(a<<o|a>>>32-o)+t},a._blocksize=16,a._digestsize=16,e.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var r=n.wordsToBytes(a(e,t));return t&&t.asBytes?r:t&&t.asString?s.bytesToString(r):n.bytesToHex(r)}},61022:(e,t,r)=>{"use strict";r.d(t,{jd:()=>o.O,FY:()=>s.F,Pi:()=>a.P,fv:()=>u});r(20673);var n=r(57210),i=r(2882),o=(r(66727),r(7215)),s=r(13046),a=r(32990),c=(r(44258),r(66589)),l=r(50959);function u(e,t){return(0,l.useState)((function(){return(0,c.LO)(e(),t,{autoBind:!0})}))[0]}var p;r(44968),r(6628);(0,i.z0)(n.m);p=o.O.finalizeAllImmediately},73023:(e,t,r)=>{"use strict";r.d(t,{Z:()=>O});var n=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var r=-1;return e.some((function(e,n){return e[0]===t&&(r=n,!0)})),r}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var r=e(this.__entries__,t),n=this.__entries__[r];return n&&n[1]},t.prototype.set=function(t,r){var n=e(this.__entries__,t);~n?this.__entries__[n][1]=r:this.__entries__.push([t,r])},t.prototype.delete=function(t){var r=this.__entries__,n=e(r,t);~n&&r.splice(n,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var r=0,n=this.__entries__;r<n.length;r++){var i=n[r];e.call(t,i[1],i[0])}},t}()}(),i="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,o=void 0!==r.g&&r.g.Math===Math?r.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),s="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var a=["top","right","bottom","left","width","height","size","weight"],c="undefined"!=typeof MutationObserver,l=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var r=!1,n=!1,i=0;function o(){r&&(r=!1,e()),n&&c()}function a(){s(o)}function c(){var e=Date.now();if(r){if(e-i<2)return;n=!0}else r=!0,n=!1,setTimeout(a,t);i=e}return c}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,r=t.indexOf(e);~r&&t.splice(r,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),c?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,r=void 0===t?"":t;a.some((function(e){return!!~r.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),u=function(e,t){for(var r=0,n=Object.keys(t);r<n.length;r++){var i=n[r];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},p=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||o},d=v(0,0,0,0);function h(e){return parseFloat(e)||0}function f(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.reduce((function(t,r){return t+h(e["border-"+r+"-width"])}),0)}function g(e){var t=e.clientWidth,r=e.clientHeight;if(!t&&!r)return d;var n=p(e).getComputedStyle(e),i=function(e){for(var t={},r=0,n=["top","right","bottom","left"];r<n.length;r++){var i=n[r],o=e["padding-"+i];t[i]=h(o)}return t}(n),o=i.left+i.right,s=i.top+i.bottom,a=h(n.width),c=h(n.height);if("border-box"===n.boxSizing&&(Math.round(a+o)!==t&&(a-=f(n,"left","right")+o),Math.round(c+s)!==r&&(c-=f(n,"top","bottom")+s)),!function(e){return e===p(e).document.documentElement}(e)){var l=Math.round(a+o)-t,u=Math.round(c+s)-r;1!==Math.abs(l)&&(a-=l),1!==Math.abs(u)&&(c-=u)}return v(i.left,i.top,a,c)}var m="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof p(e).SVGGraphicsElement}:function(e){return e instanceof p(e).SVGElement&&"function"==typeof e.getBBox};function y(e){return i?m(e)?function(e){var t=e.getBBox();return v(0,0,t.width,t.height)}(e):g(e):d}function v(e,t,r,n){return{x:e,y:t,width:r,height:n}}var b=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=v(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=y(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),_=function(e,t){var r,n,i,o,s,a,c,l=(n=(r=t).x,i=r.y,o=r.width,s=r.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,c=Object.create(a.prototype),u(c,{x:n,y:i,width:o,height:s,top:i,right:n+o,bottom:s+i,left:n}),c);u(this,{target:e,contentRect:l})},w=function(){function e(e,t,r){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof p(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new b(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof p(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new _(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),S="undefined"!=typeof WeakMap?new WeakMap:new n,E=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=l.getInstance(),n=new w(t,r,this);S.set(this,n)};["observe","unobserve","disconnect"].forEach((function(e){E.prototype[e]=function(){var t;return(t=S.get(this))[e].apply(t,arguments)}}));const O=void 0!==o.ResizeObserver?o.ResizeObserver:E},62304:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(49084),i=r(23188),o=r(76750);const s=function(e,t,r){for(var s=-1,a=t.length,c={};++s<a;){var l=t[s],u=(0,n.Z)(e,l);r(u,l)&&(0,i.Z)(c,(0,o.Z)(l,e),u)}return c}},19851:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(76402),i=r(38416),o=r(80744);const s=function(e,t){return(0,o.Z)((0,i.Z)(e,t,n.Z),e+"")}},23188:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=r(61572),i=r(76750),o=r(99313),s=r(82433),a=r(13383);const c=function(e,t,r,c){if(!(0,s.Z)(e))return e;for(var l=-1,u=(t=(0,i.Z)(t,e)).length,p=u-1,d=e;null!=d&&++l<u;){var h=(0,a.Z)(t[l]),f=r;if("__proto__"===h||"constructor"===h||"prototype"===h)return e;if(l!=p){var g=d[h];void 0===(f=c?c(g,h,d):void 0)&&(f=(0,s.Z)(g)?g:(0,o.Z)(t[l+1])?[]:{})}(0,n.Z)(d,h,f),d=d[h]}return e}},94195:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(67062);const i=function(e,t){return t="function"==typeof t?t:void 0,(0,n.Z)(e,5,t)}},90177:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});const n=function(e,t){return null!=e&&t in Object(e)};var i=r(76750),o=r(65380),s=r(56052),a=r(99313),c=r(65743),l=r(13383);const u=function(e,t,r){for(var n=-1,u=(t=(0,i.Z)(t,e)).length,p=!1;++n<u;){var d=(0,l.Z)(t[n]);if(!(p=null!=e&&r(e,d)))break;e=e[d]}return p||++n!=u?p:!!(u=null==e?0:e.length)&&(0,c.Z)(u)&&(0,a.Z)(d,u)&&((0,s.Z)(e)||(0,o.Z)(e))};const p=function(e,t){return null!=e&&u(e,t,n)}},84488:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(49634),i=r(13795);const o=function(e){return(0,i.Z)(e)&&(0,n.Z)(e)}},97459:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=function(e){return null===e}},69708:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(33918),i=r(13795);const o=function(e){return"number"==typeof e||(0,i.Z)(e)&&"[object Number]"==(0,n.Z)(e)}},83873:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(33918),i=r(56052),o=r(13795);const s=function(e){return"string"==typeof e||!(0,i.Z)(e)&&(0,o.Z)(e)&&"[object String]"==(0,n.Z)(e)}},23073:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(62304),i=r(90177);const o=function(e,t){return(0,n.Z)(e,t,(function(t,r){return(0,i.Z)(e,r)}))};const s=(0,r(19619).Z)((function(e,t){return null==e?{}:o(e,t)}))},19780:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(23188);const i=function(e,t,r){return null==e?e:(0,n.Z)(e,t,r)}},88375:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r(28019),i=r(32126),o=r(56052),s=r(98111),a=r(72e3),c=r(13383),l=r(99757);const u=function(e){return(0,o.Z)(e)?(0,n.Z)(e,c.Z):(0,s.Z)(e)?[e]:(0,i.Z)((0,a.Z)((0,l.Z)(e)))}}}]);