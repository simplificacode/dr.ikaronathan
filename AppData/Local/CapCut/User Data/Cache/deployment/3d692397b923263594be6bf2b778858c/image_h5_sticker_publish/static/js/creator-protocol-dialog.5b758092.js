(()=>{"use strict";var e,t,a,r,i,o={26970:(e,t,a)=>{var r=a(44478),i=a(1874),o=a(31007),_=a(50959),n=a(98549),s=a(86763);"undefined"!=typeof document&&(window._routeModules={});const l=[{path:"/",children:[{_component:"@_edenx_src/pages/creator-protocol-dialog/routes/page.tsx",index:!0,id:"creator-protocol-dialog_page",type:"nested",lazyImport:()=>Promise.all([a.e(56),a.e(207),a.e(898)]).then(a.bind(a,10491)).then((e=>(0,n.u3)(e,"creator-protocol-dialog_page"))).catch(n.UC),component:(0,_.lazy)((()=>Promise.all([a.e(56),a.e(207),a.e(898)]).then(a.bind(a,10491)).then((e=>(0,n.u3)(e,"creator-protocol-dialog_page"))).catch(n.UC)))}],isRoot:!0,_component:"@_edenx_src/pages/creator-protocol-dialog/routes/layout.tsx",id:"creator-protocol-dialog_layout",type:"nested",lazyImport:()=>Promise.resolve().then(a.bind(a,86763)).then((e=>(0,n.u3)(e,"creator-protocol-dialog_layout"))).catch(n.UC),component:s.default}];var c=a(52539),p=a(77012),m=a(41482),u=a(32756);const d="undefined"!=typeof window&&"nodejs"!==window.name;let f=null;f=function(){var e,t,a;const _={...false.config,..."function"==typeof s.config?(0,s.config)():{}};return f=(0,i.Z)({plugins:[(0,c.ZP)({disableDefaultRequest:!0,..._.intl,clientOptions:{zoneHost:"https://starling-oversea.byteoversea.com",apiKey:"c9b15e104b0811ee8856d332f8c446c1",namespace:"PCClient",fallbackLang:["en"],...null===(e=_.intl)||void 0===e?void 0:e.clientOptions},nodeOptions:{...null===(t=_.intl)||void 0===t?void 0:t.nodeOptions},intlOptions:{lng:"en",fallbackLng:"en",ns:["PCClient"],defaultNS:"PCClient",resources:{en:{PCClient:{add_tags_to_make_your_material_more_discoverable:"Tags make it easier for people to find your material",apply_to_all_stickers:"Apply to all",commercial_stickers_pc:"Commercial",commercial_stickers_web:"Commercial",enable_premium_publishing:"Quick post",file_format_web:"Formats:",file_size_limit_web:"Size: up to {X} MB each",filter:"Filters",flower_character:"Effects",information_settings_pc:"Details",label_settings_sticker:"Tags",loading_web:"Loading...",original_cursive:"Original effects",original_stickers_web:"Original work",original_text_template:"Original text templates",pc_capcut_creator_agreement_web:"CapCut Creator Terms of Service","pc_collection_cover_size_{X}x{X}px_web":"The minimum image size for covers of sticker packs is {X} \xd7 {X}.",pc_filter_collection_description:"Description",pc_filter_collection_name:"Name",pc_filter_collection_number:"Number of filters: 3 to 10 filters",pc_filter_cover_description:"Cover",pc_filter_cover_regenerating:"Loading...",pc_filter_file_format:"Formats: PNG and JPEG",pc_filter_file_import_web:"[none]",pc_filter_file_size_one_g:"Size: up to 1 GB each",pc_filter_file_size_ten_m:"Size: up to 10 MB",pc_filter_form:"Formats: CUBE and 3DL",pc_filter_lut_match:"Ensure each cover fits the corresponding LUT",pc_filter_material_loading:"Loading...",pc_filter_pixel_size:"Image size: 720 \xd7 720",pc_filter_pixel_size_n:"Recommended resolution: 1080p",pc_filter_production_tutorial:"Watch tutorials",pc_filter_release_collection:"Post filter pack",pc_filter_release_item:"Post filter",pc_filter_release_successful:"Posted",pc_filter_setting_describe:"Description",pc_filter_size_eight_m:"Size: up to 8 MB each filter",pc_filter_specification:"Filter file",pc_filter_time_limit:"Duration: up to 60 seconds",pc_filter_title:"Name",pc_filter_video_name:"Name",pc_filter_video_release:"Video effect",pc_filter_voice_effect:"Sound effect",pc_filter_voice_effect_name:"Name",pc_i_see_web:"Got it",pc_jianying_creator_agreement_web:"[none]",pc_material_release_apply_all:"Apply to all",pc_material_release_click:"Drag and drop file here or click \u201c+\u201d",pc_material_release_delete:"Delete",pc_material_release_import_again:"Import again",pc_material_release_original_material:"Original",pc_material_type:"Type",pc_recently_used_web:"Recents","pc_sample_smallest_size_{X}x{X}px_web":"The minimum image size for samples is {X} \xd7 {X}.",pc_sound_form:"Formats: MP3 and WAV",pc_sound_specification:"Sound effects","pc_sticker_abnormal_{X}_web":"Something went wrong. {X}","pc_sticker_agree_{X}_web":"You acknowledge and agree to the {X}.",pc_sticker_cancel_web:"Quit posting?",pc_sticker_click_unrecoverable_web:"This action cannot be undone.",pc_sticker_creator_agreement_web:"CapCut Creator Service Agreement",pc_sticker_edit_web:"Edit",pc_sticker_failed_retry_web:"Couldn\u2019t load. Try again later.",pc_sticker_failed_retrying_web:"Reloading stickers...","pc_sticker_import_least_{X}_web":"Import at least {X} stickers",pc_sticker_import_zero_to_hundred_web:"{X} imported. You can import {Y} in total.",pc_sticker_load_web:"Loading...",pc_sticker_loading_web:"Loading stickers...",pc_sticker_original_notice_web:"Original Work Notice",pc_sticker_read_tick_web:"You need to acknowledge and agree to the CapCut Creator Terms of Service",pc_sticker_release_X_web:"{X} imported. You can import {Y} to {Z} stickers.","pc_sticker_release_agree_{X}_web":"By clicking \u201cPost\u201d, you acknowledge and agree to the {X}",pc_sticker_release_drag_web:"Drag and drop file here to import or click \u201c+\u201d",pc_sticker_release_failed_retry_web:"Couldn\u2019t post. Try again later.",pc_sticker_release_groups_png_web:"Supported formats: PNG, JPEG,GIF, and folder (for frame sequence)",pc_sticker_release_loading_web:"Loading...",pc_sticker_release_mouse_web:"Release the mouse to import files",pc_sticker_release_successful_web:"Stickers posted",pc_sticker_retry_web:"Tap to retry.",pc_sticker_sample_web:"Sample",pc_sticker_upgrading_web:"Updating...",pc_stickers_creator_policy:"CapCut Creator Service Agreement",pc_stickers_hint_name_setting:"Enter sticker name","pc_stickers_prompt_failed_{X}":"Something went wrong: {X}","pc_stickers_prompt_w_{X}_h_{Y}_web":"Width: {X}, recommended height: {Y}",pc_stickers_release_add_cover_web:"Add cover",pc_stickers_release_again_web:"Import again",pc_stickers_release_amount_web:"Amount: up to 20 folders, 49 frames at most for each folder",pc_stickers_release_animation_set_web:"Animation",pc_stickers_release_apply_all_frames_web:"Apply to all frame sequence stickers",pc_stickers_release_apply_all_web:"Apply to all stickers",pc_stickers_release_cancel_disagree_web:"Disagree",pc_stickers_release_cancel_web:"Cancel",pc_stickers_release_case_min_size_x_web:"The minimum image size for a sample is {X}.",pc_stickers_release_click_again_web:"Tap to retry.",pc_stickers_release_confirm_agree_web:"Agree",pc_stickers_release_confirm_delete_web:"Quit posting?",pc_stickers_release_confirm_quit_web:"Quit",pc_stickers_release_confirm_web:"OK",pc_stickers_release_cover_edit_web:"Edit",pc_stickers_release_cover_group_x_web:"The minimum image size for a sticker pack cover is {X}.",pc_stickers_release_cycle_set_web:"Loop type",pc_stickers_release_cycle_start_web:"Repeat",pc_stickers_release_delete_web:"Delete",pc_stickers_release_details_recommend_web:"Description",pc_stickers_release_drag_in_web:"Drag and drop file here or click \u201c+\u201d",pc_stickers_release_edit_cover_web:"Edit",pc_stickers_release_editing_web:"Edit",pc_stickers_release_error_x_web:"Couldn\u2019t import. {X}",pc_stickers_release_failed_web:"Couldn\u2019t import",pc_stickers_release_finish_fill_web:"Finished",pc_stickers_release_format_gif_web:"Format: GIF",pc_stickers_release_format_web:"Formats: PNG and JPEG",pc_stickers_release_fps_web:"FPS",pc_stickers_release_frame_web_web:"Frame sequence stickers",pc_stickers_release_gif_details_web:"GIF stickers",pc_stickers_release_group_name_web:"Name",pc_stickers_release_higher_settings_web:"Advanced",pc_stickers_release_in_web:"Importing...",pc_stickers_release_ing_web:"Post stickers",pc_stickers_release_invalid_web:"Not approved",pc_stickers_release_local_web:"Upload",pc_stickers_release_max_tag_web:"You can add up to {X} tags",pc_stickers_release_max_x_web:"You can post up to {X} stickers at a time",pc_stickers_release_network_anomaly_web:"No internet connection",pc_stickers_release_one_start_web:"Once",pc_stickers_release_online_puzzle_web:"Online",pc_stickers_release_original_stickers_web:"Original work",pc_stickers_release_png_groups_web_web:"Format: PNG",pc_stickers_release_png_web:"PNG stickers",pc_stickers_release_reccomend_size_web:"Recommended image size: 1080 \xd7 1080",pc_stickers_release_recommend_tag_web:"Recommended tags",pc_stickers_release_recommend_web:"File size: Up to 20 MB for each material",pc_stickers_release_saved_web:"Save",pc_stickers_release_set_title_web:"Name",pc_stickers_release_settings_web_web:"Apply to all",pc_stickers_release_sfps_web:"Animation: {X} FPS / {Y}",pc_stickers_release_show_case_web:"Samples",pc_stickers_release_size_min_web:"Image size: minimum: 360 \xd7 360, recommended: 800 \xd7 800",pc_stickers_release_tag_set_web:"Tags",pc_stickers_release_template_web:"Download PSD template","pc_stickers_release_upload details_web":"Uploaded: {X}/{Y}",pc_stickers_release_upload_error_again_web:"Connect to the internet and try again. {X}",pc_stickers_release_uploading_material_web:"Uploading...",pc_stickers_release_uploading_web:"This action cannot be undone.",pc_stickers_release_web:"Post",pc_stickers_release_xy_details_web:"Description should be {X} to {Y} characters",pc_stickers_release_xy_name_web:"Name should be {X} to {Y} characters",pc_stickers_toast_view_copyright_web:"You need to agree the copyright claim",pc_subtitle_effect_web:"Text effects ({X})",pc_subtitle_original:"Original",pc_subtitle_template_add_web:"Click to add caption template",pc_subtitle_template_apply_all_web:"Apply to all caption templates",pc_subtitle_template_description_web:"Caption template",pc_subtitle_template_effect_release_web:"The text effects in the caption templates will also be posted.",pc_subtitle_template_imported_web:"{num, plural, one {{num} template imported.} other {{num} templates imported.}}",pc_subtitle_template_item_release_web:"Post caption template",pc_subtitle_template_max_web:"{num, plural, one {{X} You can import up to {num} template.} other {{X} You can import up to {num} templates.}}",pc_subtitle_template_release_successful_check_web:"Template posted. You can view it in \u201cCreator Center\u201d > \u201cMaterials\u201d > \u201cCaption templates.\u201d",pc_subtitle_template_web:"Caption templates ({X})",pc_tag_illegal_fail_web:"Couldn\u2019t add tag. Your tag includes inappropriate content.",pc_tag_retry_web:"Couldn\u2019t add tag. Try again later.",pc_template_authorize_business_copyright_web:"You are posting content for commercial use. You need to sign an agreement due to copyright protection requirements on CapCut.",pc_template_authorize_business_web:"Allow CapCut to use it for commercial use",pc_template_authorize_cancel_web:"Cancel",pc_template_authorize_certificate_info_web:"Enter your ID number",pc_template_authorize_certificate_irregular_web:"Enter a valid ID number",pc_template_authorize_certificate_num_web:"Type of ID",pc_template_authorize_certificate_select_web:"Select a type of ID that can verify your identity",pc_template_authorize_certificate_type_web:"ID number",pc_template_authorize_commercial_unavailable_web:"Non-commercial use media is found",pc_template_authorize_confirm_web:"Continue",pc_template_authorize_effect_web:"Text effect",pc_template_authorize_email_error_web:"Enter a valid email",pc_template_authorize_email_receive_web:"Enter your email",pc_template_authorize_email_sign_check_web:"Check your email and sign the agreement. If you\u2019ve signed the agreement, wait for CapCut\u2019s response.",pc_template_authorize_email_sign_web:"The agreement has been sent to the email address you provided. Check your email and sign the agreement.",pc_template_authorize_email_web:"Email",pc_template_authorize_enter_n_web:"Enter ID number",pc_template_authorize_enter_web:"Enter name",pc_template_authorize_error_web:"Something went wrong. Try again later.",pc_template_authorize_exceed_size_web:"You can upload a file up to 10 MB",pc_template_authorize_font_web:"Font",pc_template_authorize_i_know_web:"OK",pc_template_authorize_info_contract_web:"Provide the following information for generating an agreement for signing. Ensure the authenticity of the information that you fill in.",pc_template_authorize_info_web:"Your information",pc_template_authorize_material_business_web:"[none]",pc_template_authorize_material_paid_web:"[none]",pc_template_authorize_name_enter_web:"Enter your name",pc_template_authorize_name_web:"Name",pc_template_authorize_ok_web:"OK",pc_template_authorize_pro_web:"Allow CapCut to set it as Pro",pc_template_authorize_range_web:"Authorize",pc_template_authorize_read_agree_web:"By continuing, you acknowledge that you have read and agree to {X}.",pc_template_authorize_read_all_web:"Scroll down to complete reading",pc_template_authorize_region_select_web:"Select your country or region",pc_template_authorize_region_web:"Country or region",pc_template_authorize_select_unavailable_web:"Media in the template follows the rules of the template",pc_template_authorize_select_web:"Select",pc_template_authorize_settings_web:"Authorization",pc_template_authorize_sign_n_web:"Sign",pc_template_authorize_sign_web:"Sign agreement",pc_template_authorize_sticker_web:"Sticker",pc_template_authorize_submitted_web:"Submitted",pc_template_authorize_upload_failed_web:"Couldn\u2019t upload. Try again later.",pc_template_authorize_upload_web:"Upload authorization document",pc_template_authorize_wait_web:"If you\u2019ve signed the agreement, wait for CapCut\u2019s response.",pc_template_enter_email_web:"Enter email",pc_template_submit_web:"Submit",pc_text_tamplate_language_cn_web:"Chinese",pc_text_tamplate_language_en_web:"English",pc_text_tamplate_language_jp_web:"Japanese",pc_text_tamplate_language_kr_web:"Korean",pc_text_template_add_click_web:"Click to add text template",pc_text_template_affiliated_web:"Text effect ({X})",pc_text_template_agree_web:"By clicking \u201cPost,\u201d you acknowledge and agree to the %1.",pc_text_template_apply_all_effect_web:"Apply to all text effects",pc_text_template_apply_all_n_web:"Apply to all text templates",pc_text_template_apply_all_template_web:"Apply to all text templates",pc_text_template_apply_all_web:"Apply to all",pc_text_template_authorize_settings_web:"Authorization",pc_text_template_cancel_n_web:"Cancel",pc_text_template_cancel_web:"Cancel",pc_text_template_certain_web:"Text templates ({X})",pc_text_template_collection_desc_web:"Text template pack",pc_text_template_collection_release_web:"Post text template pack",pc_text_template_collection_web:"Text template pack",pc_text_template_complete_web:"Done",pc_text_template_confirm_web:"Confirm",pc_text_template_cover_modify_web:"Edit cover",pc_text_template_desc_web:"Text template",pc_text_template_effect_web:"Text effects ({X})",pc_text_template_import_n_plural_web:"{num, plural, one {{X} You can import up to {num} template.} other {{X} You can import up to {num} templates.}}",pc_text_template_import_n_web:"{num, plural, one {{num} template imported.} other {{num} templates imported.}}",pc_text_template_import_web:"{X} imported. You can import {Y} to {Z} templates.",pc_text_template_infor_modify_web:"Edit",pc_text_template_item_release_web:"Post text template",pc_text_template_language_name_web:"Name",pc_text_template_language_version_web:"Multi-languages",pc_text_template_loading_web:"Loading...",pc_text_template_main_language_cn_web:"Chinese (default)",pc_text_template_main_language_en_web:"English (default)",pc_text_template_n_collection_web:"Text template ({X})",pc_text_template_name_character_web:"Name should be 1 to 20 characters",pc_text_template_name_n_web:"Name",pc_text_template_origial_material_web:"Original",pc_text_template_policy_web:"CapCut Creator Agreement",pc_text_template_release_check_web:"{num, plural, one {Template posted. You can view it in \u201cCreator Center\u201d > \u201cMaterials\u201d > \u201cText templates\u201d} other {Templates posted. You can view them in \u201cCreator Center\u201d > \u201cMaterials\u201d > \u201cText templates\u201d}}",pc_text_template_release_combination_web:"A text template pack is a collection of your posted single text templates.",pc_text_template_release_effect_web:"The effects in the text template will also be posted",pc_text_template_release_priority_web:"Fast post",pc_text_template_release_settings_web:"Post settings",pc_text_template_release_success_web:"{num, plural, one {Template posted. You can view it in \u201cCreator Center\u201d > \u201cMaterials\u201d > \u201cText templates\u201d} other {Templates posted. You can view them in \u201cCreator Center\u201d > \u201cMaterials\u201d > \u201cText templates\u201d}}",pc_text_template_save_web:"Save",pc_text_template_tag_max_web:"You can add up to 10 tags",pc_text_template_tag_recommended_web:"Recommended tags",pc_text_template_tag_settings_n_web:"Tags",pc_text_template_tag_settings_web:"Tags",pc_text_template_web:"Text template ({X})",pc_ugc_all_show:"Select a frame that includes all the text effects",pc_upload_fail_web:"Couldn't upload. Try again later.",pc_video_form:"Formats: MOV, MP4, and AVI",pc_video_frame_select:"Select cover",pc_video_specification:"Video effects",please_enter_the_label_enter_key_to_confirm_the_input:"Separate multiple tags with space or by pressing Enter",please_enter_the_label_enter_key_to_confirm_the_input_web:"Separate multiple tags with space or by pressing Enter",posting_constitutes_consent:"By clicking \u201cPost\u201d, you agree to {X}.",preview_settings:"Preview",published_successfully_pc:"Material posted",recommend_signature_web:"Recommended",release_post_pc:"Post",select_preview_frame:"Select a frame for preview","something_went_wrong,_please_try_again":"Unknown error. Try again later.",sticker:"Stickers",sure:"Confirm",text_template:"Text template",the_uploaded_file_format_please_try_another_file:"File format unsupported. Check your file format and try again.",title_settings:"Name",to_pay_for_stickers:"CapCut Pro",to_pay_for_stickers_web:"CapCut Pro"}}},...null===(a=_.intl)||void 0===a?void 0:a.intlOptions}}),(0,p.Z)({serverBase:["/creator-protocol-dialog"],supportHtml5History:!1,routesConfig:{routes:l,globalApp:false},...null==_?void 0:_.router}),(0,m.Z)({bid:"artist_op_pc",env:"production",release:"1.0.0.907",zone:"sg",plugins:{pageview:{routeMode:"hash"}},slardarInstance:u.Z,...null==_?void 0:_.slardar})]})(),f.init||void 0===s.init||(f.init=s.init),d&&(0,o.Ux)(f,"root",null,r),f}()},46309:(e,t,a)=>{a.d(t,{BN:()=>i,Gw:()=>s,Td:()=>n,bG:()=>_,zY:()=>o});var r=a(98052);const i=()=>(0,r.mu)("getAppInfo").then((e=>e.data?e.data:e)),o=()=>(0,r.mu)("getDebugInfo").then((e=>e.data)),_=()=>(0,r.mu)("getUserInfo"),n=e=>(0,r.mu)("setTitle",e);const s=e=>(0,r.mu)("getSettings",e)},86763:(e,t,a)=>{a.r(t),a.d(t,{config:()=>u,default:()=>N,init:()=>O});var r=a(50959),i=a(49340);a(84781);const o="macos",_="windows";var n=a(59787),s=a(66589),l=a(27206),c=a(46309),p=a(8129);let m={};const u=()=>({intl:{clientOptions:{getOverrideOptions:()=>m}}});const d=new class{constructor(){(0,n.Z)(this,"appInfo",{language:"",appID:"",region:"",appVersion:"",appVersionName:void 0,did:""}),(0,n.Z)(this,"debugInfo",{useBOE:!1,boeChannel:"",usePPE:!1,ppeChannel:""}),(0,n.Z)(this,"isInitFailed",!1),(0,n.Z)(this,"isInited",!1),(0,n.Z)(this,"initAppInfoPromise",null),(0,s.ky)(this)}async initAppInfo(){return this.isInitFailed=!1,this.initAppInfoPromise||(this.initAppInfoPromise=this.initAppInfoImpl().catch((e=>{throw this.initAppInfoPromise=null,e}))),this.initAppInfoPromise}async initAppInfoImpl(){console.log("start");try{const e=await(0,c.BN)();(0,s.z)((()=>{this.appInfo={...e,appVersionName:this.getAppVersionName(e.appVersion)}})),console.log("done appInfo",e.language,e.appID,e.region),(0,p.$G)({deviceId:this.appInfo.did,ctx:{appVersion:this.appInfo.appVersionName,os:e.os,osVersion:e.osVersion,language:this.appInfo.language,region:this.appInfo.region}}),m={fallbackHash:"0cf6cd66d0ee07b42b6c77cdc2a1c09c",lazyUpdate:!0}}finally{await l.ZP.changeLanguage({locale:this.appInfo.language})}return this.appInfo}getAppVersionName(e){const t=Number.parseInt(e,10);if(!t)return;const a=Math.floor(t/Math.pow(256,2)),r=t-a*Math.pow(256,2),i=Math.floor(r/256);return`${a}.${i}.${r-256*i}`}setInitFailed(){this.isInitFailed=!0}setInited(){this.isInited=!0}async initDebugInfo(){}};var f=a(22310),g=a(80418),w=a(73224),b=a(98052);class h extends Error{constructor(e,t){super(e),this.context=t,(0,n.Z)(this,"name","HeycanError")}}let y=!1;const k=(0,f.Z)((async()=>{return"true"===(await async function(e,t){try{return(await(0,c.Gw)({nodeKey:e,keys:t})).nodeKey}catch(a){(0,p.RF)("[getSettings] error",a,{nodeKey:e,keys:t})}return{}}("abtest_use_new_host",["enabled"])).enabled})),v=["/lv/v1/user/","/lv/v1/ad_maker/"],x=["/artist/v1/homepage/get_effect_list"];async function I(e,t){const a=await k(),r=a&&y,i=a&&!y,o=e.startsWith("/")?`${function(e,t){{const a=(null==t?void 0:t.useNewHost)||!1;if(e){if(v.some((t=>e.startsWith(t))))return a?"https://feed-api.capcutapi.com":"https://feed-api.capcut.com";if(x.includes(e))return a?"https://heycan-api.capcutapi.com":"https://api-heycan-pc-sg.capcut.com"}return a?"https://editor-api.capcutapi.com":"https://editor-api-sg.capcut.com"}}(e,{useNewHost:i})}${e}`:e,_=g.parseUrl(o),{region:n,language:s,appVersionName:l}=d.appInfo,c={url:g.stringifyUrl({url:_.url,query:{...!t.disableRegion&&{region:n},language:s,version_name:l,..._.query}}),method:t.method,needCommonParams:!0,header:{"Content-Type":"application/json",...t.headers},...t.data&&{data:JSON.stringify(t.data)},...t.timeout&&{timeout_ms:t.timeout}},m=(a,o,_)=>{const n={rawUrl:e,useNewHost:i,disableNewHostByLoginError:r,...c,..._};"error"===a?(0,p.RF)(o,null,n):t.onlyLogOnError||(0,p.c6)(o,n)},u=e=>w.I18n.t("pc_stickers_prompt_failed_{X}",{X:e});m("info",`[request] start - ${e}`);let f=null;const C=performance.now();try{f=await b.Jn.call("request",c)}catch(P){const a=performance.now()-C>=(t.timeout||2e4),r=`[request] ${a?"timeout":"failed"} - jsb - ${e}`;throw m("error",r,{code:P.code,errorText:JSON.stringify(P),timeout:a}),new h(r,{code:P.code,displayMessage:u("jsb")})}const z={httpCode:f.httpCode,code:f.response.ret,errmsg:f.response.errmsg,logid:f.response.logid||f.response.log_id};if(200!==f.httpCode){const t=`[request] failed - httpCode ${f.httpCode} - ${e}`;throw m("error",t,z),new h(t,{...z,displayMessage:u(`http ${f.httpCode}`)})}if("success"!==f.response.errmsg){const a=`[request] failed - ${z.code} ${z.errmsg} - ${e}`;if(m("error",a,z),i&&"1015"===String(z.code)&&location.pathname.endsWith("/publish-text-template.html"))return y=!0,I(e,t);throw new h(a,{...z,displayMessage:u(`${z.code} ${z.errmsg}`)})}return m("info",`[request] success ${e}`,z),f.response.data}function C(e,t,a){return I(e,{method:"POST",data:t,...a})}const z=async()=>{const{user:e}=await C("/lv/v1/user/web/get_user_info");return{nickname:e.nick_name,userID:e.user_id,avatarURL:e.avatar_urls.avatar_url_medium}};const P=async()=>await C("/lv/v1/user/get_enable_list",{});const T=new class{constructor(){(0,n.Z)(this,"userInfo",{avatar:"",nickname:"",uid:""}),(0,n.Z)(this,"permissions",[]),(0,n.Z)(this,"initUserInfoPromise",null),(0,s.ky)(this)}async initUserInfo(){return this.initUserInfoPromise||(this.initUserInfoPromise=this.initUserInfoImpl().catch((e=>{throw this.initUserInfoPromise=null,e}))),this.initUserInfoPromise}async refreshUserInfo(){return d.isInited?this.initUserInfoImpl():this.initUserInfo()}async initUserInfoImpl(){var e;const t=await(0,c.bG)().catch((()=>null));if(!1===(null==t?void 0:t.hasLoggedIn))return(0,s.z)((()=>{this.userInfo.avatar="",this.userInfo.nickname="",this.userInfo.uid="",this.permissions=[]})),void(0,p.$G)({userId:""});null!=t&&t.hasLoggedIn&&null!==(e=t.userInfo)&&void 0!==e&&e.userID&&((0,s.z)((()=>{this.userInfo.uid=t.userInfo.userID,this.userInfo.avatar=t.userInfo.avatarURL,this.userInfo.nickname=t.userInfo.nickname})),(0,p.$G)({userId:this.userInfo.uid}));const a=z,[r,i]=await Promise.all([a(),P()]);(0,s.z)((()=>{var e;null!=r&&r.userID&&(this.userInfo.uid=r.userID,this.userInfo.nickname=r.nickname,this.userInfo.avatar=r.avatarURL),this.permissions=(null===(e=i.enable_list)||void 0===e||null===(e=e.filter((e=>e.is_enable)))||void 0===e?void 0:e.map((e=>e.whitelist_type)))||[]})),(0,p.$G)({userId:this.userInfo.uid})}};var S=a(76896);async function O(){try{await d.initAppInfo()}catch(e){(0,p.RF)("tryInitCoreAppInfo failed",e),d.setInitFailed()}}function A(){document.oncontextmenu=()=>!1,document.ondragover=e=>e.preventDefault(),document.ondrop=e=>e.preventDefault(),document.addEventListener("keydown",(e=>{("w"===e.key&&e.metaKey||"w"===e.key&&e.ctrlKey)&&e.preventDefault()}));const e=(0,S.c)()?o:_;document.body.classList.add(e),d.initDebugInfo(),async function(e){try{await d.initAppInfo(),await T.initUserInfo(),d.setInited()}catch(t){if((0,p.RF)("initAppAndUserInfo failed",t),d.setInitFailed(),null!=e&&e.throwOnError)throw t}}()}var E=a(11527);const N=()=>((0,r.useEffect)((()=>{A()}),[]),(0,E.jsx)(i.j3,{}))},98052:(e,t,a)=>{a.d(t,{Jn:()=>r.ZP,mu:()=>c});var r=a(38508),i=a(97373),o=a(77508),_=a(41503),n=a(76896),s=a(2555);r.ZP.use(new _.Z);class l extends Error{constructor(e,t,a){super(t),this.code=e,this.msg=t,this.error=a}}r.ZP.use(new class extends i.b{name(){return"HeycanPlugin"}async beforeCall({event:e}){if((0,n.c)()&&!window.window.webkit.messageHandlers[e])throw new l(o.GL.NOT_FOUND,`bridge not found, bridgeName=${e}`)}async trigger(e){e.triggerLocal()}});const c=async(e,t)=>{const{timeout_ms:a=3e3,...i}=t||{},_=new s.B;return Promise.race([r.ZP.call(e,i).finally((()=>_.cancel())),new Promise(((t,r)=>{if(!a)return;const i=new l(o.GL.TIMEOUT,`timed out by fe, bridgeName=${e}, timeout=${a}`);_.timeout(a).then((()=>r(i)))}))])}},76896:(e,t,a)=>{a.d(t,{c:()=>o});var r=a(22310);const{userAgent:i}=navigator,o=(0,r.Z)((()=>/macintosh/i.test(i)&&!/(ipod|iphone|ipad)/i.test(i)));(0,r.Z)((()=>/windows/i.test(i)))},8129:(e,t,a)=>{a.d(t,{$G:()=>d,RF:()=>l,c6:()=>s});var r=a(11449),i=a(74637),o=a.n(i);const _=()=>o()().format("MM-DD HH:mm:ss.SSSZ");function n(e,t){try{var a,r;const i=String(e).trim(),o=null!==(a=null===(r=i.match(/^\[\w+\]/))||void 0===r?void 0:r[0])&&void 0!==a?a:"",_=o.slice(1,-1),n=i.slice(o.length).replace(/\{\S*?\}/g,"").trim().replace(/[\s:-]+/g,"-");return{module:_,scene:t.scene?`${n}-${t.scene}`:n}}catch(i){return{module:"",scene:t.scene||""}}}async function s(e,t){const a=`${_()} ${e}`,{module:i,scene:o}=n(e,{...t}),s={...t,module:i,scene:o};(0,r.Z)("sendLog",{level:"info",content:a,extra:s})}async function l(e,t,a){const i="HeycanError"===(null==t?void 0:t.name)?t.context:t;t&&(0,r.Z)("captureException",t,{...i,...a});const o=`${_()} ${e}`,{module:s,scene:l}=n(e,{...i,...a}),c={stack:null==t?void 0:t.stack,message:null==t?void 0:t.message,...i,...a,module:s,scene:l};(0,r.Z)("sendLog",{level:"error",content:o,extra:c}),console.error(`[slardar] ${o}`,{...c}),t&&console.error(t)}const c=[],p=1e3;function m(e){const t=e.post;e.post=a=>{const{success:r,fail:i}=a;t({...a,success:t=>{(()=>{if(0===c.length)return;const t=c.shift();t&&e.post(t)})(),null==r||r(t)},fail:e=>{c.push(a),c.length>p&&c.shift(),null==i||i(e)}})}}let u=!1;function d(e){u||(u=!0,r.Z.on("init",(()=>{var e;const t=null===(e=r.Z.config())||void 0===e?void 0:e.transport;t&&m(t)})));const{ctx:t,...a}=e;(0,r.Z)("config",a),t&&r.Z.context&&(0,r.Z)("context.merge",t)}},2555:(e,t,a)=>{a.d(t,{B:()=>i});var r=a(59787);class i{constructor(){(0,r.Z)(this,"timeoutHandle",null)}timeout(e){return this.cancel(),new Promise((t=>{this.timeoutHandle=setTimeout((()=>{this.timeoutHandle=null,t()}),e)}))}cancel(){this.timeoutHandle&&(clearTimeout(this.timeoutHandle),this.timeoutHandle=null)}hasTimeout(){return null!==this.timeoutHandle}}},53649:(e,t,a)=>{a(34415),a(69163),a(40398),a(8971),a(91351),a(28200),a(62824),a(74024),a(10972),a(544),a(24799),a(12021),a(79577),a(40641),a(40413),a(8810),a(63931),a(23645),a(28937),a(33686),a(82313),a(76990),a(48069),a(61113),a(88932),a(61294),a(33180),a(42060),a(61892),a(37469)},44296:()=>{window.__assetPrefix__="."}},_={};function n(e){var t=_[e];if(void 0!==t)return t.exports;var a=_[e]={exports:{}};return o[e].call(a.exports,a,a.exports,n),a.exports}n.m=o,e=[],n.O=(t,a,r,i)=>{if(!a){var o=1/0;for(c=0;c<e.length;c++){for(var[a,r,i]=e[c],_=!0,s=0;s<a.length;s++)(!1&i||o>=i)&&Object.keys(n.O).every((e=>n.O[e](a[s])))?a.splice(s--,1):(_=!1,i<o&&(o=i));if(_){e.splice(c--,1);var l=r();void 0!==l&&(t=l)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[a,r,i]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},a=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,n.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"==typeof e.then)return e}var i=Object.create(null);n.r(i);var o={};t=t||[null,a({}),a([]),a(a)];for(var _=2&r&&e;"object"==typeof _&&!~t.indexOf(_);_=a(_))Object.getOwnPropertyNames(_).forEach((t=>o[t]=()=>e[t]));return o.default=()=>e,n.d(i,o),i},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,a)=>(n.f[a](e,t),t)),[])),n.u=e=>"static/js/async/"+(898===e?"creator-protocol-dialog_page":e)+"."+{207:"f2e10d16",898:"58612c80"}[e]+".js",n.miniCssF=e=>"static/css/async/"+(898===e?"creator-protocol-dialog_page":e)+"."+{207:"8355af33",898:"98fb917e"}[e]+".css",n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r={},i="artist_op_web:",n.l=(e,t,a,o)=>{if(r[e])r[e].push(t);else{var _,s;if(void 0!==a)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var p=l[c];if(p.getAttribute("src")==e||p.getAttribute("data-webpack")==i+a){_=p;break}}_||(s=!0,(_=document.createElement("script")).charset="utf-8",_.timeout=120,n.nc&&_.setAttribute("nonce",n.nc),_.setAttribute("data-webpack",i+a),_.src=e),r[e]=[t];var m=(t,a)=>{_.onerror=_.onload=null,clearTimeout(u);var i=r[e];if(delete r[e],_.parentNode&&_.parentNode.removeChild(_),i&&i.forEach((e=>e(a))),t)return t(a)},u=setTimeout(m.bind(null,void 0,{type:"timeout",target:_}),12e4);_.onerror=m.bind(null,_.onerror),_.onload=m.bind(null,_.onload),s&&document.head.appendChild(_)}},n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.j=995,n.p="./",(()=>{if("undefined"!=typeof document){var e=e=>new Promise(((t,a)=>{var r=n.miniCssF(e),i=n.p+r;if(((e,t)=>{for(var a=document.getElementsByTagName("link"),r=0;r<a.length;r++){var i=(_=a[r]).getAttribute("data-href")||_.getAttribute("href");if("stylesheet"===_.rel&&(i===e||i===t))return _}var o=document.getElementsByTagName("style");for(r=0;r<o.length;r++){var _;if((i=(_=o[r]).getAttribute("data-href"))===e||i===t)return _}})(r,i))return t();((e,t,a,r,i)=>{var o=document.createElement("link");o.rel="stylesheet",o.type="text/css",o.onerror=o.onload=a=>{if(o.onerror=o.onload=null,"load"===a.type)r();else{var _=a&&("load"===a.type?"missing":a.type),n=a&&a.target&&a.target.href||t,s=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");s.code="CSS_CHUNK_LOAD_FAILED",s.type=_,s.request=n,o.parentNode&&o.parentNode.removeChild(o),i(s)}},o.href=t,a?a.parentNode.insertBefore(o,a.nextSibling):document.head.appendChild(o)})(e,i,null,t,a)})),t={995:0};n.f.miniCss=(a,r)=>{t[a]?r.push(t[a]):0!==t[a]&&{207:1,898:1}[a]&&r.push(t[a]=e(a).then((()=>{t[a]=0}),(e=>{throw delete t[a],e})))}}})(),(()=>{var e={995:0};n.f.j=(t,a)=>{var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)a.push(r[2]);else{var i=new Promise(((a,i)=>r=e[t]=[a,i]));a.push(r[2]=i);var o=n.p+n.u(t),_=new Error;n.l(o,(a=>{if(n.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=a&&("load"===a.type?"missing":a.type),o=a&&a.target&&a.target.src;_.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",_.name="ChunkLoadError",_.type=i,_.request=o,r[1](_)}}),"chunk-"+t,t)}},n.O.j=t=>0===e[t];var t=(t,a)=>{var r,i,[o,_,s]=a,l=0;if(o.some((t=>0!==e[t]))){for(r in _)n.o(_,r)&&(n.m[r]=_[r]);if(s)var c=s(n)}for(t&&t(a);l<o.length;l++)i=o[l],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(c)},a=self.webpackChunkartist_op_web=self.webpackChunkartist_op_web||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})(),n.O(void 0,[56,986,651,193,218],(()=>n(53649))),n.O(void 0,[56,986,651,193,218],(()=>n(44296)));var s=n.O(void 0,[56,986,651,193,218],(()=>n(26970)));s=n.O(s)})();