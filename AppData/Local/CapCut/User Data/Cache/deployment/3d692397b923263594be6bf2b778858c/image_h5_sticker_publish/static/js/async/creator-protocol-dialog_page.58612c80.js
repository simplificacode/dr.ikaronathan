/*! For license information please see creator-protocol-dialog_page.58612c80.js.LICENSE.txt */
(self.webpackChunkartist_op_web=self.webpackChunkartist_op_web||[]).push([[898],{19608:(e,t,r)=>{"use strict";function o(e){e.stopPropagation(),e.preventDefault()}r.d(t,{Jt:()=>o})},75108:(e,t,r)=>{"use strict";r.d(t,{q7:()=>o});const o="Enter"},74777:(e,t,r)=>{"use strict";function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{prefix:t="",length:r=7}=e,o="0123456789abcdefghijklmnopqrstuvwxyz";let n="";for(let a=0;a<r;a++){const e=Math.floor(36*Math.random());n+=o.charAt(e)}return t?`${t}-${n}`:n}r.d(t,{Ms:()=>o})},60153:(e,t,r)=>{"use strict";r.d(t,{GO:()=>i,UW:()=>n,vY:()=>a});r(50959);var o=r(50840);function n(e,t){e&&"function"==typeof e.stopPropagation&&e.stopPropagation(),!t&&e.nativeEvent&&"function"==typeof e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()}function a(){return document?document.activeElement:null}function i(e){if(!(0,o.Z)(e))return[];const t=["input:not([disabled]):not([tabindex='-1'])","textarea:not([disabled]):not([tabindex='-1'])","button:not([disabled]):not([tabindex='-1'])","a[href]:not([tabindex='-1'])","select:not([disabled]):not([tabindex='-1'])","area[href]:not([tabindex='-1'])","iframe:not([tabindex='-1'])","object:not([tabindex='-1'])","*[tabindex]:not([tabindex='-1'])","*[contenteditable]:not([tabindex='-1'])"].join(",");return Array.from(e.querySelectorAll(t))}},10491:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>he});var o,n,a=r(50959),i=r(84875),s=r.n(i),c=r(45599),l=(r(32913),r(99891)),d=r(76021),u=r(11643),f=r(11449),m=r(98052);function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},p.apply(this,arguments)}const h=e=>a.createElement("svg",p({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none",viewBox:"0 0 18 18"},e),o||(o=a.createElement("rect",{width:18,height:18,fill:"#29292D",opacity:.5,rx:9})),n||(n=a.createElement("path",{stroke:"#FAFAFA",strokeWidth:1.35,d:"M13.925 9a4.924 4.924 0 1 0-1.443 3.482"}))),v="root-yumxDJ",g="animated-IHczOy";var b=r(11527);const _=(0,a.memo)((e=>{const{className:t,size:r,circleColor:o="var(--black-4)",arcColor:n="var(--white-0)",animated:a=!0}=e;return(0,b.jsx)(h,{className:s()(t,v,a&&g),width:r,height:r,style:{"--heycan-loading-circle-color":o,"--heycan-loading-arc-color":n}})})),x="card-f4fcSb",w="text-RGDuHx",j=e=>{const{className:t,status:r,children:o}=e;return(0,b.jsxs)("div",{className:s()(t,x),children:["loading"===r?(0,b.jsx)(_,{size:18},r):(0,b.jsx)(_,{size:18,circleColor:"#c30000",animated:!1},r),o&&(0,b.jsx)("div",{className:w,children:o})]})};var y=r(46309),C=r(8129);const E=e=>{switch(e){case"tr-TR":return"https://sf16-draftcdn-sg.ibytedtos.com/obj/ies-hotsoon-draft-sg/capcut/new_via_clause_creator_agreement_tr-TR.html?theme=lv_material_pc_front";case"ko-KR":return"https://sf16-draftcdn-sg.ibytedtos.com/obj/ies-hotsoon-draft-sg/capcut/new_via_clause_creator_agreement_ko-KR.html?theme=lv_material_pc_front";default:return"https://sf16-draftcdn-sg.ibytedtos.com/obj/ies-hotsoon-draft-sg/capcut/new_via_clause_creator_agreement_en.html?theme=lv_material_pc_front"}};var k,O=r(2555),N=r(23479),P=r(73224);function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},S.apply(this,arguments)}const L=e=>a.createElement("svg",S({xmlns:"http://www.w3.org/2000/svg",width:12,height:12,fill:"none",viewBox:"0 0 12 12"},e),k||(k=a.createElement("path",{fill:"#D4D4D4",d:"M6.708 6 11 10.292l-.708.708L6 6.708 1.708 11 1 10.292 5.292 6 1 1.708 1.708 1 6 5.292 10.292 1l.708.708L6.708 6Z"})));var M=r(44478),W=r(26800),Z=r(20468),R=r(76896);const I={root:"root-wurvCd",point:"point-E_OjHv",tooltipWrapper:"tooltipWrapper-f4Ku2I","fade-in":"fade-in-CYzcgC",fadeIn:"fade-in-CYzcgC",fadingOut:"fadingOut-WkHWF7","fade-out":"fade-out-S__jW6",fadeOut:"fade-out-S__jW6"},F=(0,a.forwardRef)(((e,t)=>{const{tooltipProps:r,getPopupContainer:o,onClosePopover:n,position:i,cursor:c="default"}=e,[l,d]=(0,a.useState)(!0),[f,m]=(0,a.useState)(!1),{top:p}=i,h=i.left-10,v=(0,a.useRef)(null),g=(0,a.useRef)(null),_=(0,W.Z)((()=>{var e;null===(e=g.current)||void 0===e||e.destroy(),m(!1),d(!1)})),x=(0,W.Z)((()=>{var e;const t=o().querySelector(`.${I.tooltipWrapper}`);if(!t||(null===(e=g.current)||void 0===e?void 0:e.tooltipWrapper)===t)return;t.addEventListener("animationend",_);const r=new O.B;r.timeout(500).then(_),g.current={tooltipWrapper:t,destroy:()=>{t.removeEventListener("animationend",_),r.cancel(),g.current=null}}}));(0,a.useImperativeHandle)(t,(()=>({hide:()=>{x(),m(!0)}})));const w=(0,a.useMemo)((()=>({default:{height:18,width:12},"not-allowed":{height:(0,R.c)()?30:15,width:15}})),[]),j=w[c]||w.default;return(0,b.jsx)(u.Z,{autoAdjustOverflow:!0,position:"bottomLeft",motion:!1,...r,className:s()(r.className,I.tooltipWrapper,f&&I.fadingOut),trigger:"custom",visible:l,showArrow:!1,rePosKey:`${p}-${h}`,getPopupContainer:o,onVisibleChange:e=>{var t;!e&&n(),null===(t=r.onVisibleChange)||void 0===t||t.call(r,e)},children:(0,b.jsx)("div",{className:I.point,tabIndex:-1,ref:v,style:{top:p,left:h,...j}})})}));function z(e){const{zIndex:t=1060,cursor:r="default",checkIsTarget:o,getEllipsisDOM:n,...i}=e,s=(0,a.useRef)(null),l=(0,a.useRef)(null),[d,u]=(0,a.useState)(null),{i18n:f}=(0,c.$)(),m=()=>{const{content:e}=i;if("function"!=typeof e)return e;if(!s.current)return null;const{targetElement:t}=s.current;return r=>e({...r,target:t})},p=(0,W.Z)((()=>{s.current&&(s.current.destroy(),s.current=null,u(null))})),h=(0,W.Z)((()=>{var e;null===(e=s.current)||void 0===e||e.destroy(),s.current=null})),v=(0,W.Z)(((e,r)=>{const o=null==n?void 0:n(r);if(o&&o.offsetWidth>=o.scrollWidth)return;if(s.current){if(!s.current.hasLeaved&&s.current.targetElement===r)return;p()}const a=document.createElement("div");a.className=I.root,a.style.zIndex=`${t}`;const i=e=>{u({left:e.clientX,top:e.clientY})},c=e=>{r===e.target&&(s.current&&(s.current.hasLeaved=!0),l.current?l.current.hide():p())};r.addEventListener("mousemove",i),r.addEventListener("mouseleave",c),document.body.appendChild(a);const d=(0,M.createRoot)(a);s.current={container:a,targetElement:r,hasLeaved:!1,reactRoot:d,destroy:()=>{a.remove(),Promise.resolve().then((()=>d.unmount())),r.removeEventListener("mousemove",i),r.removeEventListener("mouseleave",c)}},u({left:e.clientX,top:e.clientY})})),g=(0,W.Z)((e=>{const t=e.currentTarget;v(e,t)})),_=(0,W.Z)((e=>{var t;const r=e.target;(null!==(t=null==o?void 0:o(r))&&void 0!==t?t:e.currentTarget===r)&&v(e,r)}));return(0,a.useLayoutEffect)((()=>h),[]),(0,a.useLayoutEffect)((()=>{(()=>{if(!s.current||!d)return;const{reactRoot:e,container:o}=s.current;o.style.zIndex=`${t}`,e.render((0,b.jsx)(Z.a,{i18n:f,children:(0,b.jsx)(F,{ref:l,tooltipProps:{...i,content:m()},getPopupContainer:()=>o,onClosePopover:p,position:d,cursor:r})}))})()})),{handleMouseEnter:g,handleMouseOver:_}}const A="protocol-VspS8l",D="content-OyCrKs",T="withBorder-jbe4Zm",$="flexHeight-OlM20e",B="footer-PL68kt",H="btn-az9uHG",X="confirmArea-HME5C1",Y="confirmCheckbox-lf6E1b",J="confirmCheckboxText-Tkueuw",q="confirmCheckboxProtocolTitle-WvrrOC",G="root-QktMQ3",K="title-QI6laf",Q="right-vx9IoL",V="closeIcon-Z6vdI8";let U=function(e){return e.Origin="originUserAuthProtocol",e.OriginalForSubscription="originalWorkProtocolForSubscription",e.OriginalForCommercial="originalWorkProtocolForCommercial",e.Creator="createProtocol",e}({});const ee={[U.Origin]:"https://sf16-draftcdn-sg.ibytedtos.com/obj/ies-hotsoon-draft-sg/faceu/db84e32a-66a5-425a-afb2-0f32186f3cce_en.html",[U.OriginalForSubscription]:"https://sf16-draftcdn-sg.ibytedtos.com/obj/ies-hotsoon-draft-sg/faceu/db84e32a-66a5-425a-afb2-0f32186f3cce_en.html",[U.OriginalForCommercial]:"https://sf16-draftcdn-sg.ibytedtos.com/obj/ies-hotsoon-draft-sg/capcut/original_work_notice_for_commercial_material_en.html",[U.Creator]:E()},te={[U.Origin]:"Original Work Notice",[U.OriginalForSubscription]:"Original Work Notice",[U.OriginalForCommercial]:"Original Work Notice",[U.Creator]:P.I18n.t("pc_capcut_creator_agreement_web")},re=((0,N.Pi)((({onCancel:e,onOk:t,protocol:r,handleBtnText:o,closeIcon:n=!1,needReview:i=!0,renderConfirmExtra:u,getCanConfirmExtra:f})=>{const{t:m}=(0,c.$)(),[p,h]=(0,a.useState)(!1),[v,g]=(0,a.useState)(!1),_=()=>!i||p&&v&&(!f||f()),{handleMouseEnter:x}=z({content:m("pc_template_authorize_read_all_web"),cursor:"not-allowed"}),w={disabled:!p,handleMouseEnter:!i||p?void 0:x},j=()=>{_()&&(null==t||t())};return(0,a.useEffect)((()=>{const e=e=>{const t=e.data;try{const e=JSON.parse(t);"protocal"!==e.from&&"protocol"!==e.from||"bottom"!==e.event||h(!0)}catch(r){h(!0),(0,C.RF)("[Protocol] handle protocol message",r,{text:t})}};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}}),[]),(0,b.jsxs)("div",{className:A,children:[(0,b.jsxs)("div",{className:G,children:[(0,b.jsx)("div",{className:K,children:te[r]}),(0,b.jsx)("div",{className:Q,children:n&&(0,b.jsx)(L,{className:V,onClick:()=>{null==e||e("close")}})})]}),(0,b.jsx)("div",{className:s()(D,!i&&T,i&&$),children:(0,b.jsx)("iframe",{id:"frame",src:ee[r]})}),o&&i?(0,b.jsxs)("div",{className:X,children:[(0,b.jsx)(d.ZP,{className:Y,checked:v,disabled:w.disabled,onMouseEnter:w.handleMouseEnter,onChange:e=>g(Boolean(e.target.checked)),children:(0,b.jsx)("span",{className:J,children:m("pc_template_authorize_read_agree_web",{X:(0,b.jsx)("span",{className:q,children:te[r]},"X")})})}),null==u?void 0:u()]}):null,(()=>{const e=o;return e?(0,b.jsx)("div",{className:s()(B,i&&T),children:(0,b.jsx)(l.Z,{className:H,type:"primary",theme:"solid",disabled:!_(),onClick:j,children:e})}):null})()]})})),"Protoal-UH5T2G"),oe="content-yJY8ZY",ne="check-B3Sm_8",ae="checkField-owDrOw",ie="checkboxContainer-igqjYD",se="disabled-gnikvo",ce="word-N1jdwD",le="checkbox-rsms3p",de="footer-PERq2T",ue="btn-BncqQ_",fe="errorContainer-HV1YR0",me="retryText-dBFhyJ",pe=({needReview:e=!0})=>{const[t,r]=(0,a.useState)(!1),{t:o,i18n:n}=(0,c.$)(),[i,u]=(0,a.useState)(!e),p=(0,a.useRef)(null),h=(0,a.useMemo)((()=>new O.B),[]),[v,g]=(0,a.useState)(!1),_=(0,a.useMemo)((()=>E(n.language)),[n.language]),{handleMouseEnter:x}=z({content:o("pc_template_authorize_read_all_web"),cursor:"not-allowed"});var w;(0,a.useEffect)((()=>{const e=e=>{try{if("string"!=typeof e.data)return;const t=JSON.parse(e.data);"protocal"!==t.from&&"protocol"!==t.from||"bottom"!==t.event||u(!0)}catch(t){console.log(t),(0,f.Z)("captureException",t),u(!0)}};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}}),[]),(0,a.useEffect)((()=>{var e;if(!v)return h.timeout(1e4).then((()=>{g(!0)})),null===(e=p.current)||void 0===e||e.addEventListener("load",(()=>h.cancel())),()=>{h.cancel()}}),[v]),w={title:te[U.Creator],pid:"creator-protocol-dialog"},(0,a.useEffect)((()=>{(0,y.Td)({title:w.title}),(0,C.$G)({pid:w.pid})}),[]);return(0,b.jsxs)("div",{className:re,children:[(0,b.jsx)("div",{className:oe,children:v?(0,b.jsx)("div",{className:fe,children:(0,b.jsx)(j,{status:"error",children:o("pc_sticker_abnormal_{X}_web",{X:(0,b.jsx)("span",{className:me,onClick:()=>g(!1),children:o("pc_sticker_retry_web")},"X")})})}):(0,b.jsx)("iframe",{id:"frame",ref:p,src:_})}),(0,b.jsx)("div",{className:ne,children:(0,b.jsx)("div",{className:ae,onClick:()=>{return e=!t,void(i&&r(e));var e},children:(0,b.jsxs)("div",{className:s()(ie,!i&&se),onMouseEnter:i?void 0:x,children:[(0,b.jsx)(d.ZP,{checked:t,disabled:!i,className:le}),o("pc_sticker_agree_{X}_web",{X:(0,b.jsx)("span",{className:ce,children:te[U.Creator]},"X")})]})})}),(0,b.jsxs)("div",{className:de,children:[(0,b.jsx)(l.Z,{className:ue,theme:"solid",disabled:!t||!i,onClick:()=>{m.Jn.call("creatorProtocolDialogAction",{action:"Confirm"})},children:o("pc_stickers_release_confirm_agree_web")}),(0,b.jsx)(l.Z,{theme:"solid",type:"secondary",className:ue,onClick:()=>{m.Jn.call("creatorProtocolDialogAction",{action:"Cancel"})},children:o("pc_stickers_release_cancel_disagree_web")})]})]})},he=()=>(0,b.jsx)(pe,{})},84875:(e,t)=>{var r;!function(){"use strict";var o={}.hasOwnProperty;function n(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if("string"===a||"number"===a)e.push(r);else if(Array.isArray(r)){if(r.length){var i=n.apply(null,r);i&&e.push(i)}}else if("object"===a){if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]")){e.push(r.toString());continue}for(var s in r)o.call(r,s)&&r[s]&&e.push(s)}}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):void 0===(r=function(){return n}.apply(t,[]))||(e.exports=r)}()},61022:(e,t,r)=>{"use strict";r.d(t,{jd:()=>a.O,FY:()=>i.F,Pi:()=>s.P});r(20673);var o=r(57210),n=r(2882),a=(r(66727),r(7215)),i=r(13046),s=r(32990);r(44258),r(50959);var c;r(44968),r(6628);(0,n.z0)(o.m);c=a.O.finalizeAllImmediately},38459:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});const o=function(e,t,r){var o=-1,n=e.length;t<0&&(t=-t>n?0:n+t),(r=r>n?n:r)<0&&(r+=n),n=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(n);++o<n;)a[o]=e[o+t];return a}}}]);