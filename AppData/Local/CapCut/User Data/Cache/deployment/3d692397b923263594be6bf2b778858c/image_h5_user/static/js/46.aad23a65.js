"use strict";(self.webpackChunkartist_op_web=self.webpackChunkartist_op_web||[]).push([[46],{98069:function(n,e,t){t.d(e,{Ic:function(){return l},On:function(){return s},PU:function(){return p},TT:function(){return d},Uz:function(){return c},YC:function(){return g},_M:function(){return i},je:function(){return f},r0:function(){return v},rz:function(){return a}});var r=t(19058),o=t(58054),u=t(68252),i=function(n){return(0,u.v_)("/artist/v2/tools/get_upload_token",n)},a=function(){var n=(0,o.Z)((0,r.Z)().mark((function n(){var e,t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,u.v_)("/lv/v1/user/web/get_user_info");case 2:return e=n.sent,t=e.user,n.abrupt("return",{nickname:t.nick_name,userID:t.user_id,avatarURL:t.avatar_urls.avatar_url_medium});case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),c=function(n){return(0,u.v_)("/artist/v1/tools/get_cv_tags",n)},s=function(n){return(0,u.v_)("/artist/v1/tools/get_rec_tags",n)},f=function(n){return(0,u.v_)("/artist/v1/effect/get_suggest_words",n)},p=function(n){return(0,u.v_)("/artist/v1/tools/gen_sequence_sticker",n)},l=function(n){return n[n.Static=0]="Static",n[n.Dynamic=1]="Dynamic",n[n.Video=2]="Video",n}({}),v=function(n){return n.UserPostPc="user_post_pc",n.UserPostPcCollection="user_post_pc_collection",n.UserPostPcSequence="user_post_pc_sequence",n.UserPostPcSequenceCollection="user_post_pc_sequence_collection",n}({}),d=function(n){return(0,u.v_)("/artist/v1/post/effect",n)},g=function(){var n=(0,o.Z)((0,r.Z)().mark((function n(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,u.v_)("/lv/v1/user/get_enable_list",e);case 2:return t=n.sent,n.abrupt("return",t);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},47662:function(n,e,t){t.d(e,{BN:function(){return o},Nt:function(){return c},Td:function(){return a},ZM:function(){return s},bG:function(){return i},zY:function(){return u}});var r=t(39566),o=function(){return r.ZP.call("getAppInfo").then((function(n){return n.data?n.data:n}))},u=function(){return r.ZP.call("getDebugInfo").then((function(n){return n.data}))},i=function(){return r.ZP.call("getUserInfo").then((function(n){return n.data}))},a=function(n){return r.ZP.call("setTitle",n)},c=function(){return r.ZP.call("publishEvent",{eventName:"JumpToPersonalHome"})},s=function(n){return r.ZP.call("publishEvent",{eventName:"WebPublishSuccess",data:n})}},42914:function(n,e,t){t.d(e,{Z:function(){return c}});var r=t(50959),o=t(19198),u=t(80368),i=t(74505);var a=t(11527),c=function(){return(0,r.useEffect)((function(){document.oncontextmenu=function(){return!1},document.ondragover=function(n){return n.preventDefault()},document.ondrop=function(n){return n.preventDefault()},document.addEventListener("keydown",(function(n){("w"===n.key&&n.metaKey||"w"===n.key&&n.ctrlKey)&&n.preventDefault()})),u.K.initDebugInfo(),u.K.initAppInfo().then((function(){return i.$.initUserInfo()})).catch((function(n){return console.error("\u521d\u59cb\u5316 AppInfo \u5931\u8d25",n.message)}))}),[]),(0,a.jsx)(o.j3,{})}},80368:function(n,e,t){t.d(e,{K:function(){return v}});var r=t(19058),o=t(58054),u=t(86305),i=t(15671),a=t(96164),c=t(18513),s=t(45796),f=t(573),p=t(47662),l=function(){function n(){(0,u.Z)(this,n),(0,a.Z)(this,"appInfo",{language:"",appID:"",region:""}),(0,a.Z)(this,"debugInfo",{useBOE:!1,boeChannel:"",usePPE:!1,ppeChannel:""}),(0,a.Z)(this,"entryPage","user"),(0,c.ky)(this)}var e,t;return(0,i.Z)(n,[{key:"initAppInfo",value:(t=(0,o.Z)((0,r.Z)().mark((function n(){var e;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("start"),n.next=3,(0,p.BN)();case 3:e=n.sent,console.log("init Appinfo",e),this.appInfo.language=e.language,this.appInfo.appID=e.appID,this.appInfo.region=e.region,console.log("done appInfo",e.language,e.appID,e.region),s.ZP.starlingLoadWithLng({},e.language),(0,f.Z)("config",{deviceId:e.did}),(0,f.Z)("context.merge",{appVersion:this.getAppVersionName(e.appVersion),os:e.os,osVersion:e.osVersion,language:e.language,region:e.region});case 12:case"end":return n.stop()}}),n,this)}))),function(){return t.apply(this,arguments)})},{key:"getAppVersionName",value:function(n){var e=Number.parseInt(n,10);if(!e)return n;var t=Math.floor(e/Math.pow(256,2)),r=e-t*Math.pow(256,2),o=Math.floor(r/256),u=r-256*o;return"".concat(t,".").concat(o,".").concat(u)}},{key:"initDebugInfo",value:(e=(0,o.Z)((0,r.Z)().mark((function n(){var e,t,o,u;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return");case 2:return n.next=4,(0,p.zY)();case 4:for(e=n.sent,t=0,o=Object.keys(e);t<o.length;t++)(u=o[t])in this.debugInfo&&(this.debugInfo[u]=e[u]);case 6:case"end":return n.stop()}}),n,this)}))),function(){return e.apply(this,arguments)})},{key:"setEntryPage",value:function(n){this.entryPage=n}}]),n}(),v=new l},74505:function(n,e,t){t.d(e,{$:function(){return d},v:function(){return l}});var r=t(19058),o=t(261),u=t(58054),i=t(86305),a=t(15671),c=t(96164),s=t(18513),f=t(573),p=t(98069),l=function(n){return n.StickerPublish="sticker_publish",n.StickerOnePackage="sticker_one_package",n.EffectHighPrio="effect_high_prio",n.EffectSetBusiness="effect_set_business",n.EffectSetVip="effect_set_vip",n.EffectBatchMore="effect_batch_more",n.EffectIconBlank="effect_icon_blank",n}({}),v=function(){function n(){(0,i.Z)(this,n),(0,c.Z)(this,"userInfo",{avatar:"",nickname:"",uid:""}),(0,c.Z)(this,"permissions",[]),(0,s.ky)(this)}var e;return(0,a.Z)(n,[{key:"initUserInfo",value:(e=(0,u.Z)((0,r.Z)().mark((function n(){var e,t,u,i,a,c=this;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=p.rz,n.next=3,Promise.all([e(),(0,p.YC)()]);case 3:t=n.sent,u=(0,o.Z)(t,2),i=u[0],a=u[1],console.log("---\x3euser",i),(0,s.z)((function(){var n,e;c.userInfo.nickname=i.nickname,c.userInfo.uid=i.userID,c.userInfo.avatar=i.avatarURL,c.permissions=(null===(n=a.enable_list)||void 0===n||null===(e=n.filter((function(n){return n.is_enable})))||void 0===e?void 0:e.map((function(n){return n.whitelist_type})))||[]})),(0,f.Z)("config",{userId:i.userID});case 10:case"end":return n.stop()}}),n)}))),function(){return e.apply(this,arguments)})}]),n}(),d=new v},68252:function(n,e,t){t.d(e,{v_:function(){return g}});var r=t(19058),o=t(30001),u=t(58054),i=t(39566),a=t(87630),c=t(82581),s=t(573),f=t(80368);i.ZP.use(new a.Z);var p=["/lv/v1/user/web/get_user_info","/lv/v1/user/get_enable_list"];function l(n){return n&&p.includes(n)?"https://feed-api.capcut.com":"https://editor-api-sg.capcut.com"}function v(n,e){return d.apply(this,arguments)}function d(){return d=(0,u.Z)((0,r.Z)().mark((function n(e,t){var u,a,p,v,d,g,h,_,m;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return v=e.includes("http")?e:"".concat(l(e)).concat(e),d={url:"".concat(v).concat(v.includes("?")?"&":"?","region=").concat(f.K.appInfo.region,"&language=").concat(f.K.appInfo.language),method:t.method,needCommonParams:!0,header:(0,o.Z)({"Content-Type":"application/json"},t.headers),data:t.data?JSON.stringify(t.data):void 0},g=JSON.stringify(d),h=function(n,e){var t,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return null===(t=s.Z.sendLog)||void 0===t?void 0:t.call(s.Z,{level:n,content:e,extra:{url:d.url,params:g,httpInfo:r}})},h("info","request start"),n.next=7,i.ZP.call("request",d);case 7:if(_=n.sent,m=JSON.stringify({httpCode:null==_?void 0:_.httpCode,errmsg:null==_||null===(u=_.response)||void 0===u?void 0:u.errmsg,logId:(null==_||null===(a=_.response)||void 0===a?void 0:a.logid)||(null==_||null===(p=_.response)||void 0===p?void 0:p.log_id)}),200===_.httpCode){n.next=12;break}throw h("error","request fail",m),new Error(c.oc.t("pc_stickers_prompt_failed_{X}",{X:"unknown"}));case 12:if("success"===_.response.errmsg){n.next=15;break}throw h("error","request fail",m),new Error(c.oc.t("pc_stickers_prompt_failed_{X}",{X:_.response.errmsg}));case 15:return h("info","request success",m),n.abrupt("return",_.response.data);case 17:case"end":return n.stop()}}),n)}))),d.apply(this,arguments)}function g(n,e,t){return v(n,{method:"POST",data:e,headers:t})}},53147:function(n,e,t){t(57747),t(67829),t(17253),t(98136),t(40482),t(37369),t(5224),t(80328),t(23647),t(51415),t(26641),t(6398),t(38354),t(83856),t(9488),t(34190),t(36676),t(45883),t(99505),t(95042),t(49403),t(24898),t(47192),t(57459),t(6748),t(55334),t(65485),t(53295),t(13525),t(91503),t(47636),t(89724),t(66742),t(715),t(88682),t(52495),t(63972),t(96103),t(26495),t(28285),t(37430),t(9308),t(27584),t(10055),t(74957),t(34979),t(96623),t(90953),t(73391),t(9075),t(47845),t(24853),t(18902),t(60401),t(50964),t(6382),t(96169),t(83763),t(15696),t(18530),t(78668),t(43717),t(60454),t(8663),t(41700),t(82046),t(20559),t(1913),t(94974),t(44615),t(74537),t(5748),t(17391),t(78809),t(90421),t(87619),t(21632),t(77505),t(10892),t(61413),t(5608),t(69379),t(46731),t(9417),t(69858),t(90981),t(42168),t(52861),t(90702),t(27738),t(47197),t(9763),t(94774),t(47766),t(80437),t(10175),t(81829),t(30167),t(63234),t(63871),t(7043),t(15553),t(14295),t(14044),t(42328),t(27685),t(30331),t(26899),t(52601),t(24783),t(44679),t(75827),t(81122),t(56313),t(12696),t(48023),t(30603),t(34921),t(76179),t(92914),t(14059),t(29966),t(66092),t(49971),t(39187),t(92496),t(18554),t(74900),t(32208),t(26241),t(8060),t(1968),t(23922),t(84485),t(74162),t(74042),t(92841),t(53394),t(59049),t(68822),t(49717),t(46914),t(7657),t(34682),t(54343),t(56670),t(92073),t(48815),t(43938),t(52237),t(99069),t(14482),t(30254),t(22034),t(67991),t(7374),t(51947),t(15165),t(16356),t(530),t(31313),t(61581),t(77887),t(43001),t(3757),t(35123),t(72016),t(85313),t(84337),t(84793),t(98552),t(79210),t(62945),t(77353),t(24956),t(60218),t(57629),t(49259),t(24641),t(28444),t(48751),t(99182),t(16770),t(86206),t(83955),t(7151),t(54075),t(80625),t(61369),t(28237),t(90872),t(64222),t(77537),t(88157),t(85065),t(83),t(56147),t(74212),t(52193),t(7529),t(76845),t(90286),t(99179),t(24724),t(20012),t(26969),t(25486),t(75841),t(65654),t(60007),t(42704),t(85524),t(71510),t(32516),t(23926),t(96573),t(16075),t(42798),t(57915),t(79231),t(27501),t(91022),t(84412),t(57778),t(28810),t(81750),t(11064),t(51944),t(48612),t(76300),t(34232),t(36191),t(18475),t(48743),t(72328),t(8198),t(728),t(88259),t(33078),t(12679),t(32238),t(41002),t(53897),t(5326),t(92e3),t(89390),t(32260),t(8575),t(12221),t(96328),t(62587),t(63524),t(67273),t(40468),t(58389),t(14883),t(11237),t(63927),t(62036),t(1249),t(69648),t(51161),t(99223),t(55024),t(8224),t(18489),t(29617),t(6096),t(87101),t(46734),t(49177),t(46399),t(71442),t(19003),t(32885),t(71564),t(95182),t(99277),t(97790),t(21429),t(94873),t(90543),t(89781),t(29735),t(21714),t(13103),t(30096),t(5919),t(53190),t(89182),t(45666),t(75523),t(98451),t(5971),t(21328),t(37196),t(85839),t(59671),t(64504),t(53652),t(14412),t(67004),t(19547),t(69001),t(76996),t(49396),t(93315),t(25699),t(89922),t(25182),t(26764),t(75585),t(85975),t(24392),t(35277),t(72364),t(85695),t(19766),t(16796),t(53673),t(56343),t(22147),t(25461),t(78718),t(47427),t(69677),t(28030),t(39297),t(89871),t(89892),t(84049),t(91861),t(57774),t(22686),t(15886),t(16467),t(95423),t(39099),t(91997),t(8240),t(85186),t(63899),t(41935),t(17133),t(35356),t(29504),t(79930),t(58284),t(72662),t(93265),t(45760),t(82447),t(25500),t(9453),t(54577),t(49015),t(31833),t(56772),t(97900),t(99362),t(49273),t(53146),t(82488),t(30884),t(67905),t(19256),t(16228),t(99483),t(85102),t(20387),t(49915),t(57218),t(78947),t(38753),t(31399),t(43526),t(57811),t(14489),t(22367),t(63024),t(64291),t(43501),t(27856),t(90070),t(65658),t(19134),t(20700),t(63378),t(29582),t(98138),t(50074),t(32575),t(96970),t(75266),t(19467),t(84796),t(74463),t(84553),t(90466),t(75875),t(66158),t(55027),t(84668),t(90984),t(64268),t(59434),t(81586),t(88634),t(59017),t(33674),t(47658),t(75204),t(36605),t(39968),t(58686),t(23814),t(27348),t(74392),t(46350),t(62993),t(4019),t(59486),t(56511),t(28641),t(82386),t(23811),t(42182),t(87473),t(44306)}}]);