"use strict";(self.webpackChunkartist_op_web=self.webpackChunkartist_op_web||[]).push([[736],{84736:(e,t,n)=>{n.d(t,{EG:()=>c.Z,Ex:()=>u.Z,FN:()=>g.Z,II:()=>r.Z,J2:()=>h.Z,Kx:()=>l.Z,Lt:()=>i.Z,Q2:()=>m.Z,Vp:()=>p.Z,XQ:()=>y.Z,XZ:()=>a.ZP,ih:()=>v.i,l0:()=>b.Z,u:()=>f.Z,u_:()=>o.Z,yC:()=>d.Z,zx:()=>s.Z});n(32913);var s=n(99891),a=n(76021),o=n(15194),i=n(89270),r=n(55550),l=n(88161),h=n(21797),u=n(63522),d=n(48611),p=n(40996),c=n(83335),g=n(23997),f=n(11643),b=n(60679),y=n(78367),m=n(5455),v=n(64482)},88161:(e,t,n)=>{n.d(t,{Z:()=>E});var s=n(82433),a=n(71180),o=n(88987),i=n(93639),r=n(55883),l=n(50959),h=n(84875),u=n.n(h),d=n(41916),p=n.n(d),c=n(83873),g=n(69708),f=n(1714);let b=null;const y={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},m=e=>{Object.keys(y).forEach((t=>{e.style.setProperty(t,y[t],"important")}))},v=(e,t)=>{const n=e.scrollHeight;return"border-box"===t.sizingStyle.boxSizing?n+t.borderSize:n-t.paddingSize};var x=n(23073);const w=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width"],C=e=>{const t=window.getComputedStyle(e);if(null===t)return null;const n=(0,x.Z)(t,w),{boxSizing:s}=n;if(""===s)return null;return{sizingStyle:n,paddingSize:parseFloat(n.paddingBottom)+parseFloat(n.paddingTop),borderSize:parseFloat(n.borderBottomWidth)+parseFloat(n.borderTopWidth)}};class Z extends f.Z{static get textAreaDefaultAdapter(){return{notifyChange:r.Z,setValue:r.Z,toggleFocusing:r.Z,toggleHovering:r.Z,notifyFocus:r.Z,notifyBlur:r.Z,notifyKeyDown:r.Z,notifyEnterPress:r.Z}}constructor(e){super(Object.assign(Object.assign({},Z.textAreaDefaultAdapter),e)),this.resizeTextarea=e=>{var t;const{height:n}=this.getStates(),{rows:s,autosize:a}=this.getProps(),o=this._adapter.getRef(),i=C(o);if(!i)return void(e&&e());const[r,l]=null!==a&&"object"==typeof a?[null!==(t=null==a?void 0:a.minRows)&&void 0!==t?t:s,null==a?void 0:a.maxRows]:[s],h=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;b||(b=document.createElement("textarea"),b.setAttribute("tab-index","-1"),b.setAttribute("aria-hidden","true"),m(b)),null===b.parentNode&&document.body.appendChild(b);const{paddingSize:a,borderSize:o,sizingStyle:i}=e,{boxSizing:r}=i;Object.keys(i).forEach((e=>{b.style[e]=i[e]})),m(b),b.value=t;let l=v(b,e);b.value="x";const h=v(b,e)-a-o;let u=h*n;"border-box"===r&&(u=u+a+o),l=Math.max(u,l);let d=h*s;return"border-box"===r&&(d=d+a+o),l=Math.min(d,l),l}(i,o.value||o.placeholder||"x",r,l);if(n!==h)return this._adapter.notifyHeightUpdate(h),void(o.style.height=`${h}px`);e&&e()}}init(){this.setInitValue()}destroy(){}setInitValue(){const{defaultValue:e,value:t}=this.getProps();let n=e;this._isControlledComponent()&&(n=t),this._adapter.setValue(n)}handleValueChange(e){this._adapter.setValue(e)}handleChange(e,t){const{maxLength:n,minLength:s,getValueLength:a}=this._adapter.getProps();let i=e;n&&(0,o.Z)(a)&&(i=this.handleVisibleMaxLength(e)),s&&(0,o.Z)(a)&&this.handleVisibleMinLength(i),this._isControlledComponent()||this._adapter.setValue(i),this._adapter.notifyChange(i,t)}handleVisibleMinLength(e){const{minLength:t,getValueLength:n}=this._adapter.getProps(),{minLength:s}=this._adapter.getStates();if((0,g.Z)(t)&&t>=0&&(0,o.Z)(n)&&(0,c.Z)(e)){const a=n(e);if(a<t){const n=e.length+(t-a);n!==s&&this._adapter.setMinLength(n)}else s!==t&&this._adapter.setMinLength(t)}}handleVisibleMaxLength(e){const{maxLength:t,getValueLength:n}=this._adapter.getProps();if((0,g.Z)(t)&&t>=0&&(0,o.Z)(n)&&(0,c.Z)(e)){if(n(e)>t){console.warn("[Semi TextArea] The input character is truncated because the input length exceeds the maximum length limit");return this.handleTruncateValue(e,t)}return e}}handleTruncateValue(e,t){const{getValueLength:n}=this._adapter.getProps();if((0,o.Z)(n)){let s="";for(let a=1,o=e.length;a<=o;a++){const o=e.slice(0,a);if(n(o)>t)return s;s=o}return s}return e.slice(0,t)}handleFocus(e){const{value:t}=this.getStates();this._adapter.toggleFocusing(!0),this._adapter.notifyFocus(t,e)}handleBlur(e){const{value:t}=this.getStates();this._adapter.toggleFocusing(!1),this._adapter.notifyBlur(t,e)}handleKeyDown(e){this._adapter.notifyKeyDown(e),13===e.keyCode&&this._adapter.notifyPressEnter(e)}handleMouseEnter(e){this._adapter.toggleHovering(!0)}handleMouseLeave(e){this._adapter.toggleHovering(!1)}isAllowClear(){const{value:e,isFocus:t,isHover:n}=this._adapter.getStates(),{showClear:s,disabled:a,readonly:o}=this._adapter.getProps();return e&&s&&!a&&(t||n)&&!o}handleClear(e){const{isFocus:t}=this.getStates();this._isControlledComponent("value")?this._adapter.setState({isFocus:!1}):this._adapter.setState({value:"",isFocus:!1}),t&&this._adapter.notifyBlur("",e),this._adapter.notifyChange("",e),this._adapter.notifyClear(e),this.stopPropagation(e)}}var L=n(75778),z=n(76232),_=n(91890),S=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]])}return n};const F=L.UX.PREFIX;class V extends z.Z{constructor(e){super(e),this.handleClear=e=>{this.foundation.handleClear(e)},this.setRef=e=>{this.libRef.current=e;const{forwardRef:t}=this.props;"function"==typeof t?t(e):t&&"object"==typeof t&&(t.current=e)},this.state={value:"",isFocus:!1,isHover:!1,height:0,minLength:e.minLength},this.focusing=!1,this.foundation=new Z(this.adapter),this.libRef=l.createRef(),this._resizeLock=!1}get adapter(){return Object.assign(Object.assign({},super.adapter),{setValue:e=>this.setState({value:e},(()=>{this.props.autosize&&this.foundation.resizeTextarea()})),getRef:()=>this.libRef.current,toggleFocusing:e=>this.setState({isFocus:e}),toggleHovering:e=>this.setState({isHover:e}),notifyChange:(e,t)=>{this.props.onChange(e,t)},notifyClear:e=>this.props.onClear(e),notifyBlur:(e,t)=>this.props.onBlur(t),notifyFocus:(e,t)=>this.props.onFocus(t),notifyKeyDown:e=>{this.props.onKeyDown(e)},notifyHeightUpdate:e=>{this.setState({height:e}),this.props.onResize({height:e})},notifyPressEnter:e=>{this.props.onEnterPress&&this.props.onEnterPress(e)},setMinLength:e=>this.setState({minLength:e})})}static getDerivedStateFromProps(e,t){const n={};return e.value!==t.cachedValue&&(n.value=e.value,n.cachedValue=e.value),n}componentDidMount(){this.foundation.init(),this._resizeListener=null,this.props.autosize&&(this._resizeListener=()=>{this._resizeLock||(this._resizeLock=!0,this.foundation.resizeTextarea((()=>{this._resizeLock=!1})))},window.addEventListener("resize",this._resizeListener))}componentWillUnmount(){this.foundation.destroy(),this._resizeListener&&window.removeEventListener("resize",this._resizeListener)}componentDidUpdate(e,t){this.props.value===e.value&&this.props.placeholder===e.placeholder||!this.props.autosize||this.foundation.resizeTextarea()}renderClearBtn(){const{showClear:e}=this.props,t=this.foundation.isAllowClear(),n=u()(`${F}-clearbtn`,{[`${F}-clearbtn-hidden`]:!t});return e?l.createElement("div",{className:n,onClick:this.handleClear},l.createElement(_.Z,null)):null}renderCounter(){let e,t,n,s;const{showCounter:a,maxCount:i,getValueLength:r}=this.props;if(a||i){const{value:a}=this.state;t=a?(0,o.Z)(r)?r(a):a.length:0,n=i||null,s=u()(`${F}-textarea-counter`,{[`${F}-textarea-counter-exceed`]:t>n}),e=l.createElement("div",{className:s},t,n?"/":null,n)}else e=null;return e}render(){const e=this.props,{autosize:t,placeholder:n,onEnterPress:r,onResize:h,disabled:d,readonly:p,className:c,showCounter:g,validateStatus:f,maxCount:b,defaultValue:y,style:m,forwardRef:v,getValueLength:x,maxLength:w,minLength:C,showClear:Z,borderless:L,autoFocus:z}=e,_=S(e,["autosize","placeholder","onEnterPress","onResize","disabled","readonly","className","showCounter","validateStatus","maxCount","defaultValue","style","forwardRef","getValueLength","maxLength","minLength","showClear","borderless","autoFocus"]),{isFocus:V,value:E,minLength:P}=this.state,R=u()(c,`${F}-textarea-wrapper`,{[`${F}-textarea-borderless`]:L,[`${F}-textarea-wrapper-disabled`]:d,[`${F}-textarea-wrapper-readonly`]:p,[`${F}-textarea-wrapper-${f}`]:Boolean(f),[`${F}-textarea-wrapper-focus`]:V}),O=u()(`${F}-textarea`,{[`${F}-textarea-disabled`]:d,[`${F}-textarea-readonly`]:p,[`${F}-textarea-autosize`]:(0,s.Z)(t)?(0,a.Z)(null==t?void 0:t.maxRows):t,[`${F}-textarea-showClear`]:Z}),j=Object.assign(Object.assign({},(0,i.Z)(_,"insetLabel","insetLabelId","getValueLength","onClear","showClear")),{autoFocus:z||this.props.autofocus,className:O,disabled:d,readOnly:p,placeholder:n||null,onChange:e=>this.foundation.handleChange(e.target.value,e),onFocus:e=>this.foundation.handleFocus(e),onBlur:e=>this.foundation.handleBlur(e.nativeEvent),onKeyDown:e=>this.foundation.handleKeyDown(e),value:null==E?"":E});return(0,o.Z)(x)||(j.maxLength=w),P&&(j.minLength=P),l.createElement("div",{className:R,style:m,onMouseEnter:e=>this.foundation.handleMouseEnter(e),onMouseLeave:e=>this.foundation.handleMouseLeave(e)},l.createElement("textarea",Object.assign({},j,{ref:this.setRef})),this.renderClearBtn(),this.renderCounter())}}V.propTypes={autosize:p().oneOfType([p().bool,p().object]),borderless:p().bool,placeholder:p().string,value:p().string,rows:p().number,cols:p().number,maxCount:p().number,onEnterPress:p().func,validateStatus:p().string,className:p().string,style:p().object,showClear:p().bool,onClear:p().func,onResize:p().func,getValueLength:p().func},V.defaultProps={autosize:!1,borderless:!1,rows:4,cols:20,showCounter:!1,showClear:!1,onEnterPress:r.Z,onChange:r.Z,onBlur:r.Z,onFocus:r.Z,onKeyDown:r.Z,onResize:r.Z,onClear:r.Z};const E=l.forwardRef(((e,t)=>l.createElement(V,Object.assign({},e,{forwardRef:t}))))}}]);