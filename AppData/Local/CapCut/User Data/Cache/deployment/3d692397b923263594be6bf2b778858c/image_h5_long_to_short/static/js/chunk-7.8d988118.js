/*!
* @ies/filter-xss v3.1.4
* (c) 2024
*/var e,t;e=this,t=function(e){"use strict";var t=function(){return(t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function r(e,t,r){if(r||2==arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}var n=/[^a-zA-Z0-9\\_:.-]/gim,i=/</g,o=/>/g,a=/&#([a-zA-Z0-9]*);?/gim,s=/&quot;/g,c=/&colon;?/gim,l=/&newline;?/gim,u=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,d=/u\s*r\s*l\s*\(.*/gi,p=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,f=/"/g,h=function(e){return e.replace(i,"&lt;").replace(o,"&gt;")},g={indexOf:function(e,t){var r,n;for(r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return -1},forEach:function(e,t,r){var n,i;for(n=0,i=e.length;n<i;n++)t.call(r,e[n],n,e)},some:function(e,t,r){var n,i;for(n=0,i=e.length;n<i;n++)if(t.call(r,e[n],n,e))return!0;return!1},trim:function(e){return e.replace(/(^\s*)|(\s*$)/g,"")},includes:function(e,t){if("string"==typeof e)return -1!==e.indexOf(t);for(var r=0;r<e.length;r++)if(e[r]===t)return!0;return!1},spaceIndex:function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1},uniq:function(e){for(var t={},r=[],n=0;n<e.length;n++)t[e[n]]||(r.push(e[n]),t[e[n]]=!0);return r},from:function(e){for(var t=[],r=0;r<e.length;r++)t.push(e[r]);return t},keys:function(e){var t=[];for(var r in e)t.push(r);return t}};function v(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]?e.substr(1,e.length-2):e}function m(e){var t,r,n,i,o,a,s,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l="",u=0;for(e=function(e){e=e.replace(/rn/g,"n");for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r);n<128?t+=String.fromCharCode(n):n>127&&n<2048?t+=String.fromCharCode(n>>6|192)+String.fromCharCode(63&n|128):t+=String.fromCharCode(n>>12|224)+String.fromCharCode(n>>6&63|128)+String.fromCharCode(63&n|128)}return t}(e);u<e.length;)i=(t=e.charCodeAt(u++))>>2,o=(3&t)<<4|(r=e.charCodeAt(u++))>>4,a=(15&r)<<2|(n=e.charCodeAt(u++))>>6,s=63&n,isNaN(r)?a=s=64:isNaN(n)&&(s=64),l=l+c.charAt(i)+c.charAt(o)+c.charAt(a)+c.charAt(s);return l}function _(e){var t,r,n,i,o,a,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c="",l=0;for(e=e.replace(/[^A-Za-z0-9+/=]/g,"");l<e.length;)t=s.indexOf(e.charAt(l++))<<2|(i=s.indexOf(e.charAt(l++)))>>4,r=(15&i)<<4|(o=s.indexOf(e.charAt(l++)))>>2,n=(3&o)<<6|(a=s.indexOf(e.charAt(l++))),c+=String.fromCharCode(t),64!==o&&(c+=String.fromCharCode(r)),64!==a&&(c+=String.fromCharCode(n));return function(e){for(var t="",r=0,n=0,i=0;r<e.length;)(n=e.charCodeAt(r))<128?(t+=String.fromCharCode(n),r++):n>191&&n<224?(t+=String.fromCharCode((31&n)<<6|63&e.charCodeAt(r+1)),r+=2):(t+=String.fromCharCode((15&n)<<12|(63&e.charCodeAt(r+1))<<6|63&e.charCodeAt(r+2)),r+=3);return t}(c)}function y(e,t,r){var n="",i=0,o=!1,a=!1,s=0,c=e.length,l="",u="";e:for(s=0;s<c;s++){var d=e.charAt(s);if(!1===o){if("<"===d){o=s;continue}}else if(!1===a){if("<"===d){n+=r(e.slice(i,s)),o=s,i=s;continue}if(">"===d||s===c-1){n+=r(e.slice(i,o)),l=function(e){var t,r=g.spaceIndex(e);return t=-1===r?e.slice(1,-1):e.slice(1,r+1),"/"===(t=g.trim(t).toLowerCase()).slice(0,1)&&(t=t.slice(1)),"/"===t.slice(-1)&&(t=t.slice(0,-1)),t}(u=e.slice(o,s+1)),n+=t(o,n.length,l,u,"</"===u.slice(0,2)),i=s+1,o=!1;continue}if('"'===d||"'"===d)for(var p=1,f=e.charAt(s-p);""===f.trim()||"="===f;){if("="===f){a=d;continue e}f=e.charAt(s-++p)}}else if(d===a){a=!1;continue}}return i<c&&(n+=r(e.substr(i))),n}function b(e,t){var r=0,i=0,o=[],a=!1,s=e.length;function c(e,r){if(!((e=(e=g.trim(e)).replace(n,"").toLowerCase()).length<1)){var i=t(e,r||"");i&&o.push(i)}}for(var l=0;l<s;l++){var u=e.charAt(l),d=void 0;if(!1!==a||"="!==u){if(!1===a||l!==i){if(/\s|\n|\t/.test(u)){if(e=e.replace(/\s|\n|\t/g," "),!1===a){if(-1===(d=function(e,t){for(;t<e.length;t++){var r=e[t];if(" "!==r)return"="===r?t:-1}return -1}(e,l))){c(g.trim(e.slice(r,l))),a=!1,r=l+1;continue}l=d-1;continue}if(-1===(d=function(e,t){for(;t>0;t--){var r=e[t];if(" "!==r)return"="===r?t:-1}return -1}(e,l-1))){c(a,v(g.trim(e.slice(r,l)))),a=!1,r=l+1;continue}}}else{if(-1===(d=e.indexOf(u,l+1)))break;c(a,g.trim(e.slice(i+1,d))),a=!1,r=(l=d)+1}}else a=e.slice(r,l),r=l+1,i='"'===e.charAt(r)||"'"===e.charAt(r)?r:function(e,t){for(;t<e.length;t++){var r=e[t];if(" "!==r)return"'"===r||'"'===r?t:-1}return -1}(e,l+1)}return r<e.length&&(!1===a?c(e.slice(r)):c(a,v(g.trim(e.slice(r))))),g.trim(o.join(" "))}function S(e,t,r){var n,i;if(r=function(e){for(var t="",r=0,n=e.length;r<n;r++)t+=32>e.charCodeAt(r)?" ":e.charAt(r);return g.trim(t)}(r.replace(s,'"').replace(a,function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))}).replace(c,":").replace(l," ")),"href"===t||"src"===t){if("#"===(r=g.trim(r)))return"#";if("http://"!==r.substr(0,7)&&"https://"!==r.substr(0,8)&&"mailto:"!==r.substr(0,7)&&"tel:"!==r.substr(0,4)&&"data:image/"!==r.substr(0,11)&&"ftp://"!==r.substr(0,6)&&"./"!==r.substr(0,2)&&"../"!==r.substr(0,3)&&"#"!==r[0]&&"/"!==r[0])return""}else if("background"===t){if(u.lastIndex=0,u.test(r))return""}else if("style"===t&&(p.lastIndex=0,p.test(r)||(d.lastIndex=0,d.test(r)&&(u.lastIndex=0,u.test(r)))))return"";return r=h(r.replace(f,"&quot;"))}var w=function(e){return"string"==typeof e?e.replace(/'/g,'"').replace('=""',"").replace(/\s+/g,"").toLowerCase():""},E=function(){function e(e){var t=function(e){var t={};for(var r in e)t[r]=e[r];return t}(e||{});t.stripIgnoreTag&&(t.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),t.onIgnoreTag=function(){return""}),t.whiteList={},t.onTag=function(){},t.onTagAttr=function(){},t.onIgnoreTag=function(){},t.onIgnoreTagAttr=function(){},t.safeAttrValue=S,t.escapeHtml=h,this.options=Object.assign(t,e)}return e.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t,r,n,i,o,a=this.options,s=a.whiteList,c=a.onTag,l=a.onIgnoreTag,u=a.onTagAttr,d=a.onIgnoreTagAttr,p=a.safeAttrValue,f=a.escapeHtml;a.stripBlankChar&&(e=e.split("").filter(function(e){var t=e.charCodeAt(0);return!(127===t||t<=31&&10!==t&&13!==t)}).join("")),a.allowCommentTag||(e=function(e){for(var t="",r=0;r<e.length;){var n=e.indexOf("<!--",r);if(-1===n){t+=e.slice(r);break}t+=e.slice(r,n);var i=e.indexOf("-->",n);if(-1===i)break;r=i+3}return t}(e));var h=!1;a.stripIgnoreTagBody&&(t=a.stripIgnoreTagBody,"function"!=typeof(r=l)&&(r=function(){}),n=!Array.isArray(t),i=[],o=!1,l=(h={onIgnoreTag:function(e,a,s){if(n||-1!==g.indexOf(t,e)){if(s.isClosing){var c=s.position+10;return i.push([!1!==o?o:s.position,c]),o=!1,"[/removed]"}return o||(o=s.position),"[removed]"}return r(e,a,s)},remove:function(e){var t="",r=0;return g.forEach(i,function(n){t+=e.slice(r,n[0]),r=n[1]}),t+=e.slice(r)}}).onIgnoreTag);var v=y(e,function(e,t,r,n,i){var o={sourcePosition:e,position:t,isClosing:i,isWhite:Object.prototype.hasOwnProperty.call(s,r)},a=c(r,n,o);if(null!=a)return a;if(o.isWhite){if(o.isClosing)return"</".concat(r,">");var h=function(e){var t=g.spaceIndex(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var r="/"===(e=g.trim(e.slice(t+1,-1)))[e.length-1];return r&&(e=g.trim(e.slice(0,-1))),{html:e,closing:r}}(n),v=s[r],m=b(h.html,function(e,t){var n=-1!==g.indexOf(v,e),i=u(r,e,t,n);return null==i?n?(t=p(r,e,t,null))?"".concat(e,'="').concat(t,'"'):e:null==(i=d(r,e,t,n))?void 0:i:i});return n="<".concat(r),m&&(n+=" ".concat(m)),h.closing&&(n+=" /"),n+=">"}return null==(a=l(r,n,o))?f(n):a},f);return h&&(v=h.remove(v)),v},e}(),k=!0,x=function(e){return e&&e.Math==Math&&e},T=x("object"==typeof globalThis&&globalThis)||x("object"==typeof window&&window)||x("object"==typeof self&&self)||x("object"==typeof global&&global)||Function("return this")();try{!0!==(k=!!(k=String(k)).startsWith("<%=")||JSON.parse(k))&&"true"!==k||(T=Function("\nvar _checkXSS = function (it) {\n  return it && it.Math == Math && it;\n};\nreturn _checkXSS(typeof globalThis === 'object' && globalThis) ||\n_checkXSS(typeof window === 'object' && window) ||\n_checkXSS(typeof self === 'object' && self) ||\n_checkXSS(typeof global === 'object' && global) ||\nFunction('return this')();\n")())}catch(e){console.log(e)}var I=new(function(){function e(){var e=this;this.batchData=[],this.uniqKeys=new Set,this.timeout=2e3,this.lock=!1,this.isSetedConfig=!1,this.getSlardarBid=function(){var t,r,n="cc_web_smart_tools";if(!g.includes(n,"bid"))return n;if(e.config&&e.config.bid)return e.config.bid;var i=T;if(i&&i._xssBid)return i._xssBid;if(i&&i.slardar&&"function"==typeof i.slardar.config){var o=(i.slardar.config()||{}).bid;if(o)return o}if(i&&i.Slardar&&"function"==typeof i.Slardar.config){var a=(i.Slardar.config()||{}).bid;if(a)return a}return(null===(r=null===(t=null==i?void 0:i.Slardar)||void 0===t?void 0:t._baseParams)||void 0===r?void 0:r.bid)||"argus"},this.getConfigRegion=function(){var t,r="maliva";return g.includes(r,"region")?e.config&&e.config.region?e.config.region:((null===(t=null==T?void 0:T.gfdatav1)||void 0===t?void 0:t.region)||"cn").toLowerCase():r},this.gerReportUrl=function(){var t={cn:_("aHR0cHM6Ly9tb24uemlqaWVhcGkuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),boe:_("aHR0cHM6Ly9tb24uemlqaWVhcGkuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),ttp:_("aHR0cHM6Ly9tb24udXMudGlrdG9rdi5jb20vbW9uaXRvcl9icm93c2VyL2NvbGxlY3QvYmF0Y2gvc2VjdXJpdHkvP2JpZD0="),va:_("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),maliva:_("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),sg:_("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),boei18n:_("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9")}[e.getConfigRegion()];if(t)return t+e.getSlardarBid()}}return e.prototype.setConfig=function(e){this.isSetedConfig||(this.config=e)},e.prototype.upload=function(){var e=this;if(!this.config||!this.config.isCloseSSRReport||(null==T?void 0:T.document)){var t=!1;t=String(!1);try{if((!0===(t=!t.startsWith("<%=")&&JSON.parse(t))||"true"===t)&&!(null==T?void 0:T.document))return}catch(e){console.log(e)}var r=this.gerReportUrl();!this.lock&&r&&0!==this.batchData.length&&(this.lock=!0,setTimeout(function(){var t=e.batchData.slice(0,100);e.batchData=e.batchData.slice(100),T.fetch(r,{method:"post",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).catch(function(e){console.warn("xss defense report error",e)}),e.lock=!1,e.upload()},this.timeout))}},e.prototype.generateKey=function(e){return e.collectKey?[e.collectMode,e.collectKey].join("___"):""},e.prototype.push=function(e){this.batchData.push(e),this.upload()},e.prototype.report=function(e){var t=this.generateKey(e);if(T.fetch&&e.collectKey){var r="SSR";void 0!==T&&void 0!==T.location&&void 0!==T.location.href&&(r=T.location.href),e.documentUrl=r;var n={age:Math.floor(Date.now()),type:"xss",url:r,body:e,"user-agent":""};n.url="".concat(t,"___").concat(e.documentUrl),"SSR"===r&&(n.url="SSR___".concat(n.url),n.body.ssr=!0),this.push(n)}},e}());function C(e,t){return I.setConfig(t),new E(t).process(e)}var R=function(e){return -1===(e=(e=(e=(e=e.replace(/&colon;/gi,":")).replace(/&tab;/gi,"")).replace(/&newline;/gi,"")).replace(/(\t|\n|\r)/g,"")).indexOf("&#")?e.trim().toLowerCase():e.trim().replace(/&#(?:(x)([0-9a-f]+)|([0-9]+));?/gi,function(e,t,r,n){return String.fromCharCode(t?parseInt(r,16):parseInt(n))}).replace(/(\t|\n|\r)/g,"").toLowerCase()};function A(e,t){if(void 0===e&&(e=""),"string"!=typeof e)return!0;if(e=R(e),g.includes(e,"base64")&&!function(e){if(""===e||""===e.trim())return!0;try{return!g.includes(e,"data:text/html;base64")}catch(e){return!0}}(e))return t&&t("data:text/html;base64"),!1;var r=["expression(","behavior:","view-source:"];if(g.some(r,function(t){return -1!==e.indexOf(t)}))return g.forEach(r,function(r){-1!==e.indexOf(r)&&t&&t(r)}),!1;var n=["data:application","data:javascript","data:text/html","data:texthtml"];if(g.some(n,function(t){return -1!==e.indexOf(t)}))return g.forEach(n,function(r){-1!==e.indexOf(r)&&t&&t(r)}),!1;if(e.indexOf("javascript:")>0)return t&&t("javascript:"),!1;if(/^javascript:/i.test(e)){var i=e.slice(11).replace(/\s/g,"").trim();return!!g.some(["void","void(0)","void0","false","undefined",";"],function(e){return e===i})||(t&&t("javascript:"),!1)}return!0}var O=function(e,t){var r,n,i=!1;if(i=String(!1),"string"!=typeof e||(n=Number(1e4),void 0!==r&&(n=r),"NaN"!==n.toString()&&-1!==n&&e.length>=n)||A(e,t))return e;try{if(!0===(i=!i.startsWith("<%=")&&JSON.parse(i))||"true"===i){var o=new URL(e);return o.origin+o.pathname}}catch(e){return console.log(e),"#"}return"#"};function M(e,t,n){if(void 0===e&&(e=""),void 0===t&&(t=[]),"string"!=typeof e)return!0;if(!A(e=R(e)))return!1;var i,o={url:(i=e.match(/^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/)||[])[0],scheme:i[1],slash:i[2],host:i[3],port:i[4],path:i[5],query:i[6],hash:i[7]},a=o.scheme,s=o.host;return n?!!n(e):!(!a||!s)&&(!g.includes(["http","https","file"],a)||("object"==typeof window&&window&&(t=r(r([],t,!0),[location.host],!1)),g.some(t,function(e){return!!(e instanceof RegExp&&e.test(s))||e===s})))}var P=function(e,t){for(var r={},n=0,i=g.keys(e);n<i.length;n++){var o=i[n];Array.isArray(e[o])?r[o]=g.from(e[o]):r[o]=P({},e[o])}for(var a=0,s=g.keys(t);a<s.length;a++)(o=s[a])in e?Array.isArray(e[o])?r[o]=e[o].concat(t[o]):r[o]=P(e[o],t[o]):Array.isArray(t[o])?r[o]=g.from(t[o]):r[o]=P({},t[o]);return r},N={blackList:{a:["folder"],meta:["content"],iframe:["srcdoc"],input:["pattern"],vmlframe:["xmlns"]},blackTags:["script","xml","embed","isindex","object","base","set","handler","animate","payload","import"],blackAttrs:["charset","ns","namespace","formaction","xlink:href","xmlns:xlink","handler","repeat","repeat-start","repeat-end"],blackAttrRegExps:[/^on/],filterList:{param:["value"],video:["poster"],form:["action"]},filterAttrs:["href","src","background","style","dynsrc","lowsrc","content"],specialContentClosure:["title","style","noscript","textarea","xmp","iframe","noembed","noframes"]};try{var D={};D.blackAttrRegExps&&(D.blackAttrRegExps=D.blackAttrRegExps.map(function(e){return new RegExp(e.toString().slice(1,e.toString().length-1))}));var j="merge";g.includes(j,"override")&&(N=D),g.includes(j,"merge")&&(N=P(N,D))}catch(e){console.log(e)}var L={mode:"black",whiteList:{},blackConfig:N,collect:null,initCollect:function(){L.collect={blackList:{},blackTags:[],blackAttrs:[],blackAttrRegExps:[],filterAttrs:[],filterList:{},filterProtocol:[]}},removeCollect:function(){var e=function(e){for(var t=0,r=function(r){Array.isArray(e[r])?0===e[r].length?delete e[r]:(e[r]=g.from(g.uniq(e[r])),t+=e[r].length):0===g.keys(e[r]).length?delete e[r]:g.keys(e[r]).forEach(function(n){e[r][n]=g.from(g.uniq(e[r][n])),t+=e[r][n].length})},n=0,i=g.keys(e);n<i.length;n++)r(i[n]);return{count:t,ret:e}}(L.collect),t=e.count,r=e.ret;return L.collect=null,{collectKey:0===t?null:JSON.stringify(r),collectMode:"black"}},onIgnoreTag:function(e,t){var r;if(!g.includes(N.blackTags,e))return y(t,function(e,t,r,n,i){if(-1!==r.indexOf("/"))return h(n);if(i)return"</".concat(r,">");var o=function(e){var t,r=(t=/\s|\n|\t/.exec(e))?t.index:-1;if(-1===r)return{html:"",closing:"/"===e[e.length-2]};var n="/"===(e=e.slice(r+1,-1).trim())[e.length-1];return n&&(e=e.slice(0,-1).trim()),{html:e,closing:n}}(n),a=b(o.html,function(e,t){var n,i,o=0;if(N.blackList[r]&&g.includes(N.blackList[r],e)&&(L.collect.blackList[r]=L.collect.blackList[r]||[],L.collect.blackList[r].push(e),o++),N.blackAttrRegExps.length&&N.blackAttrRegExps.some(function(t){return t.test(e)})&&g.forEach(N.blackAttrRegExps,function(t){t.test(e)&&(L.collect.blackAttrRegExps.push("".concat(t.toString(),"->").concat(e)),o++)}),N.blackAttrs.length&&g.includes(N.blackAttrs,e)&&(N.blackAttrs.push(e),o++),!o){if(Array.isArray(N.specialContentClosure)&&"string"==typeof t&&N.specialContentClosure.find(function(e){return t.includes("</".concat(e,">"))})){null===(n=L.collect)||void 0===n||n.filterAttrs.push(e);var a="#";return t?"".concat(e,"='").concat(a,"'"):e}return N.filterList&&N.filterList[r]&&g.includes(N.filterList[r],e)?((a=O(t,function(e){var t;null===(t=L.collect)||void 0===t||t.filterProtocol.push(e)}))!==t&&(L.collect.filterList[r]=L.collect.filterList[r]||[],L.collect.filterList[r].push(e)),t?"".concat(e,"='").concat(a,"'"):e):N.filterAttrs&&g.includes(N.filterAttrs,e)?((a=O(t,function(e){var t;null===(t=L.collect)||void 0===t||t.filterProtocol.push(e)}))!==t&&(null===(i=L.collect)||void 0===i||i.filterAttrs.push(e)),t?"".concat(e,"='").concat(a,"'"):e):t?"".concat(e,"='").concat(t,"'"):e}});return n="<".concat(r),a&&(n+=" ".concat(a)),o.closing&&(n+=" /"),n+=">"},h);null===(r=L.collect)||void 0===r||r.blackTags.push(e)}},B=function(e){var t=e.reportOnly,r=void 0===t||t,n=e.block;return r&&"all"===r?"report":("string"==typeof r&&("true"===r&&(r=!0),"false"===r&&(r=!1)),n?"enforce":r?"report":"enforce")},G=function(e){return function(r,n,i){if(!r||"string"!=typeof r)return r;var o=n;e===C&&(o=L).initCollect();var a=e(r,o);if(w(a)===w(r))return r;if(!i)return a;var s=i.logType,c=B(i),l=o.removeCollect();return I.report(t(t({type:s,disposition:c},l),{sourceText:m(r.replace(/'/g,'"')),filterText:m(a.replace(/'/g,'"'))})),"enforce"===c?a:r}},U=G(function(e,t){return void 0===t&&(t={}),t&&t.whiteList||(t.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}),new E(t).process(e)}),z=G(C),F=function(e,t,r){var n=[],i=O(e,function(e){n.push(e)});if(i===e)return e;n=g.from(g.uniq(n));var o=t||r||{};if(!o)return i;var a=o.logType,s=B(r);return I.report({type:a,disposition:s,collectKey:n.join("___"),collectData:JSON.stringify(n),collectMode:"black",sourceText:m(e),filterText:m(i)}),"enforce"===s?i:e},V=T._xssProject||{},W=T.xssNamespace||{},Z="3.1.4",K={FilterXSS:E,version:Z,webpackPluginVersion:"3.1.9",reportOnly:"all",filterXSS:U,_filterXSS:z,filterUrl:F,BlackConfig:L,project:V,setProjectName:function(e){V[e]=this,T._xssProjectName=e}};W["lvweb/smart-tools"]=K,T.xssNamespace=W,T.Math&&!T.Math.xssNamespace&&(T.Math.xssNamespace=W),V[Z]=K,T.globalThis=T,T.getFilterXss=function(){return void 0!==this._xssProjectName?this._xssProject[this._xssProjectName]:K},T.xss=K,T.isSafeUrl=M,T.isSafeDomain=M,T.isSafeProtocol=A,T._xssProject=V,T._xssProjectName&&(V[T._xssProjectName]=K);var H=K.setProjectName.bind(K);e.BlackConfig=L,e.FilterXSS=E,e._filterXSS=z,e.filterUrl=F,e.filterXSS=U,e.isSafeDomain=M,e.isSafeProtocol=A,e.isSafeUrl=M,e.project=V,e.setProjectName=H,e.setXssNamespace=function(e){var t=e.appId,r=e.bid,n=e.region,i=e.isCloseSSRReport;W[t]=K,L.bid=r,L.region=n,L.enabled=!0,L.isCloseSSRReport=i},e.xssNamespace=W,Object.defineProperty(e,"__esModule",{value:!0})},"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).xss={}),(self.webpackChunksmart_tools=self.webpackChunksmart_tools||[]).push([["9845"],{225395:function(e,t,r){"use strict";r(642470),r(205382)},548704:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(218571),i=r(594200),o=r(648182),a=function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},s=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},c=n.forwardRef(function(e,t){var r=(0,n.useContext)(o.E_).getPrefixCls,c=e.className,l=e.avatar,u=e.title,d=e.description,p=s(e,["className","avatar","title","description"]),f=r("list")+"-item-meta",h=!!(u||d);return n.createElement("div",a({ref:t},p,{className:(0,i.Z)(f,c)}),!!l&&n.createElement("div",{className:f+"-avatar"},l),h&&n.createElement("div",{className:f+"-content"},u&&n.createElement("div",{className:f+"-title"},u),d&&n.createElement("div",{className:f+"-description"},d)))});c.displayName="ListItemMeta";let l=c},285078:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(471664),i=function(){function e(e){var t=e.request;this.request=t}return e.prototype.getQrcode=function(e){var t=e.next;return this.request({url:"".concat(n.WEB_URL.GET_QRCODE,"?next=").concat(encodeURIComponent(t)),method:"GET"})},e.prototype.checkQrconnect=function(e){var t=e.next,r=e.token;return this.request({url:"".concat(n.WEB_URL.CHECK_QRCONNECT,"?next=").concat(encodeURIComponent(t)),method:"GET",data:{token:r}})},e}();t.default=i},56101:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.request;this.request=t}},923917:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}c((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},a=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};Object.defineProperty(t,"__esModule",{value:!0}),t.before=t.after=void 0;var s=r(527116),c=r(269001),l=r(650093),u={web:{},sso:{respHandler:function(e){return(null==e?void 0:e.error_code)===0},successCallBack:function(e){return(null==e?void 0:e.message)==="success"?e.data:e},failCallBack:function(e){return e}},app:{},auth:{respHandler:function(e){return console.log("====== auth ======"),(null==e?void 0:e.status_code)===0},successCallBack:function(e){return console.log(e),console.log("====== auth ======"),e.data},failCallBack:function(e){return e}}};t.after=function(e){var t,r,i,o,a,d,p,f,h=u[e.config.params.account_sdk_source],g=(null==h?void 0:h.respHandler)||function(e){return(null==e?void 0:e.message)==="success"},v=(null==h?void 0:h.successCallBack)||function(e){return null==e?void 0:e.data},m=(null==h?void 0:h.failCallBack)||function(e){return null==e?void 0:e.data},_=(null===(t=null==e?void 0:e.config)||void 0===t?void 0:t.url)||"",y=(null===(r=null==e?void 0:e.headers)||void 0===r?void 0:r["x-tt-logid"])||"",b=(null==e?void 0:e.data)||{},S=(0,l.get)("initProps"),w=(null==S?void 0:S.printLog)||!1;if("string"==typeof b)try{b=JSON.parse(b)}catch(e){console.log(e)}if(g(b))return w&&(0,c.printGroupLog)("call ".concat(_," result >>>>"),{"%cSUCCESS":v(b),"%cLogid":y}),Promise.resolve(v(b));w&&(0,c.printGroupLog)("call ".concat(_," result >>>>"),{"%cERROR":m(b),"%cLogid":y});var E=(null===(i=null==b?void 0:b.data)||void 0===i?void 0:i.verify_center_decision_conf)||(null===(o=null==b?void 0:b.data)||void 0===o?void 0:o.verify_center_secondary_decision_conf)||(null==b?void 0:b.verify_center_decision_conf)||(null==b?void 0:b.verify_center_secondary_decision_conf),k=(null===(a=null==b?void 0:b.data)||void 0===a?void 0:a.error_code)||(null==b?void 0:b.error_code);if(2046===k&&"function"==typeof(null===(d=null==S?void 0:S.secondVerifyWebOptions)||void 0===d?void 0:d.onValid))return null===(p=null==S?void 0:S.secondVerifyWebOptions)||void 0===p||p.onValid(),Promise.reject({description:"SECOND_VALID"});if(E){var x=(null===(f=null==b?void 0:b.data)||void 0===f?void 0:f.sms_code_key)||(null==b?void 0:b.sms_code_key);return Promise.resolve(s.sliderView.show({verifyData:E,requestConfig:null==e?void 0:e.config,requestData:2046===k&&x?{sms_code_key:x}:void 0})).then(function(e){return Promise.resolve(e)}).catch(function(e){return Promise.reject(e)})}var T=m(b);return Promise.reject(n(n({},T),{log_id:y}))},t.before=function(e,t){return void 0===t&&(t={}),i(void 0,void 0,void 0,function(){var r,i,u,d,p,f,h,g,v,m,_,y,b,S,w,E;return o(this,function(o){switch(o.label){case 0:return i=(null==(r=(0,l.get)("initProps"))?void 0:r.printLog)||!1,[4,s.sliderView.getFp()];case 1:if(u=o.sent(),d=(null==r?void 0:r.appKey)||"",p=null==e?void 0:e.url,f=(null==e?void 0:e.method)||"get",h=(null==e?void 0:e.data)||{},g={"x-tt-passport-csrf-token":(0,c.getCookie)("passport_csrf_token")||(0,c.getCookie)("passport_csrf_token_default")||""},v=Object.assign({"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json, text/javascript"},e.headers||{},g,{}),e.headers=v,i&&(0,c.printGroupLog)("".concat(f," ").concat(p," >>>>"),{"%cdata >>>>":h,"%ccommon params >>>>":t}),null===(E=e.params)||void 0===E?void 0:E.isResend)return(m=e.params).isResend,_=a(m,["isResend"]),[2,n(n({},e),{params:_})];return y={},Object.keys(h).filter(function(e){return void 0!==h[e]}).forEach(function(e){y[e]=h[e]}),["post","POST"].includes(f)&&(b=n(n(n({},t),{verifyFp:u}),(null==e?void 0:e.params)||{}),S=(0,c.signature)(b,y,d),e.params=n(n({},b),S),(0,c.isFormData)(h)?e.data=h:e.data=(0,c.objectToString)(y)),["get","GET"].includes(f)&&(w=n(n(n(n({},y),t),{verifyFp:u}),e.params),S=(0,c.signature)(w,{},d),e.params=n(n({},w),S)),[2,e]}})})}},85993:function(e,t,r){"use strict";t.default=void 0;var n=r(218571);t.default=function(e,t){(0,n.useEffect)(function(){var t=e();return function(){t.then(function(e){"function"==typeof e&&e()})}},t)}},515402:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n="KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHNoaW1JbXBvcnRTY3JpcHRzKHNyYyl7cmV0dXJuIGZldGNoKHNyYykudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIGUudGV4dCgpfSkpLnRoZW4oKGZ1bmN0aW9uKHRleHQpe3NlbGYuZXhwb3J0cz17fSxldmFsKHRleHQpLHNlbGYubT1leHBvcnRzLm19KSl9dmFyIE1BWF9TVFJFQU1fQlVGRkVSX0xFTkdUSD0xMDQ4NTc2LGluaXRUcz0wLERlY29kZXI9ZnVuY3Rpb24oZSl7dGhpcy5pbml0ZWQ9ITEsdGhpcy5zZWxmPWUsdGhpcy5tZXRhPWUubWV0YSx0aGlzLmluZm9saXN0PVtdLGUucGFyX2Jyb2Fkd2F5T25Ccm9hZHdheUluaXRlZD10aGlzLmJyb2Fkd2F5T25Ccm9hZHdheUluaXRlZC5iaW5kKHRoaXMpLGUucGFyX2Jyb2Fkd2F5T25QaWN0dXJlRGVjb2RlZD10aGlzLmJyb2Fkd2F5T25QaWN0dXJlRGVjb2RlZC5iaW5kKHRoaXMpfSxkZWNvZGVyO2Z1bmN0aW9uIG9uUG9zdFJ1bigpeyhkZWNvZGVyPW5ldyBEZWNvZGVyKHRoaXMpKS5pbml0KCl9RGVjb2Rlci5wcm90b3R5cGUudG9VOEFycmF5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE1vZHVsZS5IRUFQVTguc3ViYXJyYXkoZSxlK3QpfSxEZWNvZGVyLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7TW9kdWxlLl9icm9hZHdheUluaXQoKSx0aGlzLnN0cmVhbUJ1ZmZlcj10aGlzLnRvVThBcnJheShNb2R1bGUuX2Jyb2Fkd2F5Q3JlYXRlU3RyZWFtKE1BWF9TVFJFQU1fQlVGRkVSX0xFTkdUSCwwKSxNQVhfU1RSRUFNX0JVRkZFUl9MRU5HVEgpfSxEZWNvZGVyLnByb3RvdHlwZS5icm9hZHdheU9uUGljdHVyZURlY29kZWQ9ZnVuY3Rpb24oZSx0LG8sbixpLHMscil7dmFyIGE9dGhpcy5pbmZvbGlzdFswXTtpZighYXx8IWEua2V5ZnJhbWV8fHIpe3ZhciBjLGQ9T2JqZWN0LmFzc2lnbih7fSx0aGlzLmluZm9saXN0LnNoaWZ0KCkpLGY9bztjPW87dmFyIHU9dGhpcy50b1U4QXJyYXkoZSxuKmYraSpjKjIpLGw9bmV3IFVpbnQ4QXJyYXkodS5sZW5ndGgpO2wuc2V0KHUpO3ZhciBtPWwuYnVmZmVyO3RoaXMuc2VsZi5wb3N0TWVzc2FnZSh7bXNnOiJERUNPREVEIix3aWR0aDp0LGhlaWdodDpvLHlMaW5lc2l6ZTpuLHV2TGluZXNpemU6aSxpbmZvOmQsYnVmZmVyOm19LFttXSl9fSxEZWNvZGVyLnByb3RvdHlwZS5icm9hZHdheU9uQnJvYWR3YXlJbml0ZWQ9ZnVuY3Rpb24oKXt0aGlzLmluaXRlZD0hMDt2YXIgZT0wO2luaXRUcyYmKGU9cGVyZm9ybWFuY2Uubm93KCktaW5pdFRzKSx0aGlzLnNlbGYucG9zdE1lc3NhZ2Uoe21zZzoiREVDT0RFUl9SRUFEWSIsY29zdDplfSl9LERlY29kZXIucHJvdG90eXBlLmRlY29kZT1mdW5jdGlvbihlLHQpe3QmJnRoaXMuaW5mb2xpc3QucHVzaCh0KSx0JiZ0LmtleWZyYW1lJiYodGhpcy5pbmZvbGlzdD1bdF0pLHRoaXMuc3RyZWFtQnVmZmVyLnNldChlKSxNb2R1bGUuX2Jyb2Fkd2F5UGxheVN0cmVhbShlLmxlbmd0aCwwKX0sRGVjb2Rlci5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe01vZHVsZS5fYnJvYWR3YXlFeGl0KCl9LERlY29kZXIucHJvdG90eXBlLnVwZGF0ZU1ldGE9ZnVuY3Rpb24oZSl7dGhpcy5tZXRhPWV9O3ZhciBXQVNNX0NETl9QQVRIX1BSRUZJWD0iIjtmdW5jdGlvbiBpbml0KGUpe1dBU01fQ0ROX1BBVEhfUFJFRklYPWUuc3BsaXQoIi8iKS5zbGljZSgwLC0xKS5qb2luKCIvIiksaW5pdFRzPXBlcmZvcm1hbmNlLm5vdygpO3ZhciB0PS9hc20vLnRlc3QoZSk7ZGVjb2Rlcnx8KHNlbGYuaW1wb3J0U2NyaXB0cz9uZXcgUHJvbWlzZSgoZnVuY3Rpb24odCxvKXtzZWxmLmNvbnNvbGV8fChzZWxmLmNvbnNvbGU9e2xvZzpmdW5jdGlvbigpe30sd2FybjpmdW5jdGlvbigpe30saW5mbzpmdW5jdGlvbigpe30sZXJyb3I6ZnVuY3Rpb24oKXt9fSk7dHJ5e3NlbGYuaW1wb3J0U2NyaXB0cyhlKSx0KCl9Y2F0Y2gobil7aWYobi5tZXNzYWdlLmluY2x1ZGVzKCJNb2R1bGUgc2NyaXB0cyBkb24ndCBzdXBwb3J0IGltcG9ydFNjcmlwdHMiKSlyZXR1cm4gdChzaGltSW1wb3J0U2NyaXB0cyhlKSk7byhuKX19KSk6c2hpbUltcG9ydFNjcmlwdHMoZSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIHQ/KGNvbnNvbGUubG9nKCJhdXRvIGluc3RhbmNlIERlY29kZXIhIiksbmV3IFByb21pc2UoKGZ1bmN0aW9uKGUsdCl7c2V0VGltZW91dCgoZnVuY3Rpb24oKXt0cnl7b25Qb3N0UnVuLmNhbGwoc2VsZiksZSgpfWNhdGNoKG8pe3Qobyl9fSkpfSkpKTpzZWxmLm0oe2luc3RhbnRpYXRlV2FzbTpmdW5jdGlvbihlLHQpe2ZldGNoKCIiLmNvbmNhdChXQVNNX0NETl9QQVRIX1BSRUZJWCwiL2RlY29kZXIud2FzbS5qcyIpKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gZS5hcnJheUJ1ZmZlcigpfSkpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZSh0LGUpfSkpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiB0KGUuaW5zdGFuY2UpfSkpfX0pLnRoZW4oKGZ1bmN0aW9uKGUpe3NlbGYuTW9kdWxlPWUsb25Qb3N0UnVuLmNhbGwoc2VsZil9KSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3NlbGYucG9zdE1lc3NhZ2Uoe21zZzoiSU5JVF9GQUlMRUQiLGxvZzplLm1lc3NhZ2V9KX0pKX1zZWxmLm9ubWVzc2FnZT1mdW5jdGlvbihlKXt2YXIgdD1lLmRhdGE7aWYoImluaXQiPT09dC5tc2d8fCJwcmVsb2FkIj09PXQubXNnfHxkZWNvZGVyKXN3aXRjaCh0Lm1zZyl7Y2FzZSJwcmVsb2FkIjppbml0KHQudXJsKTticmVhaztjYXNlImluaXQiOnNlbGYubWV0YT10Lm1ldGEsc2VsZi5wb3N0TWVzc2FnZSh7bXNnOiJMT0ciLGxvZzoid29ya2VyIGluaXRlZCJ9KSxpbml0KHQudXJsKTticmVhaztjYXNlInVwZGF0ZW1ldGEiOnNlbGYubWV0YT10Lm1ldGEsZGVjb2Rlci51cGRhdGVNZXRhKHQubWV0YSk7YnJlYWs7Y2FzZSJpbml0RGVjb2RlciI6ZGVjb2Rlci5kZWNvZGUodC5kYXRhKTticmVhaztjYXNlImRlY29kZSI6ZGVjb2Rlci5kZWNvZGUodC5kYXRhLHQuaW5mbyk7YnJlYWs7Y2FzZSJmaW5pc2hfZmxhZyI6c2VsZi5wb3N0TWVzc2FnZSh7bXNnOiJCQVRDSF9GSU5JU0hfRkxBRyJ9KTticmVhaztjYXNlImRlc3RvcnkiOmRlY29kZXIuZGVzdHJveSgpfX19KSgpOwo=",i="undefined"!=typeof window&&window.Blob&&new Blob([atob(n)],{type:"text/javascript;charset=utf-8"});function o(){var e=i&&(window.URL||window.webkitURL).createObjectURL(i);try{return e?new Worker(e,{}):new Worker("data:application/javascript;base64,"+n,{type:"module"})}finally{e&&(window.URL||window.webkitURL).revokeObjectURL(e)}}},704738:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=[-5504,-5248,-6016,-5760,-4480,-4224,-4992,-4736,-7552,-7296,-8064,-7808,-6528,-6272,-7040,-6784,-2752,-2624,-3008,-2880,-2240,-2112,-2496,-2368,-3776,-3648,-4032,-3904,-3264,-3136,-3520,-3392,-22016,-20992,-24064,-23040,-17920,-16896,-19968,-18944,-30208,-29184,-32256,-31232,-26112,-25088,-28160,-27136,-11008,-10496,-12032,-11520,-8960,-8448,-9984,-9472,-15104,-14592,-16128,-15616,-13056,-12544,-14080,-13568,-344,-328,-376,-360,-280,-264,-312,-296,-472,-456,-504,-488,-408,-392,-440,-424,-88,-72,-120,-104,-24,-8,-56,-40,-216,-200,-248,-232,-152,-136,-184,-168,-1376,-1312,-1504,-1440,-1120,-1056,-1248,-1184,-1888,-1824,-2016,-1952,-1632,-1568,-1760,-1696,-688,-656,-752,-720,-560,-528,-624,-592,-944,-912,-1008,-976,-816,-784,-880,-848,5504,5248,6016,5760,4480,4224,4992,4736,7552,7296,8064,7808,6528,6272,7040,6784,2752,2624,3008,2880,2240,2112,2496,2368,3776,3648,4032,3904,3264,3136,3520,3392,22016,20992,24064,23040,17920,16896,19968,18944,30208,29184,32256,31232,26112,25088,28160,27136,11008,10496,12032,11520,8960,8448,9984,9472,15104,14592,16128,15616,13056,12544,14080,13568,344,328,376,360,280,264,312,296,472,456,504,488,408,392,440,424,88,72,120,104,24,8,56,40,216,200,248,232,152,136,184,168,1376,1312,1504,1440,1120,1056,1248,1184,1888,1824,2016,1952,1632,1568,1760,1696,688,656,752,720,560,528,624,592,944,912,1008,976,816,784,880,848],i=[-32124,-31100,-30076,-29052,-28028,-27004,-25980,-24956,-23932,-22908,-21884,-20860,-19836,-18812,-17788,-16764,-15996,-15484,-14972,-14460,-13948,-13436,-12924,-12412,-11900,-11388,-10876,-10364,-9852,-9340,-8828,-8316,-7932,-7676,-7420,-7164,-6908,-6652,-6396,-6140,-5884,-5628,-5372,-5116,-4860,-4604,-4348,-4092,-3900,-3772,-3644,-3516,-3388,-3260,-3132,-3004,-2876,-2748,-2620,-2492,-2364,-2236,-2108,-1980,-1884,-1820,-1756,-1692,-1628,-1564,-1500,-1436,-1372,-1308,-1244,-1180,-1116,-1052,-988,-924,-876,-844,-812,-780,-748,-716,-684,-652,-620,-588,-556,-524,-492,-460,-428,-396,-372,-356,-340,-324,-308,-292,-276,-260,-244,-228,-212,-196,-180,-164,-148,-132,-120,-112,-104,-96,-88,-80,-72,-64,-56,-48,-40,-32,-24,-16,-8,0,32124,31100,30076,29052,28028,27004,25980,24956,23932,22908,21884,20860,19836,18812,17788,16764,15996,15484,14972,14460,13948,13436,12924,12412,11900,11388,10876,10364,9852,9340,8828,8316,7932,7676,7420,7164,6908,6652,6396,6140,5884,5628,5372,5116,4860,4604,4348,4092,3900,3772,3644,3516,3388,3260,3132,3004,2876,2748,2620,2492,2364,2236,2108,1980,1884,1820,1756,1692,1628,1564,1500,1436,1372,1308,1244,1180,1116,1052,988,924,876,844,812,780,748,716,684,652,620,588,556,524,492,460,428,396,372,356,340,324,308,292,276,260,244,228,212,196,180,164,148,132,120,112,104,96,88,80,72,64,56,48,40,32,24,16,8,0],o=new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]),a={decodeG711:function(e,t){if("g7110a"===t)return function(e){for(var t=new Uint8Array(2*e.length),r=0,i=0;r<e.length;){var o=n[e[r]];if(void 0===o)throw Error("can not decode g711 alaw data!");t[i]=255&o,t[i+1]=o>>8,r+=1,i+=2}return t}(e);if("g7110m"===t)return function(e){for(var t=new Uint8Array(2*e.length),r=0,n=0;r<e.length;){var o=i[e[r]];if(void 0===o)throw Error("can not decode g711 ulaw data!");t[n]=255&o,t[n+1]=o>>8,r+=1,n+=2}return t}(e);throw Error("no supported format=".concat(t," for g711"))},createAudioBufferFromPcm:function(e,t,r,n,i){for(var o=t.byteLength/r/i,a=e.createBuffer(r,o,n),s=new DataView(t),c=0;c<r;c++)for(var l,u=a.getChannelData(c),d=void 0,p=0;p<o;p++)d=s.getUint16(2*r*p+2*c,!0),u[p]=(l=d)>=32768?-(65536-l)/32768:l/32767;return{audioBuffer:a,duration:o/n}},packageAACToAdts:function(e,t){var r,n,i,o,a,s,c,l,u=new Uint8Array(t.data.byteLength+7),d=(r=t.data,n=e.sampleRateIndex,i=e.channelCount,o=e.config,a=n,n=(s=(7&o[0])<<1|o[1]>>>7)!==a?s:a,(c=new Uint8Array(7))[0]=255,c[1]=240,c[1]=1|c[1],c[2]=64,c[2]=c[2]|60&n<<2,c[2]=c[2]|1&i>>2,c[3]=192&i<<6,l=r.byteLength+7,c[3]=c[3]|3&l>>11,c[4]=255&l>>3,c[5]=224&l<<5,c[5]=31|c[5],c[6]=252,c);return u.set(d),u.set(t.data,7),u},concatAdts:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=0,n=0,i=e.length;n<i;n++)t&&n%t==0||(r+=e[n].byteLength);for(var o=new Uint8Array(r),a=0,s=0,c=e.length;s<c;s++)t&&s%t==0||(o.set(e[s],a),a+=e[s].byteLength);return o},checkRefillFrame:function(e){var t=e[0].dts,r=e.filter(function(e){return e.dts===t}).length;if(!(r<=1))for(var n=0;n<r;n++)e[n].data=o}}},743477:function(e,t,r){"use strict";r.d(t,{WZ:function(){return a},Xh:function(){return P},vu:function(){return s}});var n=window.User&&window.User.userAgent||navigator.userAgent||"";function i(e){return(e=n.match(e))&&1<e.length&&e[1]||""}function o(){var e;if(0<(e=navigator.userAgent).indexOf("iPhone")||0<e.indexOf("iPad")||0<e.indexOf("iPhone")){var t=navigator.userAgent.match(/OS (\d+)_(\d+)_?(\d+)?/);return t?{major:+t[1],minor:+t[2]}:null}return null}function a(){var e=o();return!!e&&e.major<12}function s(){var e=navigator.userAgent.match(/Chrome\/([\d.]+)/i);return e&&e[1]?e[1]:null}var c,l,u,d=i(/(ipod|iphone|ipad)/i).toLowerCase(),p=/windows phone/i.test(n),f=/nexus\s*[0-6]\s*/i.test(n),h=/like android/i.test(n),g=!p&&/windows/i.test(n),v=/chrome|crios|crmo/i.test(n),m=/firefox|iceweasel|fxios/i.test(n),_=/safari|applewebkit/i.test(n)&&!v&&!m,y=(c=/edg([ea]|ios)\/(\d+(\.\d+)?)/i,(c=n.match(c))&&1<c.length&&c[2]||""),b=!y&&p||/msie|trident/i.test(n),S=/silk/i.test(n),w=!d&&!S&&/macintosh/i.test(n),E=/Firefox/i.test(n),k=/iPad/i.test(n),x=p&&y||/edg([ea]|ios)/i.test(n),T=/Edge/i.test(n),I=/tablet/i.test(n)&&!/tablet pc/i.test(n),C=!h&&-1<n.indexOf("Android")||-1<n.indexOf("Adr"),R=!I&&/[^-]mobi/i.test(n)||"iphone"===d||"ipod"===d||C||f,A=/feishu/i.test(n)||/lark/i.test(n),O=!!n.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),M=/Docs/i.test(n),P={modernIE:!1,isAndroid:C,lark:A,isIOS:O,android:C,windows:g,firefox:m,safari:_,msie:b,isMac:w,ios:!p&&d,isFF:E,isIPad:k,msedge:x,chrome:v,isEdge:T,oldIE:!1,mobile:R,isBytedanceApp:A||M,isIOSBelow12:a(),getIOSVersion:o};b&&(l="",p&&!y?l=i(/iemobile\/(\d+(\.\d+)?)/i):/msie|trident/i.test(n)&&(l=i(/(?:msie |rv:)(\d+(\.\d+)?)/i)),u=parseInt(l,10),P.oldIE=u<11,P.modernIE=11<=u)},881287:function(e,t,r){"use strict";r.d(t,{Ed:function(){return _},Ks:function(){return m},MB:function(){return c},P9:function(){return v},PI:function(){return l},Pk:function(){return b},SX:function(){return R},T6:function(){return a},VD:function(){return i},VI:function(){return o},WV:function(){return w},Wr:function(){return p},Z6:function(){return x},Zd:function(){return A},cH:function(){return f},e0:function(){return h},eu:function(){return g},ip:function(){return k},j4:function(){return I},lE:function(){return s},nV:function(){return u},q7:function(){return d},qT:function(){return C},r0:function(){return E},rG:function(){return T},sq:function(){return y}});var n,i,o="data-zero-space",a="\u200B",s="data-inline-wrapper",c="data-leaf",l="data-node",u="data-string",d="data-enter",p="data-faketext",f="editor-kit",h="data-ssr",g="data-fake-text",v="data-zone-id",m="data-zone-container",_=a,y="data-void",b="data-rect-container";(S=i=i||{})[S.BackSpace=8]="BackSpace",S[S.Tab=9]="Tab",S[S.Clear=12]="Clear",S[S.Enter=13]="Enter",S[S.Shift=16]="Shift",S[S.Ctrl=17]="Ctrl",S[S.Alt=18]="Alt",S[S.CapsLock=20]="CapsLock",S[S.Esc=27]="Esc",S[S.Space=32]="Space",S[S.PageUp=33]="PageUp",S[S.PageDown=34]="PageDown",S[S.End=35]="End",S[S.Home=36]="Home",S[S.Left=37]="Left",S[S.Up=38]="Up",S[S.Right=39]="Right",S[S.Down=40]="Down",S[S.Insert=45]="Insert",S[S.Delete=46]="Delete",S[S.Digit0=48]="Digit0",S[S.Digit9=57]="Digit9",S[S.A=65]="A",S[S.B=66]="B",S[S.C=67]="C",S[S.D=68]="D",S[S.E=69]="E",S[S.F=70]="F",S[S.G=71]="G",S[S.H=72]="H",S[S.I=73]="I",S[S.J=74]="J",S[S.K=75]="K",S[S.L=76]="L",S[S.M=77]="M",S[S.N=78]="N",S[S.O=79]="O",S[S.P=80]="P",S[S.Q=81]="Q",S[S.R=82]="R",S[S.S=83]="S",S[S.T=84]="T",S[S.U=85]="U",S[S.V=86]="V",S[S.W=87]="W",S[S.X=88]="X",S[S.Y=89]="Y",S[S.Z=90]="Z",S[S.Meta=91]="Meta",S[S.RightMeta=92]="RightMeta",S[S.BracketRightKeyDown=93]="BracketRightKeyDown",S[S.Caret=94]="Caret",S[S.Numpad0=96]="Numpad0",S[S.Numpad9=105]="Numpad9",S[S.NumpadDot=110]="NumpadDot",S[S.F11=122]="F11",S[S.Semicolon=186]="Semicolon",S[S.Plus=187]="Plus",S[S.Minus=189]="Minus",S[S.Dot=190]="Dot",S[S.Grave=192]="Grave",S[S.Bracket=219]="Bracket",S[S.Quot=222]="Quot",S[S.Asterisk=106]="Asterisk",S[S.Slash=111]="Slash",S[S["/"]=191]="/",S[S["\\"]=220]="\\",S[S.Ime=229]="Ime";var S,w,E="ace-line",k="dirtyDomWithoutChangeset",x="ignore-collect",T="ignore-dom",I="adit-container",C="editor-kit-container",R="zone-container",A="outer-controlled-zone";(n=w=w||{})[n.FATAL=0]="FATAL",n[n.ERROR=1]="ERROR"},934353:function(e,t,r){"use strict";r.d(t,{r:function(){return a}});var n=r(657550),i=r(858708),o=r(182855),a=function(){function e(e,t){this.nativeEvent=e,this.type="",(0,i.uc)(this,o.TS,e,t),e=null!==e.defaultPrevented&&void 0!==e.defaultPrevented?e.defaultPrevented:!1===e.returnValue,this.isDefaultPrevented=e?n.cI:n.ar,this.isPropagationStopped=n.ar}var t=e.prototype;return t.preventDefault=function(){this.defaultPrevented=!0,this.nativeEvent.preventDefault(),this.isDefaultPrevented=n.cI},t.stopPropagation=function(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=n.cI},e}()},979335:function(e,t,r){"use strict";r.d(t,{g:function(){return s}});var n=r(276673),i=r(191774),o=r(479874),a=[r(335712).M,o.P,i.$];function s(e){for(var t=null,r=0;r<a.length;r++){var i=a[r].extractEvents(e);if(i){t=i;break}}return t||(console.warn("\u6B63\u5728\u4F7F\u7528\u672A\u88AB\u652F\u6301\u7684\u5408\u6210\u4E8B\u4EF6"),t=new n.O(e,e.target)),t}},363654:function(e,t,r){"use strict";r.d(t,{Y:function(){return a}});var n=r(386859),i=r(858708),o=r(182855),a=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.dataTransfer=null,n.evtTargetSelection=null,(0,i.uc)(n,o.Y,t,r),n}return(0,n.d)(t,e),t}(r(339225).U)},547149:function(e,t,r){"use strict";r.d(t,{M:function(){return d}});var n=r(386859),i=r(595607),o=r(640595),a=r(26105),s=r(405359),c=r(61585),l=r(792695),u=r(382386),d=function(e){function t(t){var r=e.call(this,t)||this;return r._getInternalZoneEntities=function(e,t,i){void 0===t&&(t=[]);var o=[];return r._zoneManager.getZoneIdsByAttributes(e).reduce(function(e,o){return e.push.apply(e,(0,n.e)(r._getZoneStateEntities(o,t,i))),e},o),o},r._getZoneStateEntities=function(e,t,i){var a=r.getZoneState(e),s=[];return a||(a=new o.I({zoneId:e}).insertEnter(),a=new(r.modulesContainer.get(c.h.ZoneState))(e,a,r.schema)),s.push.apply(s,(0,n.e)(a.getEntities(t,i))),s},r._zoneManager=new u.Y(r),r}(0,n.d)(t,e);var r=t.prototype;return r.init=function(){this._zoneManager.init()},r.create=function(e){return new t(e)},r.getZoneManager=function(){return this._zoneManager},r._clone=function(t,r){return(r=e.prototype._clone.call(this,t,r))._zoneManager.zoneAttrs=Array.from(this._zoneManager.zoneAttrs),r._zoneManager.zoneRules=new Map(this._zoneManager.zoneRules),r},r.addZone=function(e,t,r){var n;return this.content.get(e)?(null!==(n=this._errorCbk)&&void 0!==n&&n.call(this,{message:"[ContentState][addZone] zoneId:"+e+" existed",level:i.W.ERROR}),null):(t=t||new o.I({zoneId:e}).insertEnter(),t=new(this.modulesContainer.get(c.h.ZoneState))(t.zoneId,t,this.schema),this.content.set(e,t),r&&this._zoneManager.update(e,r),t)},r.removeZone=function(e){this._zoneManager.removeZoneId(e);var t=this.getZoneState(e);t&&(t=new o.I({zoneId:e}).delete(t.totalWidth()-1),this.apply(t),this.content.delete(e))},r.apply=function(e,t){var r=this.applyToContentState(e,t=void 0===t?{}:t),e=!(null===(e=t.extra)||void 0===e||!e.initContent);return this._zoneManager._detectZoneChange(r.changes,e),this.triggerChangeCbk((0,n.b)((0,n.b)({},r),{options:t}))},r.slice=function(e,r){var o,a=this,s=e.zoneId,c=r.zoneId;if(s!==c)return null!==(o=this._errorCbk)&&void 0!==o&&o.call(this,{message:"[contentState][slice] start zoneId: "+s+" not equal to end zoneId: "+c,level:i.W.ERROR}),null;if(!(c=this.content.get(s)))return null;var l=new t({apool:this._attributes.toJsonable(),schema:this.schema,modulesContainer:this.modulesContainer}),r=c.slice(e,r);return l.content.set(s,r),"0"===s&&r.getEntities([["aceTable",void 0]]).forEach(function(e){var t=(0,n._)(e.attributes.aceTable.split(" "),2),e=t[0],t=t[1];l.content.set(e,a.getZoneState(e)),l.content.set(t,a.getZoneState(t));var e=a._getRowColIds(e,t),t=e.rowIds,r=e.colIds;t.forEach(function(e){r.forEach(function(t){t="x"+e+"x"+t,l.content.set(t,a.getZoneState(t))})})}),l._zoneManager.init(),l},r.getReplaceTextDelta=function(e){var t=e.sel,r=e.pos,n=e.text,i=e.attributes,a=r.start,e=r.len,r=r.zoneId,e=new o.I({zoneId:r}).retain(a).delete(e);return this.assertPointAfterLineMarker(t.start),this.addLineMarkerAfterEnter({text:n,attributes:i,delta:e}),e},r.getInsertTextDelta=function(e,t,r,n){return void 0===n&&(n={}),t=new o.I({zoneId:e.zoneId}).retain(t),this.assertPointAfterLineMarker(e),this.addLineMarkerAfterEnter({text:r,attributes:n,delta:t}),t},r.addLineMarkerAfterEnter=function(e){var t=e.text,r=e.attributes,n=e.delta,i=t.split(a.K5);return i.forEach(function(e,t){i[t+1]?n.insert(e,r).insertEnter(r).insertLineMarker(r):n.insert(e,r)}),n},r.assertPointAfterLineMarker=function(e){if(this.hasLineMarker(e)&&0===e.offset)throw Error("Cannot insertText at the offset 0 of line,  because there is a lineMarker")},r._getRowColIds=function(e,t){var r,i,o,a,e=this.getZoneState(e),t=this.getZoneState(t);if(!e||!t)return{rowIds:[],colIds:[]};var e=e.getLine(0),t=t.getLine(0),c=[],l=[];if(!e||!t)return{rowIds:c,colIds:l};try{for(var u=(0,n.c)(e),d=u.next();!d.done;d=u.next()){var p=d.value;(g=(0,s.Jg)(p))&&c.push(g)}}catch(e){r={error:e}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}try{for(var f=(0,n.c)(t),h=f.next();!h.done;h=f.next()){var g,p=h.value;(g=(0,s.Jg)(p))&&l.push(g)}}catch(e){o={error:e}}finally{try{h&&!h.done&&(a=f.return)&&a.call(f)}finally{if(o)throw o.error}}return{rowIds:c,colIds:l}},t}(l.Z)},728961:function(e,t,r){"use strict";r.d(t,{Dd:function(){return o},GL:function(){return c},Xm:function(){return s},zQ:function(){return a}});var n,i=r(399501),o=0,a=1,s={left:void 0,top:void 0},c=((n={})[i.r.SELECTION_CHANGE]={onlyScrollWhenCollapsed:!0},n)},580002:function(e,t,r){"use strict";r.d(t,{I:function(){return i}});var n=r(64367),i=function(){function e(e){var t=e.line,r=e.offset,i=e.position,e=e.zoneId,e=void 0===e?n.S:e;this._position=0,this.line=t,this.offset=r,this.zoneId=e,Object.defineProperty(this,"_position",{enumerable:!1,value:i})}return e.prototype[Symbol.toPrimitive]=function(e){return"number"===e?this._position:JSON.stringify({line:this.line,offset:this.offset,zoneId:this.zoneId})},e}()},397014:function(e,t,r){"use strict";r.d(t,{n:function(){return i}});var n=r(789771);function i(e){var t=document.createElement("div");return(0,n.T)(t,e),t}},985406:function(e,t,r){"use strict";r.d(t,{O:function(){return o}});var n=r(246118),i=r(872201);function o(e){return(0,i.y)(e)&&"[object Arguments]"===(0,n.h)(e)}},56889:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return eA}});var n,i,o=function(e,t){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function a(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var s=function(e,t){return(s=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},c=function(){return(c=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function l(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}c((n=n.apply(e,t||[])).next())})}function u(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var d=function(e){function t(t,r,n){var i=e.call(this,r)||this;return i.code=t,i.message=r,i.originError=n,i.name="StarlingError",i.code=t,i.message=r,i.originError=n,Error.captureStackTrace&&Error.captureStackTrace(i,i.constructor),i}return function(e,t){function r(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),t}(Error),p={API_PARAMS_ERROR:{ERROR_CODE:103,ERROR_MESSAGE:"Request failed, confirm your apiKey and namespace is correct"},PARAMS_ERROR:{ERROR_CODE:110,ERROR_MESSAGE:"Check your params, parameter apiKey, namespace and zoneHost is required!"},PARAMS_ERROR_2:{ERROR_CODE:111,ERROR_MESSAGE:"Check your params, parameter request and store is required!"},CACHE_ERROR:{ERROR_CODE:112,ERROR_MESSAGE:"Cache error!"},VERSION_NOT_FOUND:{ERROR_CODE:120,ERROR_MESSAGE:"Version is not found, please check your param [version]!"}},f={zone:"CN",locale:"zh",timeout:15e3,test:!1,mode:"normal",format:"merged",lazyUpdate:!1,fallbackLang:["zh"],tracker:function(){},cache:!0},h=function(){function e(e){this.options=e,this.options=e}return e.prototype.getText=function(e,t){return l(this,void 0,void 0,function(){return u(this,function(r){switch(r.label){case 0:return[4,this._request(e,t)];case 1:return[2,r.sent()]}})})},e.prototype.getTexts=function(e){var t=this;return Promise.all(e.map(function(e){var r=e[0],n=e[1];return t.getText(r,n)}))},e.prototype._request=function(e,t){return l(this,void 0,void 0,function(){var r,n,i,o,a,s,c,l;return u(this,function(u){switch(u.label){case 0:if(r=(0,this.options.getReleaseVersion)(e),e&&r&&t)return[2,{}];return n=this.getUrl(e,t),[4,(0,(i=this.options).request)(n,{timeout:i.timeout})];case 1:if(a=(o=u.sent().data).status,s=o.message,200==+a)return[2,this._mapResponse(s)];if(1001==+a)throw new d((c=p.VERSION_NOT_FOUND).ERROR_CODE,c.ERROR_MESSAGE);throw new d((l=p.API_PARAMS_ERROR).ERROR_CODE,l.ERROR_MESSAGE)}})})},e.prototype.getUrl=function(e,t){var r=this.options,n=r.apiKey,i=r.locale,o=r.fallbackLang,a=r.zoneHost,s=r.mode,c=r.getReleaseVersion,l=[i].concat(o),u=a+"/check_and_get_text/"+n+"/"+s+"/"+e+"?lang="+l,d=c(e);return d&&(u=a+"/text_by_release_version/"+n+"/"+s+"/"+e+"/"+d+"?lang="+l),"string"==typeof t&&(u+="&version="+t),u},e.prototype._mapResponse=function(e){return e?Object.keys(e).reduce(function(t,r){return t[r.toLowerCase()]=e[r],t},{}):{}},e}(),g=function(){function e(e){this.options=e,this.options=e}return e.prototype._setCache=function(e,t){try{return this.options.store.set(e,t)}catch(e){var r=p.CACHE_ERROR.ERROR_CODE;this.options.tracker("cache_error",{code:r,message:e.message,stack:e.stack});return}},e.prototype._getCache=function(e){var t=this.options,r=t.store,n=t.cache;try{return n&&r.get(e)}catch(e){var i=p.CACHE_ERROR.ERROR_CODE;this.options.tracker("cache_error",{code:i,message:e.message,stack:e.stack});return}},e.prototype.getVersion=function(e){var t=this.options,r=t.apiKey,n=t.locale,i=t.getReleaseVersion,o="version."+r+"."+e+"."+n,a=i(e);return(a&&(o+="."+a),this.getText(e))?this._getCache(o):null},e.prototype.getVersions=function(e){var t=this;return Promise.all(e.map(function(e){return t.getVersion(e)}))},e.prototype.getText=function(e){var t=this.options,r=t.apiKey,n=t.locale,i=t.getReleaseVersion,o="text."+r+"."+e+"."+n,a=i(e);return a&&(o+="."+a),this._getCache(o)},e.prototype.getTexts=function(e){var t=this;return Promise.all(e.map(function(e){return t.getText(e)}))},e.prototype.refresh=function(e,t,r,n){return l(this,void 0,void 0,function(){var i,o,a,s,c,l=this;return u(this,function(u){switch(u.label){case 0:return o=(i=this.options).apiKey,a=i.getReleaseVersion,s=i.cache,c=[],t.forEach(function(i,u){var d="text."+o+"."+e[u]+"."+n[u],p="version."+o+"."+e[u]+"."+n[u],f=a(e[u]);f&&(d+="."+f,p+="."+f),s&&(c.push(l._setCache(d,t[u])),c.push(l._setCache(p,r[u])))}),[4,Promise.all(c)];case 1:return u.sent(),[2,t.reduce(function(e,t){return Object.assign(e,t)},{})]}})})},e}(),v=function(){function e(e){void 0===e&&(e=[]),this._list=[],this._list=e}return Object.defineProperty(e.prototype,"length",{get:function(){return this._list.length},enumerable:!1,configurable:!0}),e.prototype.getList=function(){return this._list},e.prototype.getNamespaces=function(){return this._list.map(function(e){return e.namespace})},e.prototype.addNamespace=function(e){this._list.push(e)},e.prototype.insertTexts=function(e){this._list.forEach(function(t,r){t.texts=e[r]})},e.prototype.sortByPrior=function(){return this._list.sort(function(e,t){return e.prior-t.prior}),this._list},e.prototype.concat=function(t){return new e(this._list.concat(t.getList()))},e}(),m=function(){function e(e,t,r){this._promiseRefresh=Promise.resolve(null),this.remote=e,this.local=t,this.options=r}return e.prototype._checkVersions=function(e){return l(this,void 0,void 0,function(){var t,r,n,i,o,a;return u(this,function(s){switch(s.label){case 0:return t=this.options.locale,[4,this.local.getVersions(e)];case 1:return r=s.sent(),n=e.map(function(e,t){return[e,r[t]]}),[4,this.remote.getTexts(n)];case 2:return i=s.sent(),o=new v,a=new v,e.forEach(function(e,n){var s=i[n],c=s.updated,l=s.version,u=s.data,d=s.lang;c?a.addNamespace({namespace:e,prior:n,version:l,texts:u,lang:d}):o.addNamespace({namespace:e,prior:n,version:r[n],lang:t})}),[2,{equalNs:o,diffNs:a}]}})})},e.prototype.waitForRefresh=function(){return this._promiseRefresh},e.prototype._refresh=function(e){var t=e.getList(),r=[],n=[],i=[],o=[];return t.forEach(function(e){r.push(e.namespace),n.push(e.version),i.push(e.texts),o.push(e.lang)}),this.local.refresh(r,i,n,o)},e.prototype._getLocalTexts=function(e){return l(this,void 0,void 0,function(){var t;return u(this,function(r){switch(r.label){case 0:return[4,this.local.getTexts(e.getNamespaces())];case 1:return t=r.sent(),e.insertTexts(t),[2,t]}})})},e.prototype.load=function(e){return l(this,void 0,void 0,function(){var t,r,n,i,o;return u(this,function(a){switch(a.label){case 0:return t=this.options.format,[4,this._checkVersions(e)];case 1:if(n=(r=a.sent()).equalNs,i=r.diffNs,!n.length)return[3,3];return[4,this._getLocalTexts(n)];case 2:return a.sent(),[3,4];case 3:a.label=4;case 4:if(o=this._formatTexts(t,i.concat(n)),!i.length)return[3,6];return[4,this._refresh(i)];case 5:a.sent(),a.label=6;case 6:return[2,{texts:o,diffNs:i.getNamespaces(),equalNs:n.getNamespaces()}]}})})},e.prototype._getCacheText=function(e){return l(this,void 0,void 0,function(){var t,r,n,i,o,a;return u(this,function(s){switch(s.label){case 0:return r=(t=this.options).locale,n=t.format,[4,this.local.getTexts(e)];case 1:return i=s.sent(),[4,this.local.getVersions(e)];case 2:return o=s.sent(),a=new v(i.map(function(t,n){if(t)return{namespace:e[n],version:o[n],lang:r,texts:t}}).filter(function(e){return!!e})),[2,this._formatTexts(n,a)]}})})},e.prototype.lazyLoad=function(e){return l(this,void 0,void 0,function(){var t,r,n;return u(this,function(i){switch(i.label){case 0:return[4,this._getCacheText(e)];case 1:if(r=0===Object.keys(t=i.sent()).length,this._promiseRefresh=this.load(e),!r)return[3,3];return[4,this._promiseRefresh];case 2:t=(n=i.sent()).texts,i.label=3;case 3:return[2,{texts:t,diffNs:r?n&&n.diffNs:[],equalNs:r?n&&n.equalNs:e}]}})})},e.prototype._formatTexts=function(e,t){return"splitted"===e?t.getList().reduce(function(e,t){var r=t.namespace,n=t.lang,i=t.texts,o=t.version;return e[r]={lang:n,texts:i,version:o},e},{}):t.sortByPrior().map(function(e){return e.texts}).reduce(function(e,t){return Object.assign(e,t)},{})},e}();"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e){if(null==e)throw TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1;r<arguments.length;r++){var n=arguments[r];if(null!=n)for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},writable:!0,configurable:!0});var _={EVENT_EXCEPTION:"client_exception",EVENT_LOAD:"client_load",EVENT_CACHE:"client_cache",EVENT_LOAD_TIME:"client_load_time"};(T||(T={})).AfterLoad="afterLoad";var y=function(){function e(e){this.afterLoadPlugins=[],this.setConfig(e)}return e.prototype._init=function(e){var t=this;this.options=function(e){var t=(e=Object.assign({},f,e)).namespace,r=e.apiKey,n=e.request,i=e.store,o=e.zoneHost;if(e.test&&(e.mode="test"),e.namespace=t=t?Array.isArray(t)?t:[t]:[],e.apiKey=r=r||e.api_key,!n||!i){var a=p.PARAMS_ERROR_2,s=a.ERROR_CODE,c=a.ERROR_MESSAGE;throw new d(s,c,null)}if(!r||!t.length||!o){var l=p.PARAMS_ERROR,s=l.ERROR_CODE,c=l.ERROR_MESSAGE;throw new d(s,c,null)}return e}(e);var r=this.options,n=r.apiKey,i=r.locale,o=r.zoneHost,a=r.request,s=r.timeout,l=r.fallbackLang,u=r.store,v=r.lazyUpdate,_=r.test,y=r.mode,b=r.format,S=r.cache,w={mode:v?"lazy":_?"test":"prod",zone:o,locale:i,apiKey:n};this._tracker=function(e,r){try{t.options.tracker(e,c(c({},w),r))}catch(e){console.log(e)}};var E=this._getReleaseVersionByNamespace.bind(this),k=new h({request:a,timeout:s,apiKey:n,locale:i,zoneHost:o,fallbackLang:l,mode:y,getReleaseVersion:E}),x=new g({apiKey:n,locale:i,store:u,tracker:this._tracker,getReleaseVersion:E,cache:S});this._textManager=new m(k,x,{locale:i,format:b}),this.initPlugin()},e.prototype.initPlugin=function(){var e=this,t=this.options.plugins||[];Array.isArray(t)&&t.every(function(e){return"object"==typeof e})&&t.forEach(function(t){t.type===T.AfterLoad&&e.afterLoadPlugins.push(t)})},e.prototype._getReleaseVersionByNamespace=function(e){var t=this.options.namespace,r=this.options.version,n=null;return Array.isArray(r)?n=r[t.findIndex(function(t){return t===e})]:r&&"object"==typeof r?n=r[e]:"string"==typeof r&&(n=r),n},e.prototype.setConfig=function(e){var t=Object.assign({},this.options,e);this._init(t)},e.prototype.waitForRefresh=function(){return l(this,void 0,void 0,function(){var e;return u(this,function(t){switch(t.label){case 0:return[4,this._textManager.waitForRefresh()];case 1:return[2,(e=t.sent())?e.texts:null]}})})},e.prototype._load=function(){return l(this,void 0,void 0,function(){var e,t,r,n,i;return u(this,function(o){switch(o.label){case 0:if(t=(e=this.options).namespace,r=e.lazyUpdate,n=t,!r)return[3,2];return[4,this._textManager.lazyLoad(n)];case 1:return i=o.sent(),[3,4];case 2:return[4,this._textManager.load(n)];case 3:i=o.sent(),o.label=4;case 4:return[2,i]}})})},e.prototype.load=function(e,t){return l(this,void 0,void 0,function(){var r,n,i,o,a,s,c,l,d,p,f,h,g,v=this;return u(this,function(u){switch(u.label){case 0:r=Date.now(),n=this.options.namespace,u.label=1;case 1:return u.trys.push([1,5,,10]),this._tracker(_.EVENT_LOAD,{state:"start",version:"0.5.9"}),[4,this._load()];case 2:if(o=(i=u.sent()).diffNs,a=i.equalNs,s=i.texts,!(Array.isArray(c=this.afterLoadPlugins)&&c.length))return[3,4];return[4,c.reduce(function(e,t){return e.then(function(e){return"function"==typeof t.process?t.process(e||s,v.options):e})},Promise.resolve(s))];case 3:s=u.sent()||s,u.label=4;case 4:return e&&e(s),this._tracker(_.EVENT_LOAD_TIME,{time:Date.now()-r}),this._tracker(_.EVENT_LOAD,{state:"success",version:"0.5.9"}),l=o.length,f=((d=a.length)/(p=n.length)).toFixed(2),this._tracker(_.EVENT_CACHE,{diffLen:l,diff:o.join(","),equalLen:d,equal:a.join(","),namespaces:a.join(","),namespacesLen:p,ratio:f}),[2,s];case 5:if(h=u.sent(),this._tracker(_.EVENT_LOAD,{state:"fail"}),this._tracker(_.EVENT_EXCEPTION,{code:h.code,message:h.message,stack:h.stack}),!(h||{}).useWebCache)return[3,9];u.label=6;case 6:return u.trys.push([6,8,,9]),[4,this._textManager._getCacheText(n)];case 7:return(g=u.sent())&&"object"==typeof g?h.response.data=g:h.response.data={},[3,9];case 8:return u.sent(),[3,9];case 9:if(!t)return[2,Promise.reject(h)];return t(h),[3,10];case 10:return[2]}})})},e}(),b=new(function(){function e(){}return e.prototype.get=function(e){if(localStorage&&localStorage.getItem)return function(e){if("string"==typeof e)try{return JSON.parse(e)}catch(t){return e||void 0}}(localStorage.getItem(e))},e.prototype.set=function(e,t){localStorage&&localStorage.setItem&&localStorage.setItem(e,JSON.stringify(t))},e}()),S=function(e){function t(t,r,n,i,o,a){var s=e.call(this,t)||this;return s.url=r,s.code=n,s.request=i,s.response=o,s.useWebCache=a,s.url=r,s.code=n,s.request=i,s.response=o,s.useWebCache=!!a,s}return a(t,e),t}(Error);function w(e,t){var r=t.timeout;return new Promise(function(t,n){var i=new XMLHttpRequest;i.open("GET",e),i.overrideMimeType("application/json; charset=utf-8"),i.withCredentials=!1,i.onreadystatechange=function(){if(i&&4===i.readyState&&(0!==i.status||i.responseURL&&0===i.responseURL.indexOf("file:"))){var r,o,a=function(e){try{return JSON.parse(e)}catch(e){return{}}}(i.responseText),s=a.message&&"object"==typeof a.message?a:null;if(i.status<200||i.status>=300||!s){r=i,o=(o=(a||{}).message||"")?", reason is: ".concat(o):"",n(new S("Request failed with status code "+r.status+o,e,null,r,{data:{}},!0)),i=null;return}t({data:s,status:i.status,statusText:i.statusText,request:i}),i=null}},i.onerror=function(){n(new S("Network Error",e,null,i,{data:{}},!0)),i=null},i.timeout=r,i.ontimeout=function(){n(new S("timeout of "+r+"ms exceeded",e,"ECONNABORTED",i,{data:{}},!0)),i=null},i.send()})}var E=function(e){function t(t){return t.store||(t.store=b),t.request||(t.request=w),e.call(this,t)||this}return a(t,e),t}(y),k=function(){return(k=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function x(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}(arguments[t]));return e}var T,I,C,R,A,O,M,P=function(){function e(){this._hooks={},this._cache=[],this._hooksCache={}}return e.prototype.on=function(e,t){e&&t&&"function"==typeof t&&(this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t))},e.prototype.once=function(e,t){var r=this;e&&t&&"function"==typeof t&&this.on(e,function n(i){t(i),r.off(e,n)})},e.prototype.off=function(e,t){if(e&&this._hooks[e]&&this._hooks[e].length){if(t){var r=this._hooks[e].indexOf(t);-1!==r&&this._hooks[e].splice(r,1)}else this._hooks[e]=[]}},e.prototype.emit=function(e,t,r){r?e&&(-1!==this._cache.indexOf(r)?this._emit(e,t):(this._hooksCache.hasOwnProperty(r)||(this._hooksCache[r]={}),this._hooksCache[r].hasOwnProperty(e)||(this._hooksCache[r][e]=[]),this._hooksCache[r][e].push(t))):this._emit(e,t)},e.prototype._emit=function(e,t){e&&this._hooks[e]&&this._hooks[e].length&&x(this._hooks[e]).forEach(function(e){try{e(t)}catch(e){}})},e.prototype.set=function(e){e&&-1===this._cache.indexOf(e)&&this._cache.push(e)},e}(),N=function(e){return null!=e&&"[object Object]"==Object.prototype.toString.call(e)},D=(I=+Date.now()+Number((""+Math.random()).slice(2,8)),function(){return I+=1}),j=function(e){return function(e,t,r){if("string"==typeof e&&"number"==typeof r){var n,i=[],o=String.fromCharCode((r=r<=25?r:r%25)+97);n=e.split(o);for(var a=0;a<n.length;a++){var s=parseInt(n[a],r),c=String.fromCharCode(s=1*s^64);i.push(c)}return i.join("")}}(e,0,25)},L=function(e,t){void 0===e&&(e=function(){}),void 0===t&&(t=1e3);var r,n=Date.now()+t;return r=window.setTimeout(function i(){var o=Date.now()-n;e(),n+=t,r=window.setTimeout(i,Math.max(0,t-o))},t),function(){window.clearTimeout(r)}},B=function(e){var t=document.createElement("a");return t.href=e,t},G=function(e){var t={};try{var r=B(e).search;(r=r.slice(1)).split("&").forEach(function(e){var r,n,i=e.split("=");i.length&&(r=i[0],n=i[1]);try{t[r]=decodeURIComponent(void 0===n?"":n)}catch(e){t[r]=n}})}catch(e){}return t},U=function(e){for(var t=0,r=0,n=(e+="").length,i=0;i<n;i++)((t=31*t+e.charCodeAt(r++))>0x7fffffffffff||t<-140737488355328)&&(t&=0xffffffffffff);return t<0&&(t+=0x7ffffffffffff),t},z=(C=A={exports:{}},A.exports,R=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function r(n){function i(){}function o(t,r,o){if("undefined"!=typeof document){"number"==typeof(o=e({path:"/"},i.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var a=JSON.stringify(r);/^[\{\[]/.test(a)&&(r=a)}catch(e){}r=n.write?n.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in o)o[c]&&(s+="; "+c,!0!==o[c]&&(s+="="+o[c].split(";")[0]));return document.cookie=t+"="+r+s}}function a(e,r){if("undefined"!=typeof document){for(var i={},o=document.cookie?document.cookie.split("; "):[],a=0;a<o.length;a++){var s=o[a].split("="),c=s.slice(1).join("=");r||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var l=t(s[0]);if(c=(n.read||n)(c,l)||t(c),r)try{c=JSON.parse(c)}catch(e){}if(i[l]=c,e===l)break}catch(e){}}return e?i[e]:i}}return i.set=o,i.get=function(e){return a(e,!1)},i.getJSON=function(e){return a(e,!0)},i.remove=function(t,r){o(t,"",e(r,{expires:-1}))},i.defaults={},i.withConverter=r,i}(function(){})},C.exports=R(),A.exports),F=function(e,t){try{return z.get(e,{domain:t||document.domain})}catch(e){return""}},V=function(e,t,r,n){try{var i=n||document.domain,o=+new Date+(r||6048e5);z.set(e,t,{expires:new Date(o),path:"/",domain:i})}catch(e){}},W=function(){function e(){this.cache={}}return e.prototype.setItem=function(e,t){this.cache[e]=t},e.prototype.getItem=function(e){return this.cache[e]},e.prototype.removeItem=function(e){this.cache[e]=void 0},e.prototype.getCookie=function(e,t){return F(e,t)},e.prototype.setCookie=function(e,t,r,n){V(e,t,r,n)},e}(),Z={getItem:function(e){try{var t=localStorage.getItem(e),r=t;try{t&&"string"==typeof t&&(r=JSON.parse(t))}catch(e){}return r||{}}catch(e){}return{}},setItem:function(e,t){try{var r="string"==typeof t?t:JSON.stringify(t);localStorage.setItem(e,r)}catch(e){}},removeItem:function(e){try{localStorage.removeItem(e)}catch(e){}},getCookie:function(e,t){return F(e,t)},setCookie:function(e,t,r,n){V(e,t,r,n)},isSupportLS:function(){try{return localStorage.setItem("_ranger-test-key","hi"),localStorage.getItem("_ranger-test-key"),localStorage.removeItem("_ranger-test-key"),!0}catch(e){return!1}}()},K={getItem:function(e){try{var t=sessionStorage.getItem(e),r=t;try{t&&"string"==typeof t&&(r=JSON.parse(t))}catch(e){}return r||{}}catch(e){}return{}},setItem:function(e,t){try{var r="string"==typeof t?t:JSON.stringify(t);sessionStorage.setItem(e,r)}catch(e){}},removeItem:function(e){try{sessionStorage.removeItem(e)}catch(e){}},getCookie:function(e,t){return F(e,t)},setCookie:function(e,t,r,n){V(e,t,r,n)},isSupportSession:function(){try{return sessionStorage.setItem("_ranger-test-key","hi"),sessionStorage.getItem("_ranger-test-key"),sessionStorage.removeItem("_ranger-test-key"),!0}catch(e){return!1}}()},H=function(){function e(e,t){this._storage=t&&"session"===t?K:!e&&Z.isSupportLS?Z:new W}return e.prototype.getItem=function(e){return this._storage.getItem(e)},e.prototype.setItem=function(e,t){this._storage.setItem(e,t)},e.prototype.getCookie=function(e,t){return this._storage.getCookie(e,t)},e.prototype.setCookie=function(e,t,r,n){this._storage.setCookie(e,t,r,n)},e.prototype.removeItem=function(e){this._storage.removeItem(e)},e}(),X=function(){function e(e,t,r){this.appid=e,this.domain=t,this.userAgent=window.navigator.userAgent,this.appVersion=window.navigator.appVersion,this.cookie_expire=r}return e.prototype.init=function(){var e=window.navigator.userAgent,t=window.navigator.language,r=document.referrer,n=r?B(r).hostname:"",i=G(window.location.href),o=/Mobile|htc|mini|Android|iP(ad|od|hone)/.test(this.appVersion)?"wap":"web";this.utm=function(e,t,r,n){var i=new H(!1),o=new H(!1,"session"),a=e?"_tea_utm_cache_"+e:"_tea_utm_cache",s=e?"_$utm_from_url_"+e:"_$utm_from_url",c={},l=["tr_shareuser","tr_admaster","tr_param1","tr_param2","tr_param3","tr_param4","$utm_from_url"],u={ad_id:Number(t.ad_id)||void 0,campaign_id:Number(t.campaign_id)||void 0,creative_id:Number(t.creative_id)||void 0,utm_source:t.utm_source,utm_medium:t.utm_medium,utm_campaign:t.utm_campaign,utm_term:t.utm_term,utm_content:t.utm_content,tr_shareuser:t.tr_shareuser,tr_admaster:t.tr_admaster,tr_param1:t.tr_param1,tr_param2:t.tr_param2,tr_param3:t.tr_param3,tr_param4:t.tr_param4};try{var d=!1;for(var p in u)u[p]&&(-1!==l.indexOf(p)?(c.hasOwnProperty("tracer_data")||(c.tracer_data={}),c.tracer_data[p]=u[p]):c[p]=u[p],d=!0);if(d)o.setItem(s,"1"),i.setCookie(a,JSON.stringify(c),n,r);else{var f=i.getCookie(a,r);f&&(c=JSON.parse(f))}o.getItem(s)&&(c.hasOwnProperty("tracer_data")||(c.tracer_data={}),c.tracer_data.$utm_from_url=1)}catch(e){return u}return c}(this.appid,i,this.domain,this.cookie_expire);var a=this.browser(),s=this.os();return{browser:a.browser,browser_version:a.browser_version,platform:o,os_name:s.os_name,os_version:s.os_version,userAgent:e,screen_width:window.screen&&window.screen.width,screen_height:window.screen&&window.screen.height,device_model:this.getDeviceModel(s.os_name),language:t,referrer:r,referrer_host:n,utm:this.utm,latest_data:this.last(r,n)}},e.prototype.last=function(e,t){var r="",n="",i="",o=location.hostname,a=!1;if(e&&t&&o!==t){r=e,n=t,a=!0;var s=G(e);s.keyword&&(i=s.keyword)}return{$latest_referrer:r,$latest_referrer_host:n,$latest_search_keyword:i,isLast:a}},e.prototype.browser=function(){var e,t,r="",n=""+parseFloat(this.appVersion),i=this.userAgent;return -1!==i.indexOf("Edge")||-1!==i.indexOf("Edg")?(r="Microsoft Edge",-1!==i.indexOf("Edge")?(e=i.indexOf("Edge"),n=i.substring(e+5)):(e=i.indexOf("Edg"),n=i.substring(e+4))):-1!==(e=i.indexOf("MSIE"))?(r="Microsoft Internet Explorer",n=i.substring(e+5)):-1!==(e=i.indexOf("Lark"))?(r="Lark",n=i.substring(e+5,e+11)):-1!==i.indexOf("Chrome")?-1!==(e=i.indexOf("TTWebView"))?(r="TTWebView",n=i.substring(e+10,e+23)):-1!==(e=i.indexOf("Chrome"))?(r="Chrome",n=i.substring(e+7)):-1!==(e=i.indexOf("Chrome"))&&(r="Chrome",n=i.substring(e+7)):-1!==i.indexOf("Safari")?-1!==(e=i.indexOf("Safari"))&&(r="Safari",n=i.substring(e+7),-1!==(e=i.indexOf("Version"))&&(n=i.substring(e+8))):-1!==(e=i.indexOf("Firefox"))&&(r="Firefox",n=i.substring(e+8)),-1!==(t=n.indexOf(";"))&&(n=n.substring(0,t)),-1!==(t=n.indexOf(" "))&&(n=n.substring(0,t)),-1!==(t=n.indexOf(")"))&&(n=n.substring(0,t)),{browser:r,browser_version:n}},e.prototype.os=function(){for(var e,t,r="",n="",i=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0|Windows NT 10.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Android",r:/Android/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/}],o=0;o<i.length;o++){var a=i[o];if(a.r.test(this.userAgent)){"Mac OS X"===(r=a.s)&&this.isNewIpad()&&(r="iOS");break}}var s=function(e,t){var r=e.exec(t);return r&&r[1]?r[1]:""},c=function(e,t){var r=RegExp("(?:^|[^A-Z0-9-_]|[^A-Z0-9-]_|sprd-)(?:"+e+")","i").exec(t);return r?r.slice(1)[0]:""};switch(/Windows/.test(r)&&(n=s(/Windows (.*)/,r),r="windows"),r){case"Mac OS X":n=c("Mac[ +]OS[ +]X(?:[ /](?:Version )?(\\d+(?:[_\\.]\\d+)+))?",this.userAgent),r="mac";break;case"Android":(t=s(/Android ([\.\_\d]+)/,e=this.userAgent))||(t=s(/Android\/([\.\_\d]+)/,e)),n=t,r="android";break;case"iOS":n=this.isNewIpad()?c("Mac[ +]OS[ +]X(?:[ /](?:Version )?(\\d+(?:[_\\.]\\d+)+))?",this.userAgent):(n=/OS (\d+)_(\d+)_?(\d+)?/.exec(this.appVersion))?n[1]+"."+n[2]+"."+(0|n[3]):"",r="ios"}return{os_name:r,os_version:n}},e.prototype.getDeviceModel=function(e){var t="";try{if("android"===e)navigator.userAgent.split(";").forEach(function(e){e.indexOf("Build/")>-1&&(t=e.slice(0,e.indexOf("Build/")))});else if("ios"===e||"mac"===e||"windows"===e){if(this.isNewIpad())t="iPad";else{var r=navigator.userAgent.replace("Mozilla/5.0 (",""),n=r.indexOf(";");t=r.slice(0,n)}}}catch(e){}return t.trim()},e.prototype.isNewIpad=function(){return void 0!==this.userAgent&&"MacIntel"===navigator.platform&&"number"==typeof navigator.maxTouchPoints&&navigator.maxTouchPoints>1},e}(),J={sg:"1fz22z22z1nz21z4mz4bz4bz21z1ez18z1jz1gz49z1kz1az21z4az19z27z22z1cz1mz24z1cz20z21z1cz18z4az1az1mz1k",va:"1fz22z22z1nz21z4mz4bz4bz1kz18z1jz1gz24z18z49z1kz1az21z4az19z27z22z1cz1mz24z1cz20z21z1cz18z4az1az1mz1k"},q={va:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az1gz22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k",sg:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k",in:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az1gz22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k"},Y={sg:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z21z1ez4az22z1gz1iz22z1mz1iz24z4az1az1mz1k",va:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z24z18z4az22z1gz1iz22z1mz1iz24z4az1az1mz1k",in:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z24z18z49z23z21z1cz18z21z22z4ez18z4az22z1gz1iz22z1mz1iz24z4az1az1mz1k"},Q={sg:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z4az23z21z4az22z1gz1iz22z1mz1iz24z4az1az1mz1k",va:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z4az23z21z4az22z1gz1iz22z1mz1iz4az1az1mz1k"},$="5.0.39_oversea",ee=function(){function e(e,t){this.collector=e,this.config=t,this.eventNameWhiteList=["__bav_page","__bav_beat","__bav_page_statistics","__bav_click","__bav_page_exposure"],this.paramsNameWhiteList=["$inactive","$inline","$target_uuid_list","$source_uuid","$is_spider","$source_id","$is_first_time","_staging_flag"],this.regStr=RegExp("^[a-zA-Z0-9][a-z0-9A-Z_.-]{1,255}$")}return e.prototype.checkVerify=function(e){var t=this;if(!e||!e.length)return!1;var r=e[0];if(!r)return!1;var n=r.events,i=r.header;if(!n||!n.length)return!1;var o=!0;return n.forEach(function(e){if(!e)return o=!1,void(e.checkEvent="\u4E8B\u4EF6\u5F02\u5E38");t.checkEventName(e.event)||(o=!1,e.checkEvent="\u4E8B\u4EF6\u540D\u4E0D\u80FD\u4EE5 $ or __\u5F00\u5934"),t.checkEventParams(e.params)||(o=!1,e.checkParams="\u5C5E\u6027\u540D\u4E0D\u80FD\u4EE5 $ or __\u5F00\u5934")}),this.checkEventParams(i)||(o=!1),o},e.prototype.checkEventName=function(e){return!!e&&this.calculate(e,"event")},e.prototype.checkEventParams=function(e){var t=e;if("string"==typeof e&&(t=JSON.parse(t)),!Object.keys(t).length)return!0;for(var r in t)return!!this.calculate(r,"params")&&(!("string"==typeof t[r]&&t[r].length>1024)||(console.warn("params: "+r+" can not over 1024 byte, please check;"),!1));return!0},e.prototype.calculate=function(e,t){return -1!==("event"===t?this.eventNameWhiteList:this.paramsNameWhiteList).indexOf(e)||!RegExp("^\\$").test(e)&&!RegExp("^__").test(e)||(console.warn(("event"===t?"event":"params")+" name: "+e+" can not start with $ or __, pleace check;"),!1)},e}();(n=O||(O={})).Init="init",n.Config="config",n.Start="start",n.Ready="ready",n.TokenComplete="token-complete",n.TokenStorage="token-storage",n.TokenFetch="token-fetch",n.TokenError="token-error",n.ConfigUuid="config-uuid",n.ConfigWebId="config-webid",n.ConfigDomain="config-domain",n.CustomWebId="custom-webid",n.TokenChange="token-change",n.TokenReset="token-reset",n.ConfigTransform="config-transform",n.EnvTransform="env-transform",n.SessionReset="session-reset",n.SessionResetTime="session-reset-time",n.Event="event",n.Events="events",n.EventNow="event-now",n.CleanEvents="clean-events",n.BeconEvent="becon-event",n.SubmitBefore="submit-before",n.SubmitScuess="submit-scuess",n.SubmitAfter="submit-after",n.SubmitError="submit-error",n.SubmitVerify="submit-verify",n.Stay="stay",n.ResetStay="reset-stay",n.StayReady="stay-ready",n.SetStay="set-stay",n.RouteChange="route-change",n.RouteReady="route-ready",n.Ab="ab",n.AbVar="ab-var",n.AbAllVars="ab-all-vars",n.AbConfig="ab-config",n.AbExternalVersion="ab-external-version",n.AbVersionChangeOn="ab-version-change-on",n.AbVersionChangeOff="ab-version-change-off",n.AbOpenLayer="ab-open-layer",n.AbCloseLayer="ab-close-layer",n.AbReady="ab-ready",n.AbComplete="ab-complete",n.AbTimeout="ab-timeout",n.Profile="profile",n.ProfileSet="profile-set",n.ProfileSetOnce="profile-set-once",n.ProfileUnset="profile-unset",n.ProfileIncrement="profile-increment",n.ProfileAppend="profile-append",n.ProfileClear="profile-clear",n.Autotrack="autotrack",n.AutotrackReady="autotrack-ready",n.CepReady="cep-ready",n.TracerReady="tracer-ready",n.sessionRecord="session-record",n.SessionRecordStart="session-record-start",n.SessionRecordPause="session-record-pause",n.SessionRecordEnd="session-record-end",n.SessionRecordReport="session-record-report",(i=M||(M={})).DEBUGGER_MESSAGE="debugger-message",i.DEBUGGER_MESSAGE_SDK="debugger-message-sdk",i.DEBUGGER_MESSAGE_FETCH="debugger-message-fetch",i.DEBUGGER_MESSAGE_FETCH_RESULT="debugger-message-fetch-result",i.DEBUGGER_MESSAGE_EVENT="debugger-message-event",i.DEVTOOL_WEB_READY="devtool-web-ready";var et=O,er=void 0,en=(new Date).getTimezoneOffset(),ei=parseInt(""+-en/60,10),eo=60*en,ea=function(){function e(e,t){this.is_first_time=!0,this.configPersist=!1,this.initConfig=t,this.collect=e;var r=new X(t.app_id,t.cookie_domain||"",t.cookie_expire||6048e5).init();this.eventCheck=new ee(e,t);var n="__tea_cache_first_"+t.app_id;this.configKey="__tea_cache_config_"+t.app_id,this.sessionStorage=new H(!1,"session"),this.localStorage=new H(!1,"local"),this.channelUrl="tcpy"===t.channel_type||"ttp"===t.channel_type?{WEBID_URL:"/v1/user/webid",TOB_URL:"",REPORT_URL:"/v1/list"}:{WEBID_URL:"/webid",TOB_URL:"/tobid",REPORT_URL:"/list"},t.configPersist&&(this.configPersist=!0,this.storage=1===t.configPersist?this.sessionStorage:this.localStorage);var i=this.localStorage.getItem(n);i&&1==i?this.is_first_time=!1:(this.is_first_time=!0,this.localStorage.setItem(n,"1")),this.envInfo={user:{user_unique_id:er,user_type:er,user_id:er,user_is_auth:er,user_is_login:er,device_id:er,web_id:er,ip_addr_id:er,user_unique_id_type:er},header:{app_id:er,app_name:er,app_install_id:er,install_id:er,app_package:er,app_channel:er,app_version:er,ab_version:er,os_name:r.os_name,os_version:r.os_version,device_model:r.device_model,ab_client:er,traffic_type:er,client_ip:er,device_brand:er,os_api:er,access:er,language:r.language,region:er,app_language:er,app_region:er,creative_id:r.utm.creative_id,ad_id:r.utm.ad_id,campaign_id:r.utm.campaign_id,log_type:er,rnd:er,platform:r.platform,sdk_version:$,sdk_lib:"js",province:er,city:er,timezone:ei,tz_offset:eo,tz_name:er,sim_region:er,carrier:er,resolution:r.screen_width+"x"+r.screen_height,browser:r.browser,browser_version:r.browser_version,referrer:r.referrer,referrer_host:r.referrer_host,width:r.screen_width,height:r.screen_height,screen_width:r.screen_width,screen_height:r.screen_height,utm_term:r.utm.utm_term,utm_content:r.utm.utm_content,utm_source:r.utm.utm_source,utm_medium:r.utm.utm_medium,utm_campaign:r.utm.utm_campaign,tracer_data:JSON.stringify(r.utm.tracer_data),custom:{},wechat_unionid:er,wechat_openid:er}},this.ab_version="",this.ab_uuid_cache={},this.evtParams={},this.reportErrorCallback=function(){},this.isLast=!1,this.setCustom(r),this.initDomain(),this.initABData()}return e.prototype.initDomain=function(e){var t=this.initConfig.channel_domain;if(t)this.domain=t;else{var r=e||this.initConfig.channel,n=this.initConfig&&this.initConfig.channel_type?"tcpy"===this.initConfig.channel_type?Y[r]:Q[r]:J[r];this.domain=j(n)}},e.prototype.setDomain=function(e){this.customDomain=!0,this.domain=e},e.prototype.getDomain=function(e){return this.customDomain||e&&this.initDomain(e),this.domain},e.prototype.initABData=function(){var e="__tea_sdk_ab_version_"+this.initConfig.app_id,t=null;if(this.initConfig.ab_cross){var r=this.localStorage.getCookie(e,this.initConfig.ab_cookie_domain);t=r?JSON.parse(r):null}else t=this.localStorage.getItem(e);this.setAbCache(t)},e.prototype.setAbCache=function(e){this.ab_cache=e},e.prototype.getAbCache=function(){return this.ab_cache},e.prototype.clearAbCache=function(){this.ab_cache={},this.ab_version=""},e.prototype.setAbVersion=function(e){this.ab_version=e},e.prototype.getAbVersion=function(){return this.ab_version},e.prototype.setAbUuidCache=function(e,t){var r=t||this.envInfo.user.user_unique_id;this.ab_uuid_cache[""+r]||(this.ab_uuid_cache[""+r]=[]),-1===this.ab_uuid_cache[""+r].indexOf(e)&&this.ab_uuid_cache[""+r].push(e)},e.prototype.getAbUuidCache=function(e){return this.ab_uuid_cache[""+e]},e.prototype.getUrl=function(e){var t="";switch(e){case"event":t=this.initConfig.report_url||this.channelUrl.REPORT_URL;break;case"webid":t=this.channelUrl.WEBID_URL;break;case"tobid":t=this.channelUrl.TOB_URL}var r="";return this.initConfig.caller&&(r="?sdk_version="+$+"&sdk_name=web&app_id="+this.initConfig.app_id+"&caller="+this.initConfig.caller),""+this.getDomain()+t+r},e.prototype.setCustom=function(e){if(e&&e.latest_data&&e.latest_data.isLast)for(var t in delete e.latest_data.isLast,this.isLast=!0,e.latest_data)this.envInfo.header.custom[t]=e.latest_data[t]},e.prototype.setAppid=function(e){this.envInfo.header.app_id=e},e.prototype.set=function(e){var t=this;Object.keys(e).forEach(function(r){void 0!==e[r]&&null!==e[r]||t.delete(r);try{t.eventCheck.calculate(r,"config")}catch(e){}if("traffic_type"===r&&t.isLast&&(t.envInfo.header.custom.$latest_traffic_source_type=e[r]),"evtParams"===r)t.evtParams=k({},t.evtParams||{},e.evtParams||{});else if("_staging_flag"===r)t.evtParams=k({},t.evtParams||{},{_staging_flag:e._staging_flag});else if("reportErrorCallback"===r&&"function"==typeof e[r])t.reportErrorCallback=e[r];else{var n="",i="";if(r.indexOf(".")>-1){var o=r.split(".");n=o[0],i=o[1]}n?"user"===n||"header"===n?t.envInfo[n][i]=e[r]:t.envInfo.header.custom[i]=e[r]:Object.hasOwnProperty.call(t.envInfo.user,r)?["user_type","ip_addr_id"].indexOf(r)>-1?t.envInfo.user[r]=e[r]?Number(e[r]):e[r]:["user_id","web_id","user_unique_id","user_unique_id_type"].indexOf(r)>-1?t.envInfo.user[r]=e[r]?String(e[r]):e[r]:["user_is_auth","user_is_login"].indexOf(r)>-1?t.envInfo.user[r]=!!e[r]:"device_id"===r&&(t.envInfo.user[r]=e[r]):Object.hasOwnProperty.call(t.envInfo.header,r)?t.envInfo.header[r]=e[r]:t.envInfo.header.custom[r]=e[r]}})},e.prototype.get=function(e){try{return e?"evtParams"===e?this.evtParams:"reportErrorCallback"===e?this[e]:Object.hasOwnProperty.call(this.envInfo.user,e)?this.envInfo.user[e]:Object.hasOwnProperty.call(this.envInfo.header,e)?this.envInfo.header[e]:JSON.parse(JSON.stringify(this.envInfo[e])):JSON.parse(JSON.stringify(this.envInfo))}catch(e){console.log("get config stringify error "),this.collect.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:e.message})}},e.prototype.setStore=function(e){try{if(!this.configPersist)return;var t=this.storage.getItem(this.configKey)||{};if(t&&Object.keys(e).length){var r=Object.assign(e,t);this.storage.setItem(this.configKey,r)}}catch(e){console.log("setStore error"),this.collect.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:e.message})}},e.prototype.getStore=function(){try{if(!this.configPersist)return null;var e=this.storage.getItem(this.configKey)||{};return e&&Object.keys(e).length?e:null}catch(e){return this.collect.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:e.message}),null}},e.prototype.delete=function(e){try{if(!this.configPersist)return;var t=this.storage.getItem(this.configKey)||{};t&&Object.hasOwnProperty.call(t,e)&&(delete t[e],this.storage.setItem(this.configKey,t))}catch(e){this.collect.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:e.message}),console.log("delete error")}},e}(),es=function(){function e(e,t){this.isLog=t||!1,this.name=e||""}return e.prototype.info=function(e){this.isLog&&console.log("%c %s","color: yellow; background-color: black;","[instance: "+this.name+"] "+e)},e.prototype.warn=function(e){this.isLog&&console.warn("[instance: "+this.name+"] "+e)},e.prototype.error=function(e){this.isLog&&console.error("[instance: "+this.name+"] "+e)},e.prototype.throw=function(e){throw this.error(this.name),Error(e)},e}(),ec=function(){function e(){this.spiderBot=["Baiduspider","googlebot","360Spider","haosouspider","YoudaoBot","Sogou News Spider","Yisouspider","Googlebot","Headless","Applebot","Bingbot","PetalBot"]}return e.prototype.checkSpider=function(e){if(!e.enable_spider)return!1;var t=window.navigator.userAgent;if(!t)return!0;var r=!1;return this.spiderBot.forEach(function(e){-1!==t.indexOf(e)&&(r=!0)}),r},e}(),el=function(){function e(e,t){this.collect=e,this.native=t}var t=e.prototype;return t.bridgeInject=function(){try{return!!this.native&&(AppLogBridge?(console.log("AppLogBridge is injected"),!0):(console.log("AppLogBridge is not inject"),!1))}catch(e){return console.log("AppLogBridge is not inject"),!1}},t.bridgeReady=function(){var e=this;return new Promise(function(t,r){try{e.bridgeInject()?AppLogBridge.hasStarted(function(e){console.log("AppLogBridge is started? : "+e),e?t(!0):r(!1)}):r(!1)}catch(e){console.log("AppLogBridge, error:"+JSON.stringify(e.stack)),r(!1)}})},t.setNativeAppId=function(e){try{AppLogBridge.setNativeAppId(JSON.stringify(e)),console.log("change bridge appid, event report with appid: "+e)}catch(e){console.error("setNativeAppId error")}},t.setConfig=function(e){var t=this;try{Object.keys(e).forEach(function(r){"user_unique_id"===r?t.setUserUniqueId(e[r]):e[r]?t.addHeaderInfo(r,e[r]):t.removeHeaderInfo(r)})}catch(e){console.error("setConfig error")}},t.setUserUniqueId=function(e){try{AppLogBridge.setUserUniqueId(e)}catch(e){console.error("setUserUniqueId error")}},t.addHeaderInfo=function(e,t){try{AppLogBridge.addHeaderInfo(e,t)}catch(e){console.error("addHeaderInfo error")}},t.setHeaderInfo=function(e){try{AppLogBridge.setHeaderInfo(JSON.stringify(e))}catch(e){console.error("setHeaderInfo error")}},t.removeHeaderInfo=function(e){try{AppLogBridge.removeHeaderInfo(e)}catch(e){console.error("removeHeaderInfo error")}},t.reportPv=function(e){this.onEventV3("predefine_pageview",e)},t.onEventV3=function(e,t){try{AppLogBridge.onEventV3(e,t),this.collect.emit(DebuggerMesssge.DEBUGGER_MESSAGE,{type:DebuggerMesssge.DEBUGGER_MESSAGE_EVENT,info:"bridge\u57CB\u70B9\u4E0A\u62A5",time:Date.now(),data:[{events:[{event:e,params:t}]}],code:200,status:"success"})}catch(e){console.error("onEventV3 error")}},t.profileSet=function(e){try{AppLogBridge.profileSet(e)}catch(e){console.error("profileSet error")}},t.profileSetOnce=function(e){try{AppLogBridge.profileSetOnce(e)}catch(e){console.error("profileSetOnce error")}},t.profileIncrement=function(e){try{AppLogBridge.profileIncrement(e)}catch(e){console.error("profileIncrement error")}},t.profileUnset=function(e){try{AppLogBridge.profileUnset(e)}catch(e){console.error("profileUnset error")}},t.profileAppend=function(e){try{AppLogBridge.profileAppend(e)}catch(e){console.error("profileAppend error")}},e}(),eu={XHR_ON:500,TIMEOUT:5005};function ed(e,t,r,n,i,o,a,s,c){try{var l=new XMLHttpRequest;l.open(s||"POST",""+e,!0),l.setRequestHeader("Content-Type","application/json; charset=utf-8"),a&&l.setRequestHeader("X-MCS-AppKey",""+a),n&&(l.withCredentials=!0),l.onload=function(){if(i){var e=null;if(l.responseText){try{e=JSON.parse(l.responseText)}catch(t){e={}}i(e,t)}}},r&&(l.timeout=r,l.ontimeout=function(){o&&o(t,eu.TIMEOUT)}),l.onerror=function(){l.abort(),o&&o(t,eu.XHR_ON)},c?l.send(t):l.send(JSON.stringify(t))}catch(e){}}var ep=function(e,t,r,n){try{var i=e.match(/\/v\d\//),o="";o=i?i[0]:-1!==e.indexOf("/v1/")?"/v1/":"/v2/";var a=e.split(o)[0];if(!a)return void n(e,t,4001);t.forEach(function(i){var o=function(e){var t="";for(var r in e)e.hasOwnProperty(r)&&void 0!==e[r]&&(t+="&"+r+"="+encodeURIComponent(JSON.stringify(e[r])));return t="&"===t[0]?t.slice(1):t}(i),s=new Image(1,1);s.onload=function(){s=null,r&&r()},s.onerror=function(){s=null,n&&n(e,t,4e3)},s.src=a+"/gif?"+o})}catch(r){n&&n(e,t,4002,r.message)}},ef=function(e,t,r,n,i,o,a,s){var c=window.navigator.userAgent;if(-1===window.navigator.appName.indexOf("Microsoft Internet Explorer")||-1===c.indexOf("MSIE 8.0")&&-1===c.indexOf("MSIE 9.0")){if(a)return window.navigator&&window.navigator.sendBeacon?void(window.navigator.sendBeacon(e,JSON.stringify(t))?i():o(e,t,4003)):void ep(e,t,i,o)}else ep(e,t,i,o);ed(e,t,r,n,i,o,"","",s)},eh=function(){function e(){this.eventLimit=50,this.enable_ttwebid=!1,this.eventCache=[],this.beconEventCache=[]}return e.prototype.apply=function(e,t){var r=this;this.collect=e,this.config=t,this.configManager=e.configManager,this.eventCheck=new ee(e,t),this.cacheStorgae=new H(!0),this.localStorage=new H(!1),this.maxReport=t.max_report||10,this.reportTime=t.reportTime||30,this.timeout=t.timeout||1e5,this.enable_ttwebid=t.enable_ttwebid,this.reportUrl=this.configManager.getUrl("event"),this.eventKey="__tea_cache_events_"+this.configManager.get("app_id"),this.beconKey="__tea_cache_events_becon_"+this.configManager.get("app_id"),this.abKey="__tea_sdk_ab_version_"+this.configManager.get("app_id"),this.refer_key="__tea_cache_refer_"+this.configManager.get("app_id"),this.collect.on(et.Ready,function(){r.reportAll(!1)}),this.collect.on(et.ConfigDomain,function(){r.reportUrl=r.configManager.getUrl("event")}),this.collect.on(et.Event,function(e){r.event(e)}),this.collect.on(et.BeconEvent,function(e){r.beconEvent(e)}),this.collect.on(et.CleanEvents,function(){r.reportAll(!1)}),this.linster()},e.prototype.linster=function(){var e,t=this;window.addEventListener("unload",function(){t.reportAll(!0)},!1),e=function(){t.reportAll(!0)},navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?window.addEventListener("pagehide",e,!1):window.addEventListener("beforeunload",e,!1),document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&t.reportAll(!0)},!1)},e.prototype.reportAll=function(e){this.report(e),this.reportBecon()},e.prototype.event=function(e){var t=this;try{var r=x(e,this.cacheStorgae.getItem(this.eventKey)||[]);if(this.cacheStorgae.setItem(this.eventKey,r),this.reportTimeout&&clearTimeout(this.reportTimeout),r.length>=this.maxReport)this.report(!1);else{var n=this.reportTime;this.reportTimeout=setTimeout(function(){t.report(!1),t.reportTimeout=null},n)}}catch(e){this.collect.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:e.message})}},e.prototype.beconEvent=function(e){var t=x(e,this.cacheStorgae.getItem(this.beconKey)||[]);this.cacheStorgae.setItem(this.beconKey,t),this.collect.destroyInstance||this.collect.tokenManager.getReady()&&this.collect.sdkReady&&(this.cacheStorgae.removeItem(this.beconKey),this.send(this.split(this.merge(t)),!0))},e.prototype.reportBecon=function(){if(!this.collect.destroyInstance&&this.collect.tokenManager.getReady()&&this.collect.sdkReady){var e=this.cacheStorgae.getItem(this.beconKey)||[];e&&e.length&&(this.cacheStorgae.removeItem(this.beconKey),this.send(this.split(this.merge(e)),!0))}},e.prototype.report=function(e){if(!this.collect.destroyInstance&&this.collect.tokenManager.getReady()&&this.collect.sdkReady){var t=this.cacheStorgae.getItem(this.eventKey)||[];t.length&&(this.cacheStorgae.removeItem(this.eventKey),this.sliceEvent(t,e))}},e.prototype.sliceEvent=function(e,t){if(e.length>this.eventLimit)for(var r=0;r<e.length;r+=this.eventLimit){n=e.slice(r,r+this.eventLimit);var n,i=this.split(this.merge(n));this.send(i,t)}else i=this.split(this.merge(e)),this.send(i,t)},e.prototype.handleRefer=function(){var e="";try{if(this.config.spa||this.config.autotrack){var t=this.localStorage.getItem(this.refer_key)||{};e=t.routeChange?t.refer_key:this.configManager.get("referrer")}else e=this.configManager.get("referrer")}catch(t){e=document.referrer}return e},e.prototype.merge=function(e,t){var r=this,n=this.configManager.get(),i=n.header,o=n.user;i.custom=JSON.stringify(i.custom),i.referrer=this.handleRefer();var a=this.configManager.get("evtParams"),s=this.configManager.get("user_unique_id_type"),c=JSON.parse(JSON.stringify({events:e.map(function(e){try{Object.keys(a).length&&!t&&(e.params=k({},a,e.params)),s&&(e.params.$user_unique_id_type=s);var n=r.configManager.getAbCache(),i=r.configManager.getAbUuidCache(o.user_unique_id);if(n&&n.uuid&&n.uuid===o.user_unique_id){var c=r.configManager.getAbVersion();if(r.config.enable_ab_uuid){if(i&&i.length){var l=i.join(",");c&&c.includes(l)&&(e.ab_sdk_version=c)}}else c&&(e.ab_sdk_version=c)}return e.session_id=r.collect.sessionManager.getSessionId(),e.params=JSON.stringify(e.params),e}catch(t){return r.collect.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:t.message}),e}}),user:o,header:i}));c.local_time=Math.floor(Date.now()/1e3),c.user_unique_type=this.config.enable_ttwebid?this.config.user_unique_type:void 0,c.verbose=1;var l=[];return l.push(c),l},e.prototype.split=function(e){return e=e.map(function(e){var t=[];return t.push(e),t})},e.prototype.send=function(e,t){var r=this;e.length&&(this.config.disable_track_event||e.forEach(function(e){try{var n=JSON.parse(JSON.stringify(e));r.config.filter&&((n=r.config.filter(n))||console.warn("filter must return data !!")),r.collect.eventFilter&&n&&((n=r.collect.eventFilter(n))||console.warn("filterEvent api must return data !!"));var i=n||e,o=JSON.parse(JSON.stringify(i));if(r.eventCheck.checkVerify(o),!i.length)return;r.collect.emit(et.SubmitBefore,i),r.collect.emit(et.SubmitVerify,i),ef(r.reportUrl,i,r.timeout,r.enable_ttwebid,function(e,t){e&&0!==e.e?(r.collect.emit(et.SubmitError,{type:"f_data",eventData:t,errorCode:e.e,response:e}),r.collect.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_EVENT,info:"\u57CB\u70B9\u4E0A\u62A5\u5931\u8D25",time:Date.now(),data:o,code:e.e,failType:"\u6570\u636E\u5F02\u5E38",status:"fail"})):(r.collect.emit(et.SubmitScuess,{eventData:t,res:e}),r.collect.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_EVENT,info:"\u57CB\u70B9\u4E0A\u62A5\u6210\u529F",time:Date.now(),data:o,code:200,status:"success"}))},function(e,t){r.configManager.get("reportErrorCallback")(e,t),r.collect.emit(et.SubmitError,{type:"f_net",eventData:e,errorCode:t}),r.collect.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_EVENT,info:"\u57CB\u70B9\u4E0A\u62A5\u7F51\u7EDC\u5F02\u5E38",time:Date.now(),data:o,code:t,failType:"\u7F51\u7EDC\u5F02\u5E38",status:"fail"})},t,!1),r.collect.emit(et.SubmitAfter,i)}catch(e){console.warn("something error, "+JSON.stringify(e.stack)),r.collect.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:e.message})}}))},e}(),eg=function(){return(function e(t){return t?(t^16*Math.random()>>t/4).toString(10):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e)})().replace(/-/g,"").slice(0,19)},ev=function(){function e(){this.cacheToken={},this.enableCookie=!1,this.enable_ttwebid=!1,this.enableCustomWebid=!1}return e.prototype.apply=function(e,t){var r=this;this.collect=e,this.config=t,this.configManager=this.collect.configManager,this.storage=new H(!1),this.tokenKey="__tea_cache_tokens_"+t.app_id,this.enable_ttwebid=t.enable_ttwebid,this.enableCustomWebid=t.enable_custom_webid,this.collect.on(et.ConfigUuid,function(e){r.setUuid(e)}),this.collect.on(et.ConfigWebId,function(e){r.setWebId(e)}),this.enableCookie=t.cross_subdomain,this.expiresTime=t.cookie_expire||6048e5,this.cookieDomain=t.cookie_domain||"",this.checkStorage()},e.prototype.checkStorage=function(){var e=this;if(this.enableCookie){var t=this.storage.getCookie(this.tokenKey,this.cookieDomain);this.cacheToken=t&&"string"==typeof t?JSON.parse(t):{}}else this.cacheToken=this.storage.getItem(this.tokenKey)||{};this.tokenType=this.cacheToken&&this.cacheToken._type_?this.cacheToken._type_:"default","custom"!==this.tokenType||this.enableCustomWebid?this.enableCustomWebid?this.collect.on(et.CustomWebId,function(){e.tokenReady=!0,e.collect.emit(et.TokenComplete)}):this.checkEnv()||(this.enable_ttwebid?this.completeTtWid(this.cacheToken):this.check()):this.remoteWebid()},e.prototype.check=function(){this.cacheToken&&this.cacheToken.web_id?this.complete(this.cacheToken):this.config.disable_webid?this.complete({web_id:eg(),user_unique_id:this.configManager.get("user_unique_id")||eg()}):this.remoteWebid()},e.prototype.checkEnv=function(){var e=window.navigator.userAgent;if(-1!==e.indexOf("miniProgram")||-1!==e.indexOf("MiniProgram")){var t=G(window.location.href);return!(!t||!t.Web_ID)&&(this.complete({web_id:""+t.Web_ID,user_unique_id:this.configManager.get("user_unique_id")||""+t.Web_ID}),!0)}return!1},e.prototype.remoteWebid=function(){var e=this,t=this.configManager.getUrl("webid"),r={app_key:this.config.app_key,app_id:this.config.app_id,url:location.href,user_agent:window.navigator.userAgent,referer:document.referrer,user_unique_id:""};this.collect.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"SDK \u53D1\u8D77WEBID\u8BF7\u6C42",logType:"fetch",level:"info",time:Date.now(),data:r});var n=eg();ed(t,r,3e5,!1,function(t){var r;t&&0===t.e?(r=t.web_id,e.collect.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"WEBID\u8BF7\u6C42\u6210\u529F",logType:"fetch",level:"info",time:Date.now(),data:t})):(r=n,e.collect.configManager.set({localWebId:n}),e.collect.emit(et.TokenError),e.collect.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"WEBID\u8BF7\u6C42\u8FD4\u56DE\u503C\u5F02\u5E38",logType:"fetch",level:"warn",time:Date.now(),data:t}),e.collect.logger.warn("appid: "+e.config.app_id+" get webid error, use local webid~")),e.complete({web_id:e.configManager.get("web_id")||r,user_unique_id:e.configManager.get("user_unique_id")||r})},function(){e.complete({web_id:e.configManager.get("web_id")||n,user_unique_id:e.configManager.get("user_unique_id")||n}),e.collect.configManager.set({localWebId:n}),e.collect.emit(et.TokenError),e.collect.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"WEBID\u8BF7\u6C42\u7F51\u7EDC\u5F02\u5E38",logType:"fetch",level:"error",time:Date.now(),data:null}),e.collect.logger.warn("appid: "+e.config.app_id+", get webid error, use local webid~")})},e.prototype.complete=function(e){var t=e.web_id,r=e.user_unique_id;e.timestamp=Date.now(),this.collect.configManager.set({web_id:t,user_unique_id:r}),this.setStorage(e),this.tokenReady=!0,this.collect.emit(et.TokenComplete)},e.prototype.completeTtWid=function(e){var t=e.user_unique_id||"",r=this.configManager.get("user_unique_id");(r||t)&&this.configManager.set({user_unique_id:r||t}),this.setStorage(e),this.tokenReady=!0,this.collect.emit(et.TokenComplete)},e.prototype.setUuid=function(e){if(e&&-1===["null","undefined","Null","None"].indexOf(e)){var t=String(e),r=this.configManager.get("user_unique_id"),n=this.cacheToken&&this.cacheToken.user_unique_id;(t!==r||t!==n)&&(this.configManager.set({user_unique_id:t}),this.cacheToken||(this.cacheToken={}),this.cacheToken.user_unique_id=t,this.cacheToken.timestamp=Date.now(),this.setStorage(this.cacheToken),this.collect.emit(et.TokenChange,"uuid"),this.collect.emit(et.SessionReset))}else this.clearUuid()},e.prototype.clearUuid=function(){this.config.enable_ttwebid||this.configManager.get("web_id")&&(this.configManager.set({user_unique_id:this.configManager.get("web_id")}),this.cacheToken&&this.cacheToken.web_id&&(this.cacheToken.user_unique_id=this.cacheToken.web_id,this.cacheToken.timestamp=Date.now(),this.setStorage(this.cacheToken)),this.collect.emit(et.TokenReset))},e.prototype.setWebId=function(e){if(e&&!this.config.enable_ttwebid){this.cacheToken&&this.cacheToken.web_id?this.cacheToken.web_id!==e&&(this.cacheToken.user_unique_id=this.cacheToken.web_id===this.cacheToken.user_unique_id?e:this.cacheToken.user_unique_id,this.cacheToken.web_id=e):(this.cacheToken={},this.cacheToken.web_id=e,this.cacheToken.user_unique_id=e),this.cacheToken.timestamp=Date.now();var t=this.configManager.get("web_id"),r=this.configManager.get("user_unique_id");r&&r!==t||(this.configManager.set({user_unique_id:e}),this.collect.emit(et.TokenChange,"uuid")),t!==e&&(this.configManager.set({web_id:e}),this.collect.emit(et.TokenChange,"webid")),this.setStorage(this.cacheToken)}},e.prototype.setStorage=function(e){e._type_=this.enableCustomWebid?"custom":"default",delete e["diss".split("").reverse().join("")],this.enableCookie||this.enable_ttwebid?(this.storage.setCookie(this.tokenKey,e,this.expiresTime,this.cookieDomain),this.enable_ttwebid&&(delete e.web_id,this.storage.setItem(this.tokenKey,e))):this.storage.setItem(this.tokenKey,e),this.cacheToken=e},e.prototype.getReady=function(){return this.tokenReady},e.prototype.getTobId=function(){var e=this,t=this.configManager.getUrl("tobid");return new Promise(function(r){ed(t,{app_id:e.config.app_id,user_unique_id:e.configManager.get("user_unique_id"),web_id:e.configManager.get("web_id"),user_unique_id_type:e.configManager.get("user_unique_id_type")},3e4,e.enable_ttwebid,function(e){e&&0===e.e?r(e.tobid):r("")},function(){r("")})})},e}(),em=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},e_=function(){function e(){}return e.prototype.apply=function(e,t){var r=this;this.collect=e,this.storage=new H(!1,"session"),this.sessionKey="__tea_session_id_"+t.app_id,this.expireTime=t.expireTime||18e5,this.disableSession=t.disable_session,this.disableSession||(this.setSessionId(),this.collect.on(et.SessionReset,function(){r.resetSessionId()}),this.collect.on(et.SessionResetTime,function(){r.updateSessionIdTime()}))},e.prototype.updateSessionIdTime=function(){var e=this.storage.getItem(this.sessionKey);if(e&&e.sessionId){var t=e.timestamp;Date.now()-t>this.expireTime?e={sessionId:em(),timestamp:Date.now()}:e.timestamp=Date.now(),this.storage.setItem(this.sessionKey,e),this.resetExpTime()}},e.prototype.setSessionId=function(){var e=this,t=this.storage.getItem(this.sessionKey);t&&t.sessionId?t.timestamp=Date.now():t={sessionId:em(),timestamp:Date.now()},this.storage.setItem(this.sessionKey,t),this.sessionExp=setInterval(function(){e.checkEXp()},this.expireTime)},e.prototype.getSessionId=function(){var e=this.storage.getItem(this.sessionKey);return this.disableSession?"":e&&e.sessionId?e.sessionId:""},e.prototype.resetExpTime=function(){var e=this;this.sessionExp&&(clearInterval(this.sessionExp),this.sessionExp=setInterval(function(){e.checkEXp()},this.expireTime))},e.prototype.resetSessionId=function(){var e={sessionId:em(),timestamp:Date.now()};this.storage.setItem(this.sessionKey,e)},e.prototype.checkEXp=function(){var e=this.storage.getItem(this.sessionKey);e&&e.sessionId&&Date.now()-e.timestamp+30>=this.expireTime&&(e={sessionId:em(),timestamp:Date.now()},this.storage.setItem(this.sessionKey,e))},e}(),ey=function(){function e(e,t){this.devToolReady=!1,this.devToolOrigin="*",this.sendAlready=!1,this.collect=e,this.config=t,this.app_id=t.app_id,this.filterEvent=["__bav_page","__bav_beat","__bav_page_statistics","__bav_click","__bav_page_exposure","bav2b_page","bav2b_beat","bav2b_page_statistics","bav2b_click","bav2b_page_exposure","_be_active","predefine_pageview","__profile_set","__profile_set_once","__profile_increment","__profile_unset","__profile_append","predefine_page_alive","predefine_page_close","abtest_exposure"],t.enable_debug&&this.load()}return e.prototype.loadScript=function(e){try{var t=document.createElement("script");t.src=e,t.onerror=function(){console.log("load DevTool render fail")},t.onload=function(){console.log("load DevTool render success")},document.getElementsByTagName("body")[0].appendChild(t)}catch(e){console.log("devTool load fail, "+e.message)}},e.prototype.load=function(){try{this.loadBaseInfo(),this.loadHook();var e=G(window.location.href);if(!e.open_devtool_web||parseInt(e.app_id)!==this.app_id)return;this.addLintener(),this.loadDebuggerModule(),this.loadDevTool()}catch(e){console.log("debug fail, "+e.message)}},e.prototype.loadDevTool=function(){this.loadScript("https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/devtool/debug-web.js")},e.prototype.loadBaseInfo=function(){var e=this;this.info=[{title:"\u57FA\u672C\u4FE1\u606F",type:1,infoName:{app_id:this.config.app_id,channel:this.config.channel,\u4E0A\u62A5\u57DF\u540D:this.collect.configManager.getDomain(),SDK\u7248\u672C:$,SDK\u5F15\u5165\u65B9\u5F0F:"npm"}},{title:"\u7528\u6237\u4FE1\u606F",type:2,infoName:{uuid:this.collect.configManager.get("user").user_unique_id||"",web_id:this.collect.configManager.get("user").web_id||"",ssid:"\u70B9\u51FB\u83B7\u53D6SSID"}},{title:"\u516C\u5171\u53C2\u6570\u4FE1\u606F",type:2,infoName:{\u6D4F\u89C8\u5668:this.collect.configManager.get("browser"),\u6D4F\u89C8\u5668\u7248\u672C:this.collect.configManager.get("browser_version"),\u5E73\u53F0:this.collect.configManager.get("platform"),\u8BBE\u5907\u578B\u53F7:this.collect.configManager.get("device_model"),\u64CD\u4F5C\u7CFB\u7EDF:this.collect.configManager.get("os_name"),\u64CD\u4F5C\u7CFB\u7EDF\u7248\u672C:this.collect.configManager.get("os_version"),\u5C4F\u5E55\u5206\u8FA8\u7387:this.collect.configManager.get("os_version"),\u6765\u6E90:this.collect.configManager.get("referrer"),\u81EA\u5B9A\u4E49\u4FE1\u606F:""}},{title:"\u914D\u7F6E\u4FE1\u606F",type:3,infoName:{\u5168\u57CB\u70B9:!!this.config.autotrack,\u505C\u7559\u65F6\u957F:!!this.config.enable_stay_duration}},{title:"A/B\u914D\u7F6E\u4FE1\u606F",type:4,infoName:{"A/B\u5B9E\u9A8C":!!this.config.enable_ab_test}},{title:"\u5BA2\u6237\u7AEF\u4FE1\u606F",type:3,infoName:{\u6253\u901A\u5F00\u5173:!!this.config.Native}}],this.log=[],this.event=[],this.collect.on(et.Ready,function(){e.info[1].infoName.uuid=e.collect.configManager.get("user").user_unique_id,e.info[1].infoName.web_id=e.collect.configManager.get("user").web_id,e.info[2].infoName["\u81EA\u5B9A\u4E49\u4FE1\u606F"]=JSON.stringify(e.collect.configManager.get("custom")),e.config.enable_ab_test&&(e.info[4].infoName["\u5DF2\u66DD\u5149VID"]=e.collect.configManager.getAbVersion(),e.info[4].infoName["A/B\u57DF\u540D"]=e.config.ab_channel_domain||j(q[e.config.channel]),e.info[4].infoName["\u5168\u90E8\u914D\u7F6E"]=e.collect.configManager.getAbData()),e.config.Native&&(e.info[5].infoName["\u662F\u5426\u6253\u901A"]=!!e.collect.bridgeReport)})},e.prototype.loadHook=function(){var e=this;this.collect.on(M.DEBUGGER_MESSAGE,function(t){switch(t.type){case M.DEBUGGER_MESSAGE_SDK:var r={time:t.time,type:t.logType||"sdk",level:t.level,name:t.info,show:!0,levelShow:!0,needDesc:!!t.data};return t.data&&(r.desc={content:JSON.stringify(t.data)}),e.updateLog(r),t.secType&&"AB"===t.secType?(e.info[4].infoName["\u5DF2\u66DD\u5149VID"]=e.collect.configManager.getAbVersion(),e.info[4].infoName["\u5168\u90E8\u914D\u7F6E"]=e.collect.configManager.getAbData()):"USER"===t.secType&&(e.info[1].infoName.uuid=e.collect.configManager.get("user").user_unique_id,e.info[1].infoName.web_id=e.collect.configManager.get("user").web_id),void e.updateInfo();case M.DEBUGGER_MESSAGE_EVENT:if(t.data&&t.data.length){var n=t.data[0],i=n.events;if(!i.length)return;i.forEach(function(r){r.checkShow=!0,r.searchShow=!0,r.success=t.status,r.type=-1!==e.filterEvent.indexOf(r.event)?"sdk":"cus",r.type=e.collect.bridgeReport?"bridge":r.type,r.info="","fail"===t.status&&(r.info={message:"code: "+t.code+"\uFF0C msg: "+t.failType})}),e.updateEvent(n)}return}})},e.prototype.addLintener=function(){var e=this;window.addEventListener("message",function(t){if(t.origin===location.origin){if(t&&t.data&&"devtool:web:ready"===t.data.type){if(e.devToolOrigin=t.origin,e.devToolReady=!0,e.sendAlready)return;console.log("inittttt"),e.sendData("devtool:web:init",{info:e.info,log:e.log,event:e.event}),e.sendAlready=!0}t&&t.data&&"devtool:web:ssid"===t.data.type&&e.collect.getToken(function(t){e.info[1].infoName.ssid=t.tobid,e.updateInfo()})}})},e.prototype.sendData=function(e,t){try{(window.opener||window.parent).postMessage({type:e,payload:t},this.devToolOrigin)}catch(e){}},e.prototype.updateInfo=function(){this.devToolReady&&this.sendData("devtool:web:info",this.info)},e.prototype.updateLog=function(e){this.devToolReady?this.sendData("devtool:web:log",e):this.log.push(e)},e.prototype.updateEvent=function(e){this.devToolReady?this.sendData("devtool:web:event",e):this.event.push(e)},e.prototype.loadDebuggerModule=function(){var e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.appendChild(document.createTextNode("#debugger-applog-web {\n      position: absolute;\n      width: 90px;\n      height: 30px;\n      background: #23c243;\n      border-radius: 6px;\n      color: #fff;\n      font-size: 12px;\n      bottom: 5%;\n      right: 10%;\n      text-align: center;\n      line-height: 30px;\n      cursor: pointer;\n      z-index:100;\n    }")),e.appendChild(t);var r=document.createElement("div");r.innerHTML='<div id="debugger-applog-web" class="debugger-applog-web">AppLog\u8C03\u8BD5</div>';var n=document.createElement("div");n.innerHTML='<div id="debugger-container" class="debugger-container"></div>',document.getElementsByTagName("body")[0].appendChild(r),document.getElementsByTagName("body")[0].appendChild(n),document.getElementById("debugger-applog-web").addEventListener("click",function(){(window.opener||window.parent).postMessage({type:"devtool:web:open-draw"},location.origin)})},e}(),eb=function(){function e(e){this.disableAutoPageView=!1,this.bridgeReport=!1,this.staging=!1,this.pluginInstances=[],this.sended=!1,this.started=!1,this.destroyInstance=!1,this.sdkReady=!1,this.adapters={},this.loadType="base",this.name=e,this.hook=new P,this.remotePlugin=new Map,this.Types=et,this.adapters.fetch=ed,this.adapters.storage=H}return e.usePlugin=function(t,r,n){if(r){for(var i=!1,o=0,a=e.plugins.length;o<a;o++)if(e.plugins[o].name===r){e.plugins[o].plugin=t,e.plugins[o].options=n||{},i=!0;break}i||e.plugins.push({name:r,plugin:t,options:n})}else e.plugins.push({plugin:t})},e.prototype.usePlugin=function(e,t,r){e&&("full"===this.loadType&&this.remotePlugin.get(e)?console.info("your sdk version has "+e+" already ~"):t?"string"==typeof t?this.remotePlugin.get(e)||this.remotePlugin.set(e,{src:t,call:r}):this.remotePlugin.get(e)||this.remotePlugin.set(e,{instance:t}):this.remotePlugin.get(e)||this.remotePlugin.set(e,"sdk"))},e.prototype.init=function(t){var r,n,i=this;try{r=JSON.parse(JSON.stringify(t))}catch(e){r=t}if(this.logger=new es(this.name,r.log),this.inited)this.logger.warn("[instance: "+this.name+"], every instance's api: init,  can be call only one time!");else if(r&&N(r)){if(r.app_id&&"number"==typeof(n=r.app_id)&&!isNaN(n)){if(r.app_key&&"string"!=typeof r.app_key)this.logger.warn("app_key param is error, must be string, please check!");else{var o=r.channel_type&&"tcpy"===r.channel_type?["sg","va","in"]:["sg","va"];r.channel_domain||-1!==o.indexOf(r.channel)||(this.logger.warn("channel must "+o.join(" ,")+"!!!"),r.channel="sg"),this.spider=new ec,this.spider.checkSpider(r)?this.logger.warn("The current environment may be a spider, can not report!"):(this.logger=new es(this.name,r.log),this.appBridge=new el(this,r.enable_native),this.bridgeReport=this.appBridge.bridgeInject(),this.configManager=new ea(this,r),this.debugger=new ey(this,r),this.initConfig=r,this.emit(et.Init),this.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884CINIT",data:r,level:"info",time:Date.now()}),r.disable_auto_pv&&(this.disableAutoPageView=!0),this.bridgeReport||(this.configManager.setAppid(r.app_id),this.eventManager=new eh,this.tokenManager=new ev,this.sessionManager=new e_,Promise.all([new Promise(function(e){i.once(et.TokenComplete,function(){e(!0)})}),new Promise(function(e){i.once(et.Start,function(){e(!0)})})]).then(function(){try{e.plugins.reduce(function(e,t){var r=t.plugin,n=t.options,o=Object.assign(i.initConfig,n),a=new r;return a.apply(i,o),e.push(a),e},i.pluginInstances)}catch(e){console.warn("load plugin error, "+e.message),i.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:e.message})}i.sdkReady=!0,i.emit(et.Ready),i.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"SDK \u521D\u59CB\u5316\u5B8C\u6210",time:Date.now(),level:"info",data:i.configManager.get("user")}),i.logger.info("appid: "+r.app_id+", userInfo:"+JSON.stringify(i.configManager.get("user"))),i.logger.info("appid: "+r.app_id+", sdk is ready, version is "+$+", you can report now !!!"),r.disable_auto_pv&&(i.disableAutoPageView=!0);try{("full"===i.loadType&&r.enable_ab_test||r.autotrack)&&(window.opener||window.parent).postMessage("[tea-sdk]ready","*")}catch(e){i.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:e.message})}i.pageView(),i.on(et.TokenChange,function(e){"webid"===e&&i.pageView(),i.logger.info("appid: "+r.app_id+" token change, new userInfo:"+JSON.stringify(i.configManager.get("user"))),i.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"SDK \u8BBE\u7F6E\u4E86\u7528\u6237\u4FE1\u606F",time:Date.now(),secType:"USER",level:"info",data:i.configManager.get("user")})}),i.on(et.TokenReset,function(){i.logger.info("appid: "+r.app_id+" token reset, new userInfo:"+JSON.stringify(i.configManager.get("user"))),i.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"SDK \u91CD\u7F6E\u4E86\u7528\u6237\u4FE1\u606F",time:Date.now(),secType:"USER",level:"info",data:i.configManager.get("user")})}),i.on(et.RouteChange,function(e){e.init||r.disable_route_report||i.pageView()})}),this.tokenManager.apply(this,r),this.eventManager.apply(this,r),this.sessionManager.apply(this,r)),this.inited=!0)}}else this.logger.warn("app_id param is error, must be number, please check!")}else this.logger.warn("init params error,please check")},e.prototype.config=function(e){if(this.inited){if(e&&N(e)){var t;try{t=JSON.parse(JSON.stringify(t))}catch(r){t=e}if(this.bridgeReport)this.appBridge.setConfig(t);else{t._staging_flag&&1===t._staging_flag&&(this.staging=!0),t.disable_auto_pv&&(this.disableAutoPageView=!0,delete t.disable_auto_pv);var r=k({},t);if(this.initConfig&&this.initConfig.configPersist){var n=this.configManager.getStore();n&&(r=Object.assign(n,t)),this.configManager.setStore(t)}r.web_id,r.user_unique_id;var i=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&(r[n[i]]=e[n[i]])}return r}(r,["web_id","user_unique_id"]);r.hasOwnProperty("web_id")&&this.emit(et.ConfigWebId,r.web_id),r.hasOwnProperty("user_unique_id")&&this.emit(et.ConfigUuid,r.user_unique_id),this.configManager.set(i),this.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884CCONFIG",level:"info",time:Date.now(),data:r})}}else this.logger.warn("config params is error, please check")}else this.logger.warn("config must be use after function init")},e.prototype.setDomain=function(e){this.configManager&&this.configManager.setDomain(e),this.emit(et.ConfigDomain)},e.prototype.getConfig=function(e){return this.configManager.get(e)},e.prototype.send=function(){this.start()},e.prototype.start=function(){this.inited&&!this.sended&&(this.sended=!0,this.emit(et.Start),this.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884CSTART",level:"info",time:Date.now()}),this.bridgeReport&&(this.pageView(),this.emit(et.Ready)))},e.prototype.event=function(e,t){var r=this;try{var n=[];if(Array.isArray(e))e.forEach(function(e){var t=r.processEvent(e[0],e[1]||{});t&&n.push(t)});else{var i=this.processEvent(e,t);if(!i)return;n.push(i)}this.bridgeReport?n.forEach(function(e){var t=e.event,n=e.params;r.appBridge.onEventV3(t,JSON.stringify(n))}):n.length&&(this.emit(et.Event,n),this.emit(et.SessionResetTime))}catch(e){this.logger.warn("something error, please check"),this.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:e.message})}},e.prototype.beconEvent=function(e,t){if(Array.isArray(e))this.logger.warn("beconEvent not support batch report, please check");else{var r=[],n=this.processEvent(e,t||{});n&&(r.push(n),r.length&&(this.emit(et.BeconEvent,r),this.emit(et.SessionResetTime)))}},e.prototype.processEvent=function(e,t){void 0===t&&(t={});try{if(!e)return this.logger.warn("eventName is null\uFF0C please check"),null;var r=e;/^event\./.test(e)&&(r=e.slice(6));var n=t;"object"!=typeof n&&(n={}),n.profile?delete n.profile:n.event_index=D();var i=void 0;return n.local_ms?(i=n.local_ms,delete n.local_ms):i=+new Date,{event:r,params:n,local_time_ms:i,is_bav:this.initConfig&&this.initConfig.autotrack?1:0}}catch(r){return this.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:r.message}),{event:e,params:t}}},e.prototype.filterEvent=function(e){this.eventFilter=e},e.prototype.on=function(e,t){this.hook.on(e,t)},e.prototype.once=function(e,t){this.hook.once(e,t)},e.prototype.off=function(e,t){this.hook.off(e,t)},e.prototype.emit=function(e,t,r){this.hook.emit(e,t,r)},e.prototype.set=function(e){this.hook.set(e)},e.prototype.pageView=function(){this.disableAutoPageView||this.predefinePageView()},e.prototype.predefinePageView=function(e){if(void 0===e&&(e={}),this.inited){var t={title:document.title||location.pathname,url:location.href,url_path:location.pathname,time:Date.now(),referrer:window.document.referrer,$is_first_time:""+(this.configManager&&this.configManager.is_first_time||!1)},r=k({},t,e);this.event("predefine_pageview",r)}else this.logger.warn("predefinePageView should call after init")},e.prototype.clearEventCache=function(){this.emit(et.CleanEvents)},e.prototype.setWebIDviaUnionID=function(e){if(e){var t=U(e);this.config({web_id:""+t,wechat_unionid:e}),this.emit(et.CustomWebId)}},e.prototype.setWebId=function(e){this.config({web_id:""+e})},e.prototype.setWebIDviaOpenID=function(e){if(e){var t=U(e);this.config({web_id:""+t,wechat_openid:e}),this.emit(et.CustomWebId)}},e.prototype.setNativeAppId=function(e){this.bridgeReport&&this.appBridge.setNativeAppId(e)},e.prototype.resetStayDuration=function(e,t,r){this.emit(et.ResetStay,{url_path:e,title:t,url:r},et.Stay)},e.prototype.resetStayParams=function(e,t,r){void 0===e&&(e=""),void 0===t&&(t=""),void 0===r&&(r=""),this.emit(et.SetStay,{url_path:e,title:t,url:r},et.Stay)},e.prototype.getToken=function(e,t){var r=this;if(this.inited){var n=!1,i=function(t){if(!n){n=!0;var i=r.configManager.get().user;return t&&(i.tobid=t,i["diss".split("").reverse().join("")]=t),e(k({},i))}},o=function(){r.tokenManager.getTobId().then(function(e){i(e)})};this.sdkReady?o():(t&&setTimeout(function(){i()},t),this.on(et.Ready,function(){o()}))}else this.logger.warn("predefinePageView should call after init")},e.prototype.profileSet=function(e){this.bridgeReport?this.appBridge.profileSet(JSON.stringify(e)):this.emit(et.ProfileSet,e,et.Profile),this.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884CprofileSet",level:"info",time:Date.now(),data:e})},e.prototype.profileSetOnce=function(e){this.bridgeReport?this.appBridge.profileSetOnce(JSON.stringify(e)):this.emit(et.ProfileSetOnce,e,et.Profile),this.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884CprofileSetOnce",level:"info",time:Date.now(),data:e})},e.prototype.profileIncrement=function(e){this.bridgeReport?this.appBridge.profileIncrement(JSON.stringify(e)):this.emit(et.ProfileIncrement,e,et.Profile),this.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884CprofileIncrement",level:"info",time:Date.now(),data:e})},e.prototype.profileUnset=function(e){this.bridgeReport?this.appBridge.profileUnset(e):this.emit(et.ProfileUnset,e,et.Profile),this.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884CprofileUnset",level:"info",time:Date.now(),data:e})},e.prototype.profileAppend=function(e){this.bridgeReport?this.appBridge.profileAppend(JSON.stringify(e)):this.emit(et.ProfileAppend,e,et.Profile),this.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884CprofileAppend",level:"info",time:Date.now(),data:e})},e.prototype.setExternalAbVersion=function(e){this.emit(et.AbExternalVersion,"string"==typeof e&&e?(""+e).trim():null,et.Ab)},e.prototype.getVar=function(e,t,r,n){this.emit(et.AbVar,{name:e,defaultValue:t,callback:r,uuid:n},et.Ab)},e.prototype.getABconfig=function(e,t){this.emit(et.AbConfig,{params:e,callback:t},et.Ab)},e.prototype.getAbSdkVersion=function(){return this.configManager.getAbVersion()},e.prototype.onAbSdkVersionChange=function(e){var t=this;return this.emit(et.AbVersionChangeOn,e,et.Ab),function(){t.emit(et.AbVersionChangeOff,e,et.Ab)}},e.prototype.offAbSdkVersionChange=function(e){this.emit(et.AbVersionChangeOff,e,et.Ab)},e.prototype.openOverlayer=function(){this.emit(et.AbOpenLayer,"",et.Ab)},e.prototype.closeOverlayer=function(){this.emit(et.AbCloseLayer,"",et.Ab)},e.prototype.getAllVars=function(e){this.emit(et.AbAllVars,e,et.Ab)},e.prototype.autoInitializationRangers=function(e){var t,r,n,i,o,a,s;t=e.app_id,r=e.channel,n=e.onTokenReady,i=J[r]+"/webid",o=new H(!1),a="__tea_cache_tokens_"+t,(s=o.getItem(a))&&s.web_id?n(s.web_id):ef(i,{app_key:"",app_id:t,url:location.href,user_agent:window.navigator.userAgent,referer:document.referrer},3e3,!1,function(e){if(e&&0===e.e){n(e.web_id);var t={web_id:e.web_id,user_unique_id:e.web_id,timestamp:Date.now()};o.setItem(a,t)}else n("")},function(){n("")},!0)},e.prototype.destoryInstace=function(){this.destroyInstance||(this.destroyInstance=!0,this.off(et.TokenComplete))},e.plugins=[],e}(),eS=function(){function e(){}return e.prototype.apply=function(e,t){var r=this,n=e.adapters.fetch;if(t.event_verify_url){if("string"==typeof t.event_verify_url){if(this.url=t.event_verify_url+"/v1/list_test",this.url){var i=e.Types;e.on(i.SubmitBefore,function(e){n(r.url,e,3e4)})}}else console.log("please use correct et_test url")}},e}(),ew=function(){function e(){}return e.prototype.apply=function(e,t){var r=this;this.collect=e,this.config=t,this.duration=6e4,this.reportUrl=e.configManager.getDomain()+"/profile/list";var n=e.Types,i=e.adapters.fetch;this.eventCheck=new ee(e,t),this.fetch=i,this.cache={},this.collect.on(n.ProfileSet,function(e){r.setProfile(e)}),this.collect.on(n.ProfileSetOnce,function(e){r.setOnceProfile(e)}),this.collect.on(n.ProfileUnset,function(e){r.unsetProfile(e)}),this.collect.on(n.ProfileIncrement,function(e){r.incrementProfile(e)}),this.collect.on(n.ProfileAppend,function(e){r.appendProfile(e)}),this.collect.on(n.ProfileClear,function(){r.cache={}}),this.ready(n.Profile)},e.prototype.ready=function(e){var t=this;if(this.collect.set(e),this.collect.hook._hooksCache.hasOwnProperty(e)){var r=this.collect.hook._hooksCache[e];if(!Object.keys(r).length)return;var n=function(e){r[e].length&&r[e].forEach(function(r){t.collect.hook.emit(e,r)})};for(var i in r)n(i)}},e.prototype.report=function(e,t){void 0===t&&(t={});try{if(this.config.disable_track_event)return;var r=[];r.push(this.collect.processEvent(e,t));var n=this.collect.eventManager.merge(r);this.fetch(this.reportUrl,n),this.collect.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_EVENT,info:"\u57CB\u70B9\u4E0A\u62A5\u6210\u529F",time:Date.now(),data:n,code:200,status:"success"})}catch(e){this.collect.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:e.message})}},e.prototype.setProfile=function(e){var t=this.formatParams(e);t&&Object.keys(t).length&&(this.pushCache(t),this.report("__profile_set",k({},t,{profile:!0})))},e.prototype.setOnceProfile=function(e){var t=this.formatParams(e,!0);t&&Object.keys(t).length&&(this.pushCache(t),this.report("__profile_set_once",k({},t,{profile:!0})))},e.prototype.incrementProfile=function(e){e?this.report("__profile_increment",k({},e,{profile:!0})):console.warn("please check the params, must be object!!!")},e.prototype.unsetProfile=function(e){if(e){var t={};t[e]="1",this.report("__profile_unset",k({},t,{profile:!0}))}else console.warn("please check the key, must be string!!!")},e.prototype.appendProfile=function(e){if(e){var t={};for(var r in e)"string"==typeof e[r]||"Array"===Object.prototype.toString.call(e[r]).slice(8,-1)?t[r]=e[r]:console.warn("please check the value of param: "+r+", must be string or array !!!");Object.keys(t).length&&this.report("__profile_append",k({},t,{profile:!0}))}else console.warn("please check the params, must be object!!!")},e.prototype.pushCache=function(e){var t=this;Object.keys(e).forEach(function(r){t.cache[r]={val:t.clone(e[r]),timestamp:Date.now()}})},e.prototype.formatParams=function(e,t){var r=this;void 0===t&&(t=!1);try{if(!e||"[object Object]"!==Object.prototype.toString.call(e))return void console.warn("please check the params type, must be object !!!");var n={};for(var i in e)"string"==typeof e[i]||"number"==typeof e[i]||"Array"===Object.prototype.toString.call(e[i]).slice(8,-1)?n[i]=e[i]:console.warn("please check the value of params:"+i+", must be string,number,Array !!!");var o=Object.keys(n);if(!o.length||!this.eventCheck.checkEventParams(n))return;var a=Date.now();return o.filter(function(n){var i=r.cache[n];return t?!i:!(i&&r.compare(i.val,e[n])&&a-i.timestamp<r.duration)}).reduce(function(e,t){return e[t]=n[t],e},{})}catch(e){this.collect.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:e.message}),console.log("error")}},e.prototype.compare=function(e,t){try{return JSON.stringify(e)===JSON.stringify(t)}catch(e){return this.collect.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:e.message}),!1}},e.prototype.clone=function(e){try{return JSON.parse(JSON.stringify(e))}catch(t){return this.collect.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:t.message}),e}},e.prototype.unReady=function(){console.warn("sdk is not ready, please use this api after start")},e}(),eE=function(){function e(){var e=this;this.setInterval=function(){e.clearIntervalFunc=L(function(){e.isSessionhasEvent&&e.endCurrentSession()},e.sessionInterval)},this.clearInterval=function(){e.clearIntervalFunc&&e.clearIntervalFunc()}}return e.prototype.apply=function(e,t){var r=this;if(this.collect=e,!t.disable_heartbeat){this.sessionInterval=6e4,this.startTime=0,this.lastTime=0,this.setInterval();var n=this.collect.Types;this.collect.on(n.SessionReset,function(){r.process()})}},e.prototype.endCurrentSession=function(){this.collect.event("_be_active",{start_time:this.startTime,end_time:this.lastTime,url:window.location.href,referrer:window.document.referrer,title:document.title||location.pathname}),this.isSessionhasEvent=!1,this.startTime=0},e.prototype.process=function(){this.isSessionhasEvent||(this.isSessionhasEvent=!0,this.startTime=+new Date);var e=this.lastTime||+new Date;this.lastTime=+new Date,this.lastTime-e>this.sessionInterval&&(this.clearInterval(),this.endCurrentSession(),this.setInterval())},e}(),ek=function(){function e(){}return e.prototype.apply=function(e,t){var r=this;if(this.collect=e,this.config=t,!this.config.channel_domain&&!t.disable_track_event&&!t.disable_sdk_monitor){var n=e.adapters.fetch;this.fetch=n,this.url=e.configManager.getUrl("event");var i=this.collect.Types;this.collect.on(i.Ready,function(){r.sdkOnload()}),this.collect.on(i.SubmitError,function(e){var t=e.type,n=e.eventData,i=e.errorCode;"f_data"===t&&r.sdkError(n,i)})}},e.prototype.sdkOnload=function(){var e=this;try{var t=this.collect.configManager.get(),r=t.header,n=t.user,i=r.app_id,o=r.app_name,a=r.sdk_version,s=n.web_id,c={events:[{event:"onload",params:JSON.stringify({app_id:i,app_name:o||"",sdk_version:a,sdk_type:"npm",sdk_config:this.config,sdk_desc:"TOC_OVERSEA"}),local_time_ms:Date.now()}],user:{user_unique_id:s},header:{}};setTimeout(function(){e.fetch(e.url,[c],3e4,!1,function(){},function(){},"566f58151b0ed37e")},16)}catch(e){}},e.prototype.sdkError=function(e,t){var r=this;try{var n=e[0],i=n.user,o=n.header,a=[];e.forEach(function(e){e.events.forEach(function(e){a.push(e)})});var s={events:a.map(function(e){return{event:"on_error",params:JSON.stringify({error_code:t,app_id:o.app_id,app_name:o.app_name||"",error_event:e.event,sdk_version:o.sdk_version,local_time_ms:e.local_time_ms,tea_event_index:Date.now(),params:e.params,header:JSON.stringify(o),user:JSON.stringify(i)}),local_time_ms:Date.now()}}),user:{user_unique_id:i.user_unique_id},header:{}};setTimeout(function(){r.fetch(r.url,[s],3e4,!1,function(){},function(){},"566f58151b0ed37e")},16)}catch(e){}},e}(),ex={autotrack:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/autotrack.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/autotrack.js"},object:"LogAutoTrack"},ab:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/ab.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/ab.js"},object:"LogAb"},stay:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/stay.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/stay.js"},object:"LogStay"},route:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/route.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/route.js"},object:"LogRoute"},cep:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/cep.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/cep.js"},object:"LogCep"},tracer:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/tracer.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/tracer.js"},object:"LogTracer"},visual:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/visual.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/visual.js"},object:"LogVisual"}},eT="undefined"!=typeof window?(window.LogPluginObject||(window.LogPluginObject={}),window.LogPluginObject):null,eI=function(){function e(){}return e.prototype.apply=function(e,t){this._plugin={},this.config=t,this.collect=e,this.channel=t.channel||"cn",this.loadExtend()},e.prototype.loadExtend=function(){var e=this;try{this.collect.remotePlugin.forEach(function(t,r){if("sdk"===t){if(ex.hasOwnProperty(r)){var n=ex[r].object,i=""+ex[r].src[e.channel];e.exist(r,n,i)}else console.warn("your "+r+" is not exist\uFF0Cplease check plugin name")}else"object"==typeof t&&(t.src?e.exist(r,t.call,t.src):e.process(r,t.instance,"INSTANCE"))})}catch(e){this.collect.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:e.message}),console.log("load extend error")}},e.prototype.exist=function(e,t,r){var n=this;eT[t]?(this.process(e,eT[t]),console.log("\u5DF2\u6709"+e+"\u63D2\u4EF6\uFF0C\u907F\u514D\u91CD\u590D\u52A0\u8F7D~")):this.loadPlugin(e,r,function(){n.process(e,eT[t]),console.log(" %c %s %s %s","color: yellow; background-color: black;","\u2013","load plugin:"+e+" success","-")},function(){console.log(" %c %s %s %s","color: red; background-color: yellow;","\u2013","load plugin:"+e+" error","-")})},e.prototype.process=function(e,t,r){try{if(r){var n=new t;n.apply&&n.apply(this.collect,this.config),console.log("excude "+e+" success")}else t&&t(this.collect,this.config)}catch(t){this.collect.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:t.message}),console.log("excude "+e+" error, message:"+t.message)}},e.prototype.loadPlugin=function(e,t,r,n){var i=this;try{var o=document.createElement("script");o.src=t,this._plugin[e]||(this._plugin[e]=[]),this._plugin[e].push(r),o.onerror=function(){n(t)},o.onload=function(){i._plugin[e].forEach(function(e){e()})},document.getElementsByTagName("head")[0].appendChild(o)}catch(e){this.collect.emit(M.DEBUGGER_MESSAGE,{type:M.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:e.message})}},e}();eb.usePlugin(eI,"extend"),eb.usePlugin(eS,"et"),eb.usePlugin(ew,"profile"),eb.usePlugin(eE,"heartbeat"),eb.usePlugin(ek,"monitor");var eC=new eb("default"),eR={CN:3053,OVERSEA:3297},eA=function(e){function t(t){var r,n,i,o,a,s,c=t.test,l=t.TEAChannelDomain,u=void 0===l?"":l,d=t.mode,p=t.TEAChannel,f=t.TEAChannelType;return t.tracker=u||f||p?(n=(r={isTest:c||"test"===d,channel_domain:u,channel_type:f,channel:p}).isTest,i=r.channel_domain,o=r.channel_type,a=r.channel,s=/snssdk|zijieapi/g.test(i)&&/ttp|tcpy/g.test(o)&&/va|sg|in/g.test(a)?eR.CN:eR.OVERSEA,eC.init({app_id:s,channel_type:o,channel:a,channel_domain:i}),eC.config({_staging_flag:n?1:0,enable_et_test:n}),eC.start(),eC.event.bind(eC)):function(){},e.call(this,t)||this}return a(t,e),t}(E)},161156:function(){},339802:function(){},920279:function(){},181338:function(){},751790:function(){},20413:function(){},362866:function(){},417410:function(){},400921:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n={"download-video-export":"download-video-export-lx3Jos",downloadVideoExport:"download-video-export-lx3Jos",progress:"progress-ToC7xh",percent:"percent-MR8Pa7",unit:"unit-NTloBz",text:"text-BMAz5I",cancelBtn:"cancelBtn-YGHEVB","success-container":"success-container-NEjSV4",successContainer:"success-container-NEjSV4","cover-img-container":"cover-img-container-mU1KUJ",coverImgContainer:"cover-img-container-mU1KUJ",coverImg:"coverImg-XeMTuX",success:"success-_KNbXz",title:"title-XDz8ps",icon:"icon-T0PteT",desc:"desc-sVygGh",btn:"btn-YkWYTd","download-link":"download-link-inKdhw",downloadLink:"download-link-inKdhw",failure:"failure-Xjtexa",loading:"loading-d3EPOZ","sub-desc":"sub-desc-uhkdsu",subDesc:"sub-desc-uhkdsu","load-error":"load-error-tU59xX",loadError:"load-error-tU59xX","export-video":"export-video-oFCFKL",exportVideo:"export-video-oFCFKL"}},932178:function(){},144101:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n={hashTag:"hashTag-rVu_lP",title:"title-jhnK_v",inputArea:"inputArea-m9C9mt",input:"input-ASjzsT",footer:"footer-qczy4x",addHashTag:"addHashTag-DIpAfA",text:"text-wrvugr",wordCount:"wordCount-Zj4hTM",popupContainer:"popupContainer-GGiUjo",popup:"popup-z4hUl8",loading:"loading-F61Se5",loadingIcon:"loadingIcon-tzpPeq",loadingText:"loadingText-TC639e",popupItem:"popupItem-jU1_cn",hashTagName:"hashTagName-mYDLhq",hashTagViewCount:"hashTagViewCount-eDjTrQ",empty:"empty-UPaIkb",popupHidden:"popupHidden-lD5D0t"}},15807:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n={templateBodyLeft:"templateBodyLeft-yD1WeV",templateBodyRight:"templateBodyRight-GB7LWa",applyAllBtn:"applyAllBtn-rNY9DA",des:"des-Hz2n3k",action:"action-BENhhX"}},781700:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n={"t2v-ratio-selector":"t2v-ratio-selector-uIdP02",t2VRatioSelector:"t2v-ratio-selector-uIdP02",dropdown_list:"dropdown_list-RNHpmK",dropdownList:"dropdown_list-RNHpmK",option_info:"option_info-IQLkga",optionInfo:"option_info-IQLkga","ratio-selector-icon":"ratio-selector-icon-kuyw2L",ratioSelectorIcon:"ratio-selector-icon-kuyw2L"}},653986:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n={modal:"modal-Buz7yf",container:"container-vKJiXJ",main:"main-H1zzMT","hide-form":"hide-form-_PuKOU",hideForm:"hide-form-_PuKOU",form:"form-ymcAN7",footer:"footer-B1oOCg",processing:"processing-Bpxk36",header:"header-RYwJie",header_title:"header_title-mKkfB6",headerTitle:"header_title-mKkfB6",header_icon:"header_icon-NmCsIv",headerIcon:"header_icon-NmCsIv",submit:"submit-CXTNmZ",disagree:"disagree-jcDHAn",agree:"agree-VOQQb2",tips:"tips-Bioyw9",tips_icon:"tips_icon-a01FvO",tipsIcon:"tips_icon-a01FvO",tips_text:"tips_text-vOuWnC",tipsText:"tips_text-vOuWnC"}},24866:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n={container:"container-QNS1Bd",left:"left-WmZcGG",right:"right-g8x7Xw",body:"body-dMZsb1",title:"title-k9etds",content:"content-HW01fM",icon:"icon-_mD2JZ"}},14012:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n={wrapper:"wrapper-YYIHQi",wrapper__fade_in:"wrapper__fade_in-V7gapk",wrapperFadeIn:"wrapper__fade_in-V7gapk",elementFadeIn:"elementFadeIn-viBbaE",container:"container-Euglfn",header:"header-n2cXLo",title:"title-o3KAlp",switch_button:"switch_button-BopylS",switchButton:"switch_button-BopylS",switch_button__previous:"switch_button__previous-yFK_7n",switchButtonPrevious:"switch_button__previous-yFK_7n",editor:"editor-iUe88M",footer:"footer-LTkOSN",footer_container:"footer_container-kYfpds",footerContainer:"footer_container-kYfpds",tips:"tips-EZeylz",tips_left:"tips_left-cCf7m_",tipsLeft:"tips_left-cCf7m_",tips_icon:"tips_icon-IFUiho",tipsIcon:"tips_icon-IFUiho",tips_text:"tips_text-XiEPgQ",tipsText:"tips_text-XiEPgQ",discard:"discard-aPtksS",use_this:"use_this-JMAEbG",useThis:"use_this-JMAEbG",use_icon:"use_icon-Lb8cU9",useIcon:"use_icon-Lb8cU9",laws:"laws-WKtuNg",elementFadeOut:"elementFadeOut-VPpbDy"}},843446:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n={"card-select-grid-item":"card-select-grid-item-n6dMIl",cardSelectGridItem:"card-select-grid-item-n6dMIl",checked:"checked-WtEC4C","item-cover":"item-cover-pgA2aJ",itemCover:"item-cover-pgA2aJ","item-top":"item-top-rDB8pf",itemTop:"item-top-rDB8pf","video-cover":"video-cover-qUKf80",videoCover:"video-cover-qUKf80","item-time":"item-time-Ru_cgR",itemTime:"item-time-Ru_cgR","item-time-icon":"item-time-icon-Uk66rq",itemTimeIcon:"item-time-icon-Uk66rq",checkbox:"checkbox-jEVITj","item-footer":"item-footer-Fvs_zk",itemFooter:"item-footer-Fvs_zk","card-select-list-item":"card-select-list-item-l0fQzi",cardSelectListItem:"card-select-list-item-l0fQzi",cover:"cover-uC2Xzh",name:"name-QfcJss",desc:"desc-hqFUcw"}},2875:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n={"material-selector-content-wrap-grid":"material-selector-content-wrap-grid-lLkWGj",materialSelectorContentWrapGrid:"material-selector-content-wrap-grid-lLkWGj","is-scrolling":"is-scrolling-MOtUZs",isScrolling:"is-scrolling-MOtUZs","file-item":"file-item-NJtPcB",fileItem:"file-item-NJtPcB","file-img":"file-img-fGx3EE",fileImg:"file-img-fGx3EE","file-footer":"file-footer-zWBwA6",fileFooter:"file-footer-zWBwA6","footer-left":"footer-left-QvhMEb",footerLeft:"footer-left-QvhMEb","file-title":"file-title-NyEzDK",fileTitle:"file-title-NyEzDK","file-edit-time":"file-edit-time-JeWKJq",fileEditTime:"file-edit-time-JeWKJq","material-selector-content-wrap-list":"material-selector-content-wrap-list-LnRz94",materialSelectorContentWrapList:"material-selector-content-wrap-list-LnRz94","material-selector-content-wrap-list-empty":"material-selector-content-wrap-list-empty-URzuT9",materialSelectorContentWrapListEmpty:"material-selector-content-wrap-list-empty-URzuT9",breath:"breath-x5O5tV","grid-loading":"grid-loading-YGP7QI",gridLoading:"grid-loading-YGP7QI","list-loading":"list-loading-yMlcwr",listLoading:"list-loading-yMlcwr"}},211683:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n={"st-player-status":"st-player-status-AKRlSq",stPlayerStatus:"st-player-status-AKRlSq","st-player-status__center":"st-player-status__center-MnFgvX",stPlayerStatusCenter:"st-player-status__center-MnFgvX","st-player-status__loading":"st-player-status__loading-g6UWcx",stPlayerStatusLoading:"st-player-status__loading-g6UWcx","lv-spin-track":"lv-spin-track-oQhw4I",lvSpinTrack:"lv-spin-track-oQhw4I","lv-spin-thumb":"lv-spin-thumb-WDJ4kv",lvSpinThumb:"lv-spin-thumb-WDJ4kv","st-player-status_text":"st-player-status_text-ISmcQb",stPlayerStatusText:"st-player-status_text-ISmcQb"}},196380:function(){},758171:function(e,t,r){"use strict";r.d(t,{AM:function(){return a},Uz:function(){return i},cs:function(){return o}});var n=r(408835);function i(e){return 0!==e.status?e.getSnapshot():e.machine.initialState}function o(e){return"state"in e&&"machine"in e}function a(e,t,r){if(e.status===n.TM.NotStarted)return!0;var i=void 0===r.changed&&(Object.keys(r.children).length>0||"boolean"==typeof t.changed);return!(r.changed||i)}},915875:function(e){"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},379640:function(e){"use strict";e.exports=function(e){return null===e||"function"!=typeof e&&"object"!=typeof e}},596491:function(e,t,r){"use strict";r.d(t,{T:function(){return c}});var n=r(157215),i=r(286354),o=r(457494),a=r(365559),s=r(246737),c=function(e){var t=(0,n.K)(e).filter(i.IS),r=(0,o.V0)(e,e,t),c=(0,a.v)((0,s.s)([r],!0),!0,!0),l=(0,s.s)(t,!1);return c.map(function(e){var t=e.node;return{node:t,index:e.index,lockItem:l.indexOf(t)>=0,guard:(0,i.Z9)(t)}})}},92233:function(e,t,r){"use strict";r.d(t,{ZP:function(){return n}});let n=r(96204).C},466966:function(e,t,r){"use strict";var n=r(244014),i={Uri:{createUriRegex:function(e){if("object"!=typeof(e=e||{})||Array.isArray(e))throw Error("options must be an object");var t="";if(e.scheme){if(Array.isArray(e.scheme)||(e.scheme=[e.scheme]),e.scheme.length<=0)throw Error("scheme must have at least 1 scheme specified");for(var r=0;r<e.scheme.length;++r){var i=e.scheme[r];if(!(i instanceof RegExp||"string"==typeof i))throw Error("scheme must only contain Regular Expressions or Strings");if(t+=t?"|":"",i instanceof RegExp)t+=i.source;else{if(!/[a-zA-Z][a-zA-Z0-9+-\.]*/.test(i))throw Error("scheme at position "+r+" must be a valid scheme");t+=i.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}}}return RegExp("^(?:(?:"+(t||n.scheme)+"):"+n.hierPart+")(?:\\?"+n.query+")?(?:#"+n.fragment+")?$")},uriRegex:new RegExp(n.uri)}};i.Uri.isValid=function(e){return i.Uri.uriRegex.test(e)},e.exports={createUriRegex:i.Uri.createUriRegex,uriRegex:i.Uri.uriRegex,isValid:i.Uri.isValid}},671229:function(e,t,r){e=r.nmd(e),(function(){"use strict";var n={function:!0,object:!0},i=n[typeof window]&&window||this,o=n[typeof t]&&t,a=n.object&&e&&!e.nodeType&&e,s=o&&a&&"object"==typeof r.g&&r.g;s&&(s.global===s||s.window===s||s.self===s)&&(i=s);var c=/\bOpera/,l=Object.prototype,u=l.hasOwnProperty,d=l.toString;function p(e){return(e=String(e)).charAt(0).toUpperCase()+e.slice(1)}function f(e){return e=_(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:p(e)}function h(e,t){for(var r in e)u.call(e,r)&&t(e[r],r,e)}function g(e){return null==e?p(e):d.call(e).slice(8,-1)}function v(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function m(e,t){var r=null;return function(e,t){var r=-1,n=e?e.length:0;if("number"==typeof n&&n>-1&&n<=9007199254740991)for(;++r<n;)t(e[r],r,e);else h(e,t)}(e,function(n,i){r=t(r,n,i,e)}),r}function _(e){return String(e).replace(/^ +| +$/g,"")}var y=function e(t){var r,n,o,a,s,l=i,u=t&&"object"==typeof t&&"String"!=g(t);u&&(l=t,t=null);var p=l.navigator||{},y=p.userAgent||"";t||(t=y);var b=u?!!p.likeChrome:/\bChrome\b/.test(t)&&!/internal|\n/i.test(d.toString()),S="Object",w=u&&l.java?"JavaPackage":g(l.java),E=/\bJava/.test(w)&&l.java,k=E&&g(l.environment)==(u?S:"Environment"),x=E?"a":"\u03B1",T=E?"b":"\u03B2",I=l.document||{},C=l.operamini||l.opera,R=c.test(R=u&&C?C["[[Class]]"]:g(C))?R:C=null,A=t,O=[],M=null,P=t==y,N=P&&C&&"function"==typeof C.version&&C.version(),D=m([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"],function(e,r){return e||RegExp("\\b"+(r.pattern||v(r))+"\\b","i").exec(t)&&(r.label||r)}),j=m(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"(?:Edge|Edg|EdgA|EdgiOS)"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Vivaldi","Waterfox","WebPositive",{label:"Yandex Browser",pattern:"YaBrowser"},{label:"UC Browser",pattern:"UCBrowser"},"Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chromium","Chrome",{label:"Chrome",pattern:"(?:HeadlessChrome)"},{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"],function(e,r){return e||RegExp("\\b"+(r.pattern||v(r))+"\\b","i").exec(t)&&(r.label||r)}),L=U([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),B=m({Apple:{iPad:1,iPhone:1,iPod:1},Alcatel:{},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},Huawei:{},Lenovo:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Oppo:{},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1},Xiaomi:{Mi:1,Redmi:1}},function(e,r,n){return e||(r[L]||r[/^[a-z]+(?: +[a-z]+\b)*/i.exec(L)]||RegExp("\\b"+v(n)+"(?:\\b|\\w*\\d)","i").exec(t))&&n}),G=m(["Windows Phone","KaiOS","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian",{label:"DragonFly BSD",pattern:"DragonFly"},"Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "],function(e,r){var n,i,o,a=r.pattern||v(r);return!e&&(e=RegExp("\\b"+a+"(?:/[\\d.]+|[ \\w.]*)","i").exec(t))&&(n=e,i=r.label||r,o={"10.0":"10","6.4":"10 Technical Preview","6.3":"8.1","6.2":"8","6.1":"Server 2008 R2 / 7","6.0":"Server 2008 / Vista","5.2":"Server 2003 / XP 64-bit","5.1":"XP","5.01":"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"},a&&i&&/^Win/i.test(n)&&!/^Windows Phone /i.test(n)&&(o=o[/[\d.]+$/.exec(n)])&&(n="Windows "+o),n=String(n),a&&i&&(n=n.replace(RegExp(a,"i"),i)),e=n=f(n.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])),e});function U(e){return m(e,function(e,r){var n=r.pattern||v(r);return!e&&(e=RegExp("\\b"+n+" *\\d+[.\\w_]*","i").exec(t)||RegExp("\\b"+n+" *\\w+-[\\w]*","i").exec(t)||RegExp("\\b"+n+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(t))&&((e=String(r.label&&!RegExp(n,"i").test(r.label)?r.label:e).split("/"))[1]&&!/[\d.]+/.test(e[0])&&(e[0]+=" "+e[1]),r=r.label||r,e=f(e[0].replace(RegExp(n,"i"),r).replace(RegExp("; *(?:"+r+"[_-])?","i")," ").replace(RegExp("("+r+")[-_.]?(\\w)","i"),"$1 $2"))),e})}function z(e){return m(e,function(e,r){return e||(RegExp(r+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(t)||0)[1]||null})}if(D&&(D=[D]),/\bAndroid\b/.test(G)&&!L&&(a=/\bAndroid[^;]*;(.*?)(?:Build|\) AppleWebKit)\b/i.exec(t))&&(L=_(a[1]).replace(/^[a-z]{2}-[a-z]{2};\s*/i,"")||null),B&&!L?L=U([B]):B&&L&&(L=L.replace(RegExp("^("+v(B)+")[-_.\\s]","i"),B+" ").replace(RegExp("^("+v(B)+")[-_.]?(\\w)","i"),B+" $2")),(a=/\bGoogle TV\b/.exec(L))&&(L=a[0]),/\bSimulator\b/i.test(t)&&(L=(L?L+" ":"")+"Simulator"),"Opera Mini"==j&&/\bOPiOS\b/.test(t)&&O.push("running in Turbo/Uncompressed mode"),"IE"==j&&/\blike iPhone OS\b/.test(t)?(B=(a=e(t.replace(/like iPhone OS/,""))).manufacturer,L=a.product):/^iP/.test(L)?(j||(j="Safari"),G="iOS"+((a=/ OS ([\d_]+)/i.exec(t))?" "+a[1].replace(/_/g,"."):"")):"Konqueror"==j&&/^Linux\b/i.test(G)?G="Kubuntu":B&&"Google"!=B&&(/Chrome/.test(j)&&!/\bMobile Safari\b/i.test(t)||/\bVita\b/.test(L))||/\bAndroid\b/.test(G)&&/^Chrome/.test(j)&&/\bVersion\//i.test(t)?(j="Android Browser",G=/\bAndroid\b/.test(G)?G:"Android"):"Silk"==j?(/\bMobi/i.test(t)||(G="Android",O.unshift("desktop mode")),/Accelerated *= *true/i.test(t)&&O.unshift("accelerated")):"UC Browser"==j&&/\bUCWEB\b/.test(t)?O.push("speed mode"):"PaleMoon"==j&&(a=/\bFirefox\/([\d.]+)\b/.exec(t))?O.push("identifying as Firefox "+a[1]):"Firefox"==j&&(a=/\b(Mobile|Tablet|TV)\b/i.exec(t))?(G||(G="Firefox OS"),L||(L=a[1])):!j||(a=!/\bMinefield\b/i.test(t)&&/\b(?:Firefox|Safari)\b/.exec(j))?(j&&!L&&/[\/,]|^[^(]+?\)/.test(t.slice(t.indexOf(a+"/")+8))&&(j=null),(a=L||B||G)&&(L||B||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(G))&&(j=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(G)?G:a)+" Browser")):"Electron"==j&&(a=(/\bChrome\/([\d.]+)\b/.exec(t)||0)[1])&&O.push("Chromium "+a),N||(N=z(["(?:Cloud9|CriOS|CrMo|Edge|Edg|EdgA|EdgiOS|FxiOS|HeadlessChrome|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$)|UCBrowser|YaBrowser)","Version",v(j),"(?:Firefox|Minefield|NetFront)"])),(a="iCab"==D&&parseFloat(N)>3&&"WebKit"||/\bOpera\b/.test(j)&&(/\bOPR\b/.test(t)?"Blink":"Presto")||/\b(?:Midori|Nook|Safari)\b/i.test(t)&&!/^(?:Trident|EdgeHTML)$/.test(D)&&"WebKit"||!D&&/\bMSIE\b/i.test(t)&&("Mac OS"==G?"Tasman":"Trident")||"WebKit"==D&&/\bPlayStation\b(?! Vita\b)/i.test(j)&&"NetFront")&&(D=[a]),"IE"==j&&(a=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(t)||0)[1])?(j+=" Mobile",G="Windows Phone "+(/\+$/.test(a)?a:a+".x"),O.unshift("desktop mode")):/\bWPDesktop\b/i.test(t)?(j="IE Mobile",G="Windows Phone 8.x",O.unshift("desktop mode"),N||(N=(/\brv:([\d.]+)/.exec(t)||0)[1])):"IE"!=j&&"Trident"==D&&(a=/\brv:([\d.]+)/.exec(t))&&(j&&O.push("identifying as "+j+(N?" "+N:"")),j="IE",N=a[1]),P){if(n="global",o=null!=(r=l)?typeof r[n]:"number",/^(?:boolean|number|string|undefined)$/.test(o)||"object"==o&&!r[n])g(a=l.runtime)==(u?S:"ScriptBridgingProxyObject")?(j="Adobe AIR",G=a.flash.system.Capabilities.os):g(a=l.phantom)==(u?S:"RuntimeObject")?(j="PhantomJS",N=(a=a.version||null)&&a.major+"."+a.minor+"."+a.patch):"number"==typeof I.documentMode&&(a=/\bTrident\/(\d+)/i.exec(t))?(N=[N,I.documentMode],(a=+a[1]+4)!=N[1]&&(O.push("IE "+N[1]+" mode"),D&&(D[1]=""),N[1]=a),N="IE"==j?String(N[1].toFixed(1)):N[0]):"number"==typeof I.documentMode&&/^(?:Chrome|Firefox)\b/.test(j)&&(O.push("masking as "+j+" "+N),j="IE",N="11.0",D=["Trident"],G="Windows");else if(E&&(A=(a=E.lang.System).getProperty("os.arch"),G=G||a.getProperty("os.name")+" "+a.getProperty("os.version")),k){try{N=l.require("ringo/engine").version.join("."),j="RingoJS"}catch(e){(a=l.system)&&a.global.system==l.system&&(j="Narwhal",G||(G=a[0].os||null))}j||(j="Rhino")}else"object"==typeof l.process&&!l.process.browser&&(a=l.process)&&("object"==typeof a.versions&&("string"==typeof a.versions.electron?(O.push("Node "+a.versions.node),j="Electron",N=a.versions.electron):"string"==typeof a.versions.nw&&(O.push("Chromium "+N,"Node "+a.versions.node),j="NW.js",N=a.versions.nw)),j||(j="Node.js",A=a.arch,G=a.platform,N=(N=/[\d.]+/.exec(a.version))?N[0]:null));G=G&&f(G)}if(N&&(a=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(N)||/(?:alpha|beta)(?: ?\d)?/i.exec(t+";"+(P&&p.appMinorVersion))||/\bMinefield\b/i.test(t)&&"a")&&(M=/b/i.test(a)?"beta":"alpha",N=N.replace(RegExp(a+"\\+?$"),"")+("beta"==M?T:x)+(/\d+\+?/.exec(a)||"")),"Fennec"==j||"Firefox"==j&&/\b(?:Android|Firefox OS|KaiOS)\b/.test(G))j="Firefox Mobile";else if("Maxthon"==j&&N)N=N.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(L))"Xbox 360"==L&&(G=null),"Xbox 360"==L&&/\bIEMobile\b/.test(t)&&O.unshift("mobile mode");else if((/^(?:Chrome|IE|Opera)$/.test(j)||j&&!L&&!/Browser|Mobi/.test(j))&&("Windows CE"==G||/Mobi/i.test(t)))j+=" Mobile";else if("IE"==j&&P)try{null===l.external&&O.unshift("platform preview")}catch(e){O.unshift("embedded")}else(/\bBlackBerry\b/.test(L)||/\bBB10\b/.test(t))&&(a=(RegExp(L.replace(/ +/g," *")+"/([.\\d]+)","i").exec(t)||0)[1]||N)?(G=((a=[a,/BB10/.test(t)])[1]?(L=null,B="BlackBerry"):"Device Software")+" "+a[0],N=null):this!=h&&"Wii"!=L&&(P&&C||/Opera/.test(j)&&/\b(?:MSIE|Firefox)\b/i.test(t)||"Firefox"==j&&/\bOS X (?:\d+\.){2,}/.test(G)||"IE"==j&&(G&&!/^Win/.test(G)&&N>5.5||/\bWindows XP\b/.test(G)&&N>8||8==N&&!/\bTrident\b/.test(t)))&&!c.test(a=e.call(h,t.replace(c,"")+";"))&&a.name&&(a="ing as "+a.name+((a=a.version)?" "+a:""),c.test(j)?(/\bIE\b/.test(a)&&"Mac OS"==G&&(G=null),a="identify"+a):(a="mask"+a,j=R?f(R.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(a)&&(G=null),P||(N=null)),D=["Presto"],O.push(a));(a=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(t)||0)[1])&&(a=[parseFloat(a.replace(/\.(\d)$/,".0$1")),a],"Safari"==j&&"+"==a[1].slice(-1)?(j="WebKit Nightly",M="alpha",N=a[1].slice(0,-1)):(N==a[1]||N==(a[2]=(/\bSafari\/([\d.]+\+?)/i.exec(t)||0)[1]))&&(N=null),a[1]=(/\b(?:Headless)?Chrome\/([\d.]+)/i.exec(t)||0)[1],537.36==a[0]&&537.36==a[2]&&parseFloat(a[1])>=28&&"WebKit"==D&&(D=["Blink"]),P&&(b||a[1])?(D&&(D[1]="like Chrome"),a=a[1]||((a=a[0])<530?1:a<532?2:a<532.05?3:a<533?4:a<534.03?5:a<534.07?6:a<534.1?7:a<534.13?8:a<534.16?9:a<534.24?10:a<534.3?11:a<535.01?12:a<535.02?"13+":a<535.07?15:a<535.11?16:a<535.19?17:a<536.05?18:a<536.1?19:a<537.01?20:a<537.11?"21+":a<537.13?23:a<537.18?24:a<537.24?25:a<537.36?26:"Blink"!=D?"27":"28")):(D&&(D[1]="like Safari"),a=(a=a[0])<400?1:a<500?2:a<526?3:a<533?4:a<534?"4+":a<535?5:a<537?6:a<538?7:a<601?8:a<602?9:a<604?10:a<606?11:a<608?12:"12"),D&&(D[1]+=" "+(a+="number"==typeof a?".x":/[.+]/.test(a)?"":"+")),"Safari"==j&&(!N||parseInt(N)>45)?N=a:"Chrome"==j&&/\bHeadlessChrome/i.test(t)&&O.unshift("headless")),"Opera"==j&&(a=/\bzbov|zvav$/.exec(G))?(j+=" ",O.unshift("desktop mode"),"zvav"==a?(j+="Mini",N=null):j+="Mobile",G=G.replace(RegExp(" *"+a+"$"),"")):"Safari"==j&&/\bChrome\b/.exec(D&&D[1])?(O.unshift("desktop mode"),j="Chrome Mobile",N=null,/\bOS X\b/.test(G)?(B="Apple",G="iOS 4.3+"):G=null):/\bSRWare Iron\b/.test(j)&&!N&&(N=z("Chrome")),N&&0==N.indexOf(a=/[\d.]+$/.exec(G))&&t.indexOf("/"+a+"-")>-1&&(G=_(G.replace(a,""))),G&&-1!=G.indexOf(j)&&!RegExp(j+" OS").test(G)&&(G=G.replace(RegExp(" *"+v(j)+" *"),"")),D&&!/\b(?:Avant|Nook)\b/.test(j)&&(/Browser|Lunascape|Maxthon/.test(j)||"Safari"!=j&&/^iOS/.test(G)&&/\bSafari\b/.test(D[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|SRWare Iron|Vivaldi|Web)/.test(j)&&D[1])&&(a=D[D.length-1])&&O.push(a),O.length&&(O=["("+O.join("; ")+")"]),B&&L&&0>L.indexOf(B)&&O.push("on "+B),L&&O.push((/^on /.test(O[O.length-1])?"":"on ")+L),G&&(s=(a=/ ([\d.+]+)$/.exec(G))&&"/"==G.charAt(G.length-a[0].length-1),G={architecture:32,family:a&&!s?G.replace(a[0],""):G,version:a?a[1]:null,toString:function(){var e=this.version;return this.family+(e&&!s?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(a=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(A))&&!/\bi686\b/i.test(A)?(G&&(G.architecture=64,G.family=G.family.replace(RegExp(" *"+a),"")),j&&(/\bWOW64\b/i.test(t)||P&&/\w(?:86|32)$/.test(p.cpuClass||p.platform)&&!/\bWin64; x64\b/i.test(t))&&O.unshift("32-bit")):G&&/^OS X/.test(G.family)&&"Chrome"==j&&parseFloat(N)>=39&&(G.architecture=64),t||(t=null);var F={};return F.description=t,F.layout=D&&D[0],F.manufacturer=B,F.name=j,F.prerelease=M,F.product=L,F.ua=t,F.version=j&&N,F.os=G||{architecture:null,family:null,version:null,toString:function(){return"null"}},F.parse=e,F.toString=function(){return this.description||""},F.version&&O.unshift(N),F.name&&O.unshift(j),G&&j&&!(G==String(G).split(" ")[0]&&(G==j.split(" ")[0]||L))&&O.push(L?"("+G+")":"on "+G),O.length&&(F.description=O.join(" ")),F}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(i.platform=y,define(function(){return y})):o&&a?h(y,function(e,t){o[t]=e}):i.platform=y}).call(this)},878174:function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function i(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function a(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=r(218571),c=r(361235),l=[],u=[];function d(e){var t=e(),r={loading:!0,loaded:null,error:null};return r.promise=t.then(function(e){return r.loading=!1,r.loaded=e,e}).catch(function(e){throw r.loading=!1,r.error=e,e}),r}function p(e){var t={loading:!1,loaded:{},error:null},r=[];try{Object.keys(e).forEach(function(n){var i=d(e[n]);i.loading?t.loading=!0:(t.loaded[n]=i.loaded,t.error=i.error),r.push(i.promise),i.promise.then(function(e){t.loaded[n]=e}).catch(function(e){t.error=e})})}catch(e){t.error=e}return t.promise=Promise.all(r).then(function(e){return t.loading=!1,e}).catch(function(e){throw t.loading=!1,e}),t}function f(e,t){return s.createElement(e&&e.__esModule?e.default:e,t)}function h(e,t){if(!t.loading)throw Error("react-loadable requires a `loading` component");var d,p,h=Object.assign({loader:null,loading:null,delay:200,timeout:null,render:f,webpack:null,modules:null},t),g=null;function v(){return g||(g=e(h.loader)),g.promise}return l.push(v),"function"==typeof h.webpack&&u.push(function(){var e;if(e=h.webpack,"object"===n(r.m)&&e().every(function(e){return void 0!==e&&void 0!==r.m[e]}))return v()}),p=d=function(t){function r(n){i(this,r);var a=o(this,t.call(this,n));return a.retry=function(){a.setState({error:null,loading:!0,timedOut:!1}),g=e(h.loader),a._loadModule()},v(),a.state={error:g.error,pastDelay:!1,timedOut:!1,loading:g.loading,loaded:g.loaded},a}return a(r,t),r.preload=function(){return v()},r.prototype.componentWillMount=function(){this._mounted=!0,this._loadModule()},r.prototype._loadModule=function(){var e=this;if(this.context.loadable&&Array.isArray(h.modules)&&h.modules.forEach(function(t){e.context.loadable.report(t)}),g.loading){"number"==typeof h.delay&&(0===h.delay?this.setState({pastDelay:!0}):this._delay=setTimeout(function(){e.setState({pastDelay:!0})},h.delay)),"number"==typeof h.timeout&&(this._timeout=setTimeout(function(){e.setState({timedOut:!0})},h.timeout));var t=function(){e._mounted&&(e.setState({error:g.error,loaded:g.loaded,loading:g.loading}),e._clearTimeouts())};g.promise.then(function(){t()}).catch(function(e){t()})}},r.prototype.componentWillUnmount=function(){this._mounted=!1,this._clearTimeouts()},r.prototype._clearTimeouts=function(){clearTimeout(this._delay),clearTimeout(this._timeout)},r.prototype.render=function(){return this.state.loading||this.state.error?s.createElement(h.loading,{isLoading:this.state.loading,pastDelay:this.state.pastDelay,timedOut:this.state.timedOut,error:this.state.error,retry:this.retry}):this.state.loaded?h.render(this.state.loaded,this.props):null},r}(s.Component),d.contextTypes={loadable:c.shape({report:c.func.isRequired})},p}function g(e){return h(d,e)}g.Map=function(e){if("function"!=typeof e.render)throw Error("LoadableMap requires a `render(loaded, props)` function");return h(p,e)};var v=function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.getChildContext=function(){return{loadable:{report:this.props.report}}},t.prototype.render=function(){return s.Children.only(this.props.children)},t}(s.Component);function m(e){for(var t=[];e.length;){var r=e.pop();t.push(r())}return Promise.all(t).then(function(){if(e.length)return m(e)})}v.propTypes={report:c.func.isRequired},v.childContextTypes={loadable:c.shape({report:c.func.isRequired}).isRequired},g.Capture=v,g.preloadAll=function(){return new Promise(function(e,t){m(l).then(e,t)})},g.preloadReady=function(){return new Promise(function(e,t){m(u).then(e,e)})},e.exports=g},654011:function(e,t,r){"use strict";var n=r(83913),i=r(606963),o=r(906620),a=r(448358),s=r(226717),c=i(a());n(c,{getPolyfill:a,implementation:o,shim:s}),e.exports=c},985919:function(e,t,r){var n=r(32016),i=r(131837),o=r(696772),a=r(140860).Buffer,s=Array(160);function c(){this.init(),this._w=s,o.call(this,128,112)}n(c,i),c.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},c.prototype._hash=function(){var e=a.allocUnsafe(48);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},e.exports=c},21549:function(e,t,r){"use strict";var n=r(161907)(),i=r(659418);e.exports=function(){return n&&"symbol"==typeof Symbol.matchAll&&"function"==typeof RegExp.prototype[Symbol.matchAll]?RegExp.prototype[Symbol.matchAll]:i}},27381:function(e,t,r){"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(218571),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=n.useState,a=n.useEffect,s=n.useLayoutEffect,c=n.useDebugValue;function l(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!i(e,r)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=o({inst:{value:r,getSnapshot:t}}),i=n[0].inst,u=n[1];return s(function(){i.value=r,i.getSnapshot=t,l(i)&&u({inst:i})},[e,r,t]),a(function(){return l(i)&&u({inst:i}),e(function(){l(i)&&u({inst:i})})},[e]),c(r),r};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:u},150014:function(e,t,r){"use strict";r.d(t,{d1:function(){return d}});var n=r(623621),i=r(940565),o=r(948600),a=r(640400),s=r(413701),c=r(304701),l=function(){try{return s.j?window.MediaSource:null}catch(e){}}(),u={APPEND:"appendBuffer",REMOVE:"removeBuffer",UPDATE_DURATION:"updateDuration"},d=function(){var e,t,r;function s(e,t){var r=this;(0,n.PA)(this,s),(0,n._x)(this,"media",null),(0,n._x)(this,"mediaSource",null),(0,n._x)(this,"_openPromise",(0,i.Q)()),(0,n._x)(this,"_queue",Object.create(null)),(0,n._x)(this,"_sourceBuffer",Object.create(null)),(0,n._x)(this,"_mseFullFlag",{}),(0,n._x)(this,"_st",0),(0,n._x)(this,"_opst",0),(0,n._x)(this,"_logger",null),(0,n._x)(this,"_config",null),(0,n._x)(this,"_url",null),(0,n._x)(this,"_onSBUpdateEnd",function(e){var t=r._queue[e];if(t){var n=t[0];if((null==n?void 0:n.opName)!==u.UPDATE_DURATION&&t.shift(),n){var o=(0,i.j)()-r._opst;r._logger.debug("UpdateEnd",n.opName,o,n.context),n.promise.resolve({name:n.opName,context:n.context,costtime:o}),r._startQueue(e)}}}),(0,n._x)(this,"_onSBUpdateError",function(e,t){var n=r._queue[e];if(n){var i=n[0];i&&(r._logger.error("UpdateError",e,i.opName,i.context),i.promise.reject(new a.Fc(a.wb.MEDIA,a.wb.SUB_TYPES.MSE_APPEND_BUFFER,t)))}}),this._config=Object.assign(s.getDefaultConfig(),t),e&&this.bindMedia(e),this._logger=new c.Y("MSE"),this._config.openLog&&c.Y.enable()}return(0,n.qH)(s,[{key:"isOpened",get:function(){var e;return(null===(e=this.mediaSource)||void 0===e?void 0:e.readyState)==="open"}},{key:"url",get:function(){return this._url}},{key:"duration",get:function(){var e;return(null===(e=this.mediaSource)||void 0===e?void 0:e.duration)||-1}},{key:"isEnded",get:function(){return!!this.mediaSource&&"ended"===this.mediaSource.readyState}},{key:"isFull",value:function(e){return e?this._mseFullFlag[e]:this._mseFullFlag[s.VIDEO]}},{key:"updateDuration",value:function(e){var t=this,r=this.mediaSource&&this.mediaSource.duration>e;if(this.mediaSource&&this.mediaSource.duration>e){var n=0;if(Object.keys(this._sourceBuffer).forEach(function(e){try{n=Math.max(t.bufferEnd(e)||0,n)}catch(e){}}),e<n)return Promise.resolve()}return this._enqueueBlockingOp(function(){if(t.isEnded){t._logger.debug("[debug mse] setDuration ended");return}t.mediaSource&&(t.mediaSource.duration=e,t._logger.debug("[debug mse] setDuration"))},u.UPDATE_DURATION,{isReduceDuration:r})}},{key:"open",value:function(){var e=this;if(this._openPromise.used&&!this.isOpened&&this.mediaSource){var t=this.mediaSource;t.addEventListener("sourceopen",function r(){var n=(0,i.j)()-e._st;e._logger.debug("MSE OPEN",n),t.removeEventListener("sourceopen",r),e._openPromise.resolve({costtime:n})}),this._openPromise=(0,i.Q)()}return this._openPromise}},{key:"bindMedia",value:(e=(0,n.x)((0,n.l5)().mark(function e(t){var r,o,a=this;return(0,n.l5)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.mediaSource||this.media)){e.next=3;break}return e.next=3,this.unbindMedia();case 3:if(!(!t||!l)){e.next=5;break}throw Error("Param media or MediaSource does not exist");case 5:return this.media=t,r=this.mediaSource=new l,this._st=(0,i.j)(),o=function e(){var n=(0,i.j)()-a._st;a._logger.debug("MSE OPEN"),r.removeEventListener("sourceopen",e),URL.revokeObjectURL(t.src),a._openPromise.resolve({costtime:n})},r.addEventListener("sourceopen",o),this._url=URL.createObjectURL(r),t.src=this._url,e.abrupt("return",this._openPromise);case 13:case"end":return e.stop()}},e,this)})),function(t){return e.apply(this,arguments)})},{key:"unbindMedia",value:(t=(0,n.x)((0,n.l5)().mark(function e(){var t,r,o,a=this;return(0,n.l5)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._openPromise.used||this._openPromise.resolve(),t=this.mediaSource){if(Object.keys(this._queue).forEach(function(e){var t=a._queue[e];t&&t.forEach(function(e){return e.promise.resolve})}),r=!!this.media&&this.media.readyState>=1,o="open"===t.readyState,r&&o)try{t.endOfStream()}catch(e){}Object.keys(this._sourceBuffer).forEach(function(e){try{t.removeSourceBuffer(a._sourceBuffer[e])}catch(e){}})}if(this.media){this.media.removeAttribute("src");try{this.media.load()}catch(e){}this.media=null}this.mediaSource=null,this._openPromise=(0,i.Q)(),this._queue=Object.create(null),this._sourceBuffer=Object.create(null);case 8:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"createSource",value:function(e,t){var r;if(!this._sourceBuffer[e]&&this.mediaSource){try{r=this._sourceBuffer[e]=this.mediaSource.addSourceBuffer(t)}catch(e){throw new a.Fc(a.wb.MEDIA,a.wb.SUB_TYPES.MSE_ADD_SB,e)}r.mimeType=t,r.addEventListener("updateend",this._onSBUpdateEnd.bind(this,e)),r.addEventListener("error",this._onSBUpdateError.bind(this,e))}}},{key:"changeType",value:function(e,t){var r=this,n=this._sourceBuffer[e];return this.mediaSource&&n&&n.mimeType!==t?"function"!=typeof n.changeType?Promise.reject():this._enqueueOp(e,function(){n.changeType(t),n.mimeType=t,r._onSBUpdateEnd(e)},"changeType",{mimeType:t}):Promise.resolve()}},{key:"createOrChangeSource",value:function(e,t){return this.createSource(e,t),this.changeType(e,t)}},{key:"append",value:function(e,t,r){var n=this;return t&&t.byteLength&&this._sourceBuffer[e]?this._enqueueOp(e,function(){var o;n.mediaSource&&!n.media.error&&(n._logger.debug("MSE APPEND START",r),n._opst=(0,i.j)(),null===(o=n._sourceBuffer[e])||void 0===o||o.appendBuffer(t))},u.APPEND,r):Promise.resolve()}},{key:"remove",value:function(e,t,r,n){var o=this,a=!1;return this._mseFullFlag[e]&&(a=!0),this._enqueueOp(e,function(){if(o.mediaSource&&!o.media.error){var a=o._sourceBuffer[e];if(t>=r||!a){o._onSBUpdateEnd(e);return}o._opst=(0,i.j)(),o._logger.debug("MSE REMOVE START",e,t,r,n),a.remove(t,r)}},u.REMOVE,n,a)}},{key:"clearBuffer",value:function(e,t){var r,n=this;return Object.keys(this._sourceBuffer).forEach(function(i){r=n._enqueueOp(i,function(){if(n.mediaSource&&!n.media.error){var r=n._sourceBuffer[i];n._logger.debug("MSE clearBuffer START",i,e,t),r.remove(e,t)}},u.REMOVE)}),r}},{key:"clearAllBuffer",value:function(){var e,t=this;return Object.keys(this._sourceBuffer).forEach(function(r){e=t._enqueueOp(r,function(){if(t.mediaSource&&!t.media.error){var e=t._sourceBuffer[r];t._logger.debug("MSE clearAllBuffer START",r),e.remove(0,o.l.end(o.l.get(e)))}})}),e}},{key:"clearOpQueues",value:function(e,t){this._logger.debug("MSE clearOpQueue START");var r,n=this._queue[e];if(t&&n){this._queue[e]=[];return}if(n&&n[e]&&!(n.length<5)){var i=[];n.forEach(function(e){e.context&&e.context.isinit&&i.push(e)}),this._queue[e]=n.slice(0,2),i.length>0&&(r=this._queue[e]).push.apply(r,i)}}},{key:"endOfStream",value:function(e){var t=this;return this.mediaSource&&"open"===this.mediaSource.readyState?this._enqueueBlockingOp(function(){var r=t.mediaSource;r&&"open"===r.readyState&&(t._logger.debug("MSE endOfStream START"),e?r.endOfStream(e):r.endOfStream())},"endOfStream"):Promise.resolve()}},{key:"setLiveSeekableRange",value:function(e,t){var r=this.mediaSource;e<0||t<e||null==r||!r.setLiveSeekableRange||"open"!==r.readyState||r.setLiveSeekableRange(e,t)}},{key:"getSourceBuffer",value:function(e){return this._sourceBuffer[e]}},{key:"buffered",value:function(e){return o.l.get(this._sourceBuffer[e])}},{key:"bufferStart",value:function(e){return o.l.start(this.buffered(e))}},{key:"bufferEnd",value:function(e){return o.l.end(this.buffered(e))}},{key:"_enqueueOp",value:function(e,t,r,n,o){var a=this;if(!this.mediaSource)return Promise.resolve();var s=this._queue[e]=this._queue[e]||[],c={exec:t,promise:(0,i.Q)(),opName:r,context:n};return o?(s.splice(0,0,c),this._mseFullFlag[e]=!1,this._startQueue(e)):s.push(c),this.isOpened||this.isEnded?1===s.length&&this._startQueue(e):this._openPromise.then(function(){1===s.length&&a._startQueue(e)}),c.promise}},{key:"_enqueueBlockingOp",value:(r=(0,n.x)((0,n.l5)().mark(function e(t,r,o){var a,s,c=this;return(0,n.l5)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.mediaSource){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:if((a=Object.keys(this._sourceBuffer)).length){e.next=5;break}return e.abrupt("return",t());case 5:return s=[],a.forEach(function(e){var t=c._queue[e],n=(0,i.Q)();s.push(n),t.push({exec:function(){n.resolve()},promise:n,opName:r,context:o}),1===t.length&&c._startQueue(e)}),e.abrupt("return",Promise.all(s).then(function(){try{return t()}finally{a.forEach(function(e){var t=c._queue[e],r=c._sourceBuffer[e];null==t||t.shift(),r&&r.updating||c._startQueue(e)})}}));case 8:case"end":return e.stop()}},e,this)})),function(e,t,n){return r.apply(this,arguments)})},{key:"_startQueue",value:function(e){var t=this._queue[e];if(t){var r=t[0];if(r&&!this._mseFullFlag[e])try{r.exec()}catch(n){n&&n.message&&n.message.indexOf("SourceBuffer is full")>=0?(this._mseFullFlag[e]=!0,this._logger.error("[MSE error],  context,",r.context," ,name,",r.opName,",err,SourceBuffer is full"),r.promise.reject(new a.Fc(a.wb.MEDIA,a.wb.SUB_TYPES.MSE_FULL,n))):(this._logger.error(n),r.promise.reject(new a.Fc(a.wb.MEDIA,a.wb.SUB_TYPES.MSE_OTHER,n)),t.shift(),this._startQueue(e))}}}},{key:"setTimeoffset",value:function(e,t,r){var n=this;return this._enqueueOp(e,function(){t<0&&(t+=.001),n._sourceBuffer[e].timestampOffset=t,n._onSBUpdateEnd(e)},"setTimeoffset",r)}},{key:"abort",value:function(e,t){var r=this;return this.isOpened?this._enqueueOp(e,function(){r._sourceBuffer[e].abort(),r._onSBUpdateEnd(e)},"abort",t):Promise.resolve()}}],[{key:"getDefaultConfig",value:function(){return{openLog:!1}}},{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:'video/mp4; codecs="avc1.42E01E,mp4a.40.2"';if(!l)return!1;try{return l.isTypeSupported(e)}catch(t){return this._logger.error(e,t),!1}}}]),s}();(0,n._x)(d,"VIDEO","video"),(0,n._x)(d,"AUDIO","audio")},27571:function(e,t,r){"use strict";r.d(t,{Y:function(){return i}});var n=r(949024),i=function(){function e(t,r){(0,n.PA)(this,e),this.name=t||"",this._prefix="[".concat(this.name,"]"),e.disabled=r}return(0,n.qH)(e,[{key:"debug",value:function(){var t;if(!e.disabled){for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];(t=console).debug.apply(t,[this._prefix].concat(n))}}},{key:"log",value:function(){var t;if(!e.disabled){for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];(t=console).log.apply(t,[this._prefix].concat(n))}}},{key:"warn",value:function(){var t;if(!e.disabled){for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];(t=console).warn.apply(t,[this._prefix].concat(n))}}},{key:"error",value:function(){var t;if(!e.disabled){for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];(t=console).error.apply(t,[this._prefix].concat(n))}}},{key:"table",value:function(){var t;e.disabled||(console.group(this._prefix),(t=console).table.apply(t,arguments),console.groupEnd())}}],[{key:"enable",value:function(){e.disabled=!1}},{key:"disable",value:function(){e.disabled=!0}}]),e}();(0,n._x)(i,"disabled",!0)},767618:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(996706);function i(){return{id:"",el:null,url:"",domEventType:"default",nullUrlStart:!1,width:600,height:337.5,fluid:!1,fitVideoSize:"fixed",videoFillMode:"auto",volume:.6,autoplay:!1,autoplayMuted:!1,loop:!1,isLive:!1,zoom:1,videoInit:!0,poster:"",isMobileSimulateMode:!1,defaultPlaybackRate:1,execBeforePluginsCall:null,allowSeekAfterEnded:!0,enableContextmenu:!0,closeVideoClick:!1,closeVideoDblclick:!1,closePlayerBlur:!1,closeDelayBlur:!1,leavePlayerTime:3e3,closePlayVideoFocus:!1,closePauseVideoFocus:!1,closeFocusVideoFocus:!0,closeControlsBlur:!0,topBarAutoHide:!0,videoAttributes:{},startTime:0,seekedStatus:"play",miniprogress:!1,disableSwipeHandler:function(){},enableSwipeHandler:function(){},preProcessUrl:null,ignores:[],whitelist:[],inactive:3e3,lang:(0,n.VQ)(),controls:!0,marginControls:!1,fullscreenTarget:null,screenShot:!1,rotate:!1,pip:!1,download:!1,mini:!1,cssFullscreen:!0,keyShortcut:!0,presets:[],plugins:[],playbackRate:1,definition:{list:[]},playsinline:!0,customDuration:0,timeOffset:0,icons:{},i18n:[],tabindex:0,thumbnail:null,videoConfig:{},isHideTips:!1,minWaitDelay:200,commonStyle:{progressColor:"",playedColor:"",cachedColor:"",sliderBtnStyle:{},volumeColor:""}}}},593890:function(e,t,r){"use strict";r.d(t,{G:function(){return c},a:function(){return l}});var n=r(486097),i=r(996706),o=r(577901),a=function(){function e(){var t=this;if((0,n.PA)(this,e),(0,n._x)(this,"__trigger",function(e){var r=new Date().getTime();t.timeStamp=r;for(var n=0;n<e.length;n++)t.__runHandler(e[n].target)}),this.__handlers=[],this.timeStamp=0,this.observer=null,window.ResizeObserver)try{this.observer=new window.ResizeObserver((0,i.P2)(this.__trigger,100,{trailing:!0})),this.timeStamp=new Date().getTime()}catch(e){console.error(e)}}return(0,n.qH)(e,[{key:"addObserver",value:function(e,t){if(this.observer){this.observer&&this.observer.observe(e);for(var r=e.getAttribute(o.wo),n=this.__handlers,i=-1,a=0;a<n.length;a++)n[a]&&e===n[a].target&&(i=a);i>-1?this.__handlers[i].handler=t:this.__handlers.push({target:e,handler:t,playerId:r})}}},{key:"unObserver",value:function(e){var t=-1;this.__handlers.map(function(r,n){e===r.target&&(t=n)});try{this.observer&&this.observer.unobserve(e)}catch(e){}this.observer&&this.observer.unobserve(e),t>-1&&this.__handlers.splice(t,1)}},{key:"destroyObserver",value:function(){this.observer&&this.observer.disconnect(),this.observer=null,this.__handlers=null}},{key:"__runHandler",value:function(e){for(var t=this.__handlers,r=0;r<t.length;r++)if(t[r]&&e===t[r].target){try{t[r].handler(e)}catch(e){console.error(e)}return!0}return!1}}]),e}(),s=null;function c(e,t){return s||(s=new a),s.addObserver(e,t),s}function l(e,t){s.unObserver(e,t)}},238642:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var n="3.0.12-alpha.7"},47212:function(e,t,r){"use strict";var n,i,o,a;r.d(t,{K:function(){return i},M:function(){return n}}),(o=n||(n={})).Start="xstate.start",o.Stop="xstate.stop",o.Raise="xstate.raise",o.Send="xstate.send",o.Cancel="xstate.cancel",o.NullEvent="",o.Assign="xstate.assign",o.After="xstate.after",o.DoneState="done.state",o.DoneInvoke="done.invoke",o.Log="xstate.log",o.Init="xstate.init",o.Invoke="xstate.invoke",o.ErrorExecution="error.execution",o.ErrorCommunication="error.communication",o.ErrorPlatform="error.platform",o.ErrorCustom="xstate.error",o.Update="xstate.update",o.Pure="xstate.pure",o.Choose="xstate.choose",(a=i||(i={})).Parent="#_parent",a.Internal="#_internal"},871484:function(e,t,r){"use strict";r.d(t,{r:function(){return a}});var n=r(69984),i=r(764112),o=r(772322);r(218571);var a=e=>(0,o.jsx)("svg",(0,i._)((0,n._)({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),{children:(0,o.jsxs)("g",{fill:"currentColor",children:[(0,o.jsx)("path",{d:"M11.333 13.417c0 .23.187.417.417.417h3.333c.23 0 .417-.187.417-.417v-.833a.417.417 0 0 0-.417-.417H11.75a.417.417 0 0 0-.417.417zM.5 3.417c0 .23.186.417.417.417h3.346c.23 0 .417-.187.417-.417v-.834a.417.417 0 0 0-.417-.416H.917a.417.417 0 0 0-.417.417zm0 5c0 .23.186.417.417.417h14.166c.23 0 .417-.187.417-.417v-.834a.417.417 0 0 0-.417-.416H.917a.417.417 0 0 0-.417.416zM7.583 2.164a.417.417 0 0 0-.416.416v.834c0 .23.186.416.416.416h5.82V2.164zM8.443 13.83c.23 0 .416-.187.416-.417v-.833a.417.417 0 0 0-.416-.417h-5.82v1.667z"}),(0,o.jsx)("path",{d:"M12.74 4.907c0 .372.448.558.71.295l1.911-1.91a.417.417 0 0 0 0-.59l-1.91-1.91a.417.417 0 0 0-.712.294zM3.286 11.086a.417.417 0 0 0-.711-.295l-1.91 1.911a.417.417 0 0 0 0 .59l1.91 1.91a.417.417 0 0 0 .711-.294z"})]})}))},536825:function(e,t,r){"use strict";r.d(t,{r:function(){return a}});var n=r(69984),i=r(764112),o=r(772322);r(218571);var a=e=>(0,o.jsx)("svg",(0,i._)((0,n._)({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none",viewBox:"0 0 20 20"},e),{children:(0,o.jsx)("path",{fill:"currentColor",d:"M10 15.833a5.833 5.833 0 1 0-4.52-9.52l1.309 1.309a.417.417 0 0 1-.295.711H2.686l.014-.06a.42.42 0 0 1-.2-.356V4.339c0-.371.449-.557.711-.294L4.296 5.13a7.5 7.5 0 1 1-1.61 6.537h1.722A5.84 5.84 0 0 0 10 15.833"})}))},142592:function(e,t,r){"use strict";r.d(t,{r:function(){return a}});var n=r(69984),i=r(764112),o=r(772322);r(218571);var a=e=>(0,o.jsxs)("svg",(0,i._)((0,n._)({xmlns:"http://www.w3.org/2000/svg",width:21,height:22,fill:"none",viewBox:"0 0 21 22"},e),{children:[(0,o.jsx)("circle",{cx:10,cy:11,r:8.75,fill:"url(#prefix_svg__a)",transform:"rotate(90 10 11)"}),(0,o.jsx)("g",{filter:"url(#prefix_svg__b)",children:(0,o.jsx)("ellipse",{cx:10.625,cy:11,fill:"url(#prefix_svg__c)",rx:8.75,ry:8.125,transform:"rotate(90 10.625 11)"})}),(0,o.jsx)("g",{filter:"url(#prefix_svg__d)",children:(0,o.jsx)("path",{fill:"url(#prefix_svg__e)",d:"M10.625 19.75c-4.487 0-8.125-3.078-8.125-6.875S6.138 6 10.625 6s8.125 3.078 8.125 6.875-3.638 6.875-8.125 6.875"})}),(0,o.jsxs)("defs",{children:[(0,o.jsxs)("radialGradient",{id:"prefix_svg__a",cx:0,cy:0,r:1,gradientTransform:"rotate(.567 -1736.361 467.875)scale(12.8086)",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#3E2DFF"}),(0,o.jsx)("stop",{offset:1,stopColor:"#FF2DEA",stopOpacity:0}),(0,o.jsx)("stop",{offset:1,stopColor:"#E546FF",stopOpacity:.42})]}),(0,o.jsxs)("radialGradient",{id:"prefix_svg__e",cx:0,cy:0,r:1,gradientTransform:"rotate(-53.82 18.094 4.169)scale(11.2731 12.6539)",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#1AD6FF"}),(0,o.jsx)("stop",{offset:1,stopColor:"#1BF1FF",stopOpacity:0})]}),(0,o.jsxs)("filter",{id:"prefix_svg__b",width:19.282,height:20.532,x:.984,y:.734,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",children:[(0,o.jsx)("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),(0,o.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,o.jsx)("feGaussianBlur",{result:"effect1_foregroundBlur_855_132183",stdDeviation:.758})]}),(0,o.jsxs)("filter",{id:"prefix_svg__d",width:16.636,height:14.136,x:2.307,y:5.807,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",children:[(0,o.jsx)("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),(0,o.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,o.jsx)("feGaussianBlur",{result:"effect1_foregroundBlur_855_132183",stdDeviation:.096})]}),(0,o.jsxs)("linearGradient",{id:"prefix_svg__c",x1:6.744,x2:15.82,y1:16.338,y2:10.948,gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#0064FB"}),(0,o.jsx)("stop",{offset:1,stopColor:"#1082EB",stopOpacity:0})]})]})]}))},42900:function(e,t,r){"use strict";r.d(t,{r:function(){return a}});var n=r(69984),i=r(764112),o=r(772322);r(218571);var a=e=>(0,o.jsx)("svg",(0,i._)((0,n._)({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none",viewBox:"0 0 20 20"},e),{children:(0,o.jsx)("path",{fill:"currentColor",d:"M4.198 10.382a5.8 5.8 0 0 1 11.598 0v1.284h-.964v4.974h1.825l1.508-.912v-4.062h-.702v-1.284a7.466 7.466 0 0 0-14.932 0v1.284h-.699v4.089l1.507.911h1.826v-5h-.967z"})}))},568502:function(e,t,r){"use strict";var n,i=r(879386),o=r(46395),a=r(429271),s=r(732634),c=[];c.push((0,a.i)((0,i.fE)({},(n||{}).contextCompat,((n||{}).contextCompatByEntries||{})["av-translator"],((0,o.nB)()||{}).contextCompat))),c.push((0,s.m)((0,i.fE)({},(n||{}).ssrCompat,((n||{}).ssrCompatByEntries||{})["av-translator"],((0,o.nB)()||{}).ssrCompat))),(0,i.fo)(c,n)},284700:function(e,t,r){"use strict";r(594460),r(960454)},239849:function(e,t,r){"use strict";r.d(t,{C:function(){return N}});var n=r(69984),i=r(248176),o=r(111042),a=r(961180),s=r(976892),c=r(309522),l=r(597646),u=r(704885),d=r(333205),p=r(460446),f=r(988441),h=r(405859),g=r(909599),v=r(579729),m=r(399199),_=r(367765),y=r(479529),b=r(153898),S=r(590134),w=r(898386),E=r(556625),k=r(707152),x=r(712613),T=r(963730),I=r(888010),C=r(868039),R=r(445361),A=r(857678),O=r(445358),M=r(264176),P=r(797644);class N extends I.x{getTeaConfig(){return(0,n._)({},O.zd)}getSlardarConfig(){return{bid:O.Cz.bid}}getStarlingConfig(){return{namespace:O.Xw.namespace}}registerAppService(e,t){return(0,P.Cv)(e,t)}registerUserService(e,t,r){(0,P.Hy)(e,t,r)}constructor(...e){super(...e),this.toolType=f.o.TextToVideo,this.restoreSessionData=e=>{e.invokeFunction(e=>{var t=e.get(h.J),r=e.get(g.Y),{textEditorManager:n}=t,{smartWriterManager:i,aiToolBarManager:o,promptSuggestionManager:a,ttsManager:s,exportManager:c,aiWriterManager:l,aiWriterTrackDataManager:u}=r;t.restore(),n.restore(),s.restore(),r.restore(),u.restore(),i.restore(),o.restore(),a.restore(),c.restore(),l.restore()})},this.beforeRender=(e,t)=>{(0,A.m)(e)},this.preloadResource=()=>{},this.renderApp=e=>{(0,x.m)(e),(0,R.m)(e,i.Y.TextToVideo),(0,C.w)(e)},this.registerBusinessService=e=>{e.register(o.c,a.s),(0,M.l)(e,{appConfiguration:{export:{useExportV3:!1},forcePageV2:!1}}),e.register(s.z,c.f),e.register(l.T,new T.M(u.X,[],!1)),e.register(v.j,m.k),e.register(_.V,new T.M(y.k,[new b.rT])),e.register(h.J,S.V),e.register(g.Y,w.v),e.register(d.J,p.p),e.register(E.K,k.A)}}}},910196:function(e,t,r){"use strict";var n,i,o,a,s,c,l,u,d,p,f,h,g,v;r.d(t,{$C:function(){return s},N$:function(){return a},Sc:function(){return n},Yx:function(){return i}}),(u=n||(n={})).TT_USER_INFO="tt_user_info",u.YT_USER_INFO="youtube_user_info",u.FACEBOOK_USER_INFO="facebook_user_info",(d=i||(i={})).CREATOR_AVARTAR_URL="creator_avatar_url",d.CREATOR_USERNAME="creator_username",d.CREATOR_NICKNAME="creator_nickname",d.PRIVACY_LEVEL_OPTIONS="privacy_level_options",d.COMMENT_DISABLED="comment_disabled",d.DUET_DISABLED="duet_disabled",d.STITCH_DISABLED="stitch_disabled",d.REMAINING_API_POST_QUOTA_24HR="remaining_api_post_quota_24hr",d.MAX_VIDEO_POST_DURATION_SEC="max_video_post_duration_sec",(p=o||(o={})).CREATOR_AVARTAR_URL="creator_avartar_url",p.CREATOR_EMAIL="creator_email",p.EMAIL="email",p.NAME="name",p.PICTURE="picture",p.PRIVACY_LEVEL_OPTIONS="privacy_level_options",p.REMAINING_API_POST_QUOTA_24HR="remaining_api_post_quota_24hr",p.MAX_VIDEO_POST_DURATION_SEC="max_video_post_duration_sec",p.HAS_CHANNEL="has_channel",(f=a||(a={}))[f.NORMAL=0]="NORMAL",f[f.BALCK_LIST_24=1]="BALCK_LIST_24",f[f.BALCK_LIST_FOREVER=2]="BALCK_LIST_FOREVER",f[f.UNDER_AGE_13=3]="UNDER_AGE_13",f[f.UNBLOCK=4]="UNBLOCK",(h=s||(s={}))[h.SAME=0]="SAME",h[h.DIFFERENT=1]="DIFFERENT",(g=c||(c={}))[g.HideModal=0]="HideModal",g[g.ShowModalAndCheckbox=1]="ShowModalAndCheckbox",g[g.ShowModal=2]="ShowModal",g[g.ShowModalOnlyCheckbox=3]="ShowModalOnlyCheckbox",(v=l||(l={}))[v.Secret=0]="Secret",v[v.Male=1]="Male",v[v.Female=2]="Female"},668794:function(e,t,r){"use strict";r.d(t,{B:function(){return m}});var n=r(461228),i=r(69984),o=r(123951),a=r(91933),s=r(335091),c=r(459788),l=r(804815),u=r(750005),d=r(691716),p=r(555177),f=r(710799),h=r(910196),g={baseURL:"/lv/v1/user",method:"POST",headers:{loc:a.yM.CHANNEL,lan:o.ZP.language||a.yM.LAN,pf:a.yM.APP_PF,appvr:a.yM.VERSION,tdid:"","sign-ver":1,"app-sdk-version":a.yM.APP_SDK_VERSION},params:{}},v=d.ZP.createAxios(g);v.interceptors.request.use(e=>{var{pf:t,appvr:r,tdid:n}=g.headers;return Object.assign(e.headers,(0,f.O)({url:"".concat(e.baseURL).concat(e.url),pf:t,appvr:r,tdid:n})),e}),v.interceptors.response.use(e=>{if(200!==e.status)return Promise.reject(e);var t=e.data;return"0"===t.ret?Promise.resolve(t.data):Promise.reject(e)}),(0,p.Z)(v,{retries:5,resetTimeout:!0,retryDelay:1e3,isRetry:e=>{var t;return![s.B.USER_CODE.NO_LOGIN,s.B.AUTHORIZED.GOOGLE_UNAUTHORIZED].includes(Number(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.ret))}});var m={overWriteIsFirstLogin:e=>(0,n._)(function*(){return yield v((0,i._)({url:"".concat(window.location.origin).concat("/api/account/v1/settings"),data:{app_id:e}},{[d.R0]:{skipAwaitLocker:!0}}))})(),checkIsFirstLogin:e=>(0,n._)(function*(){return yield v((0,i._)({url:"".concat(window.location.origin).concat("/api/account/v1/login_info"),data:{app_id:e}},{[d.R0]:{skipAwaitLocker:!0}}))})(),getAndUpdateUserInfo:e=>(0,n._)(function*(){var t="/web/user_info";return yield v((0,i._)({url:c.Z?"".concat(l.JX).concat(g.baseURL).concat(t):"".concat(window.location.origin).concat(g.baseURL).concat(t),data:e},{[d.R0]:{skipAwaitLocker:!0}}))})(),getUserInfo:e=>(0,n._)(function*(){return yield v((0,i._)({url:"".concat(window.location.origin).concat(g.baseURL).concat("/web/get_user_info"),data:{uid:e,need_grade:!1}},{[d.R0]:{skipAwaitLocker:!0}}))})(),updateUser:e=>(0,n._)(function*(){return yield v({url:"/update",data:e})})(),thirtpartCloudsDeauthorization:e=>(0,n._)(function*(){return yield v({url:"/web/third_party_clouds_deauthorization",data:e})})(),authorizationCheck:e=>(0,n._)(function*(){return yield v.post("/web/third_party_clouds_authorization_check",e)})(),getShareUserInfo:e=>(0,n._)(function*(){return yield v({url:"/web/share_user_info",data:e})})(),getTTShareUserInfo:e=>(0,n._)(function*(){var e,t="https://".concat(location.host,"/api/account/v1/get_bind_account_list"),r=null===(e=(yield v({url:t,data:{platform_type:[1]}})).platform_user_info["1"])||void 0===e?void 0:e[0];return{[h.Sc.TT_USER_INFO]:r?{creator_avatar_url:r.avatar_url,creator_username:r.nickname,creator_nickname:r.nickname,platform_user_id:r.platform_user_id,privacy_level_options:["PUBLIC_TO_EVERYONE","MUTUAL_FOLLOW_FRIENDS","SELF_ONLY"],comment_disabled:!1,duet_disabled:!1,stitch_disabled:!1,remaining_api_post_quota_24hr:0,max_video_post_duration_sec:600}:null,[h.Sc.YT_USER_INFO]:null,[h.Sc.FACEBOOK_USER_INFO]:null,[u.qS.TTAM]:null}})(),shareUserUnbind:e=>(0,n._)(function*(){return yield v({url:"/web/third_party_platform_deauthorization",data:e})})(),checkAgeGate:()=>(0,n._)(function*(){return yield v({url:"/check_age_gate",data:{}})})(),confirmBirthday:e=>(0,n._)(function*(){return yield v({url:"/confirm_birthday",data:e})})(),updateBirthday:e=>(0,n._)(function*(){return yield v({url:"/update_birthday",data:e})})(),getFacebookShareList:e=>v.post("/web/get_facebook_page_or_group_list",e),getOpenId:()=>(0,n._)(function*(){return yield v({baseURL:"/lv/v1",url:"/web/openid"})})(),saveTTScope:e=>(0,n._)(function*(){return yield v({baseURL:"/lv/v1",url:"/third_party_clouds/save_tt_scope",data:e})})(),checkBindEmailPopup:()=>(0,n._)(function*(){return yield v({url:"/web/check_bind_email_popup"})})(),edmAuthorize:e=>(0,n._)(function*(){return yield v({url:"/web/edm_authorize",data:{setting_values:(null==e?void 0:e.checked)?"on":"off"}})})(),getUserContacts:e=>(0,n._)(function*(){return yield v({url:"/web/third_party_get_contacts",data:e})})(),getAuthorizedUserInfo:e=>(0,n._)(function*(){return yield v({url:"/web/authorized_user_info",data:e})})(),appealForUser:(e,t)=>(0,n._)(function*(){var r;return yield v({baseURL:"/lv/v1",url:"/appeal/personal_info",data:e,headers:(0,i._)({},(r={},t&&("true"===t.enableLooki&&"true"===t.enableLookiDid&&(r["looki-pseudonym-did"]="1"),"true"===t.enableLooki&&"true"===t.enableLookiUid&&(r["looki-pseudonym-uid"]="1")),r))})})()}},315247:function(e,t,r){"use strict";r.d(t,{U:function(){return b}});var n=r(69984),i=r(764112),o=r(772322);r(196666),r(387346),r(463844);var a=r(698978),s=r(221489),c=r(279134),l=r(218571),u=r(659179),d=r(722169),p=r(152155),f=r.n(p),h=r(412382),g=new Map,v=e=>{var t=JSON.stringify(e);if(g.get(t))return g.get(t);var r=document.createElement("div"),n=new Map,i={setClass:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];r.classList.add(...t)},calc:function(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.body;r.parentNode||(r.style.position="absolute",r.style.left="-9999px",r.style.top="-9999px",r.style.whiteSpace="nowrap",r.style.overflow="hidden",r.style.textOverflow="ellipsis",r.style.fontSize="".concat(e.fontSize,"px"),r.style.fontFamily='"Albert Sans", -apple-system, "system-ui", "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif',o.appendChild(r)),i?r.style.fontWeight="".concat(e.fontWeight):r.style.fontWeight="normal";var a=i?"".concat(t,"_bold"):t,s=n.get(a);return void 0!==s||(r.innerText=t,s=Math.ceil(r.getBoundingClientRect().width),n.set(a,s)),s}};return g.set(t,i),i},m={GAP:6,GAP_ICON:12,MORE_ICON:28},_=e=>(0,d.sumBy)(e,e=>{var t;return null!==(t=e.width)&&void 0!==t?t:0})+e.length*m.GAP_ICON+2*e.length*m.GAP+m.MORE_ICON,y=e=>{var t,r=(0,l.useRef)(null),[o,a]=(0,l.useState)(null!==(t=e.width)&&void 0!==t?t:0),s=(0,l.useMemo)(()=>v(e.text),[e.text]);(0,l.useEffect)(()=>{var t=r.current;if(t&&!e.width){a(t.getBoundingClientRect().width);var n=new MutationObserver(()=>{a(t.getBoundingClientRect().width)});n.observe(t,{subtree:!0,childList:!0});var i=new ResizeObserver(e=>{for(var t of e)a(t.target.getBoundingClientRect().width)});return i.observe(t),()=>{n.disconnect(),i.unobserve(t)}}},[r.current]);var c=(0,l.useMemo)(()=>e.data.map((e,t,r)=>(0,i._)((0,n._)({},e),{width:Math.min(o-m.GAP_ICON-m.MORE_ICON-2*m.GAP,s.calc(e.label,r.length-1===t))})),[e.data,o]),u=(0,l.useMemo)(()=>{var e=c.slice(-1),t=c.slice(0,-1);if(0===o)return e;for(var r=t.length-1,n=t[r];n&&_([n].concat(e))<o;)e.unshift(n),n=t[--r];return e},[c,o]);return{invisibleData:c.slice(0,c.length-u.length),visibleData:u,containerRef:r}},b=e=>{var t,r=null!==(t=e.text)&&void 0!==t?t:{fontSize:14,fontWeight:500},{containerRef:n,invisibleData:i,visibleData:l}=y({text:r,data:e.data,width:e.width}),d=t=>{var r;null===(r=e.onClick)||void 0===r||r.call(e,t)};return(0,o.jsx)("div",{ref:n,className:f()(h.Z.Breadcrumbs_Container,e.className),children:(0,o.jsxs)(a.Z,{className:h.Z.Breadcrumbs,style:{gap:"".concat(m.GAP,"px")},size:0,split:(0,o.jsx)(u.r9L,{size:m.GAP_ICON,className:h.Z.BreadcrumbsSplitIcon}),children:[i.length>0?(0,o.jsx)(s.Z,{getPopupContainer:e.getMorePopupContainer,droplist:(0,o.jsx)(c.Z,{style:{width:200},children:i.map(e=>(0,o.jsx)(c.Z.Item,{onClick:()=>d(e),children:e.label},e.value))}),position:"bl",children:(0,o.jsx)("div",{className:h.Z.Breadcrumbs_More,children:(0,o.jsx)(u.cqQ,{size:m.MORE_ICON,className:h.Z.BreadcrumbsMoreIcon})})}):null,l.map((e,t,n)=>(0,o.jsx)("div",{className:f()(h.Z.BreadcrumbsItem),style:{maxWidth:e.width,fontSize:r.fontSize,fontWeight:n.length-1===t?r.fontWeight:"normal"},onClick:()=>d(e),children:e.label},e.value))]})})}},501520:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(772322);r(445175);var i=r(429907),o=r(659179),a=r(218571),s=r(152155),c=r.n(s);r(621725);let l=e=>{var{warning:t,onInputChange:r,placeholder:s,style:l,className:u}=e,d=(0,a.useRef)(null),[p,f]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{var e,r;t.length?null===(e=d.current)||void 0===e||e.dom.classList.add("lv_forget_pwd_panel-warn-input"):null===(r=d.current)||void 0===r||r.dom.classList.remove("lv_forget_pwd_panel-warn-input")},[t]),(0,n.jsxs)("div",{className:"lv_forget_pwd_panel-input-container ".concat(u),style:l,children:[(0,n.jsx)("form",{children:(0,n.jsxs)("div",{onMouseEnter:()=>{var e;null===(e=d.current)||void 0===e||e.dom.classList.add("lv_forget_pwd_panel-hover-input")},onMouseLeave:()=>{var e;null===(e=d.current)||void 0===e||e.dom.classList.remove("lv_forget_pwd_panel-hover-input")},className:"lv_forget_pwd_panel-input-wrapper",children:[(0,n.jsx)(i.Z,{type:p?"text":"password",ref:d,onBlur:()=>{var e;null===(e=d.current)||void 0===e||e.dom.classList.remove("lv_forget_pwd_panel-hover-input")},onChange:r,className:c()("lv_sign_in_panel_wide-input",{"lv_sign_in_panel_wide-input-warn":t.length}),placeholder:s}),(0,n.jsx)("div",{className:"lv_forget_pwd_panel-input-suffix",children:p?(0,n.jsx)(o.bEM,{onMouseDown:e=>{e.preventDefault()},onClick:()=>{var e;null===(e=d.current)||void 0===e||e.focus(),f(!1)}}):(0,n.jsx)(o.lLW,{onMouseDown:e=>{e.preventDefault()},onClick:()=>{var e;null===(e=d.current)||void 0===e||e.focus(),f(!0)}})})]})}),t.length&&(0,n.jsxs)("div",{className:"lv_forget_pwd_panel-warn-text",children:[" ",t," "]})||null]})}},266316:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var n=r(69984),i=r(764112),o=r(574451),a=r(772322);r(901376);var s=r(196805);r(218571);var c=r(152155),l=r.n(c);r(565660);let u=e=>{var{hideArrow:t=!1,className:r,children:c}=e,u=(0,o._)(e,["hideArrow","className","children"]);return(0,a.jsx)(s.Z,(0,i._)((0,n._)({color:"var(--lv-color-bg-3)",getPopupContainer:e=>e.parentNode},u),{className:l()("popover-enhance",t&&"popover-hide-arrow",r),children:c}))}},743160:function(e,t,r){"use strict";r.d(t,{i:function(){return a}});var n=r(69984),i=r(764112),o=r(772322);r(218571);var a=e=>(0,o.jsxs)("svg",(0,i._)((0,n._)({width:"54",height:"14",viewBox:"0 0 54 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{children:[(0,o.jsx)("path",{d:"M5.8898 10.9481C2.44693 10.9481 0.0429688 8.76229 0.0429688 5.63152C0.0429688 2.50075 2.44693 0.314941 5.8898 0.314941C6.75808 0.314941 7.77863 0.413217 9.34239 1.1249V3.35175C8.21061 2.72106 7.09178 2.4014 6.01723 2.4014C3.86058 2.4014 2.35406 3.72973 2.35406 5.63044C2.35406 7.53115 3.86058 8.86056 6.01723 8.86056C7.06262 8.86056 8.21169 8.53442 9.34239 7.91777V10.1371C7.77755 10.8487 6.75808 10.947 5.8898 10.947V10.9481Z",fill:"currentColor"}),(0,o.jsx)("path",{d:"M13.9519 10.9482C11.9173 10.9482 10.4961 9.40275 10.4961 7.18994C10.4961 4.97713 11.9789 3.41553 14.021 3.41553C15.1496 3.41553 15.9347 3.76003 16.5654 4.53435L16.6162 4.59591V3.78271H18.6065V10.7872H16.6162V9.79261L16.5643 9.86713C16.0524 10.6047 15.2219 10.9482 13.9519 10.9482ZM14.6399 5.08513C13.4476 5.08513 12.5826 5.97068 12.5826 7.18994C12.5826 8.4092 13.4476 9.27856 14.6399 9.27856C15.8321 9.27856 16.7133 8.39948 16.7133 7.18994C16.7133 5.9804 15.8418 5.08513 14.6399 5.08513Z",fill:"currentColor"}),(0,o.jsx)("path",{d:"M20.1172 13.8392V3.78271H22.1237V4.65747L22.1756 4.58511C22.5611 4.04514 23.4726 3.41553 24.775 3.41553C26.7761 3.41553 28.2276 5.00305 28.2276 7.18994C28.2276 9.37684 26.801 10.9482 24.7588 10.9482C23.5406 10.9482 22.6713 10.5972 22.1756 9.90385L22.1237 9.83149V13.8392H20.1172ZM24.0838 5.08513C22.8916 5.08513 22.0276 5.97068 22.0276 7.18994C22.0276 8.4092 22.8926 9.27856 24.0838 9.27856C25.275 9.27856 26.1249 8.39948 26.1249 7.18994C26.1249 5.9804 25.2664 5.08513 24.0838 5.08513Z",fill:"currentColor"}),(0,o.jsx)("path",{d:"M35.3019 10.9481C31.859 10.9481 29.4551 8.76229 29.4551 5.63152C29.4551 2.50075 31.859 0.314941 35.3019 0.314941C36.1702 0.314941 37.1907 0.413217 38.7545 1.1249V3.35175C37.6227 2.72106 36.5039 2.4014 35.4304 2.4014C33.2738 2.4014 31.7672 3.72973 31.7672 5.63044C31.7672 7.53115 33.2738 8.86056 35.4304 8.86056C36.4758 8.86056 37.6249 8.53442 38.7545 7.91777V10.1371C37.1897 10.8487 36.1702 10.947 35.3019 10.947V10.9481Z",fill:"currentColor"}),(0,o.jsx)("path",{d:"M43.6622 10.9484C41.418 10.9484 39.9688 9.88895 39.9688 8.25067V3.57666H41.9591V7.67182C41.9591 8.67833 42.5963 9.27878 43.6622 9.27878C44.7281 9.27878 45.3339 8.67833 45.3339 7.67182V3.57666H47.3243V8.25067C47.3243 9.89003 45.8869 10.9484 43.6622 10.9484Z",fill:"currentColor"}),(0,o.jsx)("path",{d:"M51.7176 10.9479C49.5134 10.9479 48.7305 9.58071 48.7305 8.41005V2.15283H50.7208V3.57512H53.4682V5.20368H50.7208V8.0083C50.7208 8.38521 50.8644 9.26212 52.1993 9.26212C52.5697 9.26212 53.0297 9.16385 53.4671 8.99322V10.6715C52.7706 10.9263 51.953 10.9468 51.7165 10.9468L51.7176 10.9479Z",fill:"currentColor"})]}))},351521:function(e,t,r){"use strict";r.d(t,{Z:function(){return l},k:function(){return c}});var n=r(772322);r(907488);var i=r(220296);r(218571);var o=r(123951),a=r(152155),s=r.n(a);r(355604);var c=e=>{var{inviterName:t,inviterImg:r}=e;return(0,n.jsxs)("div",{className:"invite-info-header",children:[(0,n.jsx)(i.Z,{style:{backgroundColor:"var(--lvv-color-text-content-3)"},size:48,children:r&&(0,n.jsx)("img",{alt:"avatar",src:globalThis.xssNamespace["lvweb/smart-tools"].filterUrl(r,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})})}),(0,n.jsx)("div",{className:"invite-info-header-user",children:(0,n.jsx)("h4",{children:o.oc.t("web_personal_invite_title",{"color-strong":e=>(0,n.jsx)("strong",{style:{fontWeight:600},children:e}),placeholder0:t})})})]})};let l=e=>{var{workspaceInfo:t}=e;return(0,n.jsxs)("div",{className:s()("invite-info-header","team-invite-info-header"),children:[(0,n.jsx)("div",{className:"invite-info-header-title",children:o.oc.t("web_signin_title_join_space",{},"Join space")}),(0,n.jsx)("div",{className:"invite-info-header-text",children:o.oc.t("web_signin_desc_join_space",{string0:(0,n.jsx)("strong",{children:null==t?void 0:t.inviter_nickname}),string1:(0,n.jsx)("strong",{children:null==t?void 0:t.name})},"{string0} invites you to join {string1}.")})]})}},427462:function(e,t,r){"use strict";r.d(t,{Z:function(){return h}});var n=r(772322);r(349601);var i=r(781494),o=r(218571),a=r(282893),s=r(793676),c=r(123951),l=r(454078),u=r(123688),d=r(275986),p=r(937661),f=r(375359);r(568074);let h=e=>{var{toLogIn:t}=e,r=(0,l.t)(),[h]=(0,a.L)(r),g=h.context.newEmailSignInRef,[,v]=(0,a.L)(g),m=(0,s.v)(g,e=>e.context.step)||u.GH.FillInEmail,_=(0,s.v)(g,e=>e.context.email),y=(0,s.v)(g,e=>e.context.resendEmailCodeCountDown),b=new URLSearchParams(location.search),S=b.get("showType")||"email";(0,o.useEffect)(()=>{switch(S){case"email":v("TO_SEND_RESET_EMAIL_INFO");break;case"password":var e=b.get("email"),r=b.get("code");e&&r&&(v({type:"SAVE_PWD_CODE",code:r,email:e}),v({type:"TO_RESET_PASSWORD",func:()=>{t(),i.Z.warning(c.oc.t("link_lose_efficacy"))}}))}},[S]);var w=()=>{v("BACK_SIGN_IN"),t()};return(0,n.jsxs)("div",{className:"lv_new_forget_pwd_panel",children:[m===u.GH.FillInEmail?(0,n.jsx)(d.Z,{send:v,email:_,toLogIn:t,onBack:w}):null,m===u.GH.ResendEmail?(0,n.jsx)(p.Z,{email:_,send:v,resendEmailCodeCountDown:y,toLogIn:t,onBack:w}):null,m===u.GH.ResetPwd?(0,n.jsx)(f.Z,{email:_,send:v,onBack:w,toLogIn:t}):null]})}},324132:function(e,t,r){"use strict";r.d(t,{o:function(){return n}});var n={INVITATION_LINK_REFRESH_TOO_FAST:1270,USER_NOT_IN_GROUP:1363,CREATE_GROUP_TOO_FAST:1269,EXCEEDED_CREATE_GROUPS_MAX_LIMIT:1287,EXCEEDED_USER_GROUPS_MAX_LIMIT:1299,INVITATION_LINK_EXPIRED:1267,ADD_GROUP_TOO_FAST:1268,EXCEEDED_GROUP_MEMBERS_MAX_LIMIT:1280,REPEAT_ADD_GROUP:1286,INVITATION_LINK_ERROR:1367,SHARE_LINK_EXPIRED:1450,GROUP_APPLY_LIMIT:1463,SAME_GROUP_APPLY_LIMIT:1464,GROUP_APPLY_PENDING:1468,GROUP_APPLY_NOT_ALLOW:1469,GROUP_APPLY_PASSED:1286,APPLY_APPROVE_NO_AUTH:1292,NOT_IN_GROUP:1291,APPROVAL_PROCESSED:1467,GROUP_MEMBER_FULL:1280,APPROVAL_EXPIRED:1470}},625656:function(e,t,r){"use strict";r.d(t,{_s:function(){return c},ie:function(){return l},mc:function(){return d},yp:function(){return s}}),(n=s||(s={})).US="US",n.BR="BR",n.SG="SG",n.KR="KR",n.ID="ID",n.GB="GB",n.CA="CA",n.AU="AU",n.NZ="NZ",n.AT="AT",n.BE="BE",n.BG="BG",n.HR="HR",n.CY="CY",n.CZ="CZ",n.DK="DK",n.EE="EE",n.FI="FI",n.FR="FR",n.DE="DE",n.GR="GR",n.HU="HU",n.IS="IS",n.IE="IE",n.IT="IT",n.LV="LV",n.LI="LI",n.LT="LT",n.LU="LU",n.MT="MT",n.NL="NL",n.NO="NO",n.PL="PL",n.PT="PT",n.RO="RO",n.SK="SK",n.SI="SI",n.ES="ES",n.SE="SE",n.IL="IL",n.PS="PS",n.TW="TW",n.HK="HK",n.MO="MO",(i=c||(c={}))[i.VA=0]="VA",i[i.GCP=1]="GCP",i[i.SG=2]="SG",(o=l||(l={})).VA="maliva",o.GCP="useast2a",o.SG="sg1",(a=u||(u={})).VA="va",a.GCP="gcp";var n,i,o,a,s,c,l,u,d={1:"gcp",0:"va"}},709650:function(e,t,r){"use strict";r.d(t,{p:function(){return n}});var n=()=>{var e=new URLSearchParams(window.location.search);return{isFromTeamInvite:!!parseInt(e.get("from_team_invite")||"0"),isFromTeamApply:!!parseInt(e.get("from_team_apply")||"0")}}},984452:function(e,t,r){"use strict";r.d(t,{Ig:function(){return f},_N:function(){return _},mE:function(){return h}});var n=r(69984),i=r(764112),o=r(806061),a=r(736951),s=r(625656),c=r(561547),l=r(41723),u=r.n(l);function d(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=[],n=e;n<=t;n++)r.push(n);return r}function p(e){return[-1,31,(0,c.AR)(null!=e?e:"")?29:28,31,30,31,30,31,31,30,31,30,31]}function f(e,t,r){return void 0!==r&&[6115047].some(e=>null==r?void 0:r.includes(e))?u()(t).isBefore(u()().subtract(14,"year")):[s.yp.KR,s.yp.ID].some(t=>t===e)?u()(t).isBefore(u()().subtract(14,"year")):u()(t).isBefore(u()().subtract(13,"year"))}var h=-1,g=d(1,12),v=d(1,31),m=d(1900,new Date().getFullYear()),_=(0,o.C)({id:"birthDayPicker",initial:"verfiying",context:{month:h,date:h,year:h,months:g,dates:v,years:m},states:{verfiying:{always:[{target:"valid",cond:"isValid"},{target:"invalid"}]},valid:{},invalid:{}},on:{CHANGE_MONTH:{target:"verfiying",actions:["changeMonth"]},CHANGE_DATE:{target:"verfiying",actions:["changeDate"]},CHANGE_YEAR:{target:"verfiying",actions:["changeYear"]},CHANGE_CUSTOM_VERFICATION:{actions:["changeCustomVerfication"]}}},{actions:{changeMonth:(0,a.f0)((e,t)=>{var{value:r}=t,n=p(e.year===h?void 0:String(e.year));return{dates:n[r]?d(1,n[r]):v,month:r,date:!e.date||e.date<=0||e.date<=n[r]?e.date:n[r],year:e.year}}),changeDate:(0,a.f0)({date:(e,t)=>t.value}),changeYear:(0,a.f0)((e,t)=>{var{value:r}=t,o=p(r===h?void 0:String(r));return(0,i._)((0,n._)({},e),{dates:d(1,o[e.month===h?1:e.month]),date:!e.date||e.date<=0||e.date<=o[e.month]?e.date:o[e.month],year:r})}),changeCustomVerfication:(0,a.f0)((e,t)=>({customVerfication:t.callback}))},guards:{isValid:e=>{var{month:t,date:r,year:n,customVerfication:i}=e;return[t,r,n].every(e=>e!==h)&&(!i||i(t,r,n))}}})},907581:function(e,t,r){"use strict";var n,i;r.d(t,{B:function(){return n}}),(i=n||(n={})).tiktok="tiktok",i.google="google",i.facebook="facebook"},554269:function(e,t,r){"use strict";r.d(t,{y:function(){return w}});var n,i=r(461228),o=r(69984),a=r(764112),s=r(838255),c=r(858221),l=r(416013),u=r(29441),d=r(91933),p=r(804815),f=r(174800),h=r(92498),g=r(322653),v=r(722169),m={user_id:"",user_is_login:!1,user_is_subscribed:!1,user_is_new:!1},_={isProd:!0,log:!1,userInfo:m,isABDependenciesReady:!0},y="TEA_STORE_TOKEN_RET",b="TEA_STORE_WEB_INFO";class S{get tea(){return this._tea}awaitForInit(){if(!this.isInited)return new Promise(e=>{this.awaitInitQueue.push(e)})}awaitForStart(){if(!this.isStarted)return new Promise(e=>{this.addStartCallBack(e)})}awaitABDependenciesReady(){if(!this.isABDependenciesReady)return new Promise(e=>{this.ABDependenciesReadyQueue.push(e)})}setABDependenciesReady(){this.isABDependenciesReady=!0,this.ABDependenciesReadyQueue.forEach(e=>{e()}),this.ABDependenciesReadyQueue=[]}init(e){var t,r,n,i;this.options=Object.assign({},_,e),this._web_id=this.options.web_id,this.isABDependenciesReady=null===(n=this.options.isABDependenciesReady)||void 0===n||n,this._tea.init({disable_auto_pv:!0,disable_sdk_monitor:!0,app_id:null!==(i=null==e?void 0:e.aid)&&void 0!==i?i:Number(d.yM.APP_ID),channel:d.yM.CHANNEL,log:this.options.log,enable_ab_test:!0,ab_channel_domain:"https://".concat(p.Vj.libra),disable_webid:!!this._web_id,enable_stay_duration:!!(null==e?void 0:e.enable_stay_duration),maxDuration:Number(null==e?void 0:e.maxDuration)||864e5,enable_debug:!!(null==e?void 0:e.enable_debug),channel_domain:"https://".concat(p.Vj.tea),autotrack:(null==e?void 0:e.useAutoTrack)?{custom:"tea",svg:!0}:void 0}),this.config((0,o._)({app_version:(null==e?void 0:e.appVersion)?"1.0.".concat(null==e?void 0:e.appVersion.split(".").pop()):"",_staging_flag:this.options.isProd?0:1,web_id:this._web_id,user_agent:(null===(r=window)||void 0===r?void 0:null===(t=r.navigator)||void 0===t?void 0:t.userAgent)||""},this.options.userInfo)),this.clearInitQueue(),this.register()}start(){var e=this;return(0,i._)(function*(){if(!e.isInited&&!e.isStarted){var[t,r]=(0,h.C1)();t&&(e._web_id=r)}e.isStarted=!0,e.setABDependenciesReady(),e._tea.start(),yield e.setWebIdToCustom(),e.execStartCallBacks(),e.sendCacheEvent()})()}getABTestConfig(e,t){var r=this;return(0,i._)(function*(){return(yield r.awaitForInit(),yield r.awaitABDependenciesReady(),r.isStarted)?new Promise(n=>{r._tea.getVar(e,t,e=>{n(e)})}):(console.warn("[WARNING]@byted-image/reporter getABTestConfig failure, cause sdk is not allow to started"),Promise.resolve(t))})()}getABTestConfigSync(e,t,r){var n,i;return Promise.resolve().then(()=>this.awaitForInit()).then(()=>this.awaitABDependenciesReady()).then(()=>{this.isStarted||(console.warn("[WARNING]@byted-image/reporter getABTestConfig failure, cause sdk is not allow to started"),null==r||r(t)),this._tea.getVar(e,t,e=>{null==r||r(e)})}),null!==(i=null===(n=window._libra_abtest)||void 0===n?void 0:n[e])&&void 0!==i?i:t}getABTestConfigSilent(e,t){var r=this;return(0,i._)(function*(){return(yield r.awaitForInit(),yield r.awaitABDependenciesReady(),r.isStarted)?new Promise(n=>{r._tea.getAllVars(r=>{var i,o;n(null!==(o=null==r?void 0:null===(i=r[e])||void 0===i?void 0:i.val)&&void 0!==o?o:t)})}):(console.warn("[WARNING]@byted-image/reporter getABTestConfig failure, cause sdk is not allow to started"),Promise.resolve(t))})()}report(e,t,r){var n,i;if((null==r?void 0:r.hiddenPageReport)===!1&&this.currentPageHidden){(null===(i=this.options)||void 0===i?void 0:i.log)&&console.info("Tea Repoter Reject:","hiddenPageReport => ".concat(null==r?void 0:r.hiddenPageReport,"; currentPageHidden => ").concat(this.currentPageHidden));return}if(!(this.isStarted&&this.isSetWebId)){this.cachedEvents.add({event:e,params:t});return}(null===(n=this.options)||void 0===n?void 0:n.log)&&console.info("Tea Repoter:",e,t),this.tea.event(e,t)}reportBecon(e,t){var r;if(!(this.isStarted&&this.isSetWebId)){this.cachedBeaconEvents.add({event:e,params:t});return}(null===(r=this.options)||void 0===r?void 0:r.log)&&console.info("Tea Repoter(becon):",e,t),this.tea.beconEvent(e,t)}reportPredefinePageView(e){if(!(this.isStarted&&this.isSetWebId)){this.cachedPredefinePageView=e;return}(null===(t=this.options)||void 0===t?void 0:t.log)&&console.info("Tea Repoter:",event,e);var t,{isFirstVisitPage:r,isSessionStartPage:n}=(0,g.H)();e.is_first_visit_page=r?"1":"0",e.is_session_start_page=n?"1":"0",this._tea.predefinePageView(e)}sendCacheEvent(){if(this.cachedPredefinePageView&&this.reportPredefinePageView(this.cachedPredefinePageView),this.cachedEvents.size){for(var{event:e,params:t}of this.cachedEvents)this.report(e,t);this.cachedEvents.clear()}if(this.cachedBeaconEvents.size){for(var{event:r,params:n}of this.cachedBeaconEvents){var i;(null===(i=this.options)||void 0===i?void 0:i.log)&&console.info("Tea Repoter(becon):",r,n),this.reportBecon(r,n)}this.cachedBeaconEvents.clear()}}updateUserInfo(e){this.config((0,o._)({},e))}resetUserInfo(){this.config((0,o._)({},m))}destroy(){this.unregister()}getToken(){if(void 0!==this._web_id)return Promise.resolve({web_id:this._web_id});var e=window.GATEWAY_INJECTED_WEB_ID;if(e)return Promise.resolve({web_id:e});var t=window[b];return void 0!==t?Promise.resolve(t):window[y]||(window[y]=new Promise(e=>{this._tea.getToken(t=>{(null==t?void 0:t.web_id)?window[b]=t:window[y]=void 0,e(null!=t?t:{})},2e3)}).catch(()=>(window[y]=void 0,{})),window[y])}setWebIdToCustom(){var e=this;return(0,i._)(function*(){var t,r,n,i,{web_id:s}=yield e.getToken();s||l.W.error("reporter getToken not get web id",Error(),{content:"reporter getToken not get web id",level:"error"});var{custom:c}=null!==(i=null===(t=e.getConfig())||void 0===t?void 0:t.header)&&void 0!==i?i:{};e.config({custom:(0,a._)((0,o._)({},c),{user_agent:(null===(n=window)||void 0===n?void 0:null===(r=n.navigator)||void 0===r?void 0:r.userAgent)||"",web_id:s})}),e.isSetWebId=!0})()}config(e){this.fixEsLanguage(e);var t,r,n,{custom:i}=null!==(r=null===(t=this.getConfig())||void 0===t?void 0:t.header)&&void 0!==r?r:{};this._tea.inited&&this._tea.config((0,a._)((0,o._)({},e),{custom:(0,o._)({},i,null!==(n=null==e?void 0:e.custom)&&void 0!==n?n:{})}))}configUTParams(e){var t,r,{custom:n}=null!==(r=null===(t=this.getConfig())||void 0===t?void 0:t.header)&&void 0!==r?r:{},{campaign_id:i,term:s,channel:c,extraCommonParams:l}=e;this.config({custom:(0,a._)((0,o._)({},n,c,l),{campaign_id:i,keywords:s||c.keywords})})}getConfig(e){try{return this._tea.getConfig(e)}catch(e){return{}}}asyncGetConfig(e){var t=this;return(0,i._)(function*(){var r=t.getConfig(e);return(0,v.isEmpty)(r)?(yield Promise.race([t.awaitForInit(),t.awaitForStart()]),t.getConfig(e)):r})()}enableTTWid(){this.config({enable_ttwebid:!0})}addStartCallBack(e){this.isStarted?e(null):this._startCallbacks.add(e)}checkEnableReport(){return this.isStarted&&this.isSetWebId}execStartCallBacks(){this._startCallbacks.forEach(e=>{e(null)})}clearInitQueue(){this.isInited=!0,this.awaitInitQueue.forEach(e=>{e()}),this.awaitInitQueue=[]}register(){u.Wf.forEach(e=>{window.document.addEventListener(e,this._reportWraperHandler)})}unregister(){u.Wf.forEach(e=>{window.document.removeEventListener(e,this._reportWraperHandler)})}reportWraperHandler(e){var t=0,r=e.composedPath(),n=e.type,i="",a="";for(l=r[t];l;){var{dataset:s}=l;if(s&&s["".concat(u.Bq,"Events")])break;l=r[++t]}if(l){var{dataset:c}=l;i=JSON.parse((null==c?void 0:c["".concat(u.Bq,"Events")])||""),a=JSON.parse((null==c?void 0:c["".concat(u.Bq,"Params")])||"")}if(i){var l,d,p,f=i[n],h="",g={};if("object"==typeof f)h=null!==(d=f.event)&&void 0!==d?d:"",g=null!==(p=f.params)&&void 0!==p?p:{};else throw Error("report event error, please confirm events is obj");h&&this.report(h,(0,o._)({},a,g))}}fixEsLanguage(e){var t,r;(null==e?void 0:null===(r=e.custom)||void 0===r?void 0:null===(t=r.lang)||void 0===t?void 0:t.toLocaleLowerCase())===f.zE.Spanish.key.toLocaleLowerCase()&&(e.custom.lang=f.Gp)}constructor(){this.isInited=!1,this.isStarted=!1,this.isABDependenciesReady=!0,this._tea=s.Z,this._startCallbacks=new Set,this.cachedEvents=new Set,this.cachedBeaconEvents=new Set,this.cachedPredefinePageView=void 0,this.isSetWebId=!1,this.currentPageHidden=!1,this.awaitInitQueue=[],this.ABDependenciesReadyQueue=[],(0,c.j)()&&document.addEventListener("visibilitychange",()=>{this.currentPageHidden=document.hidden})}}var w=()=>(n||(n=new S),n)},911632:function(e,t,r){"use strict";r.d(t,{g:function(){return i}});var n=r(554269);class i{report(e){this.reporter.report("account_restore_status",e)}constructor(){this.reporter=(0,n.y)()}}},554487:function(e,t,r){"use strict";r.d(t,{K1:function(){return a},c:function(){return o},nM:function(){return c}});var n,i,o,a,s=r(263968);(n=o||(o={})).CAPACITY_INSUFFICIENT="CAPACITY_INSUFFICIENT",n.CAPACITY_INSUFFICIENT_WITH_BUY="CAPACITY_INSUFFICIENT_WITH_BUY",n.CAPACITY_BUY="CAPACITY_BUY",n.UPLOAD_FULL_SPACE_RESOLVE="UPLOAD_FULL_SPACE_RESOLVE",n.VIP_BUY="VIP_BUY",n.MANAGEMENT="MANAGEMENT";var c={[s.p.Month]:"web_cash_and_pay_text_month",[s.p.Year]:"web_cash_and_pay_text_year"};(i=a||(a={})).UpgradeToPro="upgrade_to_pro",i.profileIconUpgrade="profile_icon_upgrade",i.spaceUpgrade="space_upgrade",i.spaceLimitUpgrade="space_limit_upgrade",i.removeWatermarkUpgrade="remove_watermark_upgrade",i.allowDownloadUpgrade="allow_download_upgrade",i.editUpgradeToUnlock="edit_upgrade_to_unlock",i.exportUpgradeToPro="export_upgrade_to_pro",i.enoughTimeUpgrade="enough_time_upgrade",i.notification="notification"},968693:function(e,t,r){"use strict";r.d(t,{z:function(){return c}});var n=r(69984),i=r(764112),o=r(772322);r(218571);var a=r(570126),s=r(495278),c={open:function(e){var t=document.createElement("div");document.body.appendChild(t);var r=(0,a.createRoot)(t),c=()=>{t&&(r.unmount(),t=null)};return r.render((0,o.jsx)(s.o,(0,i._)((0,n._)({},e),{onConfirm:()=>{var t;null===(t=e.onConfirm)||void 0===t||t.call(e),c()}}))),{close:c}}}},269466:function(e,t,r){"use strict";function n(e){var t=new URLSearchParams;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=e[r];if(null!=n&&""!==n){if(Array.isArray(n))for(var i of n)null!=i&&""!==i&&t.append(r,i);else t.set(r,n)}}return"?".concat(t.toString())}r.d(t,{n:function(){return n}})},999737:function(e,t,r){"use strict";r.d(t,{x:function(){return _}});var n=r(461228),i=r(69984),o=r(574451),a=r(789786),s=r(980546),c=r(677684),l=r(834457),u=r(968822),d=r(911719),p=r(855548),f=r(727133),h=r(111265),g=r(145014),v=r(237823),m=r(123951);class _{getModelSourceList(){var e=this;return(0,n._)(function*(){var{url:t,hostNameType:r}=s.R.GetModelSourceList;return(yield e._service({url:t,data:{},[g.Tf]:r})).model_resources||[]})()}getClothMaskInfo(e){var t=this;return(0,n._)(function*(){var{url:r,hostNameType:n}=s.R.getClothMaskInfo;return yield t._service({url:r,data:e,[g.Tf]:n})})()}submitModelTask(e,t){var r=this;return(0,n._)(function*(){var{url:n,hostNameType:a}=s.R.submitModelTask,{credits_credentials:c}=e,l=(0,o._)(e,["credits_credentials"]),u=yield r._serviceWithFullData({url:n,data:(0,i._)({},l),params:t,[g.Tf]:a,headers:c?{"business-credit-credential":c}:{}});return null==u?void 0:u.data})()}getModelGenerateResult(e){var t=this;return(0,n._)(function*(){var{url:r,hostNameType:n}=s.R.getModelGenerateResult,{credits_credentials:a}=e,c=(0,o._)(e,["credits_credentials"]),l=yield t._serviceWithFullData({url:r,data:(0,i._)({},c),[g.Tf]:n,headers:a?{"business-credit-credential":a}:{}});return null==l?void 0:l.data})()}aiT2DTemplateList(e,t){var r=this;return(0,n._)(function*(){var{inputText:n,assets:i,workspaceId:o,assetType:a,aspectRatio:s}=e,{url:l,hostNameType:u}=v.Vb.T2DTemplateLists,d={asset_type:a,input_text:n,assets:i,workspace_id:o,app_version:h.AS,sdk_version:v.Jn,lang:m.ZP.language,region:yield c.Z.apiSetting.getUserRegion(),aspect_ratio:[s]};return(yield r._serviceWithFullData({url:l,data:d,params:t,[g.Tf]:u,[g.$R]:!1})).data})()}aiT2DTemplateDetail(e){var t=this;return(0,n._)(function*(){var{url:r,hostNameType:n}=v.Vb.T2DTemplateDetails,{templateIdList:i,reqId:o,workspaceId:a,assetType:s}=e,l={asset_type:s,template_id_list:i,req_id:o,workspace_id:a,app_version:h.AS,sdk_version:v.Jn,lang:m.ZP.language,region:yield c.Z.apiSetting.getUserRegion()};return(yield t._serviceWithFullData({url:r,data:l,[g.Tf]:n,[g.$R]:!1})).data})()}constructor(){var e=new c.Z;this._service=e.setDefaultConfig(h.s0).useJsonBigTransformResponse().addInterceptor([new l.g({}),new u.$,new p.b]).build();var t=new c.Z;this._serviceWithFullData=t.setDefaultConfig(h.s0).addInterceptor([new l.g({}),new d.X,new u.$]).build()}}(0,a.gn)([(0,f.V)(),(0,a.w6)("design:type",Function),(0,a.w6)("design:paramtypes",[]),(0,a.w6)("design:returntype",Promise)],_.prototype,"getModelSourceList",null),(0,a.gn)([(0,f.V)(),(0,a.w6)("design:type",Function),(0,a.w6)("design:paramtypes",["undefined"==typeof GetClothMaskInfoReq?Object:GetClothMaskInfoReq]),(0,a.w6)("design:returntype",Promise)],_.prototype,"getClothMaskInfo",null),(0,a.gn)([(0,f.V)(),(0,a.w6)("design:type",Function),(0,a.w6)("design:paramtypes",["undefined"==typeof SubmitModelTaskReq?Object:SubmitModelTaskReq,"undefined"==typeof IAppUrlParams?Object:IAppUrlParams]),(0,a.w6)("design:returntype",Promise)],_.prototype,"submitModelTask",null),(0,a.gn)([(0,f.V)(),(0,a.w6)("design:type",Function),(0,a.w6)("design:paramtypes",["undefined"==typeof GetModelGenerateResultReq?Object:GetModelGenerateResultReq]),(0,a.w6)("design:returntype",Promise)],_.prototype,"getModelGenerateResult",null),(0,a.gn)([(0,f.V)(),(0,a.w6)("design:type",Function),(0,a.w6)("design:paramtypes",["undefined"==typeof AIT2DTemplateListParams?Object:AIT2DTemplateListParams,"undefined"==typeof IAppUrlParams?Object:IAppUrlParams]),(0,a.w6)("design:returntype",Promise)],_.prototype,"aiT2DTemplateList",null),(0,a.gn)([(0,f.V)(),(0,a.w6)("design:type",Function),(0,a.w6)("design:paramtypes",["undefined"==typeof AIT2DTemplateDetailParams?Object:AIT2DTemplateDetailParams]),(0,a.w6)("design:returntype",Promise)],_.prototype,"aiT2DTemplateDetail",null)},19910:function(e,t,r){"use strict";r.d(t,{w:function(){return h}});var n=r(461228),i=r(789786),o=r(141548),a=r(514206),s=r(677684),c=r(834457),l=r(968822),u=r(855548),d=r(727133),p=r(111265),f=r(145014);class h{getBatchPresetResourceList(e){var t=this;return(0,n._)(function*(){var{url:r,hostNameType:n}=o.s.GetBatchPresetResources,i={smart_tool_type:e.smartToolType,refer_source:0};return yield t._service({url:r,data:i,[f.Tf]:n,[f.$R]:!1})})()}syncBatchPresetAsset(e){var t=this;return(0,n._)(function*(){var{url:r,hostNameType:n}=o.s.SyncAsset,i={resources:e.resources,workspace_id:e.workspaceId};return yield t._serviceWithFullData({url:r,data:i,[f.Tf]:n,[f.$R]:!1})})()}getSyncStatus(e){var t=this;return(0,n._)(function*(){var{url:r,hostNameType:i}=o.s.SyncAssetStatus,s={resource_ids:e.resourceIds,workspace_id:e.workspaceId},c=()=>t._service({url:r,data:s,[f.Tf]:i,[f.$R]:!1});return yield new Promise((e,t)=>{var r,i=(r=(0,n._)(function*(){try{var r=yield c();switch(r.status){case a.w.SyncStateSuccess:e(r);break;case a.w.SyncStateProcessing:setTimeout(i,1e3);break;default:t(r.status)}}catch(e){t(e)}}),function(){return r.apply(this,arguments)});i()})})()}constructor(){var e=new s.Z;this._service=e.setDefaultConfig(p.s0).useJsonBigTransformResponse().addInterceptor([new c.g({}),new l.$,new u.b]).build();var t=new s.Z;this._serviceWithFullData=t.setDefaultConfig(p.s0).addInterceptor([new c.g({}),new l.$]).build()}}(0,i.gn)([(0,d.V)(),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[Object]),(0,i.w6)("design:returntype",Promise)],h.prototype,"getBatchPresetResourceList",null),(0,i.gn)([(0,d.V)(),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",["undefined"==typeof AsyncAssetRequest?Object:AsyncAssetRequest]),(0,i.w6)("design:returntype",Promise)],h.prototype,"syncBatchPresetAsset",null),(0,i.gn)([(0,d.V)(),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",["undefined"==typeof SyncStateReq?Object:SyncStateReq]),(0,i.w6)("design:returntype",Promise)],h.prototype,"getSyncStatus",null)},182760:function(e,t,r){"use strict";r.d(t,{c:function(){return S}});var n=r(461228),i=r(69984),o=r(764112),a=r(789786),s=r(677684),c=r(855548),l=r(968822),u=r(123951),d=r(906141),p=r(145014),f=r(727133),h=r(155542),g=r(834457),v=r(111265),m=r(855644),_=r(818398),y=r.n(_),b=r(318455);class S{serverReport(e,t,r){var{url:n,hostNameType:i}=d.uk.DraftOpenReport;return this.axiosInstance.post(n,{params:t,event_name:e,custom_info:r},{[p.Tf]:i})}syncSaveTicket(e,t){var r=this;return(0,n._)(function*(){var n={package_key:e,package_type:d.f$,workspace_id:t,cursor:0,count:1},{url:i,hostNameType:o}=d.uk.SyncSaveToken,{version_list:a}=yield r.axiosInstance.post(i,n,{[p.Tf]:o});return a.map(e=>e.package_id)[0]})()}submitDraftData(e){var t=this;return(0,n._)(function*(){var r,n,i,o,a,s,c,l,u,f,h=(null===(s=e.cloudAlbumAssert)||void 0===s?void 0:s.map(e=>({source_path:e.sourcePath,md5:e.md5,size:e.size})))||[],g=h.filter(t=>{var r;return null===(r=e.referencedAssert)||void 0===r?void 0:r.includes(t.md5)}),v=null===(l=e.cover)||void 0===l?void 0:null===(c=l.split("base64,"))||void 0===c?void 0:c[1],m=null!==(u=e.cloudDraftMeta)&&void 0!==u?u:t._getCloudDraftMeta(e.id,e.name,e.dimension,!e.ticket||"0"===e.ticket,(r=e.draftData,n=null!=v?v:"",i=g.map(e=>e.size),a=(o=new TextEncoder).encode(r).length+o.encode(n).length,i.forEach(e=>a+=e),a),e.userInfo),{url:_,hostNameType:y}=d.uk.SaveDraftUrl;return yield t.axiosInstance.post(_,{workspace_id:e.workspaceId,package_type:d.f$,package_key:e.id,base_package_id:null!==(f=e.ticket)&&void 0!==f?f:"0",template_data:e.draftData,template_meta:JSON.stringify(m),package_assets:h,referenced_assets:g,materials:e.materials,user_actions:"{}",cover_image_content:v,page_covers:e.coverList.map((e,t)=>({data:e,source_path:"cover".concat(t>0?"_".concat(t):"",".jpg")}))},{[p.Tf]:y})})()}publishAsTemplate(e){var t=this;return(0,n._)(function*(){var r,n,a,{id:s,name:c,dimension:l,userInfo:u,item_type:f,title:h,cover_height:g,cover_width:v,template_data:m,template_file:_,limit:b,extra:S,extra_v2:w,fragment_count:E,replaceable_image_list:k,main_version:x,features_version:T,revise_version:I,source_workspace_id:C,template_theme:R}=e,{url:A,hostNameType:O}=d.uk.PublishAsTemplate,M=null===(n=e.cover)||void 0===n?void 0:null===(r=n.split("base64,"))||void 0===r?void 0:r[1];(null===(a=b.platform)||void 0===a?void 0:a.length)||(b.platform=[d.dV]);var P={create_time:Date.now(),platform:d.dV,feature_list:b.features};return yield t.axiosInstance.post(A,{item_type:f,title:h,cover:M,cover_height:g,cover_width:v,template_data:m,template_meta:JSON.stringify(P),template_theme:R,template_file:_,limit:b,extra:S,extra_v2:(0,o._)((0,i._)({},w),{source_draft_id:s}),fragment_count:E,replaceable_image_list:k,main_version:x,features_version:T,revise_version:I,source_workspace_id:C},{[p.Tf]:O,transformResponse:e=>y().parse(e)})})()}getDraftData(e,t){var r=this;return(0,n._)(function*(){var n=yield r.axiosInstance.post(d.uk.GetDraftUrl.url,{package_key:e,app_version:v.eP,sdk_version:v.AS,lang:u.ZP.language,region:yield s.Z.apiSetting.getUserRegion(),workspace_id:t,package_asset_limit:30},{[p.Tf]:d.uk.GetDraftUrl.hostNameType}),a=JSON.parse(n.template_data),c=(0,h.x)(n);return r._draftCreateTime=c.draftCreateTime,(0,o._)((0,i._)({},c),{draftData:a})})()}getTemplateFile(e){var t=this;return(0,n._)(function*(){return yield t.axiosInstance.post(d.uk.GetTemplateFile.url,{uris:e},{[p.Tf]:d.uk.GetDraftUrl.hostNameType})})()}reportDraftOpen(e,t){return this.axiosInstance.post(d.uk.SyncDraftOpenTime.url,{workspace_id:t,file_id:e,file_type:d.nB},{[p.Tf]:d.uk.SyncDraftOpenTime.hostNameType})}checkPublishTemplatePermission(){var e=this;return(0,n._)(function*(){var t=yield e.axiosInstance.post(d.uk.CheckPublishTemplatePermission.url,{},{[p.Tf]:d.uk.CheckPublishTemplatePermission.hostNameType});return{hasPermission:t.has_permission,hasCNPermission:t.has_cn_permission,publishCoverTemplate:t.cover_template_permission}})()}_getCloudDraftMeta(e,t,n,a,s,c){var l,u,p,f=Date.now(),h="editor-batch"===(0,b.Cm)()||void 0;return{draft:{id:e,name:t,type:d.f$,duration:0,updateTime:f,size:s,segmentCount:0,version:"1.0.0",platformSupport:d.dV,isMainTrackEmpty:!1,isScriptTemplate:!1,renderIndexTrackMode:!1,canvasInfo:{width:n[0].width,height:n[0].height,sizeUnit:n[0].unit,pageInfoList:n.map(e=>(0,o._)((0,i._)({},e),{sizeUnit:e.unit}))},coverUrl:"cover.jpg",cover:"cover.jpg",graphicInfo:{isUseInCn:null!==(l=m.zL.hasDependencyCN)&&void 0!==l&&l,isBatch:h}},uploadSource:{owner:null!==(u=null==c?void 0:c.uid)&&void 0!==u?u:"0",platform:d.dV,systemVersion:r.g.navigator.userAgent,appVersion:"1.0.0",createTime:a||!this._draftCreateTime?f:this._draftCreateTime},createSource:{owner:null!==(p=null==c?void 0:c.uid)&&void 0!==p?p:"0",platform:d.dV,systemVersion:r.g.navigator.userAgent,appVersion:"1.0.0",createTime:a||!this._draftCreateTime?f:this._draftCreateTime}}}constructor(){this.axiosInstance=new s.Z().addInterceptor([new l.$,new c.b]).addInterceptor(new g.g({isRetry:e=>e.indexOf(d.uk.SaveDraftUrl.url)>=0,retries:d.JL})).build()}}(0,a.gn)([(0,f.V)(),(0,a.w6)("design:type",Function),(0,a.w6)("design:paramtypes",[String,String,String]),(0,a.w6)("design:returntype",void 0)],S.prototype,"serverReport",null),(0,a.gn)([(0,f.V)(),(0,a.w6)("design:type",Function),(0,a.w6)("design:paramtypes",[String,String]),(0,a.w6)("design:returntype",Promise)],S.prototype,"syncSaveTicket",null),(0,a.gn)([(0,f.V)(),(0,a.w6)("design:type",Function),(0,a.w6)("design:paramtypes",["undefined"==typeof SaveDraftDataRequestData?Object:SaveDraftDataRequestData]),(0,a.w6)("design:returntype",Promise)],S.prototype,"submitDraftData",null),(0,a.gn)([(0,f.V)(),(0,a.w6)("design:type",Function),(0,a.w6)("design:paramtypes",["undefined"==typeof PublishAsTemplateParams?Object:PublishAsTemplateParams]),(0,a.w6)("design:returntype",Promise)],S.prototype,"publishAsTemplate",null),(0,a.gn)([(0,f.V)(),(0,a.w6)("design:type",Function),(0,a.w6)("design:paramtypes",[String,String]),(0,a.w6)("design:returntype",Promise)],S.prototype,"getDraftData",null),(0,a.gn)([(0,f.V)(),(0,a.w6)("design:type",Function),(0,a.w6)("design:paramtypes",[Array]),(0,a.w6)("design:returntype",Promise)],S.prototype,"getTemplateFile",null),(0,a.gn)([(0,f.V)(),(0,a.w6)("design:type",Function),(0,a.w6)("design:paramtypes",[String,String]),(0,a.w6)("design:returntype","undefined"==typeof Promise?Object:Promise)],S.prototype,"reportDraftOpen",null),(0,a.gn)([(0,f.V)(),(0,a.w6)("design:type",Function),(0,a.w6)("design:paramtypes",[]),(0,a.w6)("design:returntype",Promise)],S.prototype,"checkPublishTemplatePermission",null)},145014:function(e,t,r){"use strict";r.d(t,{$R:function(){return u},R$:function(){return d},Tf:function(){return l}});var n=r(461228),i=r(69984),o=r(764112),a=r(850025),s=r(460198),c=r(659610),l="custom-host-name-type",u="need-x-lvweb-idc-header";class d extends a.X{updateApiSetting(e){this._setting=e}constructor(...e){super(...e);var t,r=this;this.request={onFulfilled:(t=(0,n._)(function*(e){var t,n,a=!!(null===(t=e.baseURL)||void 0===t?void 0:t.startsWith("https")),d=e[l]||s.b_.Default,p=null===(n=e[u])||void 0===n||n;if(!a){var f=!1;setTimeout(()=>{f||c.t.error("current request".concat(e.url," is blocking by route. Please check"))},2e3);var h=yield r._setting.getRequestDomain({type:d});f=!0,e.baseURL=h}var g=(0,o._)((0,i._)({loc:yield r._setting.getUserRegion()},e.headers),{"x-lvweb-idc":r._setting.userIDC});return p||delete g["x-lvweb-idc"],Object.assign(e,{headers:g,withCredentials:!0}),e}),function(e){return t.apply(this,arguments)})}}}},911719:function(e,t,r){"use strict";r.d(t,{X:function(){return o}});var n=r(69984),i=r(850025);class o extends i.X{constructor(...e){super(...e),this.request={onFulfilled:e=>{var t,r,i=(t=document.cookie.match(RegExp("(^| )_tea_web_id=([^;]+)")),(r=window.GATEWAY_INJECTED_WEB_ID||"")||null===t||(r=t[2]),r),o={aid:"348188",device_platform:"web",region:window.__locationCountryCode||"us",web_id:i};return Object.assign(e,{params:(0,n._)({},e.params||{},o)}),e}}}}},834457:function(e,t,r){"use strict";r.d(t,{g:function(){return s}});var n=r(69984),i=r(850025),o="custom-axios-retry";function a(e){var t=(null==e?void 0:e[o])||{};return t.retryCount=t.retryCount||0,t}class s extends i.X{constructor(e){super(),this.request={onFulfilled:e=>{var t=a(e);return t.lastRequestTime=Date.now(),e[o]=t,e}},this.response={onRejected:e=>{var{config:t}=e;if(!t)return Promise.reject(e);var{retries:r=1,isRetry:i=()=>!0,retryDelay:s=200,resetTimeout:c=!0}=(0,n._)({},this._retryOptions,null==t?void 0:t[o]),l=a(t);if((i(t.url,e)||l.canRetry)&&l.retryCount<r){l.retryCount+=1;var u,d="number"==typeof s?s:s(l.retryCount,e);if((u=this.axiosInstances).defaults.agent===t.agent&&delete t.agent,u.defaults.httpAgent===t.httpAgent&&delete t.httpAgent,u.defaults.httpsAgent===t.httpsAgent&&delete t.httpsAgent,!c&&t.timeout&&l.lastRequestTime){var p=Date.now()-l.lastRequestTime;t.timeout=Math.max(t.timeout-p-d,1)}return t.transformRequest=[e=>e],new Promise(e=>setTimeout(()=>e(this.axiosInstances(t)),d))}return Promise.reject(e)}},this._retryOptions=e}}},649073:function(e,t,r){"use strict";r.d(t,{B:function(){return n.B},i:function(){return i.i}});var n=r(602133),i=r(668992)},165303:function(e,t,r){"use strict";r.d(t,{L:function(){return o}});var n=r(282560),i=r(549630);class o extends i.I{get type(){return n.Gk.AUDIO}get duration(){return this._sourceData.duration}get unencryptedPreviewUrl(){var e,t,r,n;return null===(n=this._sourceData)||void 0===n?void 0:null===(r=n.unencryptedPlayInfo)||void 0===r?void 0:null===(t=r.info)||void 0===t?void 0:null===(e=t.audio)||void 0===e?void 0:e.primary_url}get transcodeStatus(){return this._sourceData.transcode_status}}},37754:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(733730),i=r(640712);class o extends n.Z{destroy(){this.requestId="",this.isDestroy=!0,this.sdk.eventBus.removeListener(i.zW.BusDestroy,this.destroy),this.removeAllListeners()}constructor(e,t){super(),this.requestId="",this.isDestroy=!1,this.requestId=e,this.sdk=t,this.sdk.eventBus.addListener(i.zW.BusDestroy,this.destroy)}}},482309:function(e,t,r){"use strict";r.d(t,{e:function(){return n.e}});var n=r(476162)},960935:function(e,t,r){"use strict";function n(e){var t="";t=e<102.4?"".concat(e.toFixed(2),"B"):e<104857.6?"".concat((e/1024).toFixed(2),"KB"):e<1073741824?"".concat((e/1048576).toFixed(2),"MB"):e<1099511627776?"".concat((e/1073741824).toFixed(2),"GB"):"".concat((e/1099511627776).toFixed(2),"TB");var r="".concat(t),n=r.indexOf(".");return"00"==r.substr(n+1,2)?r.substring(0,n)+r.substr(n+3,2):t}r.d(t,{y:function(){return n}})},414007:function(e,t,r){"use strict";r.d(t,{n:function(){return n}});var n="https://sf16-va.".concat("t","ik").concat("t","okcdn.com/obj/eden-va2/abjwhj/ljhwZthlaukjlkulzlp/file-crc-cal.js")},322586:function(e,t,r){"use strict";r.d(t,{W:function(){return o}});var n=r(69984),i=r(764112);function o(e){var t,{obj:r,serializeKey:o,targetKey:a}=e;try{t=JSON.parse(r[o])}catch(e){console.warn("".concat(o," \u5B57\u6BB5\u975E\u6CD5,\u65E0\u6CD5\u89E3\u6790\u8BE5\u5B57\u6BB5\u5185\u5BB9"),r)}return(0,i._)((0,n._)({},r),{[a]:t})}},450778:function(e,t,r){"use strict";r.d(t,{F5:function(){return n.F5},lJ:function(){return i.lJ},no:function(){return n.no},vA:function(){return n.vA}}),r(423327),r(187139),r(905563);var n=r(376144),i=r(701816);r(781146)},646827:function(){"use strict";var e;(e||(e={})).SvgSticker="svg_sticker"},159327:function(){"use strict";var e,t;(t=e||(e={})).DESKTOP="desktop",t.DREAMINA="dreamina"},81470:function(e,t,r){"use strict";r(871878)},900571:function(e,t,r){"use strict";var n,i;r.d(t,{M:function(){return n}}),(i=n||(n={}))[i.EffectTypeWordArt=1]="EffectTypeWordArt",i[i.EffectTypeSticker=2]="EffectTypeSticker",i[i.EffectTypeAudioEffect=3]="EffectTypeAudioEffect",i[i.EffectTypeSong=4]="EffectTypeSong",i[i.EffectTypeVideo=5]="EffectTypeVideo",i[i.EffectTypeTextTemplate=6]="EffectTypeTextTemplate",i[i.EffectTypeSpecialEffect=7]="EffectTypeSpecialEffect",i[i.EffectTypeFaceTool=8]="EffectTypeFaceTool",i[i.EffectTypeImage=9]="EffectTypeImage",i[i.EffectTypeFont=10]="EffectTypeFont",i[i.EffectTypeTimbre=11]="EffectTypeTimbre",i[i.EffectTypeFilter=12]="EffectTypeFilter",i[i.EffectTypeVideoAnimation=13]="EffectTypeVideoAnimation",i[i.EffectTypeColor=14]="EffectTypeColor",i[i.EffectTypeTextAnimation=18]="EffectTypeTextAnimation",i[i.EffectTypeTransitions=19]="EffectTypeTransitions",i[i.EffectTypeRecipe=50]="EffectTypeRecipe",i[i.EffectTypeWordArtCollection=101]="EffectTypeWordArtCollection",i[i.EffectTypeStickerCollection=102]="EffectTypeStickerCollection",i[i.EffectTypeAudioEffectCollection=103]="EffectTypeAudioEffectCollection",i[i.EffectTypeVideoEffectCollection=104]="EffectTypeVideoEffectCollection",i[i.EffectTypeEmoticonCollection=105]="EffectTypeEmoticonCollection",i[i.EffectTypeTextTemplateCollection=106]="EffectTypeTextTemplateCollection",i[i.EffectTypeImageCollection=109]="EffectTypeImageCollection",i[i.EffectTypeFilterCollection=112]="EffectTypeFilterCollection",i[i.EffectTypeVideoImage=201]="EffectTypeVideoImage"},861023:function(e,t,r){"use strict";r.d(t,{n:function(){return i}});class n{dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}constructor(e,t,r,n){this._node=e,this._type=t,this._handler=r,this._options=null!=n&&n,this._node.addEventListener(this._type,this._handler,this._options)}}function i(e,t,r,i){return new n(e,t,r,i)}},894508:function(e,t,r){"use strict";r.d(t,{F:()=>v});let n=r("997282"),i=r("963730");class o{constructor(e,t){this.key=e,this.data=t,this.incoming=new Map,this.outgoing=new Map}}class a{leafs(){var e=[];for(var t of this._nodes.values())0===t.outgoing.size&&e.push(t);return e}insertEdge(e,t){var r=this.lookupOrInsertNode(e),n=this.lookupOrInsertNode(t);r.outgoing.set(n.key,n),n.incoming.set(r.key,r)}removeNode(e){var t=this._hashFn(e);for(var r of(this._nodes.delete(t),this._nodes.values()))r.outgoing.delete(t),r.incoming.delete(t)}lookup(e){return this._nodes.get(this._hashFn(e))}lookupOrInsertNode(e){var t=this._hashFn(e),r=this._nodes.get(t);return r||(r=new o(t,e),this._nodes.set(t,r)),r}isEmpty(){return 0===this._nodes.size}toString(){var e=[];for(var[t,r]of this._nodes)e.push("".concat(t,"\n	(-> incoming)[").concat([...r.incoming.keys()].join(", "),"]\n	(outgoing ->)[").concat([...r.outgoing.keys()].join(","),"]\n"));return e.join("\n")}findCycleSlow(){for(var[e,t]of this._nodes){var r=new Set([e]),n=this._findCycle(t,r);if(n)return n}}_findCycle(e,t){for(var[r,n]of e.outgoing){if(t.has(r))return[...t,r].join(" -> ");t.add(r);var i=this._findCycle(n,t);if(i)return i;t.delete(r)}}constructor(e){this._hashFn=e,this._nodes=new Map}}let s=r("942515"),c=r("908741"),l=r("30276"),u=r("37011"),d=r("507823"),p=r("719265"),f=r("883002");class h extends Error{constructor(e){var t;super("cyclic dependency between services"),this.message=null!==(t=e.findCycleSlow())&&void 0!==t?t:"UNABLE to detect cycle, dumping graph: \n".concat(e.toString())}}function g(){}class v{get services(){return this._services}createChild(e){return new v(e,this,this._afterServiceCreated,this._enableTracing)}invokeFunction(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=d.f.traceInvocation(this._enableTracing,e),o=!1;try{return e({get:e=>{if(o)throw Error("service accessor is only valid during the invocation of its target method");var t=this._getOrCreateServiceInstance(e,i);if(!t)throw Error("[invokeFunction] unknown service '".concat(e,"'"));return t}},...r)}finally{o=!0,i.stop()}}createInstance(e){for(var t,r,n=arguments.length,o=Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];return e instanceof i.M?(t=d.f.traceCreation(this._enableTracing,e.ctor),r=this._createInstance(e.ctor,e.staticArguments.concat(o),t)):(t=d.f.traceCreation(this._enableTracing,e),r=this._createInstance(e,o,t)),t.stop(),r}_createInstance(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,n=(0,l.Lq)(e).sort((e,t)=>e.index-t.index),i=[];for(var o of n){var a=this._getOrCreateServiceInstance(o.id,r);if(!a)throw Error("[createInstance] ".concat(e.name," depends on UNKNOWN service ").concat(o.id,"."));i.push(a)}var s=n.length>0?n[0].index:t.length;if(t.length!==s){console.trace("[createInstance] First service dependency of ".concat(e.name," at position ").concat(s+1," conflicts with ").concat(t.length," static arguments"));var c=s-t.length;t=c>0?t.concat(Array(c)):t.slice(0,s)}return Reflect.construct(e,t.concat(i))}_setServiceInstance(e,t){if(this._services.get(e) instanceof i.M)this._services.set(e,t);else if(this._parent)this._parent._setServiceInstance(e,t);else throw Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(e){var t=this._services.get(e);return!t&&this._parent?this._parent._getServiceInstanceOrDescriptor(e):t}_getOrCreateServiceInstance(e,t){this._globalGraph&&this._globalGraphImplicitDependency&&this._globalGraph.insertEdge(this._globalGraphImplicitDependency,String(e));var r=this._getServiceInstanceOrDescriptor(e);return r instanceof i.M?this._safeCreateAndCacheServiceInstance(e,r,t.branch(e,!0)):(t.branch(e,!1),r)}_safeCreateAndCacheServiceInstance(e,t,r){if(this._activeInstantiations.has(e))throw Error("illegal state - RECURSIVELY instantiating service '".concat(e,"'"));this._activeInstantiations.add(e);try{return this._createAndCacheServiceInstance(e,t,r)}finally{this._activeInstantiations.delete(e)}}_createAndCacheServiceInstance(e,t,r){for(var n=new a(e=>e.id.toString()),o=0,s=[{id:e,desc:t,_trace:r}];s.length;){var c=s.pop();if(n.lookupOrInsertNode(c),o++>1e3)throw new h(n);for(var u of(0,l.Lq)(c.desc.ctor)){var d,p=this._getServiceInstanceOrDescriptor(u.id);if(!p)throw Error("[createInstance] ".concat(e," depends on ").concat(u.id," which is NOT registered."));if(null===(d=this._globalGraph)||void 0===d||d.insertEdge(String(c.id),String(u.id)),p instanceof i.M){var f={id:u.id,desc:p,_trace:c._trace.branch(u.id,!0)};n.insertEdge(c,f),s.push(f)}}}for(;;){var g=n.leafs();if(0===g.length){if(!n.isEmpty())throw new h(n);break}for(var{data:v}of g){if(this._getServiceInstanceOrDescriptor(v.id) instanceof i.M){var m=this._createServiceInstanceWithOwner(v.id,v.desc.ctor,v.desc.staticArguments,v.desc.supportsDelayedInstantiation,v._trace);this._setServiceInstance(v.id,m)}n.removeNode(v)}}return this._getServiceInstanceOrDescriptor(e)}_createServiceInstanceWithOwner(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;if(this._services.get(e) instanceof i.M)return this._createServiceInstance(e,t,r,n,o);if(this._parent)return this._parent._createServiceInstanceWithOwner(e,t,r,n,o);throw Error("illegalState - creating UNKNOWN service instance ".concat(t.name))}_createServiceInstance(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;if(!i)return(0,f.bu)(e.toString(),this._createService(t,r,o));var a=new v(void 0,this,this._afterServiceCreated,this._enableTracing);a._globalGraphImplicitDependency=String(e);var s=new n.U(()=>a._createService(t,r,o),e=>(e(),p.G));return(0,c.d)(e.toString(),s)}_createService(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,n=this._createInstance(e,t,r);return this._afterServiceCreated(n),n}constructor(e=new s.y,t,r=g,n=!1){if(this._activeInstantiations=new Set,this._services=e,this._parent=t,this._afterServiceCreated=r,this._enableTracing=n,this._services.set(u.T,this),n){var i;this._globalGraph=null!==(i=null==t?void 0:t._globalGraph)&&void 0!==i?i:new a(e=>e)}}}},577729:function(e,t,r){"use strict";r.d(t,{JT:function(){return a},dt:function(){return s}});var n=r(542840),i=r(141191),o=r(646334);class a{dispose(){(0,o.U9)(this),(0,i.D)(this.constructor.name,this._store.constructor.name),this._store.dispose()}_register(e){if(e===this)throw Error("Cannot register a disposable on itself!");return this._store.add(e)}constructor(){this._store=new n.S,(0,o.FN)(this),(0,o.PB)(this._store,this)}}class s{get value(){return this._value}isEmpty(){return void 0===this._value}dispose(){this._value&&(this._value.dispose(),this._value=void 0,(0,o.U9)(this))}constructor(e){this._value=e,(0,o.FN)(this)}}},101065:function(e,t,r){"use strict";function n(e){setTimeout(()=>{throw e},0)}r.d(t,{HD:function(){return n}})},133966:function(e,t,r){"use strict";var n,i,o,a;function s(){return Math.floor(4294967296*Math.random()).toString(16).padStart(8,"0")}function c(){return"".concat(s()).concat(s()).concat(s()).concat(s())}r.d(t,{CF:function(){return c},cA:function(){return n},ru:function(){return i}}),(o=n||(n={}))[o.Discard=1]="Discard",o[o.Database=2]="Database",o[o.ReportMetrics=4]="ReportMetrics",o[o.AlwaysReport=8]="AlwaysReport",(a=i||(i={}))[a.ChildOf=0]="ChildOf",a[a.FollowsFrom=1]="FollowsFrom"},606381:function(e,t,r){"use strict";r.d(t,{z:function(){return n}});class n{get(e){var t=this._cache.get(e);return t&&(this._cache.delete(e),this._cache.set(e,t)),t}put(e,t){if(this._cache.has(e))this._cache.delete(e);else if(this._cache.size>=this._capacity){var r=this._cache.keys().next().value,n=this._cache.get(r);this._cache.delete(r),n.dispose()}this._cache.set(e,t)}remove(e){var t=this._cache.get(e);t&&(this._cache.delete(e),t.dispose())}size(){return this._cache.size}constructor(e){this._capacity=e,this._cache=new Map}}},199079:function(e,t,r){"use strict";r.d(t,{Zt:function(){return g},mL:function(){return h},oL:function(){return s}});var n=r(548946),i=r(133966),o=r(567452),a=r(383600),s="SPAN_CONTEXT",c="SPAN_CONTEXT_CONSUME_TYPE",l="SPAN_CONTEXT_TRACE_ID",u="OUTTER_PRIMARY_SPANS",d="SPAN_CONTEXT_SPAN_ID";class p{get recordInOut(){var e;return null!==(e=this.ctx.getValue("SPAN_CONTEXT_RECORD_IN_OUT"))&&void 0!==e&&e}get traceId(){return this.ctx.getValue(l)}get spanId(){return this.ctx.getValue(d)}get consumeType(){return this.ctx.getValue(c)}get timeout(){var e;return null!==(e=this.ctx.getValue("SPAN_CONTEXT_TIMEOUT"))&&void 0!==e?e:6e5}newTrace(){o.C.newTrace(this.traceId,this.timeout)}add(e){this._span=e,o.C.addSpan(e)}commit(e){e.root&&this.ctx.getValue(u)?Promise.all(this.ctx.getValue(u)).then(()=>{o.C.commitSpan(e,this.consumeType)}):o.C.commitSpan(e,this.consumeType)}addLink(e){this._span.addLink(e)}addEvent(e){this._span.addEvent(e)}addEvents(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];this._span.addEvents(t)}addLog(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];this._span.addLog(t)}addMetrics(e){this._span.addMetrics(e)}markError(e){this._span.markError(e)}constructor(e){this.ctx=e,this.ctx.setValue(d,(0,a.G)()),this.ctx.setValue(s,this)}}var f={[n.zO.Entry]:i.cA.AlwaysReport,[n.zO.Event]:i.cA.Discard,[n.zO.UserInput]:i.cA.Discard,[n.zO.Task]:i.cA.Discard};function h(e){var t=f[e.type];return void 0!==e.getValue(c)?t=e.getValue(c):e.setValue(c,t),e.setValue(l,(0,i.CF)()),new p(e)}function g(e){var t=e.background();return t.setValue(l,e.getValue(l)),t.setValue(c,e.getValue(c)),new p(t)}},703482:function(e,t,r){"use strict";r.d(t,{m:function(){return f}});var n=r(980422),i=r(524291),o=r(199079),a=r(704626),s=r(963473),c=new a.z(100),l=["logid","ret","errmsg","log_id","logId","status_message","status_code"];function u(e){var t=e.config;return null!=t&&!!t.spanId}function d(e){if(!u(e))return e;var t=e.config;try{var r=t.spanId,i=c.get(r);i&&(void 0!==e.status&&i.addEvent(n.cl.double("status",e.status)),void 0!==e.statusText&&i.addEvent(n.cl.string("status_text",e.statusText)),Object.entries(e.config.headers.toJSON()).forEach(e=>{var[t,r]=e;return i.addEvent(n.cl.string("Res.".concat(t),JSON.stringify(r)))}),e.data&&l.forEach(t=>{var r,o,a;void 0!==e.data[t]?(i.addEvent(n.cl.string("Res.".concat(t),JSON.stringify(e.data[t]))),("ret"===t||"status_code"===t)&&0!==Number(e.data[t])&&i.markError((0,s.wf)(Number(e.data.field),null!==(o=e.data.errmsg)&&void 0!==o?o:""))):void 0!==(null===(r=e.data.data)||void 0===r?void 0:r[t])&&(i.addEvent(n.cl.string("Res.".concat(t),JSON.stringify(e.data.data[t]))),("ret"===t||"status_code"===t)&&0!==Number(e.data.data[t])&&i.markError((0,s.wf)(Number(e.data.data[t]),null!==(a=e.data.errmsg)&&void 0!==a?a:"")))}),i.end(),c.remove(r))}catch(e){console.error(e)}return e}function p(e){if(!u(e))return e;var t=e.config;try{var r=t.spanId,n=c.get(r);n&&(n.markError(e),d(e))}catch(e){console.error(e)}return Promise.reject(e)}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"network";e.interceptors.request.use(e=>{if(!e.ctx||!e.url)return e;try{var r,a,s,l,{span:u}=(0,i.VL)(e.ctx,t,e.url),d=e.ctx.getValue(o.oL).spanId;e.spanId=d,c.put(d,u),u.addEvent(n.cl.string("Method",null!==(s=e.method)&&void 0!==s?s:"")),Object.entries(null!==(l=null===(r=(a=e.headers).toJSON)||void 0===r?void 0:r.call(a))&&void 0!==l?l:e.headers).forEach(e=>{var[t,r]=e;return u.addEvent(n.cl.string("Req.".concat(t),JSON.stringify(r)))})}catch(e){console.error(e)}return e}),e.interceptors.response.use(d,p)}},755437:function(e,t,r){"use strict";r.d(t,{x:function(){return o}});var n=r(510872),i=r(433803);class o{dispose(){this._task.clearCallback()}updatePriorityLevel(e){var t=this._task.getCallback();if(t){this._task.clearCallback();var r=(0,n.Fr)(t,{priorityLevel:e}),o=this._task.getStartTime(),a=(0,n.fj)(e);r.setStartTime(o),r.setExpirationTime(o+a),i.p.addTask(r),this._task=r}}constructor(e){this._task=e}}},877886:function(e,t,r){"use strict";r.d(t,{p:function(){return o}});var n=r(510872),i=r(533015);class o extends i.n{requestHostCallback(e){this._scheduledCallback=e,this._isMessageLoopRunning||(this._isMessageLoopRunning=!0,this._channel.port2.postMessage(null))}cancelHostCallback(){this._scheduledCallback=void 0}constructor(){super(),this._isMessageLoopRunning=!1,this._channel=new MessageChannel,this._flushCallback=()=>{if(!this._scheduledCallback){this._isMessageLoopRunning=!1;return}var e=(0,n.Xn)(),t=e+this._yieldInterval;try{this._scheduledCallback(!0,e,t)?this._channel.port2.postMessage(null):(this._isMessageLoopRunning=!1,this._scheduledCallback=void 0)}catch(e){throw this._channel.port2.postMessage(null),e}},this._channel.port1.onmessage=()=>{this._flushCallback()}}}},990360:function(e,t,r){"use strict";r.d(t,{Pq:function(){return l},j3:function(){return c}});var n=r(772322);r(889662);var i=r(359878),o=r(318455),a=r(123951),s=(e,t,r,s)=>{var c,l,u=o.m4.create(e).addQueryParameter("store_region",null!==(l=null===(c=window.__locationCountryCode)||void 0===c?void 0:c.toLowerCase())&&void 0!==l?l:"none").addQueryParameter("lang",a.ZP.language.toLowerCase()).toString();return(0,n.jsx)(i.Z,{className:s,href:globalThis.xssNamespace["lvweb/smart-tools"].filterUrl(u,null,{logType:"js.href/src",mode:"black",reportOnly:"all"}),target:"_blank",onClick:r,children:t},t)},c=(e,t,r)=>s("/clause/terms-of-service",e,t,r),l=(e,t)=>s("/clause/community-guideline",e,t)},203700:function(e,t,r){"use strict";r.d(t,{aW:function(){return u}});var n,i,o=r(461228),a=r(69984),s=r(764112),c=r(47533),l=(n=(0,o._)(function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{delayMs:r=500,numTry:n=2}=t;try{return yield e()}catch(o){var i=n-1;if(i<=0)throw o;return yield(0,c._)(r),yield l(e,(0,s._)((0,a._)({},t),{numTry:i}))}}),function(e){return n.apply(this,arguments)}),u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return()=>l(e,t)},d=e=>new Promise((t,r)=>setTimeout(()=>{r(Error("timeout"))},e)),p=(i=(0,o._)(function*(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{timeout:n=3e4}=r,i=[(0,o._)(function*(){t=yield e()})(),d(n)];return yield Promise.race(i),t}),function(e){return i.apply(this,arguments)});(0,o._)(function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return l(()=>p(e,t),t)})},270193:function(e,t,r){"use strict";r.d(t,{k:function(){return f}});var n=r(461228),i=r(789786),o=r(963473),a=r(818351),s=r(939051),c=r(810381),l=r(781440),u=r(525479),d=r(807283),p=r(123951);class f{get _assetId(){return this._params.assetId}get _fromWorkspaceId(){return this._params.fromWorkspaceId}get _toWorkspaceId(){return this._params.toWorkspaceId}get _updateStatus(){return this._params.handler.updateStatus}get _notificationService(){return this._params.notificationService}canSync2UserMaterial(){return!0}sync2UserMaterial(){var e=this;return(0,n._)(function*(){if(!e._mutex.tryLock())return(0,o.wf)(-1,"do not call this function before it done");e._updateStatus(s.a.Syncing2UserMaterial),e.syncingUserMaterial.error=void 0;try{var t=yield e._params.userMaterialService.copyMaterialToWorkspace({assetId:e._assetId,fromWorkspaceId:e._fromWorkspaceId,toWorkspaceId:e._toWorkspaceId,meta:""});if(!t.ok)return e._updateStatus(s.a.Sync2UserMaterialFailure,{errInfo:t}),e.syncingUserMaterial.error=t,e._reportService.reportDevError("sync-material-from-workspace",e.syncingUserMaterial.error),e._handleError(t.code),t;return e._updateStatus(s.a.Synced2UserMaterial),(0,o.ly)()}catch(t){throw e.syncingUserMaterial.error=(0,o.wf)(-1,null==t?void 0:t.message),e._reportService.reportDevError("sync-material-from-workspace",e.syncingUserMaterial.error),e._updateStatus(s.a.Sync2UserMaterialFailure,{errInfo:e.syncingUserMaterial.error}),t}finally{e._mutex.unLock()}})()}_handleError(e){var t,r=Number(e);if(!this._params.payinPayoutHelper){null===(t=this._notificationService)||void 0===t||t.error(p.ZP.t("web_personal_invite_copy_wrong",{},"Couldn\u2019t copy"));return}r===l.F.Insufficient&&(0,u.i)({payinPayoutHelper:this._params.payinPayoutHelper,payScene:d.Mm.SYNC,workspaceId:this._params.toWorkspaceId,onPaySuccess:()=>{this.sync2UserMaterial()}})}constructor(e,t){this._params=e,this._reportService=t,this.syncingUserMaterial={progress:0},this._mutex=new a.L}}f=(0,i.gn)([(0,i.fM)(1,c.m),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",["undefined"==typeof ISyncFromWorkspaceHelper?Object:ISyncFromWorkspaceHelper,void 0===c.m?Object:c.m])],f)},496006:function(e,t,r){"use strict";r.d(t,{D:function(){return a}});var n,i,o=r(30276);(n=i||(i={})).Upload="uploaded",n.Freeze="freeze";var a=(0,o.yh)("draft-materials")},301649:function(e,t,r){"use strict";r.d(t,{AK:function(){return s.AK},I8:function(){return o.I8},OI:function(){return a.e},Xl:function(){return o.Xl},_b:function(){return s._b},a:function(){return i.a},cz:function(){return n.c},sb:function(){return s.sb},yL:function(){return a.M}});var n=r(658655),i=r(26566),o=r(542842),a=r(686684);r(82399),r(276502);var s=r(509932)},198037:function(e,t,r){"use strict";r.d(t,{x:function(){return n}});var n=(0,r(30276).yh)("sync-report-to-slardar-service")},194033:function(e,t,r){"use strict";r.d(t,{m:function(){return y}});var n=r(772322),i=r(218571),o=r(235137),a=r(439409),s=r(910723),c=r(771268),l=r(824769),u=r(336462),d=r(296248),p=r(778881),f=r(280839),h=r(875652),g=r(390104),v=r(749279),m=r(852590),_=r(955400),y=(0,r(193320).Pi)(e=>{var{scheduleManager:t,mixedUploadManager:r,operationType:y,onClose:b,initialSelectedMedias:S=[],exportManager:w,scheduleCb:E}=e,[k,x]=(0,i.useState)((0,v.p)(y,S)),{downloadManager:T}=(0,i.useContext)(a.rC),{exportStatus:I,exportDialogCloseDisable:C}=(0,o.k)(w,e=>({exportStatus:e.observableData.taskStatus,exportDialogCloseDisable:e.observableData.isModalCloseDisable})),[R,A]=(0,i.useState)(!1),[O,M]=(0,i.useState)(y);(0,i.useEffect)(()=>{M(y)},[y]),(0,i.useEffect)(()=>{var e=w.onExported(e=>{var t,n,i,o,a,s,c,l;r.setVideoAsset(null!==(a=null===(t=e.data)||void 0===t?void 0:t.assetId)&&void 0!==a?a:""),T.init({fileId:null!==(s=null===(n=e.data)||void 0===n?void 0:n.assetId)&&void 0!==s?s:"",fileName:null!==(c=null===(i=e.data)||void 0===i?void 0:i.assetName)&&void 0!==c?c:"",fileWorkspaceId:null!==(l=null===(o=e.data)||void 0===o?void 0:o.assetWorkspaceId)&&void 0!==l?l:""})});return()=>{e.dispose()}},[]);var P=[_.A.Computer];return(0,n.jsxs)("div",{className:f.Z.mediaPublishContainer,children:[(0,n.jsx)(u.h,{title:(0,l.YQ)(y),onClose:()=>{b()},allowHide:!C,actions:I===c.tN.Failure?[g.Y.close]:[g.Y.hide]}),(0,n.jsxs)("div",{className:f.Z.mediaPublishBody,children:[(0,n.jsxs)("div",{className:f.Z.mediaPublishBodyLeft,children:[I===c.tN.Success&&(0,n.jsx)(m.v,{mixedUploadManager:r,scheduleManager:t,showMenuKeys:P}),I!==c.tN.Success&&(0,n.jsxs)("div",{className:f.Z.exportVideo,children:[w.renderExportProcessMask(b),w.renderExportFailureMask(b)]})]}),(0,n.jsxs)("div",{className:f.Z.mediaPublishBodyRight,children:[R&&(0,n.jsx)(h.y,{title:(0,l.YQ)(O),onClick:()=>{M(s.Y.options),A(!1)}}),O===s.Y.options?(0,n.jsx)(p.E,{onChange:e=>{M(s.Y.schedule),x(e)},downloadManager:T}):(0,n.jsx)(d.P,{initialSelectedMedias:k,disabled:I!==c.tN.Success||r.scheduleDisabled,onClose:b,scheduleCb:E})]})]})]})})},366519:function(e,t,r){"use strict";r.d(t,{H:function(){return l}});var n=r(772322);r(459360);var i=r(401725);r(218571);var o=r(123951),a=r(659179),s=r(132630);r(648547);var c=r(145193),l=e=>{var{taskId:t,videoName:r,coverUrl:l,progress:u,onCancel:d,onClickItem:p,hideDropdown:f}=e;return(0,n.jsxs)("div",{className:"Lv_Task-item",tabIndex:0,onClick:()=>{null==f||f(),null==p||p(t,c.h.Underway)},children:[(0,n.jsx)(s.Z,{url:l}),(0,n.jsxs)("div",{className:"Lv_Task-item-body fail",children:[(0,n.jsx)("p",{className:"Lv_Task-item-title",children:r}),(0,n.jsx)("div",{className:"Lv_Task-item-progress",children:(0,n.jsx)("div",{className:"Lv_Task-item-progress-value",style:{width:"".concat(u,"%")}})}),(0,n.jsx)("p",{className:"Lv_Task-item-desc",children:o.ZP.t("web_exporting_x",{placeholder0:u},"Exporting {placeholder0}%")})]}),(0,n.jsx)("div",{className:"Lv_Task-item-actions",onClick:e=>{e.stopPropagation()},children:(0,n.jsx)("div",{className:"Lv_Task-item-action",onClick:e=>{e.stopPropagation(),null==d||d(t)},children:(0,n.jsx)(i.Z,{className:"Lv_Task-item-action-tip",content:o.ZP.t("cancel_export",{},"cancel_export"),style:{zIndex:1004},children:(0,n.jsx)(a.xcW,{})})})})]})}},467666:function(e,t,r){"use strict";r.d(t,{a:()=>_});let n=r("772322");r("529114");let i=r("544633"),o=r("595051"),a=r("218571"),s=r("123951"),c=r("285348"),l=r("439409"),u={formCopyBodyLeft:"formCopyBodyLeft-DVdXHW",formCopyBodyRight:"formCopyBodyRight-Kawy0J",applyAllBtn:"applyAllBtn-rwjUt5",des:"des-ZLJjQY",action:"action-Ypl4jc"},d=r("193320"),p=r("679836"),f=r("843445"),h=r("179419"),g=r("638575"),v=r("763898"),m=r("824769");var _=(0,d.Pi)(e=>{var{form:t,showMenuKeys:r}=e,{formData:d,meta:_,validateResult:y}=t,{authType:b,selectedAccounts:S}=d,{errorFieldsInfo:w}=y,E=function(e){switch(e){case c.NS.TikTok:return f.Z;case c.NS.FacebookPage:return h.c;case c.NS.Instagram:return g.T;default:return null}}(b),{publishHashTagManager:k,scheduleReportManager:x}=(0,a.useContext)(l.rC),T=(0,i.default)(e=>{var{type:r,data:n}=e;t.setFormData(n)});if(!E)return null;var I=(0,m.oE)(w,["mediaMime","mediaSize","mediaDuration","mediaResolution","mediaRatio"]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:u.formCopyBodyLeft,children:(0,n.jsx)(v.G,{assetId:d.assetIdList[0],onAssetIdChange:e=>{t.setFormData({assetIdList:[e]})},onWillUpload:()=>{t.setFormData({assetIdList:[]})},mediaValidateResult:I,showMenuKeys:r,safeZoneType:b})}),(0,n.jsxs)("div",{className:u.formCopyBodyRight,children:[(0,n.jsxs)("div",{className:u.applyAllBtn,children:[(0,n.jsxs)("p",{className:u.des,children:[" ",s.ZP.t("ulk_post_apply_post_setting",{},"Fill with Template Content")]}),(0,n.jsx)(o.Z,{disabled:!t.hasUnsynced,onClick:()=>{t.syncFromTemplate(),x.reportSchedulePostPage("use_template")},className:u.action,type:"primary",children:s.ZP.t("ulk_post_apply_post_button",{},"Use template")})]}),(0,n.jsx)(p.x,{onChange:e=>{t.setFormData({scheduleTime:e})},timestamp:d.scheduleTime}),(0,n.jsx)(E,{publishHashTagManager:k,formValue:d,dispatch:T})]})]})})},434405:function(e,t,r){"use strict";r.d(t,{D3:function(){return s},Kv:function(){return c},tN:function(){return d}});var n,i,o,a,s,c,l=r(69984),u=r(612197);(n=a||(a={}))[n.Cancel=-3]="Cancel",n[n.Idle=-4]="Idle";var d=(0,l._)({},u.t,a);(i=s||(s={})).BELOW_VERSION="40008",i.INSUFFICIENT_SPACE="20113",i.INVALID_NAME="40031",i.INVALID_MATERIAL_NAME="24001",i.DELETED_PACKAGE="40004",i.DELETED_MATERIAL="10000",i.INVALID_MATERIAL="40006",i.INVALID_FORMAT="200206",i.INVALID_MATERIAL_INFORMATION="200204",i.INVALID_TOKEN="20127",i.SAVE_TIMEOUT="CUSTOM_SAVE_TIMEOUT",(o=c||(c={})).success="success",o.failure="failure",o.cancelled="cancelled"},104690:function(e,t,r){"use strict";r.d(t,{y:()=>k,i:()=>x});let n=r("69984"),i=r("789786"),o=r("254845"),a=r("214835"),s=r("608476"),c=r("461644"),l=r("248176"),u=r("487884"),d=r("824769"),p=r("980014");function f(e){return{validate:Object.values(e).every(e=>e.validate),errorFieldsInfo:e}}var h=e=>{var{formData:t,meta:r}=e,{}=t;return{validate:!0,errorFieldsInfo:{title:{validate:!0}}}},g=e=>{var t={mediaSelected:{validate:!0},scheduleTime:{validate:!0},mediaMime:{validate:!0},mediaSize:{validate:!0},mediaDuration:{validate:!0},mediaRatio:{validate:!0},mediaResolution:{validate:!0},title:{validate:!0}},{formData:r,meta:n}=e,{authType:i,assetIdList:[o]}=r,{mediaInfo:a}=n;if(!o)return t.mediaSelected.validate=!1,t.mediaSelected.reason=u.Z3.MediaRequired,f(t);if(!a)return f(t);var s=(0,d.e5)(i);(0,p.ZB)(s);var{mime:c,size:l,duration:h,width:g,height:v}=a;return c&&l&&h&&(s.format.includes(c)||(t.mediaMime.validate=!1,t.mediaMime.reason=u.NS.Unsupported),l<=s.sizeLimit||(t.mediaSize.validate=!1,t.mediaSize.reason=u.kR.ExceedLimit),h>=s.minTime&&h<=s.maxTime||(t.mediaDuration.validate=!1,t.mediaDuration.reason=h<s.minTime?u.Id.Insufficient:u.Id.ExceedLimit),g>=s.minWidth&&v>=s.minHeight||(t.mediaResolution.validate=!1,t.mediaResolution.reason=g<s.minWidth?u.Ux.LessThanMinHeight:u.Ux.LessThanMinWidth),g/v<=s.maxRatio||(t.mediaRatio.validate=!1,t.mediaRatio.reason=u.Kk.GreaterThanMaxRatio)),f(t)};let v=r("389215"),m=r("203427"),_=r("812084"),y=r("127844"),b=r("972355"),S=r("250977"),w=r("116266"),E=r("828961");var k="batch-schedule-default-account-export";class x{get formSuite(){return this._formSuite}get activeTabKey(){return this._activeTabKey}get savingStatus(){return this._formSaver.loadingStatus}get existingSchedulePostTask(){return this._options.existingSchedulePostTask}get includeSchedulePostTask(){if(!this._initialTaskExists())return!1;var{existingSchedulePostTask:e}=this._options;return e.status!==s.Qc.Draft}get includeDraft(){if(!this._initialTaskExists())return!1;var{existingSchedulePostTask:e}=this._options;return e.status===s.Qc.Draft}get tabKeys(){return this._tabKeys}get formCopies(){return this._getFormCopyList()}get formSaver(){return this._formSaver}switchActiveKey(e){return!!(e!==this._activeTabKey&&this._tabKeys.includes(e))&&(this._activeTabKey=e,!0)}updateTabKeys(e){var t=(0,_.C)(e);return!(0,m.v)(t,this.tabKeys)&&(this._ensureForm(t),this._tabKeys=[...t],t.includes(this.activeTabKey)||this.switchActiveKey(t[0]),!0)}updateTabKeysFromBusinessAccount(e){if(this._options.needCachedSelectedAccount&&e&&Object.values(e).flat().length&&this._browserStorageService.keyValue.set(k,JSON.stringify(e)),e){var t=Object.entries(e).map(e=>{var[t,r]=e;return r.map(e=>(0,y.Mp)({account:e,authType:t}))}).flat(),{tabKeys:r}=this;this.updateTabKeys([r[0],...t])}}_buildTemplateFormdata(e){var{existingSchedulePostTask:t,scheduleTime:r,initialTemplate:i={}}=e;if(!t)return(0,n._)({scheduleTime:r,title:"",assetIdList:[]},i);var{scheduleTime:o,formInfo:{title:a},assetIdList:s}=t;return{scheduleTime:o,title:a,assetIdList:s}}_buildFormMeta(e){return{}}_getFormCopyList(){return Array.from(this._formSuite.values())}_initialTaskExists(){var{existingSchedulePostTask:e}=this._options;return!!((null==e?void 0:e.id)&&this._getFormCopyList().some(t=>t.meta.scheduleTaskId===e.id))}_ensureForm(e){var{incoming:t,leaving:r}=(0,_.r)(this._tabKeys,e);r.forEach(e=>{this._formSuite.removeFormCopy(e)}),t.forEach(e=>{this._createFormCopy(e)})}_createFormCopy(e){if(!this._formSuite.has(e)){var{authType:t,account:r}=(0,y.hQ)(e),n=(0,b.Rh)(t,r),i=(0,b.ol)(t),o=this._formSuite.getOrCreateFormCopy(e,{getInitialForm:()=>n,getInitialMeta:()=>i,syncMode:a.Y.OnCreated,validate:g});this._initFormCopyUpdateEffect(o,this._everCloudHelper.getFileDetail.bind(this._everCloudHelper))}}_initTemplateUpdateEffect(){var e=this._formSuite.formTemplate;(0,o.EH)(()=>{(0,S.i)(e)})}_initFormCopyUpdateEffect(e,t){(0,o.U5)(()=>({assetId:e.formData.assetIdList[0]}),()=>{(0,S.z)(e,t)},{fireImmediately:!0,equals:o.p6.shallow})}_addExistingTaskToFormSuite(){var{existingSchedulePostTask:e}=this._options;if(e){var{formInfo:t}=e,r=(0,y.Mp)({authType:t.authType,account:t.selectedAccounts[0]});this.updateTabKeys([...this._tabKeys,r]);var n=this._formSuite.getOrCreateFormCopy(r);n.setFormData(t),n.setMeta({scheduleTaskId:e.id}),this.switchActiveKey(r)}}constructor(e,t,r,n){this._options=e,this._capcutAccountService=t,this._containerService=r,this._browserStorageService=n,this._activeTabKey=y.Hz,this._tabKeys=[y.Hz];var{existingSchedulePostTask:i}=e,s=this._buildTemplateFormdata(e),c=this._buildFormMeta(e);this._formSuite=new a.N({getInitalTemplateForm:()=>s,getInitalTemplateMeta:()=>c,templateValidate:h}),this._formSaver=this._containerService.createInstance(v.l,{formSuite:this._formSuite,schedulePostTask:i}),this._everCloudHelper=this._containerService.createInstance(w.U),(0,o.rC)(this),this._initTemplateUpdateEffect(),this._addExistingTaskToFormSuite()}}(0,i.gn)([o.LO],x.prototype,"_activeTabKey",void 0),(0,i.gn)([o.LO,(0,i.w6)("design:type",Array)],x.prototype,"_tabKeys",void 0),(0,i.gn)([o.Fl,(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[]),(0,i.w6)("design:returntype",void 0)],x.prototype,"activeTabKey",null),(0,i.gn)([o.Fl,(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[]),(0,i.w6)("design:returntype",void 0)],x.prototype,"savingStatus",null),(0,i.gn)([o.Fl,(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[]),(0,i.w6)("design:returntype",void 0)],x.prototype,"includeSchedulePostTask",null),(0,i.gn)([o.Fl,(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[]),(0,i.w6)("design:returntype",void 0)],x.prototype,"includeDraft",null),(0,i.gn)([o.Fl,(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[]),(0,i.w6)("design:returntype",void 0)],x.prototype,"tabKeys",null),(0,i.gn)([o.Fl,(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[]),(0,i.w6)("design:returntype",void 0)],x.prototype,"formCopies",null),(0,i.gn)([o.aD,(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[String]),(0,i.w6)("design:returntype",void 0)],x.prototype,"switchActiveKey",null),(0,i.gn)([o.aD,(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[Array]),(0,i.w6)("design:returntype",void 0)],x.prototype,"updateTabKeys",null),(0,i.gn)([o.aD,(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",["undefined"==typeof BusinessAccountMap?Object:BusinessAccountMap]),(0,i.w6)("design:returntype",void 0)],x.prototype,"updateTabKeysFromBusinessAccount",null),x=(0,i.gn)([(0,i.fM)(2,c.t),(0,i.fM)(3,E.d),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",["undefined"==typeof IBatchScheduleManagerCtorParams?Object:IBatchScheduleManagerCtorParams,void 0===l.Gw?Object:l.Gw,void 0===c.t?Object:c.t,void 0===E.d?Object:E.d])],x)},487884:function(e,t,r){"use strict";var n,i,o,a,s,c,l,u,d,p,f,h,g;r.d(t,{Id:function(){return o},Kk:function(){return l},NS:function(){return n},Ux:function(){return c},Z3:function(){return s},kR:function(){return i}}),(d=n||(n={})).Unknown="unknown",d.Unsupported="unsupported",(p=i||(i={})).Unknown="unknown",p.ExceedLimit="exceedLimit",(f=o||(o={})).Unknown="unknown",f.ExceedLimit="exceedLimit",f.Insufficient="insufficient",(h=a||(a={})).Unspecified="unspecified",h.EarlierThanNow="earlierThanNow",h.LaterThanMax="laterThanMax",(s||(s={})).MediaRequired="mediaRequired",(g=c||(c={})).LessThanMinWidth="lessThanMinWidth",g.LessThanMinHeight="lessThanMinHeight",(l||(l={})).GreaterThanMaxRatio="greaterThanMaxRatio",(u||(u={})).TooLong="tooLong"},593356:function(e,t,r){"use strict";r.d(t,{b:function(){return u}});var n=r(69984),i=r(764112),o=r(789786),a=r(521909),s=r(461644),c=r(980014),l=r(5313);class u{get reportData(){return this._reportData}setReportData(e){this._reportData=e}reportSchedulePostPage(e,t){var r=this._containerService;(0,c.ZB)(this._reportData);var o=this._reportData;"create_posts_for_xprofiles"===e?(0,a.hV)(r,(0,n._)({action:e,materialType:"video"},o,t)):(0,a.hV)(r,(0,i._)((0,n._)({action:e,materialType:"video"},o),{publishInfo:t}))}dispose(){this._reportData=void 0}constructor(e,t){this._containerService=e,this._businessAuthorizationService=t}}u=(0,o.gn)([(0,o.fM)(0,s.t),(0,o.fM)(1,l._),(0,o.w6)("design:type",Function),(0,o.w6)("design:paramtypes",[void 0===s.t?Object:s.t,void 0===l._?Object:l._])],u)},422558:function(e,t,r){"use strict";r.d(t,{L:function(){return i},c:function(){return h}});var n,i,o=r(461228),a=r(789786),s=r(781440),c=r(111954),l=r(254845),u=r(640712),d=r(577729),p=r(980014),f=r(658742);(n=i||(i={}))[n.Idle=0]="Idle",n[n.Processing=1]="Processing",n[n.Success=2]="Success",n[n.Failure=3]="Failure",n[n.Cancel=4]="Cancel";class h extends d.JT{uploadFromComputer(e){var t=this;return(0,o._)(function*(){var r,n=e,i=!1;return e||(n=yield(r=u.NF.video.accept,new Promise(e=>{var t=document.createElement("input");t.type="file",t.accept=r,t.addEventListener("change",t=>{var r,n=null==t?void 0:t.target;e(null==n?void 0:null===(r=n.files)||void 0===r?void 0:r[0])}),t.click()}))),i=!!n,t._uploadFile=n,t._startUploadFile(t._uploadFile),i})()}cancel(){var e;null===(e=this._uploader)||void 0===e||e.cancel()}retry(){this._startUploadFile(this._uploadFile)}setUploadWorkspaceId(e){this._workspaceId=e}get workspaceId(){return this._workspaceId}destroy(){this._uploader&&1===this.observableData.uploadStatus&&this._uploader.cancel(),this._uploader=void 0,this._workspaceId=""}_startUploadFile(e){var t=this;return(0,o._)(function*(){(0,p.ZB)(e),(0,l.z)(()=>{t.observableData.uploadProgress=0,t.observableData.uploadStatus=1,t.observableData.errorCode=0});var r=yield t._getEverCloudInstance(),n=yield r.uploadAsset({file:e,skipDuplicate:!0});t._uploader=n,n.onProgress=e=>{var{done:r,total:n}=e;(0,l.z)(()=>{t.observableData.uploadProgress=Math.min(r/n*100)})},n.onFinish=e=>{var{status:r,fileId:n,errInfo:i}=e,{code:o}=null!=i?i:{};if("cancel"===r){(0,l.z)(()=>{t.observableData.uploadStatus=4});return}if("error"===r){(0,l.z)(()=>{t.observableData.uploadStatus=3,t.observableData.errorCode=null!=o?o:-1});return}"success"===r&&n&&(0,l.z)(()=>{t.observableData.uploadStatus=2,t._onSuccess.fire({assetId:n})})}})()}_getEverCloudInstance(){return this._userMaterialsService.getEvercloudInstance(this._workspaceId)}constructor(e,t){super(),this._workspaceService=e,this._userMaterialsService=t,this._onSuccess=this._register(new f.Q),this._uploadFile=void 0,this._workspaceId="",this.observableData=(0,l.LO)({uploadStatus:0,uploadProgress:0,errorCode:0}),this.onSuccess=this._onSuccess.event;var[{workspace_id:r}]=this._workspaceService.workspaceList;this._workspaceId=r}}h=(0,a.gn)([(0,a.fM)(0,c.W),(0,a.fM)(1,s.b),(0,a.w6)("design:type",Function),(0,a.w6)("design:paramtypes",[void 0===c.W?Object:c.W,void 0===s.b?Object:s.b])],h)},673426:function(e,t,r){"use strict";r.d(t,{Sr:function(){return n.Sr},VU:function(){return i.V}}),r(71389);var n=r(114570),i=r(336584)},478828:function(e,t,r){"use strict";r.d(t,{x:function(){return n}});var n=(0,r(30276).yh)("sync-report-to-slardar-service")},946511:function(e,t,r){"use strict";r.d(t,{Z:function(){return k}});var n=r(461228),i=r(772322),o=r(429188),a=r(218571),s=r(500377),c=r(124337),l=r(81555),u=r(563360),d=r(210441),p=r(239534),f=r(524164),h=r(449582),g=r(164837),v=r(659179),m=r(129409),_=r(813727),y=r(658384),b=r(909599),S=r(405859),w=r(543544),E=r(565523);let k=(0,o.Pi)(function(){var e,t,r,o,k,x,T,I=(0,E.G)(b.Y),C=(0,E.G)(d.i),R=(0,E.G)(S.J),A=(0,E.G)(w.t),{exportManager:O,storageExpandManager:M,generatedResult:P}=I,N=R.pageLifeCycle===g.jp.Exporting,D=R.pageLifeCycle===g.jp.Exported,{i18n:j}=(0,_.$)(),[L,B]=(0,a.useState)(!1),G=null===(e=O.lvShareReviewInstance)||void 0===e?void 0:e.getService("renderService").state.context;return(0,a.useEffect)(()=>{(0,n._)(function*(){B((yield C.getIsBindShopify()))})()},[]),(0,c.H7)()?(0,i.jsx)("div",{className:h.Z["tool-container"],children:(0,i.jsxs)("div",{className:h.Z["editor-container"],id:"editor-container",children:[(0,i.jsxs)("div",{className:h.Z["editor-content"],children:[N&&(0,i.jsx)("div",{className:h.Z["player-wrapper"],children:(0,i.jsx)(f.R,{playerConfig:{url:null==P?void 0:null===(t=P.playInfo)||void 0===t?void 0:t.url,decryptKey:null==P?void 0:null===(r=P.playInfo)||void 0===r?void 0:r.key,plugins:(null==P?void 0:null===(o=P.playInfo)||void 0===o?void 0:o.key)?[s.default]:[],Mp4EncryptPlayer:{useEME:!1,keyValue:null==P?void 0:null===(k=P.playInfo)||void 0===k?void 0:k.key}},needM3u8:!0})}),D&&(0,i.jsx)(l.U,{cookieConsent:p.g})]}),(0,i.jsxs)("div",{className:h.Z["editor-sider"],children:[(0,i.jsx)(u.G,{cookieConsent:p.g,spaceInfo:null!==(T=null===(x=I.profile)||void 0===x?void 0:x.spaceInfo)&&void 0!==T?T:{},isShopify:L,onCancel:()=>{R.transitionToPageLifeCycle(g.jp.ViewProduction)},backToEdit:()=>{R.transitionToPageLifeCycle(g.jp.DefaultEmpty)},makeNewOne:()=>{A.setStopSaving(),I.setDoNotBlockWindowClose(!0),window.sessionStorage.clear(),location.reload()},expandModalInstance:M.expandModalInstance}),D&&(0,i.jsxs)("div",{className:h.Z.related,children:[(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,i.jsx)("div",{className:h.Z.relatedTitle,children:j.t("web_magicTools_button_related_magic_tools",{},"Related magic tools")}),(0,i.jsxs)("div",{className:h.Z.viewAll,style:{display:"flex"},onClick:()=>{window.open("/magic-tools")},children:[(0,i.jsx)("div",{className:h.Z.viewAllText,children:j.t("web_magicTools_button_view_all",{},"View all")}),(0,i.jsx)("div",{className:h.Z.viewAllIcon,children:(0,i.jsx)(v.iaq,{size:10})})]})]}),(0,i.jsx)("div",{className:h.Z.relatedCards,children:(0,i.jsx)(m.Z,{toolType:y.lQ.VideoUpscaler,handleClick:()=>{localStorage.setItem("relatedPlayInfo",JSON.stringify({key:G.fileInfo.videoInfo[0].keyValue,url:G.fileInfo.videoInfo[0].url})),window.open("/magic-tools/".concat(m.H[y.lQ.VideoUpscaler].slice(1),"?asset_id=").concat(G.fileInfo.asset.id,"&from_tool_type=").concat(y.lQ.TextToVideo,"&enter_from=export&from_page=smart_tool_page"))}})})]})]})]})}):(0,i.jsx)(i.Fragment,{})})},554146:function(e,t,r){"use strict";r.d(t,{H:function(){return v}});var n=r(772322);r(936039);var i=r(932119),o=r(802406),a=r(218571),s=r(105789),c=r.n(s),l=r(429188),u=r(813727),d=r(565523),p=r(910009),f=r(909599),h=r(616621),g=r(666911),v=(0,l.Pi)((0,a.forwardRef)((e,t)=>{var{onSubmit:r}=e,{i18n:s}=(0,u.$)(),[l,v]=(0,i.default)(),[m,_]=(0,i.default)(),y=(0,a.useMemo)(()=>{if((null==v?void 0:v.width)&&(null==_?void 0:_.width))return Math.max(v.width,_.width)},[v,_]),b=(0,a.useRef)(null),S=(0,a.useRef)(null),{smartWriterManager:w}=(0,d.G)(f.Y),{adValues:E}=w,[k,x]=E,T=0===k.length;function I(){T||(null==r||r(),w.fetchResults("submit"))}return(0,a.useEffect)(()=>{requestAnimationFrame(()=>{b.current&&(b.current.focus(),b.current.selectionStart=b.current.value.length,b.current.selectionEnd=b.current.value.length)})},[]),(0,a.useImperativeHandle)(t,()=>({productTextarea:b.current,sellingPointsTextarea:S.current})),(0,n.jsx)("div",{className:g.Z.container,children:(0,n.jsxs)("div",{className:g.Z.body,children:[(0,n.jsxs)("div",{className:g.Z.item,children:[(0,n.jsx)("div",{className:g.Z.label,ref:l,style:{width:y},children:(0,n.jsx)(o.Z.Text,{ellipsis:!0,children:s.t("web_textvideo_title_product_name",{},"Product name")})}),(0,n.jsx)(h.g,{ref:b,className:g.Z.textarea,value:k,placeholder:s.t("web_textvideo_text_like_shoes",{},"Example: hair dryer"),minLineHeight:16,maxLineHeight:80,maxLength:50,toastId:"smart-writer-product-name-max-length",style:{lineHeight:"15px"},onChange:function(e){w.smartWriterTrackerData.prompt_source="input",w.adValues[0]=e},onSubmit:I})]}),(0,n.jsxs)("div",{className:g.Z.item,children:[(0,n.jsx)("div",{className:g.Z.label,ref:m,style:{width:y},children:(0,n.jsx)(o.Z.Text,{ellipsis:!0,children:s.t("web_textvideo_title_selling_point",{},"Selling points")})}),(0,n.jsx)(h.g,{ref:S,className:g.Z.textarea,value:x,placeholder:"".concat(s.t("web_textvideo_text_selling_point",{},"Example: fast, drying, low noise, safe"),"\n").concat(s.t("web_textvideo_toast_use_comma_seperate",{},"Separate your selling points with commas.")),minLineHeight:32,maxLineHeight:80,maxLength:100,toastId:"smart-writer-selling-point-max-length",style:{lineHeight:"15px"},onChange:function(e){w.adValues[1]=e},onSubmit:I}),(0,n.jsx)(p.H,{className:c()(g.Z.next,g.Z.next__bottom),type:"next",toolTip:{disabledContent:s.t("web_textvideo_text_enter_product_name",{},"Enter product name to generate script")},disabled:T,onClick:I})]})]})})}))},36786:function(e,t,r){"use strict";var n,i;r.d(t,{M:function(){return n}}),(i=n||(n={})).WEB="web",i.PC="pc",i.PRELOAD="preload"},455828:function(e,t,r){"use strict";r.d(t,{ND:function(){return a},TP:function(){return s},bZ:function(){return o}});var n=r(813727),i=r(988441),o={[i.o.TextToImage]:"/magic-tools/convert-text-to-image",[i.o.ImageToImage]:"/magic-tools/generate-image",[i.o.ImageStyleAvatar]:"/magic-tools/generate-portrait",[i.o.ImageNightEnhance]:"/magic-tools/enhance-low-light-image",[i.o.ImageStyleConversion]:"/magic-tools/stylize-photo",[i.o.ImageUpscaler]:"/magic-tools/upscale-image",[i.o.ImageAiToning]:"/magic-tools/correct-color",[i.o.ImageColoring]:"/magic-tools/ai-colorize",[i.o.ImageRestoration]:"/magic-tools/ai-restore",[i.o.VideoStyleConversion]:"/magic-tools/stylize-video",[i.o.VideoUpscaler]:"/magic-tools/upscale-video",[i.o.VideoSlowMotion]:"/magic-tools/make-slomo",[i.o.VideoStabilization]:"/magic-tools/stablize-video",[i.o.Resize]:"/editor-tools/transform",[i.o.RemoveBackground]:"/editor-tools/cutout",[i.o.Script]:"/editor-tools/script",[i.o.Autocut]:"/editor-tools/autocut",[i.o.TextToVideo]:"/editor-tools/convert-script-to-video",[i.o.LongToShort]:"/editor-tools/long-video-to-shorts",[i.o.URLToVideo]:"/editor-tools/url-to-ads",[i.o.AudioVideoTranslator]:"/magic-tools/video-translator",[i.o.BatchEdit]:"/editor-batch",[i.o.TextToImageInGraphic]:"/editor-graphic?activeTab=MaterialApps&activeAppId=1&isEmptyPage=1",[i.o.TextToDesign]:"/editor-graphic?activeTab=MaterialApps&activeAppId=4&isEmptyPage=1",[i.o.ProductPhotos]:"/editor-graphic?activeTab=MaterialApps&activeAppId=2&isEmptyPage=1",[i.o.AIModel]:"/editor-graphic?activeTab=MaterialApps&activeAppId=3&isEmptyPage=1",[i.o.TextToSpeech]:"/magic-tools/text-to-speech"},a={[i.o.RemoveBackground]:"/editor",[i.o.Resize]:"/editor",[i.o.VideoSlowMotion]:"/editor",[i.o.VideoStabilization]:"/editor"};function s(){var{i18n:e}=(0,n.$)();return{[i.o.TextToImage]:e.t("web_magicTools_title_text_to_image",{},"Text to Image"),[i.o.ImageToImage]:e.t("web_magicTools_title_image_to_image",{},"Image to Image"),[i.o.ImageStyleAvatar]:e.t("web_magicTools_title_portrait_generator",{},"Image Style Avatar"),[i.o.ImageNightEnhance]:e.t("web_magicTools_button_image_night_enhance",{},"Image Night Enhance"),[i.o.ImageStyleConversion]:e.t("web_magicTools_button_image_style_conversion",{},"Image Style Conversion"),[i.o.ImageUpscaler]:e.t("web_magicTools_button_image_upscaler",{},"Image Upscaler"),[i.o.ImageAiToning]:e.t("web_magicTools_button_image_color_correction",{},"Image AI Toning"),[i.o.ImageColoring]:e.t("web_magicTools_button_photo_colorizer",{},"Image Coloring"),[i.o.ImageRestoration]:e.t("web_magicTools_button_old_photo_restoration",{},"Image Restoration"),[i.o.VideoStyleConversion]:e.t("web_magicTools_button_video_style_transfer",{},"Video Style Conversion"),[i.o.VideoUpscaler]:e.t("web_magicTools_button_super_clarity_video",{},"Video Upscaler"),[i.o.VideoSlowMotion]:e.t("web_magicTools_button_super_slow_motion",{},"Video Slow Motion"),[i.o.VideoStabilization]:e.t("web_magicTools_button_video_stablizer",{},"Video Stabilization"),[i.o.Resize]:e.t("web_Resize_video",{},"Resize"),[i.o.RemoveBackground]:e.t("web_Remove_background",{},"Remove Background"),[i.o.Script]:e.t("web_ad_script",{},"Script"),[i.o.Autocut]:e.t("web_autocut_name_clips_video",{},"Clips to video"),[i.o.TextToVideo]:e.t("web_textvideo_title_how_use_intelligent",{},"Script to video"),[i.o.LongToShort]:e.t("web_ai_clip_shorts_tittle_clip_shorts",{},"Long video to shorts"),[i.o.URLToVideo]:e.t("smart_ad_url_web",{},"Product URL to Ads"),[i.o.BatchEdit]:e.t("ccecommerce_tools_alltools_batchedit",{},"Batch Edit"),[i.o.TextToDesign]:e.t("ccecommerce_tools_alltools_texttodesign",{},"Text to design"),[i.o.ProductPhotos]:e.t("ccecommerce_tools_alltools_backgroundmagicforproducts",{},"Product photos"),[i.o.AIModel]:e.t("ccecommerce_tools_alltools_aimodel",{},"AI model"),[i.o.TextToSpeech]:e.t("web_voice_text_speech",{},"Text to Speech"),[i.o.AudioVideoTranslator]:e.t("web_translate_video_translation",{},"Video translator"),[i.o.TextToImageInGraphic]:e.t("web_magicTools_title_text_to_image",{},"Text to Image")}}},166577:function(e,t,r){"use strict";r.d(t,{u:function(){return h}});var n=r(461228),i=r(69984);r(349601);var o=r(781494),a=r(123951),s=r(218571),c=r(980014),l=r(797323),u=r(461644),d=r(565523),p=r(202659),f=r(674679),h=e=>{var t,{uploadMeta:r,callbacks:h,materialManager:g}=e,v=(0,d.G)(f.i),m=(0,d.G)(l.L),_=(0,d.G)(u.t),y=(0,s.useCallback)(e=>{var t,{materialLifeCycle:n,successCb:i,action:s}=e;(null===(t=null==r?void 0:r.showLocalUploadSuccessToast)||void 0===t||t)&&o.Z.success("".concat(a.ZP.t("upload_successfully",{placeholder0:n.getModel().filename},"{placeholder0} uploaded"))),null==i||i(n,s)},[null==r?void 0:r.showLocalUploadSuccessToast]),b=(0,s.useCallback)(e=>{h.handleUploadFailure(e)},[]),S=(0,s.useCallback)((t=(0,n._)(function*(e){var{file:t,successCb:r,action:n,options:o}=e,a=v.performanceMarkStart("UPLOAD_MATERIAL");try{var s,[l,u]=(yield g.uploadFile(t,(0,i._)({},o))).pair();if(l){(0,c.Y2)(-1,"upload fail");return}null===(s=h.handleUploadStart)||void 0===s||s.call(h,u,n),u.onResourceReady(()=>{y({materialLifeCycle:u,successCb:r,action:n}),v.performanceMarkEnd("UPLOAD_MATERIAL",{detail:{file_size:t.size,event_type:"key_path_perf",status:"success"},id:a})}),u.onUploadFailure(e=>{b({material:u,file:t,action:n,failReason:null==e?void 0:e.msg}),v.performanceMarkEnd("UPLOAD_MATERIAL",{detail:{file_size:t.size,event_type:"key_path_perf",status:"fail"},id:a})})}catch(e){if((null==e?void 0:e.status)==="cancel")return;b({file:t,action:n,failReason:e.errInfo}),v.performanceMarkEnd("UPLOAD_MATERIAL",{detail:{file_size:t.size,event_type:"key_path_perf",status:"fail"},id:a})}}),function(e){return t.apply(this,arguments)}),[]),w=(0,s.useCallback)(e=>{var t,{fileList:r,successCb:n,action:i,options:s}=e,c=null!==(t=window.MAX_COUNT)&&void 0!==t?t:100;for(var l of(r.length>c&&o.Z.warning(a.ZP.t("the_number_of_material_uploads_exceeds_the_maximum_limit_please_upload_in_batch",{},"Number of uploaded material exceeds maximum limit. Upload them in batches")),r.slice(0,c)))S({file:l,successCb:n,action:i,options:s})},[S]);return{onImport:w,onCancel:(0,s.useCallback)(function(e){var t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];(0,p.z)(_,{action:"upload_cancel",toolType:g.toolType}),g.cancelUploadMaterial(e);try{t&&o.Z.success("".concat(a.ZP.t("{placeholder0}_upload_canceled_successfully",{placeholder0:e.getModel().filename},"{placeholder0} upload canceled")))}catch(e){o.Z.error("".concat(a.ZP.t("cancel_upload_failed",{},"Couldn't cancel upload"))),m.captureException("cloud",e,{describe:"upload cancel failed",reason:"upload_cancel_failed"})}},[]),onCancelVisitorFile:(0,s.useCallback)(e=>{try{g.cancelUploadMaterial(e),o.Z.success("".concat(a.ZP.t("{placeholder0}_upload_canceled_successfully",{placeholder0:e.getModel().filename},"{placeholder0} upload canceled")))}catch(e){o.Z.error("".concat(a.ZP.t("cancel_upload_failed",{placeholder1:null==e?void 0:e.message},"Couldn't cancel upload"))),m.captureException("local",e,{describe:"upload cancel failed",reason:"upload_cancel_failed"})}},[]),onRetry:(0,s.useCallback)(e=>{try{g.retryUploadMaterial(e),e.onResourceReady(()=>{o.Z.success("".concat(a.ZP.t("{placeholder0}_retransmission_successful",{placeholder0:e.getModel().filename},"{placeholder0} reuploaded")))})}catch(e){var t,r,n;"object"==typeof e&&[1001e3,1002e3,1003e3,1004e3,1005e3].includes(null==e?void 0:null===(t=e.errInfo)||void 0===t?void 0:t.code)?m.sendEvent("network_error",{describe:"visitor updaload retry error",error:e,scene:"file-project-on-retry"}):"object"==typeof e&&(null==e?void 0:null===(r=e.errInfo)||void 0===r?void 0:r.code)===100026?m.sendEvent("visitor_upload_failed",{describe:"visitor updaload retry failed width sign out of date",error:e,scene:"file-project-on-retry"}):"object"==typeof e&&(null===(n=e.errInfo)||void 0===n?void 0:n.code)===20113&&m.sendEvent("insufficient_space",{describe:"user cloud space insufficient",error:e,scene:"file-project-on-retry"})}},[])}}},104435:function(e,t,r){"use strict";r.d(t,{Z:function(){return g}});var n,i,o=r(772322);r(459360),r(529114);var a=r(401725),s=r(595051),c=r(813727),l=r(218571),u=r(744152),d=r(471835),p=r(517406),f=r(383386),h=r(123951);n="https://lf16-web-buz.capcut.com/obj/capcut-web-buz-us/common/images/aigc-logo.webp",(i=new Image).src=globalThis.xssNamespace["lvweb/smart-tools"].filterUrl(n,null,{logType:"js.href/src",mode:"black",reportOnly:"all"}),[].push(i);let g=function(e){var{status:t,ballSize:r=45,tips:n,onCancel:i,onRetry:g,errorCode:v,progress:m=99,leftMinute:_,onBackToEdit:y}=e,{i18n:b}=(0,c.$)(),[S,w]=(0,l.useState)(""),[E,k]=(0,l.useState)(m);(0,l.useEffect)(()=>{if(m){var e=window.setInterval(()=>{k(e=>{t=e>m?1/(e-m)*.3:.5;var t,r=e+t;return r>99?99:r})},100);return()=>{window.clearInterval(e)}}},[m]);var x=()=>{null==i||i()},T=()=>{g()},I=(0,l.useMemo)(()=>i&&(0,o.jsx)(s.Z,{type:"secondary",onClick:x,className:f.Z.cancelButton,children:b.t("web_pwa_button_cancel",{},"Cancel")}),[i]),C=()=>v===u.a6.InvalidInput?b.t("web_textvideo_desc_english_script_required",{},"Currently the video can only be generated from English scripts."):v===u.a6.SensitiveInput?b.t("web_textvideo_desc_no_sensitive_content",{},"Your script may contain content that violate our Community Guidelines."):b.t("web_textvideo_toast_exception_occurred",{},"Something went wrong"),R=()=>{var e;return n?(n.forEach(t=>{t.achieveProgress<=m&&(!e||m-t.achieveProgress<m-e.achieveProgress)&&(e=t)}),e):null};(0,l.useEffect)(()=>{var e=R();if("loading"===t&&e){if((null==e?void 0:e.label)instanceof Function){w(null==e?void 0:e.label(null!=_?_:0));return}w(null==e?void 0:e.label)}},[m,t,_]);var A=(0,l.useMemo)(()=>m?"".concat(b.t("web_autocut_toast_generating_now",{},"Generating...")).concat(Math.floor(E),"%"):!m&&_?h.ZP.t("web_translate_waiting_wait_time",{number0:_},"Waiting to translate\u2026 Estimated wait time: ".concat(_,"m.")):h.ZP.t("web_translate_waiting_status",{},"Waiting..."),[m,_,E]);return"failed"===t?(0,o.jsxs)("div",{className:f.Z.automaticGeneration,children:[(0,o.jsx)("div",{className:f.Z.failedIcon,children:(0,o.jsx)(d.r,{})}),(0,o.jsx)("div",{className:f.Z.failedText,children:b.t("web_textvideo_toast_generate_failure",{},"Failed to generate")}),(0,o.jsx)(a.Z,{content:b.t("web_textvideo_toast_unstable_network",{},"Poor internet connection"),checkOverflow:!0,children:(0,o.jsx)("div",{className:f.Z.tipText,children:b.t("web_textvideo_toast_unstable_network",{},"Poor internet connection")})}),(0,o.jsxs)("div",{className:f.Z.failedButtonContainer,children:[I,(0,o.jsx)(s.Z,{type:"primary",size:"large",onClick:T,children:b.t("web_textvideo_button_retry",{},"Retry")})]})]}):"failedServer"===t?(0,o.jsxs)("div",{className:f.Z.automaticGeneration,children:[(0,o.jsx)("div",{className:f.Z.failedIcon,children:(0,o.jsx)(p.r,{})}),(0,o.jsx)("div",{className:f.Z.failedText,children:b.t("web_textvideo_toast_generate_failure",{},"Failed to generate")}),(0,o.jsx)(a.Z,{content:C(),checkOverflow:!0,children:(0,o.jsx)("div",{className:f.Z.tipText,children:C()})}),(0,o.jsx)("div",{className:f.Z.failedButtonContainer,children:v&&[u.a6.InvalidInput,u.a6.SensitiveInput].includes(v)?(0,o.jsxs)(o.Fragment,{children:[I,(0,o.jsx)(s.Z,{type:"primary",size:"large",onClick:y,children:b.t("web_textvideo_button_no_sensitive_content",{},"Edit script")})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.Z,{type:"secondary",size:"large",onClick:x,children:b.t("web_pwa_button_cancel",{},"Cancel")}),(0,o.jsx)(s.Z,{type:"primary",size:"large",onClick:T,children:b.t("web_textvideo_button_retry",{},"Retry")})]})})]}):(0,o.jsxs)("div",{className:f.Z.automaticGeneration,children:[(0,o.jsx)("div",{className:f.Z.generatingBall,style:{width:r,height:r},children:(0,o.jsx)("img",{src:"https://lf16-web-buz.capcut.com/obj/capcut-web-buz-us/common/images/aigc-logo.webp"})}),(0,o.jsx)("div",{className:f.Z.generatingText,children:A}),n&&(0,o.jsx)(a.Z,{content:S,checkOverflow:!0,children:(0,o.jsx)("div",{className:f.Z.tipText,children:S})}),I]})}},942287:function(e,t,r){"use strict";r.d(t,{iF:function(){return _}});var n=r(69984),i=r(764112),o=r(574451),a=r(772322);r(459360),r(188506);var s=r(401725),c=r(948106),l=r(813727),u=r(105789),d=r.n(u),p=r(429188),f=r(659179),h=r(52533),g=r(683455),{Option:v}=c.Z,m=e=>{var{className:t,options:r,trigger:i="hover"}=e,l=(0,o._)(e,["className","options","trigger"]);return(0,a.jsx)(c.Z,(0,n._)({className:d()(g.Z["smart-tools-selector"],t),arrowIcon:(0,a.jsx)(f.HYK,{fill:"currentColor"}),triggerProps:{autoAlignPopupWidth:!1,className:[g.Z["smart-tools-selector__dropdown-popover"]]},removeIcon:!0,renderFormat:(e,t)=>{var n,i=null==e?void 0:e._index,o=(0,h.Z)(i)?t:(null==r?void 0:null===(n=r[i])||void 0===n?void 0:n.label)||t;return(0,a.jsx)(s.Z,{content:o,checkOverflow:!0,children:(0,a.jsx)("div",{className:g.Z["overflow-ellipses"],children:o})})},trigger:i},l))},_=(0,p.Pi)(e=>{var t,{value:r,options:c,showMenuHeader:u=!0,dropdownListClassName:p,optionInfoClassName:f}=e,h=(0,o._)(e,["value","options","showMenuHeader","dropdownListClassName","optionInfoClassName"]),{i18n:_}=(0,l.$)();return(0,a.jsx)(m,(0,i._)((0,n._)({value:r,options:c,prefix:null===(t=c.find(e=>e.value===r))||void 0===t?void 0:t.icon,dropdownRender:e=>(0,a.jsxs)("div",{className:d()(g.Z["smart-tools-selector__dropdown-container"],g.Z["ratio-selector-dropdown-container"],p),children:[u&&(0,a.jsx)("div",{className:g.Z["smart-tools-selector__dropdown-title"],children:_.t("web_autocut_title_aspect_ratio",{},"Aspect ratio")}),(0,a.jsx)("div",{className:g.Z["smart-tools-selector__dropdown-menu"],children:e})]})},h),{children:c.map(e=>(0,a.jsxs)(v,{value:e.value,className:d()(g.Z["ratio-selector-option"],{[g.Z["mix-option"]]:"mix"===e.value}),children:[(0,a.jsx)("div",{className:g.Z["ratio-selector-option-icon"],children:e.icon}),(0,a.jsxs)("div",{className:d()(g.Z["ratio-selector-option-info"],f),children:[(0,a.jsx)(s.Z,{content:e.label,checkOverflow:!0,children:(0,a.jsx)("div",{className:d()(g.Z["ratio-selector-option-title"],g.Z["overflow-ellipses"]),children:e.label})}),(0,a.jsx)(s.Z,{content:e.subLabel,checkOverflow:!0,children:(0,a.jsx)("div",{className:d()(g.Z["ratio-selector-option-subtitle"],g.Z["overflow-ellipses"]),children:e.subLabel})})]})]},e.value))}))});(0,p.Pi)(e=>{var{value:t,options:r,showMenuHeader:c=!0,onChange:u}=e,d=(0,o._)(e,["value","options","showMenuHeader","onChange"]),{i18n:p}=(0,l.$)();return(0,a.jsx)(m,(0,i._)((0,n._)({value:t,onChange:u,options:r,prefix:(0,a.jsx)(f.K1v,{fill:"currentColor"}),dropdownRender:e=>(0,a.jsxs)("div",{className:g.Z["smart-tools-selector__dropdown-container"],children:[c&&(0,a.jsx)("div",{className:g.Z["smart-tools-selector__dropdown-title"],children:p.t("web_autocut_title_duration",{},"Duration")}),(0,a.jsx)("div",{className:g.Z["smart-tools-selector__dropdown-menu"],children:e})]})},d),{children:r.map(e=>(0,a.jsx)(v,{value:e.value,className:g.Z["smart-tools-selector__dropdown-option"],children:(0,a.jsx)(s.Z,{content:e.label,checkOverflow:!0,children:(0,a.jsx)("div",{className:g.Z["overflow-ellipses"],children:e.label})})},e.value))}))})},474824:function(e,t,r){"use strict";r.d(t,{W:()=>f});let n=r("123951"),i=r("658384"),o=r("700304"),a=r("658678"),s=r.p+"static/image/super_slow_motion_cover.15756c3b.jpg",c=r("970263"),l=r("968635"),u=r("741445"),d=r("723887"),p=r("562003");var f=e=>{switch(e){case i.lQ.VideoUpscaler:return{cover:l,video:"https://lf16-web-buz.capcut.com/obj/capcut-web-buz-us/common/videos/tool_video_upscaler.mp4",icon:c,title:n.oc.t("web_magicTools_button_super_clarity_video",{},"Video upscaler"),content:n.oc.t("web_magicTools_text_increase_video_resolution",{},"Increase your video resolution to make it clearer, without losing its quality."),buttonTitle:n.oc.t("web_magicTools_toast_go_to_upscale",{},"Upscale"),reportType:"video_upscaler"};case i.lQ.VideoSlowMotion:return{cover:s,video:"https://lf16-web-buz.capcut.com/obj/capcut-web-buz-us/common/videos/tool_super_slow_motion.mp4",icon:a,title:n.oc.t("web_magicTools_button_super_slow_motion",{},"Super slow motion"),content:n.oc.t("web_magicTools_text_slow_motion_video",{},"Get a smooth slow motion video to highlight your moments."),buttonTitle:n.oc.t("web_magicTools_toast_go_to_generate",{},"Generate"),reportType:"super_slow_motion"};case i.lQ.VideoStabilization:return{cover:d,video:"https://lf16-web-buz.capcut.com/obj/capcut-web-buz-us/common/videos/tool_video_stabilization.mp4",icon:u,title:n.oc.t("web_magicTools_button_video_stablizer",{},"Video stablization"),content:n.oc.t("web_magicTools_text_present_stablized_video",{},"Reduce shakiness in your video to make it stable."),buttonTitle:n.oc.t("web_magicTools_button_go_to_stablize",{},"Stabilize"),reportType:"video_stabilization"};case i.lQ.VideoStyleConversion:return{cover:o,video:"https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/video/FEyjbcvIMohs6Sx3fYDcu99WnSg/?quality=720p&data_version=7231023729370234884&mount_point=docx_file",icon:p,title:n.oc.t("web_magicTools_button_video_style_transfer",{},"Video style transfer"),content:n.oc.t("web_magicTools_text_convert_video_styles",{},"Convert your videos into various styles."),buttonTitle:n.oc.t("web_magicTools_toast_go_to_transfer",{},"Transfer"),reportType:"video_style_transfer"};default:return{cover:"",video:"",icon:"",title:"Unknown",content:"Unknown",buttonTitle:"Unknown",reportType:"unknown"}}};i.lQ.TextToImage,i.lQ.ImageToImage,i.lQ.Script,i.lQ.RemoveBackground,i.lQ.ImageUpscaler,i.lQ.ImageStyleConversion,i.lQ.ImageStyleAvatar,i.lQ.Resize,i.lQ.VideoUpscaler,i.lQ.ImageRestoration,i.lQ.ImageAiToning,i.lQ.ImageColoring,i.lQ.ImageNightEnhance,i.lQ.VideoSlowMotion,i.lQ.VideoStabilization,i.lQ.VideoStyleConversion},580031:function(e,t,r){"use strict";r.d(t,{X:function(){return u}});var n=r(772322),i=r(429188),o=r(218571),a=r(659179),s=r(640619),c=r(271139),l=r(432714),u=(0,i.Pi)(function(e){var{toolType:t,show:r,playerConfig:i}=e,[u,d]=(0,o.useState)(!1);function p(){d(!1)}(0,o.useEffect)(()=>{var e="tool_guide-".concat(t);!localStorage.getItem(e)&&r&&(d(!0),localStorage.setItem(e,"done"))},[r]);var f=(0,s.K)()[t];return r?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:l.Z["guide-icon-wrapper"],onClick:()=>{u||d(!0)},children:(0,n.jsx)(a.k8h,{className:l.Z["guide-icon"]})}),(0,n.jsx)(c.Z,{config:f,onClick:p,visible:u,onCancel:p,playerConfig:i})]}):null})},949786:function(e,t,r){"use strict";r.d(t,{FG:function(){return i},Sv:function(){return c},bf:function(){return l},z5:function(){return u}});var n,i,o=r(461228),a=r(963473),s=r(703388);function c(e){var t=document.createElement("iframe");t.src=globalThis.xssNamespace["lvweb/smart-tools"].filterUrl(e,null,{logType:"js.href/src",mode:"black",reportOnly:"all"}),t.style.display="none",document.body.appendChild(t)}function l(e,t,r){var n=new URL(window.location.href);n.pathname="/editor/".concat(e);var{searchParams:i}=n;return i.set("workspaceId",t),i.set("spaceId",r),i.delete("templateId"),n.href}function u(e,t,r){return d.apply(this,arguments)}function d(){return(d=(0,o._)(function*(e,t,r){var{fromDraftId:n,fromWorkspaceId:i,toDraftId:o,toWorkspaceId:c,url:l}=r,u=yield e.createCopyTask({fromWorkspaceId:i,toWorkspaceId:c,packageKey:n,newPackageKey:o,resourceType:3});if(!u.ok)return 2408===Number(u.code)?(t.handleShowStorageFullModal(s.Hq.ExpandOnSync),(0,a.wf)(u.code,u.msg)):u;var d=u.value;return new Promise(e=>{d.onSuccess(()=>{window.open(l,"_blank","noopener"),e((0,a.ly)())}),d.onError(t=>{e(t)})})})).apply(this,arguments)}(n=i||(i={}))[n.Insufficient=2408]="Insufficient"},147362:function(e,t,r){"use strict";r.d(t,{C:()=>S});let n=r("461228"),i=r("789786"),o=r("34809"),a=r("69984"),s=r("764112"),c=r("349901"),l=r("461644"),u=r("640712"),d=r("805520"),p=r("427680"),f=r("408989"),h=r("818516");class g{get accepts(){return this.getAcceptsByType(this.acceptTypes)}get acceptTypes(){return this._options.acceptTypes}getAcceptsByType(e){var t;return null!==(t=null==e?void 0:e.reduce((e,t)=>"".concat(e?",":"").concat(e).concat(u.NF[t].accept,","),""))&&void 0!==t?t:"*/*"}selectToUpload(e){var t=this;return(0,n._)(function*(){var r=yield(0,p.IL)(e.acceptTypes?t.getAcceptsByType(e.acceptTypes):t.accepts,e.multiple);(null==r?void 0:r.length)&&t.upload((0,s._)((0,a._)({},e),{files:r}))})()}upload(e){var t=this;return(0,n._)(function*(){var r,n,i=yield(0,d.T)((0,s._)((0,a._)({},e),{checkUploadLimit:t._options.checkUploadLimit,containerService:t._containerService,fastImportAnalyzeHelper:t._options.fastImportHelper,captureCoverAndThumbHelper:t._captureCoverAndThumbHelper,payinPayoutHelper:t._options.payinPayoutHelper,autoUpload:e.autoUpload,acceptTypes:["video","audio","image","file"],acceptTypesErrorTipDisabled:t._options.acceptTypesErrorTipDisabled}));return null===(r=(n=t._options).onBeforeCreated)||void 0===r||r.call(n,{tasks:i,files:e.files}),i.forEach(r=>{var n,i;r.ok&&(null===(n=(i=t._options).onCreated)||void 0===n||n.call(i,(0,a._)({directoryNodeType:h.t.File,material:r.value},e)))}),i})()}constructor(e,t,r){var n;this._options=e,this._loggerService=t,this._containerService=r,this._captureCoverAndThumbHelper=null!==(n=this._options.captureCoverAndThumbHelper)&&void 0!==n?n:this._containerService.createInstance(f.i)}}g=(0,i.gn)([(0,i.fM)(1,c.yR),(0,i.fM)(2,l.t),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",["undefined"==typeof IUploadMaterialFromLocalParams?Object:IUploadMaterialFromLocalParams,void 0===c.yR?Object:c.yR,void 0===l.t?Object:l.t])],g);let v=r("199297"),m=r("831246"),_=r("194927"),y=r("442317"),b=r("731779");class S{get accepts(){return this._accountService.hasLogin?this._uploadMaterialFromLocalManager.accepts:this._uploadMaterialFromLocalNoSignManager.accepts}upload(e){if(!this._accountService.hasLogin)return this._uploadMaterialFromLocalNoSignManager.upload({files:e.files,dataDelta:e.dataDelta,uploadParams:e.uploadParams,uploadReportParams:null==e?void 0:e.uploadReportParams,autoUpload:e.autoUpload});var t,r,n=null!==(t=null==e?void 0:e.fromWorkspaceId)&&void 0!==t?t:this._mainDraftService.draftWorkspaceManager.workspaceId;return this._uploadMaterialFromLocalManager.upload({acceptTypes:e.acceptTypes,files:e.files,dataDelta:e.dataDelta,uploadParams:e.uploadParams,fromWorkspaceId:n,toWorkspaceId:null==e?void 0:e.toWorkspaceId,uploadReportParams:null==e?void 0:e.uploadReportParams,autoUpload:e.autoUpload,checkUploadFlag:null===(r=e.checkUploadFlag)||void 0===r||r})}constructor(e,t,r,i,a){this._options=e,this._containerService=t,this._accountService=r,this._mainDraftService=i,this._payinPayoutService=a;var s,c,l=this._containerService.createInstance(b.l,{toolType:null===(s=this._options)||void 0===s?void 0:s.toolType,currentPage:null===(c=this._options)||void 0===c?void 0:c.currentPage});this._uploadMaterialFromLocalManager=this._containerService.createInstance(o.K,{acceptTypes:["video","image","audio"],onCreated:()=>null,payinPayoutHelper:l}),this._payinPayoutService.isSupportPay(this._mainDraftService.draftWorkspaceManager.workspaceId);var u=this;this._uploadMaterialFromLocalNoSignManager=this._containerService.createInstance(g,{checkUploadLimit:{totalSize:(0,n._)(function*(){var e=yield(0,y.Hp)(()=>u._payinPayoutService.isSupportPay(u._mainDraftService.draftWorkspaceManager.workspaceId),1e3);return e.ok&&e.value?1073741824:524288e3})},onCreated:()=>null,payinPayoutHelper:l,acceptTypes:["video","image","audio"]})}}S=(0,i.gn)([(0,i.fM)(1,l.t),(0,i.fM)(2,m.D),(0,i.fM)(3,_.n),(0,i.fM)(4,v.sX),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",["undefined"==typeof IUploadMaterialLifeCycle?Object:IUploadMaterialLifeCycle,void 0===l.t?Object:l.t,void 0===m.D?Object:m.D,void 0===_.n?Object:_.n,void 0===v.sX?Object:v.sX])],S)},621002:function(e,t,r){"use strict";r.d(t,{u:function(){return u}});var n=r(789786),i=r(254845),o=r(592693),a=r(816752),s=r(797323),c=r(980014),l=r(459737);class u{initPlayer(e){var t=e||this._playerProps;(0,c.ZB)(t),this._retryCnt=0,this._reloadPlayer(t)}_reloadPlayer(e){this._playerProps=e;var t,{playerConfig:r,options:n}=e,{player:s}=(0,o.ob)(r||{});null===(t=this.playerInstance)||void 0===t||t.destroy(),this.playerInstance=s,this.playerState=(0,i.ky)((0,o.X5)()),this.playerState.playUrl=(null==r?void 0:r.url)||"";var c=t=>{(null==r?void 0:r.url)&&(this._slardarAdapterService.captureException("xgplayer",Error(JSON.stringify(t)),{retryCnt:"".concat(this._retryCnt)}),this._retryCnt<this._retryLimit&&(a.JA&&console.error("xgplayer video error! retry now. (".concat(this._retryCnt,") src: ").concat(null==r?void 0:r.url)),this._retryCnt+=1,this._reloadPlayer(e)))};s.on(l.COMPLETE,()=>{this.playerState.volume=s.volume,this.playerState.muted=s.muted}),s.on(l.LOAD_START,()=>this.playerState.dataLoaded=!1),s.on(l.LOADED_DATA,()=>{this.playerState.dataLoaded=!0}),s.on(l.ERROR,e=>{this.playerState.error=e,c(e)}),s.on(l.DURATION_CHANGE,()=>this.playerState.duration=s.duration),s.on(l.WAITING,()=>{this.playerState.waiting=!0}),s.on(l.CANPLAY,()=>{this.playerState.waiting=!1,this.playerState.everCanPlay=!0}),s.on(l.PAUSE,()=>{var t;this.playerState.paused=!0,null===(t=e.onPauseCallback)||void 0===t||t.call(e,{duration:s.duration,currentTime:s.currentTime})}),s.on(l.PLAY,()=>{var t;this.playerState.paused=!1,null===(t=e.onPlayCallback)||void 0===t||t.call(e)}),s.on(l.SEEKING,()=>{this.playerState.seeking=!0}),s.on(l.SEEKED,()=>{this.playerState.seeking=!1}),s.on(l.TIME_UPDATE,()=>{var t;s.currentTime<s.duration&&(this.playerState.ended=!1),this.playerState.currentTime=s.currentTime,this.playerState.bufferedRange=s.getBufferedRange(),null===(t=e.onTimeUpdateCallback)||void 0===t||t.call(e,{currentTime:s.currentTime})}),s.on(l.PROGRESS,()=>this.playerState.bufferedRange=s.getBufferedRange()),s.on(l.ENDED,()=>{this.playerState.ended=!0,(null==n?void 0:n.seekToFirstFrameOnEnded)&&s.seek(0)}),s.on(l.FULLSCREEN_CHANGE,e=>this.playerState.isFullscreen=e),s.on(l.VOLUME_CHANGE,()=>{this.playerState.volume=s.volume,this.playerState.muted=s.muted}),s.on(l.DEFINITION_CHANGE,e=>{var{to:t}=e;return this.playerState.playUrl=t.url}),Object.values(l).forEach(e=>{var t=[l.TIME_UPDATE,l.PROGRESS,l.PLAYER_BLUR,l.PLAYER_FOCUS];s.on(e,r=>{!t.includes(e)&&a.JA&&console.info("xgplayer event:",e,"networkState:",s.networkState,"readyState:",s.readyState,r)})})}constructor(e,t){this._playerProps=e,this._slardarAdapterService=t,this.playerState=(0,i.ky)((0,o.X5)()),this._retryCnt=0,this._retryLimit=3,(0,i.rC)(this)}}(0,n.gn)([i.LO.deep],u.prototype,"playerState",void 0),(0,n.gn)([i.LO,(0,n.w6)("design:type",Object)],u.prototype,"playerInstance",void 0),(0,n.gn)([i.aD,(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",["undefined"==typeof XgPlayerProps?Object:XgPlayerProps]),(0,n.w6)("design:returntype",void 0)],u.prototype,"_reloadPlayer",null),u=(0,n.gn)([(0,n.fM)(1,s.L),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",["undefined"==typeof XgPlayerProps?Object:XgPlayerProps,void 0===s.L?Object:s.L])],u)},113022:function(e,t,r){"use strict";r.d(t,{s:function(){return u},w:function(){return l}});var n=r(789786),i=r(772322),o=r(978232),a=r(798081),s=r(663532),c=r(770081),l="aiWriter";class u extends o.S{match(e,t){return e===l&&!!t}render(e){var{CustomElement:t}=this,r=JSON.parse(e.attributes[l]||"{}"),{triggerFrom:n}=r;return(0,i.jsx)(a.k,{children:(0,i.jsx)(c.y,{editor:this.editor,inlineAttr:r,children:e=>{var{onClose:r,onConfirm:o}=e;return(0,i.jsx)(t,{triggerFrom:n,onClose:r,onConfirm:o})}})})}constructor(e,t){super(),this.editor=e,this.CustomElement=t}}(0,n.gn)([(0,s.x)(),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",["undefined"==typeof IRenderContext?Object:IRenderContext]),(0,n.w6)("design:returntype",void 0)],u.prototype,"render",null)},12192:function(e,t,r){"use strict";r.d(t,{m6:function(){return g}});var n=r(69984),i=r(764112),o=r(772322),a=r(978232),s=r(577725),c=r(399501),l=r(640595),u=r(195291),d=r(195894),p=r(950544),f=r(64367),h="SmartToolbarPluginSessionKey";class g extends a.S{get contentState(){return this.editor.getContentState()}get allSmartToolbarMarkEntities(){return this.contentState.getEntities([[p.IT,"true"]])}get allAIWriterButtonMarkEntities(){return this.contentState.getEntities([[p.Lv,"true"]])}destroy(){this.unBindEvent()}_setRecords(e){this._records=e}_addRecord(e){this._records.push(e)}_mergeRecords(){var e;this.editor.undoModule.mergeRecords(null===(e=this._records)||void 0===e?void 0:e[0],...this._records.slice(1)),this._records=[]}_getOriginalAIWriterButtonMarkPosition(){if(!this._currentAllAIWriterButtonMarkEntities)return null;var e=(0,d.G4)(this.editor,this._currentAllAIWriterButtonMarkEntities[0]),t=0;return this._currentAllAIWriterButtonMarkEntities.forEach(e=>{t+=e.text.length}),new s.L({start:e.start,len:t,editor:this.editor,zoneId:f.S})}constructor(e,t){var r;super(),r=this,this.editor=e,this.options=t,this.toolbarNode=null,this.currentSelectionData=null,this._currentAllAIWriterButtonMarkEntities=null,this._records=[],this.bindEvent=()=>{this.editor.on(c.r.CONTENT_CHANGE,this.onContentChange),this.editor.on(c.r.SCROLL,this.onScroll)},this.unBindEvent=()=>{this.editor.off(c.r.CONTENT_CHANGE,this.onContentChange),this.editor.off(c.r.SCROLL,this.onScroll)},this.onScroll=()=>{this.showOrHideToolbar()},this.onContentChange=()=>{this.moveFirstEntityIntoView(),requestAnimationFrame(()=>{this.showOrHideToolbar()})},this.insertSmartScript=e=>{var{selection:t,data:r}=e,{result:n,records:i}=r;this.currentSelectionData=t,this.allAIWriterButtonMarkEntities.length?this._currentAllAIWriterButtonMarkEntities=this.allAIWriterButtonMarkEntities:this._currentAllAIWriterButtonMarkEntities=null,sessionStorage.setItem(h,JSON.stringify({currentSelectionData:t,_currentAllAIWriterButtonMarkEntities:this.allAIWriterButtonMarkEntities?this.allAIWriterButtonMarkEntities:null}));var o=this.editor.getContentState(),a=this.getInsertSmartToolbarMarkDelta(n);this._setRecords(i),this._addRecord(o.apply(a))},this.onDiscard=()=>{var e=this._getOriginalAIWriterButtonMarkPosition(),t=this.getDiscardDelta();this._addRecord(this.contentState.apply(t)),this._mergeRecords(),this.clearSessionSelection(),e&&this.editor.selection.setSelection(e.toRange())},this.onConfirm=()=>{this.editor.setEditable(!0);var e=new l.I({zoneId:"0"}),t=this.allSmartToolbarMarkEntities[this.allSmartToolbarMarkEntities.length-1];this.allSmartToolbarMarkEntities.forEach(t=>{var{start:r,len:n}=(0,d.G4)(this.editor,t);e.retain(r+n,{[p.IT]:""})}),this._addRecord(this.contentState.apply(e)),this._mergeRecords(),t&&this.editor.selection.setSelection({start:t.end,end:t.end},!0),this.clearSessionSelection()},this.onRewrite=e=>{if(this.currentSelectionData){var t=this._getRewriteDelta(!0);e.replace(/\\n/g,"\n").split("\n").forEach(e=>{t.insert("".concat(e,"\n"),{[p.IT]:"true"})}),this._addRecord(this.contentState.apply(t))}},this.showOrHideToolbar=()=>{var e=this.allSmartToolbarMarkEntities;if(!(null==e?void 0:e.length)){this.removeToolbar();return}var t=e[e.length-1],r=this.calcToolbarStyle(t,e[0]),n=this.editor.getRootContainer();n&&this.triggerInsertToolbar(r,n)},this.moveFirstEntityIntoView=()=>{var e=this.allSmartToolbarMarkEntities;if(null==e?void 0:e.length){var t=this.getLineStateByEntity(e[0]),r=this.editor.getScrollContainer();(null==t?void 0:t._node)&&r&&(0,d.Ax)(t._node,r)}},this.triggerInsertToolbar=(e,t)=>{if(this.toolbarNode){this.toolbarNode.style.top="".concat(e.top,"px");return}var r=document.createElement("div");r.style.position="absolute",r.style.zIndex="100",r.style.top="".concat(e.top,"px"),r.style.transform="translateX(-50%)",r.style.left="50%",(0,u.render)((0,o.jsx)("div",{children:this.options.renderToolbar({onConfirm:this.onConfirm,onDiscard:this.onDiscard,onReWrite:this.onRewrite})}),r),this.toolbarNode=r,t.appendChild(r)},this.removeToolbar=()=>{var e=this.editor.getRootContainer();this.toolbarNode&&e&&((0,u.unmountComponentAtNode)(this.toolbarNode),e.removeChild(this.toolbarNode),this.toolbarNode=null)},this.getDiscardDelta=()=>{var e,t=new l.I({zoneId:"0"});if(null===(e=this._currentAllAIWriterButtonMarkEntities)||void 0===e?void 0:e.length){var r=this._currentAllAIWriterButtonMarkEntities.length,n=(0,d.G4)(this.editor,this._currentAllAIWriterButtonMarkEntities[0]);t.retain(n.start),this.allSmartToolbarMarkEntities.forEach(e=>{var r=(0,d.G4)(this.editor,e);t.delete(r.len)}),this._currentAllAIWriterButtonMarkEntities.forEach((e,n)=>{t.insert(e.text),n!==r-1&&t.insertEnter()}),this._currentAllAIWriterButtonMarkEntities=null}else{var{start:i=0}=this.currentSelectionData||{};t.retain(i),this.allSmartToolbarMarkEntities.forEach(e=>{var r=(0,d.G4)(this.editor,e);t.delete(r.len)})}return t},this._getRewriteDelta=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e,t=new l.I({zoneId:"0"});if(null===(e=r._currentAllAIWriterButtonMarkEntities)||void 0===e?void 0:e.length){var n=(0,d.G4)(r.editor,r._currentAllAIWriterButtonMarkEntities[0]);t.retain(n.start),r.allSmartToolbarMarkEntities.forEach(e=>{var n=(0,d.G4)(r.editor,e);t.delete(n.len)})}else{var{start:i=0}=r.currentSelectionData||{};t.retain(i),r.allSmartToolbarMarkEntities.forEach(e=>{var n=(0,d.G4)(r.editor,e);t.delete(n.len)})}return t},this.calcToolbarStyle=(e,t)=>{var r,{end:o}=e,{line:a}=o,{end:{line:s}}=t,c=this.editor.rectModule.getCaretRect(o),l=this.contentState.getActiveZone().getLine(s),u=this.contentState.getActiveZone().getLine(a),d=this.editor.getScrollContainer();if(!(null==u?void 0:u._node)||!d||!(null==l?void 0:l._node))return c;var p=((null==l?void 0:null===(r=l._node)||void 0===r?void 0:r.offsetTop)||0)+parseInt(window.getComputedStyle(null==l?void 0:l._node).marginTop,10),f=d.scrollTop+d.clientHeight,h=window.getComputedStyle(null==u?void 0:u._node),g=c.top+parseInt(h.lineHeight,10);return(0,i._)((0,n._)({},c),{left:c.left,top:p>=f?g:Math.min(f-76,g)})},this.getInsertSmartToolbarMarkDelta=e=>{var t,r=this.getCurPosition(),n=new l.I({zoneId:"0"});if(null===(t=this._currentAllAIWriterButtonMarkEntities)||void 0===t?void 0:t.length){var i=this._currentAllAIWriterButtonMarkEntities.length,o=(0,d.G4)(this.editor,this._currentAllAIWriterButtonMarkEntities[0]);n.retain(o.start),this._currentAllAIWriterButtonMarkEntities.forEach((e,t)=>{var r=(0,d.G4)(this.editor,e);n.delete(r.len+(t!==i-1?1:0))})}else n.retain(r.start);return e.replace(/\\n/g,"\n").split("\n").forEach(e=>{n.insert("".concat(e,"\n"),{[p.IT]:"true"})}),n},this.getCurPosition=()=>{var{start:e,len:t}=this.currentSelectionData||{start:0,len:0};return new s.L({start:e,len:t,editor:this.editor,zoneId:"0"})},this.getLineStateByEntity=e=>{var{end:t}=e,{line:r}=t;return this.contentState.getActiveZone().getLine(r)},this.clearSessionSelection=()=>{sessionStorage.removeItem(h)},this.restoreSelectionFromSessionStorage=()=>{try{var e,t,r=sessionStorage.getItem(h);if(!r)return;var n=JSON.parse(r);this.currentSelectionData=null!==(e=null==n?void 0:n.currentSelectionData)&&void 0!==e?e:this.currentSelectionData,this._currentAllAIWriterButtonMarkEntities=null!==(t=null==n?void 0:n._currentAllAIWriterButtonMarkEntities)&&void 0!==t?t:this._currentAllAIWriterButtonMarkEntities}catch(e){console.error("smart toolbar plugin parse session selectionError")}},this.editor.registerCommand(p.qp,this.insertSmartScript),this.bindEvent(),this.restoreSelectionFromSessionStorage()}}},665257:function(e,t,r){"use strict";r.d(t,{G:function(){return a}});var n=r(789786),i=r(248176),o=r(254845);class a{_setUserProfile(e){(0,o.z)(()=>{this.userProfile=e})}constructor(e){this.accountService=e,this._serviceBrand=void 0,this.userProfile=null,(0,o.rC)(this),this._setUserProfile(this.accountService.userProfile),this.accountService.onDidChangeProfile(this._setUserProfile.bind(this))}}(0,n.gn)([o.LO,(0,n.w6)("design:type","undefined"==typeof ICapcutUserProfile?Object:ICapcutUserProfile)],a.prototype,"userProfile",void 0),a=(0,n.gn)([(0,n.fM)(0,i.Gw),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",[void 0===i.Gw?Object:i.Gw])],a)},358902:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(461228);let i=class{initAndExposeAbTest(){}constructor(e){this._teaAdapterService=e,this.getBooleanAbTestValue=(e,t,r)=>{var n,i;return this._teaAdapterService.getABTestVar(e,t).then(e=>{null==r||r(e)}),!!((null===(i=window)||void 0===i?void 0:null===(n=i._libra_abtest)||void 0===n?void 0:n[e])||t)};var t,r=this;this.getBooleanAbTestValueAsync=(t=(0,n._)(function*(e,t){return yield r._teaAdapterService.getABConfig(),r._teaAdapterService.getABTestVar(e,t)}),function(e,r){return t.apply(this,arguments)})}}},135692:function(e,t,r){"use strict";r.d(t,{aQ:function(){return s},ci:function(){return l},mr:function(){return d},q6:function(){return u}});var n=r(89240),i=r(614022),o=n.qB?1024:1e3;function a(e,t){return String(e).padStart(t,"0")}function s(e){var t=e,r="B";return t>=o&&(t=Math.floor(t/o),r="KB"),t>=o&&(t=Math.floor(t/o),r="MB"),t>=o&&(t=Math.floor(t/o),r="GB"),"".concat(t).concat(r)}var c=RegExp("(?<h>\\??h+)?((?<dm>.)(?<m>\\??m+))?((?<ds>.)(?<s>\\??s+))?((?<dms>.)(?<ms>(ms)+))?((?<df>.)(?<f>(f)+))?");function l(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"?hh:mm:ss",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],{h:o,m:s,dm:l="",s:u,ds:d="",ms:p,dms:f="",f:h,df:g=""}=(null===(t=c.exec(r))||void 0===t?void 0:t.groups)||{},v=e,m="";if(h){var _=Math.round(v%1e3/1e3*n);m="".concat(a(_,h.replace(/^\?/,"").length))}if(p&&(m="".concat(a(v%1e3,p.replace(/^\?/,"").length/2)).concat(g).concat(m)),v=Math.floor(v/1e3),u){var y=v%60;(y||!u.startsWith("?"))&&(m="".concat(a(y,u.replace(/^\?/,"").length)).concat(f||g).concat(m))}if(v=Math.floor(v/60),s){var b=v%60;if(i&&(b=v>9999?"9999+":v),(b||!s.startsWith("?"))&&(m="".concat(a(b,s.replace(/^\?/,"").length)).concat(d).concat(m)),i)return m}if(v=Math.floor(v/60),o){var S=v;(S||!o.startsWith("?"))&&(m="".concat(a(S,o.replace(/^\?/,"").length)).concat(l).concat(m))}return m}var u=e=>{var{width:t,height:r,definition:n}=e;return t>r?{height:n,width:n/r*t}:{width:n,height:n/t*r}},d=e=>{if(!(0,i.Z)(e)||e<0)return"00:00";var t=Math.floor(e),r=Math.floor(t/60),n=e=>e.length?1===e.length?"0".concat(e):e:"00";return"".concat(n("".concat(r)),":").concat(n("".concat(t-60*r)))}},5313:function(e,t,r){"use strict";r.d(t,{_:function(){return n}});var n=(0,r(30276).yh)("business-authorization-service")},420645:function(e,t,r){"use strict";function n(e){var t;if(e&&null!==e.detail_infos&&(null==e?void 0:null===(t=e.common_info)||void 0===t?void 0:t.single_frame_height)!==0)return{common:{singleFrameHeight:e.common_info.single_frame_height,singleFrameWidth:e.common_info.single_frame_width,totalSetNum:e.common_info.total_set_num},details:e.detail_infos.map(e=>({frameCount:e.frame_count,imageWidth:e.image_width,imageHeight:e.image_height,url:e.url,encryptedBucketKey:"",encryptedKey:e.encrypt_key}))}}r.d(t,{Y:function(){return n}})},779753:function(e,t,r){"use strict";r.d(t,{S:function(){return n}});var n=(0,r(30276).yh)("i18n-service")},917761:function(e,t,r){"use strict";r.d(t,{f:function(){return p},h:function(){return i}});var n,i,o=r(789786),a=r(577729),s=r(980014),c=r(658742),l=r(828961),u=r(786377);(n=i||(i={})).Dark="dark",n.Light="light";var d="CAPCUT_THEME";class p extends a.JT{getTheme(){var e,t=this.storageService.keyValue.query(d);return t.ok&&t.value?((0,s.ZB)(t.value),e=t.value):(e="light",this.storageService.keyValue.set(d,e)),e}setTheme(e){u.Z.set(d,e),this.storageService.keyValue.set(d,e),this._onDidThemeChange.fire(e)}constructor(e){super(),this.storageService=e,this._onDidThemeChange=this._register(new c.Q),this.onDidThemeChange=this._onDidThemeChange.event}}p=(0,o.gn)([(0,o.fM)(0,l.d),(0,o.w6)("design:type",Function),(0,o.w6)("design:paramtypes",[void 0===l.d?Object:l.d])],p)},526998:function(e,t,r){"use strict";r.d(t,{z:function(){return a}});var n=r(963473),i=r(393167),o=r(914334);class a{createCapturer(e,t){return 0===t.width||0===t.height?Promise.resolve((0,n.wf)(-1,"capture video must have size.")):(0,i.O1)(e,t)}createIdleCapturer(e,t){return 0===t.width||0===t.height?Promise.resolve((0,n.wf)(-1,"capture video must have size.")):(0,o.d)(e,t)}}},488260:function(e,t,r){"use strict";r.d(t,{T:function(){return a},l:function(){return i}});var n,i,o=r(30276);(n=i||(i={}))[n.ArrayBuffer=0]="ArrayBuffer",n[n.ImageData=1]="ImageData";var a=(0,o.yh)("video-capture-service")},352626:function(e,t,r){"use strict";function n(e){var{publish_web_template:t,business_template_publish:r}=e.data.permission_map;return{publishWebTemplatePermission:t,publishBusinessTemplatePermission:r}}r.d(t,{P:function(){return n}})},669403:function(e,t,r){"use strict";function n(e){e.interceptors.response.use(e=>{if(200===e.status){var t,r=e.data;if((null==r?void 0:r.ret)==="0"||(null==r?void 0:null===(t=r.BaseResp)||void 0===t?void 0:t.StatusCode)===0)return Promise.resolve(null==r?void 0:r.data)}return Promise.reject(e.data)})}function i(e,t){e.interceptors.response.use(e=>{var{disableRetCheck:r=!1}=null!=t?t:{};if(200===e.status){var n,i=e.data;return r||(null==i?void 0:i.ret)==="0"||(null==i?void 0:null===(n=i.BaseResp)||void 0===n?void 0:n.StatusCode)===0||(null==i?void 0:i.status_code)===0||(null==i?void 0:i.ret)===""?Promise.resolve(i):Promise.reject(i)}return Promise.reject(e)})}function o(e){e.interceptors.response.use(e=>Promise.resolve(e.data))}r.d(t,{e_:function(){return n},i3:function(){return i},mK:function(){return o}})},693361:function(e,t,r){"use strict";function n(e){return{token:e.data.token,everPhotoUser:{userId:e.data.ever_photo_user.user_id,webUserId:e.data.ever_photo_user.web_user_id}}}r.d(t,{M:function(){return n}})},569179:function(e,t,r){"use strict";r.d(t,{b1:function(){return a}}),(n=i||(i={})).Editor="editor",n.Tool="tool",n.ImageEditor="image_editor";var n,i,o=[{entrance:"editor",pathRegex:[/action=addDigitalHuman/]},{entrance:"tool",pathRegex:[/editor-tools\/long-video-to-shorts/,/editor-tools\/convert-script-to-video/,/editor-tools\/url-to-ads/]}];function a(){var e="";return o.forEach(t=>{t.pathRegex.forEach(r=>{var n;(null===(n=location.href.match(r))||void 0===n?void 0:n[0])&&(e=t.entrance)})}),e}},74616:function(e,t,r){"use strict";r.d(t,{r:function(){return d}});var n=r(461228),i=r(618230),o=r(963473),a=r(327736),s=r(89772),c=r(669403),l=r(816752),u=r(241285);class d{get _networkClient(){if(!this._networkClientInstance){var e;this._networkClientInstance=(e=new a.yk().build(a.kk),(0,i.V)(e),(0,s.mH)(e),(0,c.i3)(e),e)}return this._networkClientInstance}getDraftShareInfo(e){var t=this;return(0,n._)(function*(){try{var r,n,i=yield t._networkClient.post(t._api(),{package_key:e.packageKey,workspace_id:e.workspaceId},{withCredentials:!0}),a=Number(null!==(r=i.ret)&&void 0!==r?r:0),s=null!==(n=i.errmsg)&&void 0!==n?n:"";if(0!==a)return(0,o.wf)(null!=a?a:-1,null!=s?s:"");return(0,o.oW)(i.data)}catch(e){return(0,o.wf)(-1,"getDraftShareInfo api error")}})()}_api(){return"".concat(l._L.getVar("web_domain")).concat(u.b.GET_SHARE_INFO)}}},857688:function(e,t,r){"use strict";r.d(t,{K:function(){return n}});var n=(0,r(30276).yh)("shape-data-service")},542631:function(e,t,r){"use strict";var n,i;r.d(t,{v:function(){return n}}),(i=n||(n={}))[i.ProgressSuccess=2]="ProgressSuccess",i[i.Success=1]="Success",i[i.Process=0]="Process",i[i.Failure=-1]="Failure"},406331:function(e,t,r){"use strict";r.d(t,{C:function(){return p}});var n=r(461228),i=r(618230),o=r(963473),a=r(327736),s=r(366339),c=r(530487),l=r(49021),u=r(227239),d=()=>{var e=new a.yk().build();return(0,u.V)(e),(0,i.V)(e),e};class p{get _networkClient(){return this._networkClientInstance||(this._networkClientInstance=d()),this._networkClientInstance}getSmartToolsConfig(){var e=this;return(0,n._)(function*(){try{var t=yield e._networkClient.get(l.b.GET_SMART_TOOL_TCC_CONFIG),r=(0,s.b)(t);return(0,o.oW)(r)}catch(e){return(0,c.m)(e,-1,"getSmartToolsConfig api error")}})()}getAiWatermarkConfig(){var e=this;return(0,n._)(function*(){try{var t=yield e._networkClient.get(l.b.GET_AI_WATERMARK_TCC_CONFIG);return(0,o.oW)(t)}catch(e){return(0,c.m)(e,-1,"getAiWatermarkConfig api error")}})()}getAiGenerateForPcConfig(){var e=this;return(0,n._)(function*(){try{var t=yield e._networkClient.get(l.b.GET_AI_GENERATE_FOR_PC_TCC_CONFIG);return(0,o.oW)(t)}catch(e){return(0,c.m)(e,-1,"getAiGenerateForPcConfig api error")}})()}getCommonConfig(e){var t=this;return(0,n._)(function*(){try{var r,n=yield t._networkClient.get(e.url);return(0,o.oW)(null!==(r=null==n?void 0:n.data)&&void 0!==r?r:{})}catch(e){return(0,c.m)(e,-1,"getCommonConfig api error")}})()}}},336103:function(e,t,r){"use strict";r.d(t,{J:function(){return n}});var n=(0,r(30276).yh)("text-preset-service")},129372:function(e,t,r){"use strict";r.d(t,{g:function(){return n}});var n=(0,r(30276).yh)("text-template-service")},437965:function(e,t,r){"use strict";r.d(t,{l:function(){return a}});var n=r(370304),i=r(619398),o=r(5756);class a extends n.B{get resourceType(){return i._g.Tone}parseHeycanResponseDataToResources(e){return(0,o.K)(e)}buildCustomRequest(e){return{category_id:Number(e.category),pack_optional:{need_tag:!0}}}}},597646:function(e,t,r){"use strict";r.d(t,{T:function(){return a},i:function(){return i}});var n,i,o=r(30276);(n=i||(i={})).Loki="loki",n.Heycan="heycan";var a=(0,o.yh)("tone-data-service")},79428:function(e,t,r){"use strict";function n(e){var t,r,n,i,o;return{common:{singleFrameHeight:null!==(t=e.height)&&void 0!==t?t:0,singleFrameWidth:null!==(r=e.width)&&void 0!==r?r:0,totalSetNum:1},details:[{frameCount:1,imageWidth:null!==(n=null==e?void 0:e.width)&&void 0!==n?n:0,imageHeight:null!==(i=null==e?void 0:e.height)&&void 0!==i?i:0,url:e.url,encryptedBucketKey:"",encryptedKey:null!==(o=e.key)&&void 0!==o?o:""}],isFromFallback:!0}}r.d(t,{y:function(){return n}})},248560:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var n=(0,r(30276).yh)("video-dreamina-data-service")},916417:function(e,t,r){"use strict";r.d(t,{r:function(){return d}});var n=r(69984),i=r(764112),o=r(789786),a=r(797323),s=r(226134),c=r(980014),l=r(727282),u=r(589872);class d{reportBusinessEvent(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t.url_path=location.pathname;var{immediately:i=!1,important:o=!0}=r;o?this._teaAdapterService.ensureTrack(e,t,i):this._teaAdapterService.track(e,t,i),r.syncServer&&((0,c.ZB)(this._requestStub),this._requestStub(e,(0,n._)({session_id:this._teaAdapterService.getSessionId()},this._teaAdapterService.getCommonEventParams(),t),this._teaAdapterService.getTeaConfig()))}reportBusinessEventByServer(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,c.ZB)(this._requestStub);var r=this._teaAdapterService.getTeaConfig();this._requestStub(e,(0,n._)({session_id:this._teaAdapterService.getSessionId()},this._teaAdapterService.getCommonEventParams(),t),r)}reportBusinessExitEvent(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.reportBusinessEvent(e,t,(0,i._)((0,n._)({},r),{immediately:!0}))}reportDevEvent(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._slardarAdapterService.sendEvent(e,(t={},Object.entries(r).forEach(e=>{var[r,n]=e;("number"==typeof n||"string"==typeof n)&&(t[r]=n)}),t))}reportDevError(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._slardarAdapterService.captureException(e,t,r)}createReporter(e,t){(0,c.Y2)(!this._reporters.has(e),"reporter existed.");var r=new u.O(t,this);return this._reporters.set(e,r),r}createSamplingReporter(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=new l.R(r,this,t);return this._reporters.set(e,n),n}getReporter(e){return(0,c.Y2)(this._reporters.has(e),"reporter not existed."),this._reporters.get(e)}reportPv(e,t){this._teaAdapterService.reportPv(e,t)}constructor(e,t,r){this._requestStub=e,this._teaAdapterService=t,this._slardarAdapterService=r,this._reporters=new Map}}d=(0,o.gn)([(0,o.fM)(1,s.w),(0,o.fM)(2,a.L),(0,o.w6)("design:type",Function),(0,o.w6)("design:paramtypes",[Object,void 0===s.w?Object:s.w,void 0===a.L?Object:a.L])],d)},969946:function(e,t,r){"use strict";r.d(t,{L:function(){return f}});var n=r(461228),i=r(69984),o=r(789786),a=r(211928),s=r(250047),c=r(980014),l=r(466477),u=r(977e3),d=r(189996),p=r(762134);class f extends p.B{getCover(e){return e.coverUrl}getAudioResourceToken(){return this._getResourceTokenSync(this._createAudioResourceToken.bind(this),()=>this._audioResourceToken,e=>this._audioResourceToken=e)}getAudioResourceDecryptKey(){return(0,c.Y2)((0,l.R)(this.value)),this.value?this.value.decryptKey:void 0}_createAudioResourceToken(e){var t,{originUrl:r}=e,n=this._getAudioResourceKey();return e.isFromBrand?(0,s.MZ)({key:n,url:r,decryptKey:null!==(t=e.decryptKey)&&void 0!==t?t:"",shouldAutoDecrypt:!1,encryptType:u.PS.AES_GCM},this._downloadService,{withCredentials:e.isFromBrand}):(0,s.MZ)({key:n,url:r,md5:e.md5},this._downloadService)}_getAudioResourceKey(){return"".concat(this.key,"_audio_").concat(this.value.resourceId)}doFetch(){var e=this;return(0,n._)(function*(){(0,c.Y2)(!(0,l.R)(e.value));var{audioType:t}=e.value,[r,n]=(yield e._audioDataService.batchGetAudios({resourceIds:[e.value.resourceId],audioResourceType:t})).pair();if(r)throw Error("doFetch error-".concat(r.code,"-").concat(r.msg));return(0,i._)({type:e.value.type},n.list[0])})()}constructor(e,t,r,n){super(e,t,r),this.key=e,this._downloadService=r,this._audioDataService=n}}f=(0,o.gn)([(0,o.fM)(2,a.tx),(0,o.fM)(3,d.F),(0,o.w6)("design:type",Function),(0,o.w6)("design:paramtypes",["undefined"==typeof IResourceKey?Object:IResourceKey,"undefined"==typeof IAudioMeta?Object:IAudioMeta,void 0===a.tx?Object:a.tx,void 0===d.F?Object:d.F])],f)},251164:function(e,t,r){"use strict";r.d(t,{e:function(){return a}});var n=r(789786),i=r(980014),o=r(37011);class a{add(e,t){if((0,i.Y2)(e,"key is not invalid"),!this._cache.has(e)){var r=this.createResource(e,t);r.onResourceCreated(),this._cache.set(e,r)}}get(e){if(this._cache.has(e))return this._cache.get(e)}delete(e){this._cache.has(e)&&this._cache.delete(e)}constructor(e){this._instantiationService=e,this._cache=new Map}}a=(0,n.gn)([(0,n.fM)(0,o.T),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",[void 0===o.T?Object:o.T])],a)},550777:function(e,t,r){"use strict";r.d(t,{D:function(){return c}});var n=r(461228),i=r(508876),o=r(509912),a=new TextDecoder("utf-8"),s=e=>{if(!e)return null;var t=a.decode(e);if(!t)return null;try{return JSON.parse(t)}catch(e){return null}};class c extends i.Q{doParseArrayBuffer(e){var t=this,r=()=>super.doParseArrayBuffer;return(0,n._)(function*(){yield r().call(t,e),yield Promise.all([t._extractAttributes(),t._extractRequirements(),t._extractModelNames()])})()}_extractModelNames(){var e=this;return(0,n._)(function*(){var t,r,n,i=yield e.value.files(),o=s(null===(t=i["config.json"])||void 0===t?void 0:t.arrayBuffer),a=s(null===(r=i["algorithmConfig.json"])||void 0===r?void 0:r.arrayBuffer),c=new Set,l=e=>{e&&Object.keys(e).forEach(t=>{var r=e[t];null==r||r.forEach(e=>null==c?void 0:c.add(e))})};l(null==o?void 0:null===(n=o.effect)||void 0===n?void 0:n.model_names),l(null==a?void 0:a.model_names),e.value.modelNames=Array.from(c)})()}constructor(...e){super(...e);var t=this;this._extractAttributes=(0,n._)(function*(){var e,r,n,i,a,c=yield t.value.files(),l=s(null===(e=c["config.json"])||void 0===e?void 0:e.arrayBuffer),u=s(null===(r=c["extra.json"])||void 0===r?void 0:r.arrayBuffer),d=[],p=[];(null==l?void 0:null===(i=l.effect)||void 0===i?void 0:null===(n=i.Link)||void 0===n?void 0:n.length)&&(null==l||null===(a=l.effect)||void 0===a||a.Link.forEach(e=>{e.path&&d.push(e.path),"Filter"===e.type&&p.push({key:o.$3,defaultValue:1})})),(null==u?void 0:u.settings)&&Object.keys(u.settings).forEach(e=>{p.push({key:e,defaultValue:u.settings[e]})}),t.value.attributes=p});var r=this;this._extractRequirements=(0,n._)(function*(){var e,t=yield r.value.files(),n=s(null===(e=t["config.json"])||void 0===e?void 0:e.arrayBuffer),i=[];(null==n?void 0:n.requirement)&&i.push(n.requirement),Object.keys(t).forEach(e=>{if(/\/content.json$/.test(e)){var r,n=s(null===(r=t[e])||void 0===r?void 0:r.arrayBuffer);(null==n?void 0:n.requirement)&&i.push(n.requirement)}if(/^algorithmConfig.json$/.test(e)){var o,a,c=s(null===(o=t[e])||void 0===o?void 0:o.arrayBuffer);if(!(null==c?void 0:null===(a=c.nodes)||void 0===a?void 0:a.length))return;c.nodes.forEach(e=>{i.push({[e.type]:!0})})}});var o={};i.forEach(e=>{Object.keys(e).forEach(t=>{e[t]&&(o[t]=e[t])})}),r.value.requirements=o})}}},617004:function(e,t,r){"use strict";r.d(t,{i:function(){return c}});var n=r(789786),i=r(251164),o=r(57365),a=r(963730),s=r(37011);class c extends i.e{createResource(e,t){return this._instantiationService.createInstance(new a.M(o.M,[e,t]))}constructor(e){super(e),this._instantiationService=e}}c=(0,n.gn)([(0,n.fM)(0,s.T),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",[void 0===s.T?Object:s.T])],c)},80217:function(e,t,r){"use strict";var n,i;function o(e){return void 0!==e.decryptKey}r.d(t,{d:function(){return o},n:function(){return n}}),(i=n||(n={})).init="init",i.fetching="fetching",i.complete="complete",i.error="error"},560052:function(e,t,r){"use strict";r.d(t,{t:function(){return f}});var n=r(461228),i=r(69984),o=r(764112),a=r(789786),s=r(211928),c=r(980014),l=r(466477),u=r(634212),d=r(806797),p=r(455687);class f extends p.Z{getContentUrl(e){return e.fileUrl}doFetch(){var e=this;return(0,n._)(function*(){(0,c.Y2)((0,l.R)(e.value)),(0,c.Y2)(e.value.key,"text art should have an resource id");var[t,r]=(yield e._textArtDataService.queryTextArtItems({itemList:[{itemId:e.value.itemId,uriList:[e.value.fileUri]}]})).pair();if(t)throw Error("doFetch error-".concat(t.code,"-").concat(t.msg));var n="",a="",s=r.itemConfs[0];return(0,c.Y2)(s.uriToUrl,"error uriToUrl"),Object.keys(s.uriToUrl).forEach(e=>{n=e,a=s.uriToUrl[e]}),(0,o._)((0,i._)({type:e.value.type,key:e.value.key},r),{resourceId:n,itemId:e.value.itemId,fileUrl:a,fileUri:n})})()}constructor(e,t,r,n,i){super(e,t,r),this.key=e,this._downloadService=r,this._textArtDataService=n,this._configurationService=i}}f=(0,a.gn)([(0,a.fM)(2,s.tx),(0,a.fM)(3,u.l),(0,a.fM)(4,d.Ui),(0,a.w6)("design:type",Function),(0,a.w6)("design:paramtypes",["undefined"==typeof IResourceKey?Object:IResourceKey,"undefined"==typeof ITextArtMeta?Object:ITextArtMeta,void 0===s.tx?Object:s.tx,void 0===u.l?Object:u.l,void 0===d.Ui?Object:d.Ui])],f)},760584:function(e,t,r){"use strict";r.d(t,{U:function(){return c}});var n=r(789786),i=r(251164),o=r(893342),a=r(963730),s=r(37011);class c extends i.e{createResource(e,t){return this._instantiationService.createInstance(new a.M(o.C,[e,t]))}constructor(e){super(e),this._instantiationService=e}}c=(0,n.gn)([(0,n.fM)(0,s.T),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",[void 0===s.T?Object:s.T])],c)},466477:function(e,t,r){"use strict";function n(e){e._fullResourceBrand||Object.defineProperty(e,"_fullResourceBrand",{value:()=>!0,enumerable:!1,writable:!1})}function i(e){return void 0!==e._fullResourceBrand}r.d(t,{K:function(){return n},R:function(){return i}})},837825:function(e,t,r){"use strict";r.d(t,{E:function(){return c}});var n=r(789786),i=r(251164),o=r(350191),a=r(963730),s=r(37011);class c extends i.e{createResource(e,t){return this._instantiationService.createInstance(new a.M(o.b,[e,t]))}constructor(e){super(e),this._instantiationService=e}}c=(0,n.gn)([(0,n.fM)(0,s.T),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",[void 0===s.T?Object:s.T])],c)},943111:function(e,t,r){"use strict";r.d(t,{E:function(){return p}});var n=r(461228),i=r(69984),o=r(789786),a=r(595231),s=r(211928),c=r(980014),l=r(466477),u=r(49978),d=r(806797);class p extends u.${getCover(e){return e.icon.urlList[0]}getContentUrl(e){return e.package.urlList[0]}doFetch(){var e=this;return(0,n._)(function*(){(0,c.Y2)(!(0,l.R)(e.value));var[t,r]=(yield e._videoMotionDataService.batchGetVideoMotionsByIds({enterFrom:e._configurationService.editorCategory,ids:[e.value.resourceId]})).pair();if(t)throw Error("doFetch error-".concat(t.code,"-").concat(t.msg));return(0,i._)({type:e.value.type},r.list[0])})()}constructor(e,t,r,n,i){super(e,t,r),this.key=e,this._downloadService=r,this._videoMotionDataService=n,this._configurationService=i}}p=(0,o.gn)([(0,o.fM)(2,s.tx),(0,o.fM)(3,a.u),(0,o.fM)(4,d.Ui),(0,o.w6)("design:type",Function),(0,o.w6)("design:paramtypes",["undefined"==typeof IResourceKey?Object:IResourceKey,"undefined"==typeof IVideoMotionMeta?Object:IVideoMotionMeta,void 0===s.tx?Object:s.tx,void 0===a.u?Object:a.u,void 0===d.Ui?Object:d.Ui])],p)},152155:function(e){!/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/function(){"use strict";var t={}.hasOwnProperty;function r(){for(var e="",i=0;i<arguments.length;i++){var o=arguments[i];o&&(e=n(e,function(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var i="";for(var o in e)t.call(e,o)&&e[o]&&(i=n(i,o));return i}(o)))}return e}function n(e,t){return t?e?e+" "+t:e+t:e}e.exports?(r.default=r,e.exports=r):"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("classnames",[],function(){return r}):window.classNames=r}()},250729:function(e,t,r){"use strict";var n=r(583531),i=r(845208),o=r(246513),a=r(448871),s=n("%Reflect.apply%",!0)||i("Function.prototype.apply");e.exports=function(e,t){var r=arguments.length>2?arguments[2]:[];if(!a(r))throw new o("Assertion failed: optional `argumentsList`, if provided, must be a List");return s(e,t,r)}},297060:function(e,t,r){"use strict";var n=r(246513),i=r(499850),o=r(270459),a=r(943278),s=r(583786);e.exports=function(e,t){if(!a(t))throw new n("Assertion failed: IsPropertyKey(P) is not true");var r=i(e,t);if(null!=r){if(!o(r))throw new n(s(t)+" is not a function: "+s(r));return r}}},943278:function(e){"use strict";e.exports=function(e){return"string"==typeof e||"symbol"==typeof e}},549080:function(e,t,r){"use strict";var n=r(47414),i=r(671282);e.exports=function(e){var t=i(e);return t<=0?0:t>n?n:t}},4084:function(e,t,r){"use strict";var n=r(331532);e.exports=function(e){return arguments.length>1?n(e,arguments[1]):n(e)}},88370:function(e,t,r){"use strict";var n=r(583531)("%String%"),i=r(246513);e.exports=function(e){if("symbol"==typeof e)throw new i("Cannot convert a Symbol value to a string");return n(e)}},538113:function(e,t,r){"use strict";var n=r(789046);e.exports=function(e){return("number"==typeof e||"bigint"==typeof e)&&!n(e)&&e!==1/0&&e!==-1/0}},497490:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(59421);class i{constructor(e){let t;if("function"!=typeof e)throw TypeError("executor must be a function.");this.promise=new Promise(function(e){t=e});let r=this;this.promise.then(e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null}),this.promise.then=e=>{let t;let n=new Promise(e=>{r.subscribe(e),t=e}).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e(function(e,i,o){r.reason||(r.reason=new n.Z(e,i,o),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;let t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new i(function(t){e=t}),cancel:e}}}let o=i},996173:function(e,t,r){"use strict";r.d(t,{i:function(){return c}});var n=r(444503),i=r(471488),o=r(539952),a=r(979521),s=r(645460);function c(e,t,r={},l=!1){let u=function(e){let t="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return(0,n.MT)(s.u,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}(l),d=new o.S(u,new a.V(u)),p=new i.f(u,d),f=e(p,t,r);return p.receiveBackend(f),p}},154135:function(e,t,r){"use strict";function n(e=0){return e+1}r.d(t,{u:function(){return n}})},593553:function(e,t,r){"use strict";r.d(t,{o:function(){return i}});class n extends Error{}function i(e,t){let r;if("string"!=typeof e)throw new n("Invalid token specified: must be a string");t||(t={});let i=!0===t.header?0:1,o=e.split(".")[i];if("string"!=typeof o)throw new n(`Invalid token specified: missing part #${i+1}`);try{r=function(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw Error("base64 string is not of the correct length")}try{var r;return r=t,decodeURIComponent(atob(r).replace(/(.)/g,(e,t)=>{let r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}catch(e){return atob(t)}}(o)}catch(e){throw new n(`Invalid token specified: invalid base64 for part #${i+1} (${e.message})`)}try{return JSON.parse(r)}catch(e){throw new n(`Invalid token specified: invalid json for part #${i+1} (${e.message})`)}}n.prototype.name="InvalidTokenError"},100315:function(e,t,r){"use strict";r.d(t,{h:function(){return s}});var n=r(20010),i=r(135611);let o="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function a(e,t,r=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),r&&t.shiftKey&&(e="Shift-"+e),e}function s(e){let t;return new i.Sy({props:{handleKeyDown:(t=function(e){let t=Object.create(null);for(let r in e)t[function(e){let t,r,n,i,a=e.split(/-(?!$)/),s=a[a.length-1];"Space"==s&&(s=" ");for(let e=0;e<a.length-1;e++){let s=a[e];if(/^(cmd|meta|m)$/i.test(s))i=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))r=!0;else if(/^s(hift)?$/i.test(s))n=!0;else if(/^mod$/i.test(s))o?i=!0:r=!0;else throw Error("Unrecognized modifier name: "+s)}return t&&(s="Alt-"+s),r&&(s="Ctrl-"+s),i&&(s="Meta-"+s),n&&(s="Shift-"+s),s}(r)]=e[r];return t}(e),function(e,r){let i=(0,n.YG)(r),o,s=t[a(i,r)];if(s&&s(e.state,e.dispatch,e))return!0;if(1==i.length&&" "!=i){if(r.shiftKey){let n=t[a(i,r,!1)];if(n&&n(e.state,e.dispatch,e))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(o=n.ue[r.keyCode])&&o!=i){let n=t[a(o,r)];if(n&&n(e.state,e.dispatch,e))return!0}}return!1})}})}},659197:function(e,t,r){"use strict";r.d(t,{Z:()=>u});let n=e=>"object"==typeof e&&null!=e&&1===e.nodeType,i=(e,t)=>(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e,o=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){let r=getComputedStyle(e,null);return i(r.overflowY,t)||i(r.overflowX,t)||(e=>{let t=(e=>{if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}})(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)})(e)}return!1},a=(e,t,r,n,i,o,a,s)=>o<e&&a>t||o>e&&a<t?0:o<=e&&s<=r||a>=t&&s>=r?o-e-n:a>t&&s<r||o<e&&s>r?a-t+i:0,s=e=>{let t=e.parentElement;return null==t?e.getRootNode().host||null:t},c=(e,t)=>{var r,i,c,l;if("undefined"==typeof document)return[];let{scrollMode:u,block:d,inline:p,boundary:f,skipOverflowHiddenElements:h}=t,g="function"==typeof f?f:e=>e!==f;if(!n(e))throw TypeError("Invalid target");let v=document.scrollingElement||document.documentElement,m=[],_=e;for(;n(_)&&g(_);){if((_=s(_))===v){m.push(_);break}null!=_&&_===document.body&&o(_)&&!o(document.documentElement)||null!=_&&o(_,h)&&m.push(_)}let y=null!=(i=null==(r=window.visualViewport)?void 0:r.width)?i:innerWidth,b=null!=(l=null==(c=window.visualViewport)?void 0:c.height)?l:innerHeight,{scrollX:S,scrollY:w}=window,{height:E,width:k,top:x,right:T,bottom:I,left:C}=e.getBoundingClientRect(),{top:R,right:A,bottom:O,left:M}=(e=>{let t=window.getComputedStyle(e);return{top:parseFloat(t.scrollMarginTop)||0,right:parseFloat(t.scrollMarginRight)||0,bottom:parseFloat(t.scrollMarginBottom)||0,left:parseFloat(t.scrollMarginLeft)||0}})(e),P="start"===d||"nearest"===d?x-R:"end"===d?I+O:x+E/2-R+O,N="center"===p?C+k/2-M+A:"end"===p?T+A:C-M,D=[];for(let e=0;e<m.length;e++){let t=m[e],{height:r,width:n,top:i,right:o,bottom:s,left:c}=t.getBoundingClientRect();if("if-needed"===u&&x>=0&&C>=0&&I<=b&&T<=y&&x>=i&&I<=s&&C>=c&&T<=o)break;let l=getComputedStyle(t),f=parseInt(l.borderLeftWidth,10),h=parseInt(l.borderTopWidth,10),g=parseInt(l.borderRightWidth,10),_=parseInt(l.borderBottomWidth,10),R=0,A=0,O="offsetWidth"in t?t.offsetWidth-t.clientWidth-f-g:0,M="offsetHeight"in t?t.offsetHeight-t.clientHeight-h-_:0,j="offsetWidth"in t?0===t.offsetWidth?0:n/t.offsetWidth:0,L="offsetHeight"in t?0===t.offsetHeight?0:r/t.offsetHeight:0;if(v===t)R="start"===d?P:"end"===d?P-b:"nearest"===d?a(w,w+b,b,h,_,w+P,w+P+E,E):P-b/2,A="start"===p?N:"center"===p?N-y/2:"end"===p?N-y:a(S,S+y,y,f,g,S+N,S+N+k,k),R=Math.max(0,R+w),A=Math.max(0,A+S);else{R="start"===d?P-i-h:"end"===d?P-s+_+M:"nearest"===d?a(i,s,r,h,_+M,P,P+E,E):P-(i+r/2)+M/2,A="start"===p?N-c-f:"center"===p?N-(c+n/2)+O/2:"end"===p?N-o+g+O:a(c,o,n,f,g+O,N,N+k,k);let{scrollLeft:e,scrollTop:l}=t;R=0===L?0:Math.max(0,Math.min(l+R/L,t.scrollHeight-r/L+M)),A=0===j?0:Math.max(0,Math.min(e+A/j,t.scrollWidth-n/j+O)),P+=l-R,N+=e-A}D.push({el:t,top:R,left:A})}return D},l=e=>!1===e?{block:"end",inline:"nearest"}:e===Object(e)&&0!==Object.keys(e).length?e:{block:"start",inline:"nearest"};function u(e,t){if(!e.isConnected||!(e=>{let t=e;for(;t&&t.parentNode;){if(t.parentNode===document)return!0;t=t.parentNode instanceof ShadowRoot?t.parentNode.host:t.parentNode}return!1})(e))return;let r=(e=>{let t=window.getComputedStyle(e);return{top:parseFloat(t.scrollMarginTop)||0,right:parseFloat(t.scrollMarginRight)||0,bottom:parseFloat(t.scrollMarginBottom)||0,left:parseFloat(t.scrollMarginLeft)||0}})(e);if("object"==typeof t&&"function"==typeof t.behavior)return t.behavior(c(e,t));let n="boolean"==typeof t||null==t?void 0:t.behavior;for(let{el:i,top:o,left:a}of c(e,l(t))){let e=o-r.top+r.bottom,t=a-r.left+r.right;i.scroll({top:e,left:t,behavior:n})}}},738935:function(e,t,r){"use strict";r.d(t,{Kr:function(){return p},U_:function(){return a},hR:function(){return u},hm:function(){return s},j7:function(){return d},vJ:function(){return l}}),r(40240),(n=a||(a={})).CurveHSL="curve-hsl",n.VoiceChange="voice-change",n.ShootProject="shoot-project",n.ManualFigure="manual-figure",n.LiveshortenPanEntertainment="liveshorten-pan-entertainment",n.FaceProp="face-prop",n.Beauty2="beauty2",n.SkeletonBody="skeleton-body",n.TextTemplate="text-template",n.ShootProp="shoot-prop",n.Shoot="shoot",n.Play="play",n.SystemFonts="system-fonts",n.Beauty="beauty",n.Flower2="flower2",n.Filter2="filter2",n.Bubble2="bubble2",n.Default="default",n.Effects="effects2",n.Tone="tone",n.Filter="filter",n.Canvas="canvas",n.Bubble="bubble",n.Flower="flower",n.SubtitleTemplate="subtitle-templates",n.ObjectLock="camera_tracking",n.Video="video",n.Transitions="transitions",n.Mix="mix",n.Sticker="sticker",n.Text="text",n.Insert="insert",n.Fonts="fonts",n.Videomask="videomask",n.Curvespeed="curvespeed",n.Integration="integration",n.Iosemojinew="iosemojinew",n.Emoji="emoji",n.Emojiandroid="emojiandroid",n.Emojiios="emojiios",n.AutoBeautyShape="auto-beauty",n.AutoBeauty="auto-beauty2",n.AutoBeautyBody="auto-beauty3",n.AutoBeautyMakeup="makeup",n.Graffiti="graffiti",n.SmartColorAdjust="smart_color_adjust",n.TextGlow="text_glow",n.CC4BGsEdit="cc4b_gs_edit",n.Shape="shape",n.ShapeAnimation="shape-animation",n.PathAnimation="path-animation",n.CurveAdjustPreset="curve_adjust_preset",n.AiavatarMask="aiavatarmask",n.ColorMatch="color_match",n.SmartRelight="smart-relight",n.ToolbarFonts="",n.MattingStroke="matting_stroke",(i=s||(s={})).SaleDesign="sales-design",i.SalesSticker="sales-sticker",i.SalesFont="fonts",i.SalesTextTemplate="sales-text-template",i.Svg="svg",i.SalesFrame="sales-frame",i.SalesFilter="sales-filter",i.SalesImageEffect="sales-image-effect",i.YkImage="yk-image",i.AIBackground="ai_background",i.SalesTextPreset="sales-text-preset",i.SalesTextGlow="sales-text-glow",i.SalesGrid="sales-grid",i.SalesRetouchFace="sales-beauty-face",i.SalesRetouchReshape="sales-beauty-reshape",i.SalesRetouchBody="sales-beauty-body",i.SalesRetouchMakeup="sales-beauty-makeup",i.LokiTemplate="loki-template",i.EcomAIBackground="ecom-ai_background",i.PhotoDreamina="dreamina",(o=c||(c={})).CNSalesSticker="cn-sales-sticker",o.CNSalesFont="cn-fonts",o.CNSalesTextTemplate="cn-sales-text-template";var n,i,o,a,s,c,l={[s.SaleDesign]:"sales-design",[s.SalesSticker]:"sales-sticker",[s.SalesFont]:"fonts",[s.SalesImageEffect]:"sales-image-effect",[s.SalesRetouchBody]:"sales-beauty-body",[s.SalesRetouchFace]:"sales-beauty-face",[s.SalesRetouchReshape]:"sales-beauty-reshape",[s.SalesRetouchMakeup]:"sales-beauty-makeup",[s.SalesFilter]:"sales-filter",[s.SalesFrame]:"sales-frame",[s.Svg]:"svg",[s.SalesTextGlow]:"sales-text-glow",[s.SalesTextTemplate]:"sales-text-template"},u={text:a.Text,fonts:a.Fonts,flower:a.Flower,default:a.Default,sticker:a.Sticker,"shape-animation":a.ShapeAnimation},d={text:a.Text,fonts:a.Fonts,flower:a.Flower,default:a.Default,sticker:a.Sticker,"shape-animation":a.ShapeAnimation};s.SalesTextTemplate,s.SalesFont,s.SalesSticker,s.SalesFilter,s.SalesFrame,s.SalesTextGlow,s.SalesImageEffect,s.SalesRetouchBody,s.SalesRetouchFace,s.SalesRetouchMakeup,s.SalesRetouchReshape;var p={"curve-hsl":a.CurveHSL,"voice-change":a.VoiceChange,"shoot-project":a.ShootProject,"manual-figure":a.ManualFigure,"liveshorten-pan-entertainment":a.LiveshortenPanEntertainment,"face-prop":a.FaceProp,beauty2:a.Beauty2,"skeleton-body":a.SkeletonBody,"text-template":a.TextTemplate,"shoot-prop":a.ShootProp,shoot:a.Shoot,play:a.Play,"system-fonts":a.SystemFonts,beauty:a.Beauty,flower2:a.Flower2,filter2:a.Filter2,bubble2:a.Bubble2,default:a.Default,effects2:a.Effects,tone:a.Tone,filter:a.Filter,canvas:a.Canvas,bubble:a.Bubble,flower:a.Flower,video:a.Video,transitions:a.Transitions,mix:a.Mix,sticker:a.Sticker,text:a.Text,insert:a.Insert,fonts:a.Fonts,videomask:a.Videomask,curvespeed:a.Curvespeed,integration:a.Integration,iosemojinew:a.Iosemojinew,emoji:a.Emoji,emojiandroid:a.Emojiandroid,emojiios:a.Emojiios,"auto-beauty":a.AutoBeautyShape,"auto-beauty2":a.AutoBeauty,"auto-beauty3":a.AutoBeautyBody,makeup:a.AutoBeautyMakeup,graffiti:a.Graffiti,smart_color_adjust:a.SmartColorAdjust,text_glow:a.TextGlow,cc4b_gs_edit:a.CC4BGsEdit,shape:a.Shape,"shape-animation":a.ShapeAnimation,"path-animation":a.PathAnimation,curve_adjust_preset:a.CurveAdjustPreset,aiavatarmask:a.AiavatarMask}}}]);