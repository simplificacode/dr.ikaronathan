/*!
* @ies/filter-xss v3.1.4
* (c) 2024
*/var e,t;e=this,t=function(e){"use strict";var t=function(){return(t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function r(e,t,r){if(r||2==arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}var n=/[^a-zA-Z0-9\\_:.-]/gim,i=/</g,o=/>/g,a=/&#([a-zA-Z0-9]*);?/gim,s=/&quot;/g,c=/&colon;?/gim,l=/&newline;?/gim,u=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,d=/u\s*r\s*l\s*\(.*/gi,h=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,f=/"/g,p=function(e){return e.replace(i,"&lt;").replace(o,"&gt;")},_={indexOf:function(e,t){var r,n;for(r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return -1},forEach:function(e,t,r){var n,i;for(n=0,i=e.length;n<i;n++)t.call(r,e[n],n,e)},some:function(e,t,r){var n,i;for(n=0,i=e.length;n<i;n++)if(t.call(r,e[n],n,e))return!0;return!1},trim:function(e){return e.replace(/(^\s*)|(\s*$)/g,"")},includes:function(e,t){if("string"==typeof e)return -1!==e.indexOf(t);for(var r=0;r<e.length;r++)if(e[r]===t)return!0;return!1},spaceIndex:function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1},uniq:function(e){for(var t={},r=[],n=0;n<e.length;n++)t[e[n]]||(r.push(e[n]),t[e[n]]=!0);return r},from:function(e){for(var t=[],r=0;r<e.length;r++)t.push(e[r]);return t},keys:function(e){var t=[];for(var r in e)t.push(r);return t}};function v(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]?e.substr(1,e.length-2):e}function g(e){var t,r,n,i,o,a,s,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l="",u=0;for(e=function(e){e=e.replace(/rn/g,"n");for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r);n<128?t+=String.fromCharCode(n):n>127&&n<2048?t+=String.fromCharCode(n>>6|192)+String.fromCharCode(63&n|128):t+=String.fromCharCode(n>>12|224)+String.fromCharCode(n>>6&63|128)+String.fromCharCode(63&n|128)}return t}(e);u<e.length;)i=(t=e.charCodeAt(u++))>>2,o=(3&t)<<4|(r=e.charCodeAt(u++))>>4,a=(15&r)<<2|(n=e.charCodeAt(u++))>>6,s=63&n,isNaN(r)?a=s=64:isNaN(n)&&(s=64),l=l+c.charAt(i)+c.charAt(o)+c.charAt(a)+c.charAt(s);return l}function m(e){var t,r,n,i,o,a,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c="",l=0;for(e=e.replace(/[^A-Za-z0-9+/=]/g,"");l<e.length;)t=s.indexOf(e.charAt(l++))<<2|(i=s.indexOf(e.charAt(l++)))>>4,r=(15&i)<<4|(o=s.indexOf(e.charAt(l++)))>>2,n=(3&o)<<6|(a=s.indexOf(e.charAt(l++))),c+=String.fromCharCode(t),64!==o&&(c+=String.fromCharCode(r)),64!==a&&(c+=String.fromCharCode(n));return function(e){for(var t="",r=0,n=0,i=0;r<e.length;)(n=e.charCodeAt(r))<128?(t+=String.fromCharCode(n),r++):n>191&&n<224?(t+=String.fromCharCode((31&n)<<6|63&e.charCodeAt(r+1)),r+=2):(t+=String.fromCharCode((15&n)<<12|(63&e.charCodeAt(r+1))<<6|63&e.charCodeAt(r+2)),r+=3);return t}(c)}function y(e,t,r){var n="",i=0,o=!1,a=!1,s=0,c=e.length,l="",u="";e:for(s=0;s<c;s++){var d=e.charAt(s);if(!1===o){if("<"===d){o=s;continue}}else if(!1===a){if("<"===d){n+=r(e.slice(i,s)),o=s,i=s;continue}if(">"===d||s===c-1){n+=r(e.slice(i,o)),l=function(e){var t,r=_.spaceIndex(e);return t=-1===r?e.slice(1,-1):e.slice(1,r+1),"/"===(t=_.trim(t).toLowerCase()).slice(0,1)&&(t=t.slice(1)),"/"===t.slice(-1)&&(t=t.slice(0,-1)),t}(u=e.slice(o,s+1)),n+=t(o,n.length,l,u,"</"===u.slice(0,2)),i=s+1,o=!1;continue}if('"'===d||"'"===d)for(var h=1,f=e.charAt(s-h);""===f.trim()||"="===f;){if("="===f){a=d;continue e}f=e.charAt(s-++h)}}else if(d===a){a=!1;continue}}return i<c&&(n+=r(e.substr(i))),n}function E(e,t){var r=0,i=0,o=[],a=!1,s=e.length;function c(e,r){if(!((e=(e=_.trim(e)).replace(n,"").toLowerCase()).length<1)){var i=t(e,r||"");i&&o.push(i)}}for(var l=0;l<s;l++){var u=e.charAt(l),d=void 0;if(!1!==a||"="!==u){if(!1===a||l!==i){if(/\s|\n|\t/.test(u)){if(e=e.replace(/\s|\n|\t/g," "),!1===a){if(-1===(d=function(e,t){for(;t<e.length;t++){var r=e[t];if(" "!==r)return"="===r?t:-1}return -1}(e,l))){c(_.trim(e.slice(r,l))),a=!1,r=l+1;continue}l=d-1;continue}if(-1===(d=function(e,t){for(;t>0;t--){var r=e[t];if(" "!==r)return"="===r?t:-1}return -1}(e,l-1))){c(a,v(_.trim(e.slice(r,l)))),a=!1,r=l+1;continue}}}else{if(-1===(d=e.indexOf(u,l+1)))break;c(a,_.trim(e.slice(i+1,d))),a=!1,r=(l=d)+1}}else a=e.slice(r,l),r=l+1,i='"'===e.charAt(r)||"'"===e.charAt(r)?r:function(e,t){for(;t<e.length;t++){var r=e[t];if(" "!==r)return"'"===r||'"'===r?t:-1}return -1}(e,l+1)}return r<e.length&&(!1===a?c(e.slice(r)):c(a,v(_.trim(e.slice(r))))),_.trim(o.join(" "))}function A(e,t,r){var n,i;if(r=function(e){for(var t="",r=0,n=e.length;r<n;r++)t+=32>e.charCodeAt(r)?" ":e.charAt(r);return _.trim(t)}(r.replace(s,'"').replace(a,function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))}).replace(c,":").replace(l," ")),"href"===t||"src"===t){if("#"===(r=_.trim(r)))return"#";if("http://"!==r.substr(0,7)&&"https://"!==r.substr(0,8)&&"mailto:"!==r.substr(0,7)&&"tel:"!==r.substr(0,4)&&"data:image/"!==r.substr(0,11)&&"ftp://"!==r.substr(0,6)&&"./"!==r.substr(0,2)&&"../"!==r.substr(0,3)&&"#"!==r[0]&&"/"!==r[0])return""}else if("background"===t){if(u.lastIndex=0,u.test(r))return""}else if("style"===t&&(h.lastIndex=0,h.test(r)||(d.lastIndex=0,d.test(r)&&(u.lastIndex=0,u.test(r)))))return"";return r=p(r.replace(f,"&quot;"))}var b=function(e){return"string"==typeof e?e.replace(/'/g,'"').replace('=""',"").replace(/\s+/g,"").toLowerCase():""},T=function(){function e(e){var t=function(e){var t={};for(var r in e)t[r]=e[r];return t}(e||{});t.stripIgnoreTag&&(t.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),t.onIgnoreTag=function(){return""}),t.whiteList={},t.onTag=function(){},t.onTagAttr=function(){},t.onIgnoreTag=function(){},t.onIgnoreTagAttr=function(){},t.safeAttrValue=A,t.escapeHtml=p,this.options=Object.assign(t,e)}return e.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t,r,n,i,o,a=this.options,s=a.whiteList,c=a.onTag,l=a.onIgnoreTag,u=a.onTagAttr,d=a.onIgnoreTagAttr,h=a.safeAttrValue,f=a.escapeHtml;a.stripBlankChar&&(e=e.split("").filter(function(e){var t=e.charCodeAt(0);return!(127===t||t<=31&&10!==t&&13!==t)}).join("")),a.allowCommentTag||(e=function(e){for(var t="",r=0;r<e.length;){var n=e.indexOf("<!--",r);if(-1===n){t+=e.slice(r);break}t+=e.slice(r,n);var i=e.indexOf("-->",n);if(-1===i)break;r=i+3}return t}(e));var p=!1;a.stripIgnoreTagBody&&(t=a.stripIgnoreTagBody,"function"!=typeof(r=l)&&(r=function(){}),n=!Array.isArray(t),i=[],o=!1,l=(p={onIgnoreTag:function(e,a,s){if(n||-1!==_.indexOf(t,e)){if(s.isClosing){var c=s.position+10;return i.push([!1!==o?o:s.position,c]),o=!1,"[/removed]"}return o||(o=s.position),"[removed]"}return r(e,a,s)},remove:function(e){var t="",r=0;return _.forEach(i,function(n){t+=e.slice(r,n[0]),r=n[1]}),t+=e.slice(r)}}).onIgnoreTag);var v=y(e,function(e,t,r,n,i){var o={sourcePosition:e,position:t,isClosing:i,isWhite:Object.prototype.hasOwnProperty.call(s,r)},a=c(r,n,o);if(null!=a)return a;if(o.isWhite){if(o.isClosing)return"</".concat(r,">");var p=function(e){var t=_.spaceIndex(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var r="/"===(e=_.trim(e.slice(t+1,-1)))[e.length-1];return r&&(e=_.trim(e.slice(0,-1))),{html:e,closing:r}}(n),v=s[r],g=E(p.html,function(e,t){var n=-1!==_.indexOf(v,e),i=u(r,e,t,n);return null==i?n?(t=h(r,e,t,null))?"".concat(e,'="').concat(t,'"'):e:null==(i=d(r,e,t,n))?void 0:i:i});return n="<".concat(r),g&&(n+=" ".concat(g)),p.closing&&(n+=" /"),n+=">"}return null==(a=l(r,n,o))?f(n):a},f);return p&&(v=p.remove(v)),v},e}(),S=!0,C=function(e){return e&&e.Math==Math&&e},P=C("object"==typeof globalThis&&globalThis)||C("object"==typeof window&&window)||C("object"==typeof self&&self)||C("object"==typeof global&&global)||Function("return this")();try{!0!==(S=!!(S=String(S)).startsWith("<%=")||JSON.parse(S))&&"true"!==S||(P=Function("\nvar _checkXSS = function (it) {\n  return it && it.Math == Math && it;\n};\nreturn _checkXSS(typeof globalThis === 'object' && globalThis) ||\n_checkXSS(typeof window === 'object' && window) ||\n_checkXSS(typeof self === 'object' && self) ||\n_checkXSS(typeof global === 'object' && global) ||\nFunction('return this')();\n")())}catch(e){console.log(e)}var w=new(function(){function e(){var e=this;this.batchData=[],this.uniqKeys=new Set,this.timeout=2e3,this.lock=!1,this.isSetedConfig=!1,this.getSlardarBid=function(){var t,r,n="cc_web_smart_tools";if(!_.includes(n,"bid"))return n;if(e.config&&e.config.bid)return e.config.bid;var i=P;if(i&&i._xssBid)return i._xssBid;if(i&&i.slardar&&"function"==typeof i.slardar.config){var o=(i.slardar.config()||{}).bid;if(o)return o}if(i&&i.Slardar&&"function"==typeof i.Slardar.config){var a=(i.Slardar.config()||{}).bid;if(a)return a}return(null===(r=null===(t=null==i?void 0:i.Slardar)||void 0===t?void 0:t._baseParams)||void 0===r?void 0:r.bid)||"argus"},this.getConfigRegion=function(){var t,r="maliva";return _.includes(r,"region")?e.config&&e.config.region?e.config.region:((null===(t=null==P?void 0:P.gfdatav1)||void 0===t?void 0:t.region)||"cn").toLowerCase():r},this.gerReportUrl=function(){var t={cn:m("aHR0cHM6Ly9tb24uemlqaWVhcGkuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),boe:m("aHR0cHM6Ly9tb24uemlqaWVhcGkuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),ttp:m("aHR0cHM6Ly9tb24udXMudGlrdG9rdi5jb20vbW9uaXRvcl9icm93c2VyL2NvbGxlY3QvYmF0Y2gvc2VjdXJpdHkvP2JpZD0="),va:m("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),maliva:m("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),sg:m("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),boei18n:m("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9")}[e.getConfigRegion()];if(t)return t+e.getSlardarBid()}}return e.prototype.setConfig=function(e){this.isSetedConfig||(this.config=e)},e.prototype.upload=function(){var e=this;if(!this.config||!this.config.isCloseSSRReport||(null==P?void 0:P.document)){var t=!1;t=String(!1);try{if((!0===(t=!t.startsWith("<%=")&&JSON.parse(t))||"true"===t)&&!(null==P?void 0:P.document))return}catch(e){console.log(e)}var r=this.gerReportUrl();!this.lock&&r&&0!==this.batchData.length&&(this.lock=!0,setTimeout(function(){var t=e.batchData.slice(0,100);e.batchData=e.batchData.slice(100),P.fetch(r,{method:"post",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).catch(function(e){console.warn("xss defense report error",e)}),e.lock=!1,e.upload()},this.timeout))}},e.prototype.generateKey=function(e){return e.collectKey?[e.collectMode,e.collectKey].join("___"):""},e.prototype.push=function(e){this.batchData.push(e),this.upload()},e.prototype.report=function(e){var t=this.generateKey(e);if(P.fetch&&e.collectKey){var r="SSR";void 0!==P&&void 0!==P.location&&void 0!==P.location.href&&(r=P.location.href),e.documentUrl=r;var n={age:Math.floor(Date.now()),type:"xss",url:r,body:e,"user-agent":""};n.url="".concat(t,"___").concat(e.documentUrl),"SSR"===r&&(n.url="SSR___".concat(n.url),n.body.ssr=!0),this.push(n)}},e}());function R(e,t){return w.setConfig(t),new T(t).process(e)}var k=function(e){return -1===(e=(e=(e=(e=e.replace(/&colon;/gi,":")).replace(/&tab;/gi,"")).replace(/&newline;/gi,"")).replace(/(\t|\n|\r)/g,"")).indexOf("&#")?e.trim().toLowerCase():e.trim().replace(/&#(?:(x)([0-9a-f]+)|([0-9]+));?/gi,function(e,t,r,n){return String.fromCharCode(t?parseInt(r,16):parseInt(n))}).replace(/(\t|\n|\r)/g,"").toLowerCase()};function L(e,t){if(void 0===e&&(e=""),"string"!=typeof e)return!0;if(e=k(e),_.includes(e,"base64")&&!function(e){if(""===e||""===e.trim())return!0;try{return!_.includes(e,"data:text/html;base64")}catch(e){return!0}}(e))return t&&t("data:text/html;base64"),!1;var r=["expression(","behavior:","view-source:"];if(_.some(r,function(t){return -1!==e.indexOf(t)}))return _.forEach(r,function(r){-1!==e.indexOf(r)&&t&&t(r)}),!1;var n=["data:application","data:javascript","data:text/html","data:texthtml"];if(_.some(n,function(t){return -1!==e.indexOf(t)}))return _.forEach(n,function(r){-1!==e.indexOf(r)&&t&&t(r)}),!1;if(e.indexOf("javascript:")>0)return t&&t("javascript:"),!1;if(/^javascript:/i.test(e)){var i=e.slice(11).replace(/\s/g,"").trim();return!!_.some(["void","void(0)","void0","false","undefined",";"],function(e){return e===i})||(t&&t("javascript:"),!1)}return!0}var I=function(e,t){var r,n,i=!1;if(i=String(!1),"string"!=typeof e||(n=Number(1e4),void 0!==r&&(n=r),"NaN"!==n.toString()&&-1!==n&&e.length>=n)||L(e,t))return e;try{if(!0===(i=!i.startsWith("<%=")&&JSON.parse(i))||"true"===i){var o=new URL(e);return o.origin+o.pathname}}catch(e){return console.log(e),"#"}return"#"};function O(e,t,n){if(void 0===e&&(e=""),void 0===t&&(t=[]),"string"!=typeof e)return!0;if(!L(e=k(e)))return!1;var i,o={url:(i=e.match(/^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/)||[])[0],scheme:i[1],slash:i[2],host:i[3],port:i[4],path:i[5],query:i[6],hash:i[7]},a=o.scheme,s=o.host;return n?!!n(e):!(!a||!s)&&(!_.includes(["http","https","file"],a)||("object"==typeof window&&window&&(t=r(r([],t,!0),[location.host],!1)),_.some(t,function(e){return!!(e instanceof RegExp&&e.test(s))||e===s})))}var x=function(e,t){for(var r={},n=0,i=_.keys(e);n<i.length;n++){var o=i[n];Array.isArray(e[o])?r[o]=_.from(e[o]):r[o]=x({},e[o])}for(var a=0,s=_.keys(t);a<s.length;a++)(o=s[a])in e?Array.isArray(e[o])?r[o]=e[o].concat(t[o]):r[o]=x(e[o],t[o]):Array.isArray(t[o])?r[o]=_.from(t[o]):r[o]=x({},t[o]);return r},D={blackList:{a:["folder"],meta:["content"],iframe:["srcdoc"],input:["pattern"],vmlframe:["xmlns"]},blackTags:["script","xml","embed","isindex","object","base","set","handler","animate","payload","import"],blackAttrs:["charset","ns","namespace","formaction","xlink:href","xmlns:xlink","handler","repeat","repeat-start","repeat-end"],blackAttrRegExps:[/^on/],filterList:{param:["value"],video:["poster"],form:["action"]},filterAttrs:["href","src","background","style","dynsrc","lowsrc","content"],specialContentClosure:["title","style","noscript","textarea","xmp","iframe","noembed","noframes"]};try{var M={};M.blackAttrRegExps&&(M.blackAttrRegExps=M.blackAttrRegExps.map(function(e){return new RegExp(e.toString().slice(1,e.toString().length-1))}));var N="merge";_.includes(N,"override")&&(D=M),_.includes(N,"merge")&&(D=x(D,M))}catch(e){console.log(e)}var H={mode:"black",whiteList:{},blackConfig:D,collect:null,initCollect:function(){H.collect={blackList:{},blackTags:[],blackAttrs:[],blackAttrRegExps:[],filterAttrs:[],filterList:{},filterProtocol:[]}},removeCollect:function(){var e=function(e){for(var t=0,r=function(r){Array.isArray(e[r])?0===e[r].length?delete e[r]:(e[r]=_.from(_.uniq(e[r])),t+=e[r].length):0===_.keys(e[r]).length?delete e[r]:_.keys(e[r]).forEach(function(n){e[r][n]=_.from(_.uniq(e[r][n])),t+=e[r][n].length})},n=0,i=_.keys(e);n<i.length;n++)r(i[n]);return{count:t,ret:e}}(H.collect),t=e.count,r=e.ret;return H.collect=null,{collectKey:0===t?null:JSON.stringify(r),collectMode:"black"}},onIgnoreTag:function(e,t){var r;if(!_.includes(D.blackTags,e))return y(t,function(e,t,r,n,i){if(-1!==r.indexOf("/"))return p(n);if(i)return"</".concat(r,">");var o=function(e){var t,r=(t=/\s|\n|\t/.exec(e))?t.index:-1;if(-1===r)return{html:"",closing:"/"===e[e.length-2]};var n="/"===(e=e.slice(r+1,-1).trim())[e.length-1];return n&&(e=e.slice(0,-1).trim()),{html:e,closing:n}}(n),a=E(o.html,function(e,t){var n,i,o=0;if(D.blackList[r]&&_.includes(D.blackList[r],e)&&(H.collect.blackList[r]=H.collect.blackList[r]||[],H.collect.blackList[r].push(e),o++),D.blackAttrRegExps.length&&D.blackAttrRegExps.some(function(t){return t.test(e)})&&_.forEach(D.blackAttrRegExps,function(t){t.test(e)&&(H.collect.blackAttrRegExps.push("".concat(t.toString(),"->").concat(e)),o++)}),D.blackAttrs.length&&_.includes(D.blackAttrs,e)&&(D.blackAttrs.push(e),o++),!o){if(Array.isArray(D.specialContentClosure)&&"string"==typeof t&&D.specialContentClosure.find(function(e){return t.includes("</".concat(e,">"))})){null===(n=H.collect)||void 0===n||n.filterAttrs.push(e);var a="#";return t?"".concat(e,"='").concat(a,"'"):e}return D.filterList&&D.filterList[r]&&_.includes(D.filterList[r],e)?((a=I(t,function(e){var t;null===(t=H.collect)||void 0===t||t.filterProtocol.push(e)}))!==t&&(H.collect.filterList[r]=H.collect.filterList[r]||[],H.collect.filterList[r].push(e)),t?"".concat(e,"='").concat(a,"'"):e):D.filterAttrs&&_.includes(D.filterAttrs,e)?((a=I(t,function(e){var t;null===(t=H.collect)||void 0===t||t.filterProtocol.push(e)}))!==t&&(null===(i=H.collect)||void 0===i||i.filterAttrs.push(e)),t?"".concat(e,"='").concat(a,"'"):e):t?"".concat(e,"='").concat(t,"'"):e}});return n="<".concat(r),a&&(n+=" ".concat(a)),o.closing&&(n+=" /"),n+=">"},p);null===(r=H.collect)||void 0===r||r.blackTags.push(e)}},F=function(e){var t=e.reportOnly,r=void 0===t||t,n=e.block;return r&&"all"===r?"report":("string"==typeof r&&("true"===r&&(r=!0),"false"===r&&(r=!1)),n?"enforce":r?"report":"enforce")},U=function(e){return function(r,n,i){if(!r||"string"!=typeof r)return r;var o=n;e===R&&(o=H).initCollect();var a=e(r,o);if(b(a)===b(r))return r;if(!i)return a;var s=i.logType,c=F(i),l=o.removeCollect();return w.report(t(t({type:s,disposition:c},l),{sourceText:g(r.replace(/'/g,'"')),filterText:g(a.replace(/'/g,'"'))})),"enforce"===c?a:r}},j=U(function(e,t){return void 0===t&&(t={}),t&&t.whiteList||(t.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}),new T(t).process(e)}),B=U(R),G=function(e,t,r){var n=[],i=I(e,function(e){n.push(e)});if(i===e)return e;n=_.from(_.uniq(n));var o=t||r||{};if(!o)return i;var a=o.logType,s=F(r);return w.report({type:a,disposition:s,collectKey:n.join("___"),collectData:JSON.stringify(n),collectMode:"black",sourceText:g(e),filterText:g(i)}),"enforce"===s?i:e},Z=P._xssProject||{},W=P.xssNamespace||{},V="3.1.4",z={FilterXSS:T,version:V,webpackPluginVersion:"3.1.9",reportOnly:"all",filterXSS:j,_filterXSS:B,filterUrl:G,BlackConfig:H,project:Z,setProjectName:function(e){Z[e]=this,P._xssProjectName=e}};W["lvweb/smart-tools"]=z,P.xssNamespace=W,P.Math&&!P.Math.xssNamespace&&(P.Math.xssNamespace=W),Z[V]=z,P.globalThis=P,P.getFilterXss=function(){return void 0!==this._xssProjectName?this._xssProject[this._xssProjectName]:z},P.xss=z,P.isSafeUrl=O,P.isSafeDomain=O,P.isSafeProtocol=L,P._xssProject=Z,P._xssProjectName&&(Z[P._xssProjectName]=z);var Y=z.setProjectName.bind(z);e.BlackConfig=H,e.FilterXSS=T,e._filterXSS=B,e.filterUrl=G,e.filterXSS=j,e.isSafeDomain=O,e.isSafeProtocol=L,e.isSafeUrl=O,e.project=Z,e.setProjectName=Y,e.setXssNamespace=function(e){var t=e.appId,r=e.bid,n=e.region,i=e.isCloseSSRReport;W[t]=z,H.bid=r,H.region=n,H.enabled=!0,H.isCloseSSRReport=i},e.xssNamespace=W,Object.defineProperty(e,"__esModule",{value:!0})},"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).xss={}),(self.webpackChunksmart_tools=self.webpackChunksmart_tools||[]).push([["4742"],{259059:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var n=r(661135),i=r(804430),o=r(218571),a=r(674838);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){(0,i.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var l=o.forwardRef(function(e,t){var r=(0,o.useContext)(a.P).prefixCls,i=void 0===r?"arco":r,s=e.spin,l=e.className,u=c(c({"aria-hidden":!0,focusable:!1,ref:t},e),{},{className:"".concat(l?l+" ":"").concat(i,"-icon ").concat(i,"-icon-check")});return s&&(u.className="".concat(u.className," ").concat(i,"-icon-loading")),delete u.spin,delete u.isIcon,o.createElement("svg",(0,n.Z)({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48"},u),o.createElement("path",{d:"M41.678 11.05 19.05 33.678 6.322 20.95"}))});l.defaultProps={isIcon:!0},l.displayName="IconCheck";let u=l},928638:function(e,t,r){"use strict";r.r(t),r.d(t,{addToTrack:function(){return j},bridge:function(){return $},close:function(){return S},downloadDraft:function(){return _},draftDownloadProgress:function(){return N},firstFrameRendered:function(){return x},getAiWriting:function(){return B},getAppInfo:function(){return O},getComplianceAgreed:function(){return m},getQuota:function(){return I},getReferImage:function(){return X},getSettings:function(){return Z},getTaskProgress:function(){return w},globalConfig:function(){return Q},loadCompleted:function(){return W},loadResourceFinished:function(){return D},login:function(){return L},notifyTaskGenerated:function(){return P},on:function(){return ee},openAiDialog:function(){return V},openFileSelector:function(){return A},openTimeLine:function(){return k},openVideoExportModal:function(){return T},openWebPage:function(){return g},pop:function(){return v},purchaseStateChanged:function(){return H},push:function(){return p},reportAppLog:function(){return E},request:function(){return F},retryTask:function(){return R},saveAiWriting:function(){return U},saveReferImage:function(){return K},setCache:function(){return J},setComplianceAgreed:function(){return y},setDroppedVideoFile:function(){return b},setHideWebViewWhenClose:function(){return z},setUploadCloseAlert:function(){return Y},setWebviewCloseAlert:function(){return C},showFeedbackDialog:function(){return G},showSubscriptionDialog:function(){return M},showTooHeightVersionDialog:function(){return q},util:function(){return et}});var n=new(function(){function e(){var e,t,r,n=this;if(this._callbackId=0,this._callbackMap={},this._eventMap={},null===(t=null===(e=window.Capcut)||void 0===e?void 0:e.JSBridge)||void 0===t?void 0:t._instance)return window.Capcut.JSBridge._instance;window.cefQuery?this._stub=function(e,t,r,i){var o=n._registerCallback(e,r);return window.cefQuery({request:JSON.stringify({callType:e,data:{callbackId:o,params:t}})}),o}:(null===(r=window.webkit)||void 0===r?void 0:r.messageHandlers)&&(this._stub=function(e,t,r,i){var o,a,s=n._registerCallback(e,r);return(null===(o=window.webkit.messageHandlers[e])||void 0===o?void 0:o.postMessage)||Promise.reject(Error("no method: "+e)),null===(a=window.webkit.messageHandlers[e])||void 0===a||a.postMessage(JSON.stringify({callbackId:s,params:t})),s}),window.Capcut={JSBridge:{_handleCallbackFromNative:function(e){n._handleCallbackFromNative(e)},_handleEventFromNative:function(e){n._handleEventFromNative(e)},_instance:this}}}return e.prototype.call=function(e,t,r,n){return this._stub(e,t,r,n)},e.prototype.on=function(e,t,r){if(void 0===r&&(r=!1),e&&"string"==typeof e&&"function"==typeof t){var n=this._registerCallback(e,t);return this._eventMap[e]=this._eventMap[e]||{},this._eventMap[e][n]={once:r},n}},e.prototype.once=function(e,t){return this.on(e,t,!0)},e.prototype.off=function(e,t){if(!e||"string"!=typeof e)return!0;var r=this._eventMap[e];return!(r&&"object"==typeof r&&r.hasOwnProperty(t))||(this._deregisterCallback(t),delete r[t],!0)},e.prototype.trigger=function(e,t){this._handleEventFromNative({event:e,result:t})},e.prototype._handleCallbackFromNative=function(e){var t="string"==typeof e?this._parseData(e):e,r=t.callbackId,n=this._callbackMap[r].callback;n&&(n(t.result),this._deregisterCallback(r))},e.prototype._handleEventFromNative=function(e){var t=this,r="string"==typeof e?this._parseData(e):e,n=r.event,i=r.result,o=this._eventMap[n];o&&"object"==typeof o&&Object.keys(o).forEach(function(e){var r=(t._callbackMap&&t._callbackMap[e]||{}).callback,n=o[e];"function"==typeof r&&r(i),n&&n.once&&(t._deregisterCallback(e),delete o[e])})},e.prototype._registerCallback=function(e,t){var r=String(this._callbackId++);return this._callbackMap[r]={method:e,callback:t},r},e.prototype._deregisterCallback=function(e){delete this._callbackMap[e]},e.prototype._parseData=function(e){return JSON.parse(e)},e}());function i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function o(e,t){return e(t={exports:{}},t.exports),t.exports}var a=o(function(e){function t(r,n){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,t(r,n)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0});i(a);var s=i(o(function(e){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,a(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0})),c=i(o(function(e){function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e.exports.default=e.exports,e.exports.__esModule=!0,t.apply(this,arguments)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0})),l={info:function(e){console.info(e)},warn:function(e){console.warn(e)},log:function(e){console.log(e)}},u="undefined"!=typeof window,d=u?window.navigator.userAgent:"",h=/(Android);?\s+([\d.]+)?/i.test(d),f=new(function(e){function t(t){var r;return(r=e.call(this,t)||this).env={container:t.container||"web",os:t.os},r}s(t,e);var r=t.prototype;return r.caniuse=function(e,t){return console.error(e+" is not a rule-dependent method, you should not call caniuse in your code"),!1},r.pipeCall=function(e,t,r,n,i,o){var a=this;if(this.isSSR)return Promise.resolve();var s={method:e,params:r};"function"==typeof this.onInvokeStart&&(s=this.onInvokeStart(s));var l=new Date().getTime();try{return new Promise(function(u,d){if("function"==typeof o)return o(c({params:r,bridge:a.bridge},a.env),function(e){u(e),"function"==typeof n&&n(e),"function"==typeof a.onInvokeEnd&&a.onInvokeEnd({response:e,config:s})});a.bridge.call(t,r,function(i){var o=i;try{"function"==typeof a.globalPostprocess&&(o=a.globalPostprocess(o,{method:e,params:r,env:a.env}))}catch(e){d(e)}"function"==typeof n&&(n.length<2?n(o):n(null,o)),u(o),"function"==typeof a.onInvokeEnd&&a.onInvokeEnd({response:o,config:s}),"function"==typeof a.monitor&&a.monitor(c({bridge:a.bridge},a.env),{method:e,realMethod:t,params:r,res:o,realRes:i,startTimestamp:l})},Object.assign(a.options,i))})}catch(n){return"function"==typeof this.monitor&&this.monitor(c({bridge:this.bridge},this.env),{method:e,realMethod:t,params:r,error:n}),Promise.reject(n)}},r.pipeEvent=function(e,t,r,n){var i=this;if(this.isSSR)return{remove:function(){},listener:r};var o=this.bridge.on(t,function(t){var n=t;"function"==typeof i.globalPostprocess&&(n=i.globalPostprocess(n,{event:e,env:i.env,logger:l})),r(n)},n);return{remove:function(){i.bridge.off(t,o)},listener:r}},t}(function(){function e(e){this.bridge=e.bridge,this.container=e.container||"web",this.os=e.os,this.isSSR=e.isSSR,this.options={},this.context=null,this.monitor=e.monitor,this.globalPostprocess=e.globalPostprocess,this.onInvokeStart=null,this.onInvokeEnd=null,this.logDisabled=!1}var t=e.prototype;return t.on=function(e,t){var r=this;"lynx"===this.container&&(this.bridge.on=this.bridge.on.bind(this.context));var n=this.bridge.on(e,function(e){t.length<2?t(e):t(null,e)});return{remove:function(){return r.bridge.off(e,n)}}},t.globalConfig=function(e){void 0===e&&(e={});var t=e,r=t.env,n=t.context,i=t.monitor,o=t.onInvokeStart,a=t.onInvokeEnd,s=t.disableLog,l=t.options;this.logDisabled=!!s;var u={container:this.container,os:this.os};"lynx"===this.container&&n&&(this.bridge.on=this.bridge.on.bind(n),this.bridge.off=this.bridge.off.bind(n)),r&&(this.env=c({},u,r));var d={context:n,monitor:i,onInvokeStart:o,onInvokeEnd:a,options:l};for(var h in d)void 0!==d[h]&&(this[h]=d[h])},e}()))({bridge:u?n:{},container:"web",os:h?"android":"ios",isSSR:!u,monitor:function(e,t){console.log("[\u9E4A\u6865 SDK Monitor]: ",t)},globalPostprocess:function(e,t){return e}});function p(e,t,r){return f.pipeCall("push","push",e,t,r)}function _(e,t,r){return f.pipeCall("downloadDraft","downloadDraft",e,t,r)}function v(e,t,r){return f.pipeCall("pop","pop",e,t,r)}function g(e,t,r){return f.pipeCall("openWebPage","openWebPage",e,t,r)}function m(e,t,r){return f.pipeCall("getComplianceAgreed","getComplianceAgreed",e,t,r)}function y(e,t,r){return f.pipeCall("setComplianceAgreed","setComplianceAgreed",e,t,r)}function E(e,t,r){return f.pipeCall("reportAppLog","reportAppLog",e,t,r)}function A(e,t,r){return f.pipeCall("openFileSelector","openFileSelector",e,t,r)}function b(e,t,r){return f.pipeCall("setDroppedVideoFile","setDroppedVideoFile",e,t,r)}function T(e,t,r){return f.pipeCall("openVideoExportModal","openVideoExportModal",e,t,r)}function S(e,t,r){return f.pipeCall("close","close",e,t,r)}function C(e,t,r){return f.pipeCall("setWebviewCloseAlert","setWebviewCloseAlert",e,t,r)}function P(e,t,r){return f.pipeCall("notifyTaskGenerated","notifyTaskGenerated",e,t,r)}function w(e,t,r){return f.pipeCall("getTaskProgress","getTaskProgress",e,t,r)}function R(e,t,r){return f.pipeCall("retryTask","retryTask",e,t,r)}function k(e,t,r){return f.pipeCall("openTimeLine","openTimeLine",e,t,r)}function L(e,t,r){return f.pipeCall("login","login",e,t,r)}function I(e,t,r){return f.pipeCall("getQuota","getQuota",e,t,r)}function O(e,t,r){return f.pipeCall("getAppInfo","getAppInfo",e,t,r)}function x(e,t,r){return f.pipeCall("firstFrameRendered","firstFrameRendered",e,t,r)}function D(e,t,r){return f.pipeCall("loadResourceFinished","loadResourceFinished",e,t,r)}function M(e,t,r){return f.pipeCall("showSubscriptionDialog","showSubscriptionDialog",e,t,r)}function N(e,t){return f.pipeEvent("draftDownloadProgress","draftDownloadProgress",e,t)}function H(e,t){return f.pipeEvent("purchaseStateChanged","purchaseStateChanged",e,t)}function F(e,t,r){return f.pipeCall("request","request",e,t,r)}function U(e,t,r){return f.pipeCall("saveAiWriting","saveAiWriting",e,t,r)}function j(e,t,r){return f.pipeCall("addToTrack","addToTrack",e,t,r)}function B(e,t,r){return f.pipeCall("getAiWriting","getAiWriting",e,t,r)}function G(e,t,r){return f.pipeCall("showFeedbackDialog","showFeedbackDialog",e,t,r)}function Z(e,t,r){return f.pipeCall("getSettings","getSettings",e,t,r)}function W(e,t,r){return f.pipeCall("loadCompleted","loadCompleted",e,t,r)}function V(e,t,r){return f.pipeCall("openAiDialog","openAiDialog",e,t,r)}function z(e,t,r){return f.pipeCall("setHideWebViewWhenClose","setHideWebViewWhenClose",e,t,r)}function Y(e,t,r){return f.pipeCall("setUploadCloseAlert","setUploadCloseAlert",e,t,r)}function X(e,t,r){return f.pipeCall("getReferImage","getReferImage",e,t,r)}function K(e,t,r){return f.pipeCall("saveReferImage","saveReferImage",e,t,r)}function J(e,t,r){return f.pipeCall("setCache","setCache",e,t,r)}function q(e,t,r){return f.pipeCall("showTooHeightVersionDialog","showTooHeightVersionDialog",e,t,r)}function Q(e){f.globalConfig(e)}var $=f.bridge,ee=f.on.bind(f),et={caniuse:f.caniuse.bind(f)}},73021:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(96304))&&n.__esModule?n:{default:n},o=r(218571);t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.default,r=(0,o.useRef)(e),n=t(r.current,e);return(0,o.useEffect)(function(){n||(r.current=e)}),n?r.current:e}},935892:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(571456),i=r(733730),o=r(227478),a=r(683132),s=function(e){(0,n.XW)(r,e);var t=(0,n.WY)(r);function r(e){var i;return(0,n.PA)(this,r),i=t.call(this),(0,n._x)((0,n.Lc)(i),"_parent",null),(0,n._x)((0,n.Lc)(i),"_decoderReady",!1),(0,n._x)((0,n.Lc)(i),"_inDecoding",!1),(0,n._x)((0,n.Lc)(i),"_toDecodeFirstframe",!0),(0,n._x)((0,n.Lc)(i),"_id",new Date().getMilliseconds()),(0,n._x)((0,n.Lc)(i),"_workerErrorCallback",null),(0,n._x)((0,n.Lc)(i),"_workerMessageCallback",null),(0,n._x)((0,n.Lc)(i),"_decoderWorker",null),i._parent=e,i}return(0,n.qH)(r,[{key:"analyse",get:function(){return this._parent.analyse}},{key:"inDecoding",get:function(){return this._inDecoding}},{key:"decoderMode",get:function(){return this._decoderMode}},{key:"decoderReady",get:function(){return this._decoderReady}},{key:"needToDecode",get:function(){return this._inDecoding?0:this._continueDecodeThreshold}},{key:"maxDecodeOnce",get:function(){return this._maxDecodeOnce}},{key:"meta",get:function(){var e;return null===(e=this._parent)||void 0===e?void 0:e._meta},set:function(e){this._parent&&(this._parent._meta=e)}},{key:"init",value:function(e,t){this._workerMessageCallback=e,this._workerErrorCallback=t,this._initWorker()}},{key:"_initWorker",value:function(){throw Error("need override by children")}},{key:"checkToDecode",value:function(e){if(this.webcodec){e<=this.needToDecode&&this.doDecode();return}!this._inDecoding&&e<=this.needToDecode&&this.doDecode()}},{key:"doDecode",value:function(){var e=this,t=this._getFramesToDecode();t&&t.length&&this.meta&&(this._toDecodeFirstframe&&(this._toDecodeFirstframe=!1,this.analyse.addFirstFrameToDecode()),this._avccpushed||this._initDecoderWithConfiguration(this._decoderWorker,this.meta),a.kg.enable&&a.kg.log(this.TAG,"doDecode ".concat(t.length," frames")),t.forEach(function(t){e._doDecodeInternal(t)}),this._inDecoding=!0,this._decoderWorker.postMessage({msg:"finish_flag"}))}},{key:"preciseSeek",value:function(e){var t,r,n,i,o=this,s=null===(t=this._parent)||void 0===t?void 0:null===(r=t._timeRange)||void 0===r?void 0:r.getFramesForPreciseSeek(1e3*e),c=s.length;if(c<this.maxDecodeOnce){this.doDecode();return}null===(n=this._parent)||void 0===n||null===(i=n._timeRange)||void 0===i||i.updateFrameIndexForPreciseSeek(c),a.kg.enable&&a.kg.log(this.TAG,"doDecode ".concat(s.length," frames for precise seek")),s.forEach(function(e,t){o._doDecodeInternal(e,!0,t>=c-6)}),this._inDecoding=!0,this._decoderWorker.postMessage({msg:"finish_flag"})}},{key:"_getFramesToDecode",value:function(){var e=this._parent,t=e._timeRange,r=e._decodeEstimate;if(this._decoderReady&&t){var n=t.frameLength;if(n){var i=this._toDecodeFirstframe?(0,o.tT)().maxDecodeOnceFirstTime:this.maxDecodeOnce;1===n&&r.resetDecodeDot(performance.now());for(var a=[];i>0;){var s=t&&t.getFrame();if(!s)break;a.push(s),s.gopId&&s.gopId-1==0&&r.updateGopCount(),i--}return a}}}},{key:"_doDecodeInternal",value:function(e,t,r){null!=e&&e.meta&&(this.meta=e.meta,a.kg.warn(this.TAG,"detect metadata! flush decoder"),this._initDecoderWithConfiguration(this.__decoderWorker,e.meta));var n={dts:e.dts,pts:e.pts||e.dts+e.cts,keyframe:e.keyframe,gopId:e.gopId,id:this._id};t&&(n.preciseSeek=!0,n.output=r);var i=e.data.slice();this._decoderWorker.postMessage({msg:"decode",data:i,info:n},[i.buffer])}},{key:"_initDecoderWithConfiguration",value:function(){throw Error("need override by children")}},{key:"flushDecoder",value:function(){this._decoderWorker.postMessage({msg:"flush"})}},{key:"destroy",value:function(){throw Error("need override by children")}}]),r}(i.Z)},859933:function(e,t,r){"use strict";r.d(t,{NW:function(){return n},R_:function(){return i},ZP:function(){return o}});var n={WAITING:0,CANPLAY:1,PLAY:2,PLAYING:3,PAUSE:4,SEEKING:5,SEEKED:6,LOADEDDATA:7,LOADEDMETADATA:8,TIMEUPDATE:9,DURATION_CHANGE:10,VOLUME_CHANGE:11,PROGRESS:12,ERROR:13,ENDED:14,RESIZE:15,LOADSTART:16,DECODE_FPS:17,LOW_DECODE:18,LARGE_AV_GAP:19,FIRST_FRAME:20},i=["waiting","canplay","play","playing","pause","seeking","seeked","loadeddata","loadedmetadata","timeupdate","durationchange","volumechange","progress","error","ended","resize","loadstart","decodefps","lowdecode","largeavgap","firstframe"],o={AUDIO:{AUDIO_READY:"audio_ready",AUDIO_NOT_ALLOWED_AUTOPLAY:"audio_not_allowed_autoplay",AUDIO_WAITING:"audio_waiting",AUDIO_SYNC_DTS:"audio_sync_dts"},VIDEO:{VIDEO_DECODER_INIT:"video_decode_init",VIDEO_READY:"video_ready",VIDEO_WAITING:"video_waiting",AUTO_RUN:"auto_run",DECODE_LOW_FPS:"decode_low_fps",UPDATE_VIDEO_FILLTYPE:"update_video_filltype",UPDATE_VIDEO_COVER_POSITION:"update_video_cover_position"},TIMELINE:{PLAY_EVENT:"play_event",SET_METADATA:"set_metadata",APPEND_CHUNKS:"append_chunks",START_RENDER:"start_render",DO_PLAY:"do_play",DO_PAUSE:"do_pause",DO_SEEK:"do_seek",SET_PLAYBACKRATE:"set_playbackrate",SYNC_DTS:"sync_dts",RESET_BASE_DTS:"reset_base_dts",UPDATE_VOLUME:"update_volume",SINGLE_TRACK:"single_track",DESTROY:"destroy",READY:"ready",UPDATE_GL_OPTIONS:"update_gl_options",SET_VIDEO_DURATION:"set_video_duration",SET_PLAY_MODE:"set_play_mode",UPDATE_CAPABILITY_LEVEL:"update_capability_level",INNER_DEGRADE:"inner_degrade",ADJUST_SEEK_TIME:"adjust_seek_time",CHASE_FRAME:"chase_frame",END_OF_STREAM:"end_of_stream",UPDATE_SEGMENT_END:"update_segment_end"},VIDEO_EVENTS:n,DECODE_EVENTS:{INIT:"init",READY:"decoderready",REMUX:"remux",INIT_FAILED:"initfailed",DATAREADY:"dataReady",PLAY_FAILED:"playfailed",FRAGMENT_END:"fragmentEnd",APPEND_VIDEO:"appendVideo",FIRST_FRAME:"firstFrame",DECODED:"decoded",RENDE_END:"rendeEnd",CHASE_VIDEO_FRAME:"chaseVideoFrame",CHASE_VIDEO_FRAME_END:"chaseVideoFrameEnd",CHASE_AUDIO_FRAME:"chaseAudioFrame",INIT_SEGMENT:"initSegment",MEDIA_SEGMENT:"mediaSegment",FRAME_MAX_COUNY:"frameMaxCount",FRAME_MIN_COUNY:"frameMinCount"}}},552712:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var n=r(571456),i=r(683132),o=r(859933),a=r(307224),s=r(250006),c=r(873398),l=r(704738),u={INIT_AUDIO_ERR:"create new AudioContext error"},d=function(e){(0,n.XW)(d,e);var t,r,a=(0,n.WY)(d);function d(e,t){var r;return(0,n.PA)(this,d),r=a.call(this,e,t),(0,n._x)((0,n.Lc)(r),"doPause",r._doPause),r.TAG="AudioRender",r._timeRange=new s.Z((0,n.Lc)(r)),r._lastTimeLineTime=0,r._sampleQueue=[],r._source=null,r._audioCanAutoplay=!0,r._lastBuffer=null,r._inDecoding=!1,r._endOfStream=!1,r._delay=0,r._isSourceBufferEnd=-1,r._onSourceBufferEnded=r._onSourceBufferEnded.bind((0,n.Lc)(r)),r._initAudioCtx(e.volume||.6),r._bindEvents(),r}return(0,n.qH)(d,[{key:"baseDts",get:function(){return this._timeRange._baseDts}},{key:"currentTime",get:function(){return this._audioCtx?this._lastTimeLineTime+this._audioCtx.currentTime:0}},{key:"preloadTime",get:function(){return this.isLive?1:0}},{key:"timescale",get:function(){return 1e3}},{key:"buffered",get:function(){return this._timeRange.buffered}},{key:"ctxState",get:function(){return this._audioCtx.state}},{key:"audioCanAutoplay",get:function(){return this._audioCanAutoplay}},{key:"resume",value:function(){if(this._audioCtx&&"suspended"===this._audioCtx.state)return this._audioCtx.resume().catch(function(e){})}},{key:"canSeek",value:function(e){return this._timeRange.canSeek(e)}},{key:"_assembleErr",value:function(e){var t=Error(e);return t.code=3,t}},{key:"_emitTimelineEvents",value:function(e,t,r){var n,i;null===(n=this._parent)||void 0===n||null===(i=n.emit)||void 0===i||i.call(n,e,t,r)}},{key:"_initAudioCtx",value:function(e){var t=this;i.kg.log(this.TAG,"init audioCtx");var r=window.AudioContext||window.webkitAudioContext;if(this._audioCtx=new r,!this._audioCtx){i.kg.warn(this.TAG,"create webaudio error!"),setTimeout(function(){t._emitTimelineEvents(o.ZP.TIMELINE.PLAY_EVENT,o.NW.ERROR,t._assembleErr(u.INIT_AUDIO_ERR))});return}return this._gainNode=this._audioCtx.createGain(),this._gainNode.gain.value=e,this._gainNode.connect(this._audioCtx.destination),this._audioCanAutoplay="running"===this._audioCtx.state,i.kg.log(this.TAG,"webAudio state:",this._audioCtx.state),(0,c.ds)(),this._bindAudioCtxEvent(),this._audioCtx.suspend()}},{key:"_bindAudioCtxEvent",value:function(){var e=this;this._onStateChange=function(){e._audioCtx&&"running"===e._audioCtx.state&&e._ready&&e._emitTimelineEvents(o.ZP.TIMELINE.PLAY_EVENT,o.NW.PLAYING)},this._audioCtx.addEventListener("statechange",this._onStateChange)}},{key:"_bindEvents",value:function(){var e=this;(0,n.U2)((0,n.IP)(d.prototype),"_bindEvents",this).call(this),this._parent.on(o.ZP.DECODE_EVENTS.CHASE_AUDIO_FRAME,this._doChaseFrame.bind(this)),this._parent.on(o.ZP.TIMELINE.UPDATE_VOLUME,function(t){e._gainNode&&(e._gainNode.gain.value=Number.isFinite(t)?t:1,e._emitTimelineEvents(o.ZP.TIMELINE.PLAY_EVENT,o.NW.VOLUME_CHANGE))}),this._parent.on(o.ZP.TIMELINE.END_OF_STREAM,function(){var t;e._endOfStream=!0,e.noAudio||null!==(t=e._timeRange)&&void 0!==t&&t.hasBuffer()||null==e||e._emitTimelineEvents(o.ZP.TIMELINE.PLAY_EVENT,o.NW.ENDED)})}},{key:"_appendChunk",value:function(e,t){if(!this.noAudio){this._meta||(this._meta=t,i.kg.warn(this.TAG,"audio set metadata",this._meta));var r=t.samples;if(r.length){if(this._sampleQueue=this._sampleQueue.concat(r),t.samples=[],"aac"===this._meta.codecType){if(this._inDecoding)return;this._decodeAACWrapper()}else this._decodeG711()}}}},{key:"_resetDts",value:function(e,t){"video"!==t&&this._timeRange.resetDts(e)}},{key:"_doPlay",value:function(){if(!this.noAudio&&!this._parent.seeking){if(!this._source&&this.currentTime){this._startRender();return}this.resume()}}},{key:"_doPause",value:function(){this.noAudio||this._audioCtx.suspend()}},{key:"_reInitAudioCtx",value:function(e){var t=this;if(this._lastTimeLineTime=e,this._lastBuffer=null,this._lastAudioBufferInfo=null,this._delay=0,!(this._ready&&this._audioCtx.currentTime))return Promise.resolve();var r=this._gainNode.gain.value;return this._audioCtx.close().then(function(){return t._audioCtx.removeEventListener("statechange",t._onStateChange),t._audioCtx=null,t._source&&t._source.removeEventListener("ended",t._onSourceBufferEnded),t._source=null,t._initAudioCtx(r)})}},{key:"_doSeek",value:function(e){var t=this;this._reInitAudioCtx(e).then(function(){t._getAudioBuffer(!0)}).catch(function(e){})}},{key:"_doChaseFrame",value:function(e){var t=this,r=e.position,n=this._timeRange.deletePassed(r);n&&(i.kg.log(this.TAG,"_doChaseFrame","startTime:",n.start,"buffeLength:",this.buffered.end(0)-n.start),this._reInitAudioCtx(n.start).then(function(){t._startRender(),t._emitTimelineEvents(o.ZP.TIMELINE.PLAY_EVENT,o.NW.TIMEUPDATE)}).catch(function(e){}))}},{key:"_decodeAACWrapper",value:(t=(0,n.x)((0,n.l5)().mark(function e(){var t,r,i,a,s,c,l,u,d;return(0,n.l5)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this._sampleQueue.length,r=this._sampleQueue[0],!((i=(this._sampleQueue[t-1].dts-r.dts)/this.timescale)<1)){e.next=6;break}return e.abrupt("return");case 6:for(l=0,a=parseInt(i/3-1)||1,s=parseInt(t/a),c=[];l<a;l++)l<a-1?c.push(this._sampleQueue.slice(l*s,(l+1)*s)):c.push(this._sampleQueue.slice(l*s));return this._sampleQueue=[],this._inDecoding=!0,e.prev=12,e.next=15,this._decodeCycle(c);case 15:!this._isLive&&(d=(u=this._timeRange._buffers)[u.length-1])&&this._emitTimelineEvents(o.ZP.TIMELINE.UPDATE_SEGMENT_END,d.end),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(12),this._emitTimelineEvents(o.ZP.TIMELINE.PLAY_EVENT,o.NW.ERROR,this._assembleErr("ERROR_MSG.DECODE_ERR:".concat(e.t0&&e.t0.message)));case 21:this._inDecoding=!1;case 22:case"end":return e.stop()}},e,this,[[12,18]])})),function(){return t.apply(this,arguments)})},{key:"_decodeCycle",value:(r=(0,n.x)((0,n.l5)().mark(function e(t){var r;return(0,n.l5)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.shift()){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this._decodeAAC(r);case 5:return e.next=7,this._decodeCycle(t);case 7:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"_decodeAAC",value:function(e){var t=this,r=e[0],n=0;l.Z.checkRefillFrame(e);var a=e.map(function(e){return l.Z.packageAACToAdts(t._meta,e)}),s=l.Z.concatAdts(a,0);return new Promise(function(e,a){var c=t._audioCtx.decodeAudioData(s.buffer,function(a){if(t._timeRange){if(t._lastAudioBufferInfo&&t.isLive){var s=t._lastAudioBufferInfo,c=s.dts+s.duration;(n=r.dts-c)>1&&(t._timeRange._duration+=n/1e3,i.kg.log(t.TAG,"_decodeAAC","audio data dts is not continue, last end dts:",c,",now start Dts:",r.dts,"delay:",n))}t._lastAudioBufferInfo={duration:Math.floor(1e3*a.duration),dts:r.dts};var l=t._timeRange.append(a,a.duration,r.dts,n/1e3);if(!t._ready){var u=.5>Math.abs(l+a.duration-t.currentTime);(t.isLive||!u)&&(t._ready=!0,i.kg.log(t.TAG,"_decodeAAC","set ready true start=",l),t.emit(o.ZP.AUDIO.AUDIO_READY,l))}t._emitTimelineEvents(o.ZP.TIMELINE.PLAY_EVENT,o.NW.PROGRESS),t._emitTimelineEvents(o.ZP.TIMELINE.PLAY_EVENT,o.NW.DURATION_CHANGE),e()}},a);c.catch&&c.catch(a)})}},{key:"_decodeG711",value:function(){var e=this._sampleQueue.length,t=this._sampleQueue[0];if(!((this._sampleQueue[e-1].dts-t.dts)/this.timescale<.5)){var r=new Uint8Array(this._sampleQueue.reduce(function(e,t){return e+t.data.byteLength},0)),n=0,a=0;this._sampleQueue.forEach(function(e,t){0===t&&(n=e.dts),r.set(e.data,a),a+=e.data.byteLength}),this._sampleQueue=[];try{var s=this._meta,c=s.codecType,u=s.channelCount,d=s.sampleSize,h=s.sampleRate,f=l.Z.decodeG711(r,c),p=l.Z.createAudioBufferFromPcm(this._audioCtx,f.buffer,u,h,d/8),_=p.audioBuffer,v=p.duration,g=this._timeRange.append(_,v,n,0);this._ready||(this._ready=!0,i.kg.log(this.TAG,"_decodeG711","set ready true"),this.emit(o.ZP.AUDIO.AUDIO_READY,g)),this._emitTimelineEvents(o.ZP.TIMELINE.PLAY_EVENT,o.NW.PROGRESS),this._emitTimelineEvents(o.ZP.TIMELINE.PLAY_EVENT,o.NW.DURATION_CHANGE)}catch(e){this._emitTimelineEvents(o.ZP.TIMELINE.PLAY_EVENT,o.NW.ERROR,this._assembleErr("ERROR_MSG.DECODE_ERR:".concat(e&&e.message)))}}}},{key:"_onSourceBufferEnded",value:function(){this._isSourceBufferEnd=!0,i.kg.long&&i.kg.log(this.TAG,"source play end! currentTime:".concat(this.currentTime," , duration:").concat(this.duration)),this._startRender()}},{key:"_ajustSeekTime",value:function(e){var t=this._timeRange.getBuffer(e,0);t&&(i.kg.log(this.TAG,"ajust seek time to:",t.start),this._lastTimeLineTime=t.start)}},{key:"_getAudioBuffer",value:function(e){var t=this;if(this._timeRange){var r=this._timeRange.getBuffer(this._lastBuffer?this._lastBuffer.end:this.currentTime,0);if(!r){if((this._endOfStream||!this._isLive)&&this.currentTime-this.duration>-.5){this._emitTimelineEvents(o.ZP.TIMELINE.PLAY_EVENT,o.NW.TIMEUPDATE),this._emitTimelineEvents(o.ZP.TIMELINE.PLAY_EVENT,o.NW.ENDED);return}this._ready=!1,this._audioCtx.suspend(),this.emit(o.ZP.AUDIO.AUDIO_WAITING),e&&(this._onAudioReady||(this._onAudioReady=function(e){t._ajustSeekTime(e)}),this.removeListener(o.ZP.AUDIO.AUDIO_READY,this._onAudioReady),this.once(o.ZP.AUDIO.AUDIO_READY,this._onAudioReady));return}if(e){this._ajustSeekTime(r.start),this.emit(o.ZP.AUDIO.AUDIO_READY);return}return r}}},{key:"_startRender",value:function(e){if(!this.noAudio){if("video"===e&&this.isLive&&this._ready&&!this._isSourceBufferEnd){console.log(this.TAG,"_startRender, audio currentTime",this.currentTime,"from:",e,"_isSourceBufferEnd:",this._isSourceBufferEnd,"ready:",this._ready),this._doPlay();return}var t=this._getAudioBuffer();if(t){"suspended"===this._audioCtx.state&&(this._audioCtx.resume().catch(function(e){}),(0,c.fC)()),this._lastBuffer=t,this._source=null;var r=this._audioCtx.createBufferSource();r.buffer=t.source,r.loop=!1,this._source=r,r.addEventListener("ended",this._onSourceBufferEnded),r.connect(this._gainNode),t.delay&&t.delay>.001&&(this._delay+=t.delay),this.startDts=t.startDts;try{this._isSourceBufferEnd=!1,r.start()}catch(e){}t.startDts&&this._emitTimelineEvents(o.ZP.TIMELINE.SYNC_DTS,t.startDts)}}}},{key:"_destroy",value:function(){i.kg.log(this.TAG,"destroy audio..."),this._source&&this._source.removeEventListener("ended",this._onSourceBufferEnded),this._audioCtx&&"closed"!==this.ctxState&&this._audioCtx.close(),this._audioCtx=null,this._sampleQueue=null,this._timeRange=null,this._parent=null,this.removeAllListeners()}}]),d}(a.Z)},258809:function(e,t,r){"use strict";r.d(t,{Z:function(){return h}});var n=r(571456),i=r(683132),o=r(307224),a=r(571257),s=r(712076),c=r(698428),l=r(84375),u=r(664991),d=r(859933),h=function(e){(0,n.XW)(r,e);var t=(0,n.WY)(r);function r(e,i){var o;return(0,n.PA)(this,r),(o=t.call(this,e,i))._timeRange=new a.Z((0,n.Lc)(o)),o._decodeEstimate=new l.Z((0,n.Lc)(o)),o._frameQueue=new s.Z((0,n.Lc)(o)),o._lastTimeupdate=0,o._renderCost=0,o._canAutoPlay=!0,o._videoDecode=!1,o._inSeeking=!1,o._frameRender=null,o._configuration=null,o._render=o._render.bind((0,n.Lc)(o)),o._tickTimer=new u.Z(o._render),o._initCanvas(e),o._bindEvents(),o}return(0,n.qH)(r,[{key:"canAutoPlay",get:function(){return this._canAutoPlay}},{key:"canvas",get:function(){return this._canvas}},{key:"timescale",get:function(){return 1e3}},{key:"fps",get:function(){return this._decodeEstimate.fps||this._meta&&this._meta.fpsNum/this._meta.fpsDen||24}},{key:"decodeFps",get:function(){return this._decodeEstimate.decodeFps}},{key:"decodeCost",get:function(){return this._decodeEstimate.decodeCost}},{key:"renderCost",get:function(){return this._renderCost}},{key:"totalSize",get:function(){return this._timeRange.totalSize}},{key:"bitrate",get:function(){return this._timeRange.bitrate},set:function(e){this._timeRange.bitrate=e}},{key:"gopLength",get:function(){return this._decodeEstimate.gopLength}},{key:"is540p",get:function(){return this._canvas.height<720}},{key:"buffered",get:function(){return this._timeRange.buffered}},{key:"inSeeking",get:function(){return this._inSeeking}},{key:"interval",get:function(){return Math.floor(1e3/this.fps/this.playbackRate)}},{key:"playbackRate",get:function(){return this._playbackRate||1}},{key:"baseDts",get:function(){return this._timeRange.baseDts}},{key:"currentTime",get:function(){return this._timeRange.getCurrentTime(this.preciseVideoDts)}},{key:"timelinePosition",get:function(){return this._parent.timelinePosition}},{key:"lastTimelinePosition",get:function(){return this._lastTimelinePosition||0},set:function(e){this._lastTimelinePosition=e}},{key:"audioSyncDts",get:function(){return this._audioDts||this.baseDts},set:function(e){this._audioDts=e}},{key:"preciseVideoDts",get:function(){return this.audioSyncDts+Math.floor((this.timelinePosition-this.lastTimelinePosition)*1e3)}},{key:"readyState",get:function(){var e=this._frameQueue.length||(this.currentTime?1:0);return e?e>=8?4:e>=4?3:e>=2?2:1:0}},{key:"isHevc",get:function(){return!("hev1.1.6.L93.B0"!==(this._meta||{}).codec)}},{key:"videoDecode",get:function(){return this._videoDecode}},{key:"decoderMode",get:function(){var e;return null===(e=this._decodeController)||void 0===e?void 0:e.decoderMode}},{key:"configuration",get:function(){var e,t;return this._configuration||(this._configuration=this._meta.configuration||(0,i.Mv)(null===(e=this._meta)||void 0===e?void 0:e.sps[0],null===(t=this._meta)||void 0===t?void 0:t.pps[0])),this._configuration},set:function(e){this._configuration=e.configuration||(0,i.Mv)(e.sps[0],e.pps[0])}},{key:"setSeekingStatus",value:function(e){this._inSeeking=e}},{key:"getDtsOfTime",value:function(e){return this._timeRange.getDtsOfTime(e)}},{key:"updateReady",value:function(){this._whenReady()}},{key:"forceRender",value:function(){this._render(!0)}},{key:"getSeekStartPosition",value:function(e,t){return this._timeRange.getSeekStartPosition(e,t)}},{key:"canSeek",value:function(){throw Error("need override by children")}},{key:"emitResizeEvent",value:function(){this===null||void 0===this||this._emitTimelineEvents(d.ZP.TIMELINE.PLAY_EVENT,d.NW.RESIZE)}},{key:"_assembleErr",value:function(e,t){var r=Error(e);return r.code=3,r.subCode=t,r}},{key:"_emitTimelineEvents",value:function(e,t,r){var n;null===(n=this._parent)||void 0===n||n.emit(e,t,r)}},{key:"_initCanvas",value:function(e){e.canvas?this._canvas=e.canvas:this._canvas=c.Z.getCachedCvs()||document.createElement("canvas"),this._canvas.style.margin="auto",this._canvas.style.position="absolute",this._canvas.style.pointerEvents="none"}},{key:"_bindEvents",value:function(){var e=this;(0,n.U2)((0,n.IP)(r.prototype),"_bindEvents",this).call(this);var t=function(t){var r=t.width,n=t.height,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=e._canvas,c=s.width,l=s.height,u=n*c/l,d=r*l/c,h=r-u,f=n-d,p=h*o+"px",_=f*a+"px";e._canvas.style.left=p,e._canvas.style.top=_,i.kg.warn(e.TAG,"cvsWidth=".concat(c,", cvsHeight=").concat(l,", scaleCvsWidth=").concat(u,", scaleCvsHeight=").concat(d)),i.kg.warn(e.TAG,"cover position: deltaX=".concat(h,", deltaY=").concat(f,", width=").concat(r,", height=").concat(n,", pX=").concat(p,", pY=").concat(_))};this._parent.on(d.ZP.VIDEO.UPDATE_VIDEO_FILLTYPE,function(r,n){var o=n.width,a=n.height,s=e._canvas,c=s.width,l=s.height,u=!o||o/a>c/l;if(i.kg.warn(e.TAG,"UPDATE_VIDEO_FILLTYPE isGapX =",u,"type =",r,c,l,o,a),e._canvas.style.maxWidth="initial",e._canvas.style.maxHeight="initial","cover"===r){if(u){e._canvas.style.left=0,e._canvas.style.top=0,e._canvas.style.height="auto",e._canvas.style.width="100%",t({width:o,height:a},0,.5);return}e._canvas.style.left=0,e._canvas.style.top=0,e._canvas.style.width="auto",e._canvas.style.height="100%",t({width:o,height:a},.5,0);return}if("fill"===r){e._canvas.style.width="100%",e._canvas.style.height="100%";return}e._canvas.style.top=0,e._canvas.style.bottom=0,e._canvas.style.left=0,e._canvas.style.right=0,e._canvas.style.maxWidth="100%",e._canvas.style.maxHeight="100%",e._canvas.style.width="initial",e._canvas.style.height="initial",c<o&&l<a&&(c/o>l/a?e._canvas.style.width="100%":e._canvas.style.height="100%")}),this._parent.on(d.ZP.VIDEO.UPDATE_VIDEO_COVER_POSITION,t),this._parent.on(d.ZP.TIMELINE.SYNC_DTS,function(t){var r,n=e._frameQueue.nextFrame(),o=n&&n.info&&n.info.dts;if(e.lastTimelinePosition=e.timelinePosition,e.noAudio){var a=e._timeRange.nextFrame();t=t||o||a&&a.dts||0}if(e.audioSyncDts=t,o&&o-t>500&&e._emitTimelineEvents(d.ZP.TIMELINE.PLAY_EVENT,d.NW.LARGE_AV_GAP,{aDts:t,vDts:o,frameLength:e._frameQueue.length,currentTime:e._parent.currentTime,duration:e._parent.duration}),i.kg.log(e.TAG,"audio current buffer play finish, next buffer dts=",t,"currentTime:",e._parent.currentTime,"preciseVideoDts:",e.preciseVideoDts,"next video frame dts:",o,"frame length:",e._frameQueue.length),!e._isLive&&!(null!==(r=e._parent)&&void 0!==r&&r.seeking)){var s=e._timeRange.nextFrame();if(s){var c=(s.dts-s.baseDts)/1e3;e._parent.currentTime-c>1&&(i.kg.warn(e.TAG,"drop frame!"),e.ajustSeekTime(e._parent.currentTime))}}}),this._parent.on(d.ZP.TIMELINE.UPDATE_GL_OPTIONS,function(t){e._config.glCtxOptions=t}),this._parent.on(d.ZP.TIMELINE.UPDATE_SEGMENT_END,this._updateSegmentEnd.bind(this)),this.on(d.ZP.VIDEO.AUTO_RUN,this._startRender.bind(this)),this._parent.on(d.ZP.TIMELINE.SET_PLAYBACKRATE,function(t){e._playbackRate=t,e._startRender()})}},{key:"ajustSeekTime",value:function(){throw Error("need override by children")}},{key:"_resetDts",value:function(e,t){"audio"!==t&&this._timeRange.resetDts(e)}},{key:"_setMetadata",value:function(e,t){if("audio"!==e){i.kg.warn(this.TAG,"video set metadata"),this._meta=t;var r=t&&t.frameRate&&t.frameRate.fps;r?i.kg.log(this.TAG,"detect fps:",r):i.kg.warn(this.TAG,"no detect fps,start estimate"),this._initDecoder()}}},{key:"_initDecoder",value:function(){throw Error("need override by children")}},{key:"_whenDecoderReady",value:function(){throw Error("need override by children")}},{key:"_appendChunk",value:function(){throw Error("need override by children")}},{key:"_startDecode",value:function(){throw Error("need override by children")}},{key:"_receiveFrame",value:function(e,t){if(this._parent&&this._timeRange){var r=e.info||{};if(this._decodeEstimate.addDecodeInfo(r),!this._isLive&&((r.output||r.keyframe)&&(this.setSeekingStatus(!1),i.kg.warn(this.TAG,"set seeking status=",!1)),this.inSeeking)){i.kg.log(this.TAG,"drop frame"),(0,s.s)(e);return}this._isLive?this._frameQueue.append(e):this._frameQueue.appendVodFrame(e),t&&t(),!this._ready&&this.readyState>=1&&this._whenReady()}}},{key:"_startRender",value:function(){i.kg.log(this.TAG,"start render"),this._tickTimer.start(this.interval)}},{key:"_render",value:function(){throw Error("need override by children")}},{key:"_updateSegmentEnd",value:function(){throw Error("need override by children")}},{key:"_whenReady",value:function(){this._ready=!0,this.emit(d.ZP.VIDEO.VIDEO_READY),this.noAudio&&this._emitTimelineEvents(d.ZP.TIMELINE.PLAY_EVENT,d.NW.PLAYING)}},{key:"_doPlay",value:function(){this._tickTimer.start()}},{key:"_doPause",value:function(){this._tickTimer.stop()}},{key:"_doSeek",value:function(){this._ready=!1,this._frameQueue.destroy()}},{key:"_doChaseFrame",value:function(){throw Error("need override by children")}},{key:"destroy",value:function(e){var t,r,n,i;null===(t=this._tickTimer)||void 0===t||t.destroy(),null===(r=this._timeRange)||void 0===r||r.destroy(),null===(n=this._frameQueue)||void 0===n||n.destroy(),null===(i=this._frameRender)||void 0===i||i.destroy(e),this._tickTimer=null,this._canvas=null,this._timeRange=null,this._frameQueue=null,this._frameRender=null,this._decodeEstimate=null,this._parent=null,this.removeAllListeners()}}]),r}(o.Z)},376547:function(e,t,r){"use strict";r.d(t,{Q:function(){return u}});var n=r(386859),i=r(790013),o=r(330031),a=r(528694),s=r(312745),c=r(881287);function l(e){var t;throw null!==(t=e.e)&&void 0!==t?t:Error(e.message)}var u=function(){function e(){this.t=l,this.numToAttrib={},this.attribToNum={},this.nextNum=0,this.dirty=!1}var t=e.prototype;return t.putAttrib=function(e,t){var r=[String(e[0]||""),String(e[1]||"")],e=String(r);return e in this.attribToNum?this.attribToNum[e]:t?-1:(t=this.nextNum++,this.attribToNum[e]=t,this.numToAttrib[t]=r,this.dirty=!0,t)},t.getAttrib=function(e){return(e=this.numToAttrib[e])&&[e[0],e[1]]},t.updateAttrib=function(e,t){var r,n=this.getAttrib(e);n&&(r=String(n),n=String(t),null!=this.attribToNum[r]&&delete this.attribToNum[r],this.attribToNum[n]=e,this.numToAttrib[e]=t)},t.getAttribKey=function(e){return(e=this.numToAttrib[e])?e[0]:""},t.getAttribValue=function(e){return(e=this.numToAttrib[e])?e[1]:""},t.getAttribNum=function(e){return"string"!=typeof e&&(e=String(e)),this.attribToNum[e]},t.eachAttrib=function(e){for(var t in this.numToAttrib)this.numToAttrib.hasOwnProperty(t)&&e((t=this.numToAttrib[t])[0],t[1])},t.toJsonable=function(){var e,t,r={};for(e in this.numToAttrib)this.numToAttrib.hasOwnProperty(e)&&(t=this.numToAttrib[e],r[e]=[t[0],t[1]]);return{numToAttrib:r,nextNum:this.nextNum}},t.fromJsonable=function(e){for(var t in this.numToAttrib={},this.nextNum=e.nextNum,this.attribToNum={},e.numToAttrib){var r;e.numToAttrib.hasOwnProperty(t)&&(r=e.numToAttrib[t],this.attribToNum[String(r)]=Number(t),this.numToAttrib[t]=[r[0],r[1]])}try{this.checkConsistent()}catch(e){this.t({e:e,message:"[attribute-pool][fromJsonable] check consistent fail",level:c.WV.FATAL})}return this.dirty=!0,this},t.toJsonableNoCloning=function(){return{numToAttrib:this.numToAttrib,nextNum:this.nextNum}},t.fromJsonableNoCloning=function(e){for(var t in this.numToAttrib=e.numToAttrib,this.nextNum=e.nextNum,this.attribToNum={},this.numToAttrib)this.numToAttrib.hasOwnProperty(t)&&(this.attribToNum[String(this.numToAttrib[t])]=Number(t));try{this.checkConsistent()}catch(e){this.t({e:e,message:"[attribute-pool][fromJsonableNoCloning] check consistent fail",level:c.WV.FATAL})}return this},t.copy=function(){var t,r,n,i=new e;for(t in this.numToAttrib)this.numToAttrib.hasOwnProperty(t)&&(r=this.numToAttrib[t],i.numToAttrib[t]=[r[0],r[1]]);for(n in this.attribToNum)this.attribToNum.hasOwnProperty(n)&&(i.attribToNum[n]=this.attribToNum[n]);return i.nextNum=this.nextNum,i},t.checkConsistent=function(){for(var e=0;e<this.nextNum;e++)(0,i.h)(e in this.numToAttrib,"AttribPool: "+e+" is not in this.numToAttrib");var t,r,n,o={};for(t in this.numToAttrib)this.numToAttrib.hasOwnProperty(t)&&((0,i.h)(0<=Number(t)&&Number(t)<this.nextNum,"AttribPool: "+t+" is not in range [0,"+this.nextNum+"]"),r=this.numToAttrib[t],(0,i.h)("[object Array]"===Object.prototype.toString.call(r),"AttribPool: attrib should be an array"),(0,i.h)(2===r.length,"AttribPool: attrib length should be 2"),(0,i.h)("string"==typeof r[0],"AttribPool: key should be string"),(0,i.h)("string"==typeof r[1],"AttribPool: value should be string"),(0,i.h)(!(String(r) in o),"AttribPool: attrib was already seen"),o[String(r)]=!0,(0,i.h)(this.attribToNum[String(r)]===Number(t),"AttribPool: attribToNum does not match"));for(n in this.attribToNum)this.attribToNum.hasOwnProperty(n)&&(0,i.h)(n in o,"AttribPool: attr was not seen")},t.setAttributes=function(e){var t=this,r=[];e instanceof s.D?e.forEach(function(e){e.forEach(function(e){e.attributes&&t.setAttributes(e.attributes)})}):e instanceof Array||(r=(0,o.L)(e)),r.forEach(function(e){return t.putAttrib(e)})},t.setOnErrorCb=function(e){this.t=e},t.resetOnErrorCb=function(){this.t=l},t.clear=function(){this.numToAttrib={},this.attribToNum={},this.nextNum=0,this.dirty=!1},(0,n.a)([a.W],e.prototype,"toJsonable",null),(0,n.a)([a.W],e.prototype,"fromJsonable",null),(0,n.a)([a.W],e.prototype,"checkConsistent",null),e}()},324448:function(e,t,r){"use strict";r.d(t,{n:function(){return a}});var n=r(386859),i=r(858708),o=r(182855),a=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.inputType="",(0,i.uc)(n,o.cd,t,r),n}return(0,n.d)(t,e),t}(r(748410).D)},735778:function(e,t,r){"use strict";r.d(t,{$l:function(){return s},j0:function(){return d},zq:function(){return c}});var n=r(386859),i=r(995750),o=r(528694),a=r(399501),s="undo",c="redo",l=function(e){var t=e.id,r=e.type,n=e.deltaSet,e=e.selection;this.id=t,this.type=r,this.deltaSet=n,this.selection=e};function u(){}u.prototype=Object.create(Array.prototype,{clear:{value:function(){this.splice(0,this.length)}},getNthFromTop:{value:function(e){return null!==(e=this[this.length-1-(e=void 0===e?0:e)])&&void 0!==e?e:null}},getNthFromBottom:{value:function(e){return null!==(e=this[e=void 0===e?0:e])&&void 0!==e?e:null}}}),u.prototype.constructor=u;var d=function(){function e(e){this.name="undoModule",this.t=(0,i.D)(6),this.e=null,this.i=new u,this.n=new u,this.s=[],this.o=!1,this.h=null,this.r=e,this.v(),this.c()}var t=e.prototype;return t.c=function(){var e=this,t=this.r;t.registerCommand(s,function(){e.undo()}),t.registerCommand(c,function(){e.redo()})},t.v=function(){this.r.on(a.r.CONTENT_WILL_CHANGE,this.handleContentWillChange),this.r.on(a.r.CONTENT_CHANGE,this.handleContentChange),this.r.on(a.r.INPUT,this.handleInputEvent,100)},t.a=function(){this.r.off(a.r.CONTENT_WILL_CHANGE,this.handleContentWillChange),this.r.off(a.r.CONTENT_CHANGE,this.handleContentChange),this.r.off(a.r.INPUT,this.handleInputEvent)},t.handleInputEvent=function(e){var t=!1;"historyUndo"===e.nativeEvent.inputType?(this.undo(),t=!0):"historyRedo"===e.nativeEvent.inputType&&(this.redo(),t=!0),t&&(e.preventDefault(),e.stopEvent())},t.u=function(){var e=this.r.getContentState().contentApplyRuntime;return!!e.atRuntime&&[s,c].includes(e=e.runtimeStack[0].type)},Object.defineProperty(t,"inBatching",{get:function(){return 0<this.s.length},enumerable:!1,configurable:!0}),t.handleContentWillChange=function(){this.h=this.r.selection.getSelection()},t.handleContentChange=function(e){var t=e.previous,r=e.deltaSet,i=e.options,e=i.nonundoable,i=i.type;if(this.u())return(i=(i===s?this.n:this.i).getNthFromTop(0))?void(i.selection=this.h):void 0;e?this._(r):(e=this.r.getContentState().contentApplyRuntime,this.d(r,t.toDeltaSet(),(0,n.b)((0,n.b)({},e.currentRuntime),{selection:this.h})))},t.l=function(){this.inBatching&&this.f(this.s[this.s.length-1]);var e=this.i.getNthFromTop(0);this.s.push((null==e?void 0:e.id)||null)},t.y=function(){var e;this.inBatching&&(e=this.s.pop(),this.f(e),this.inBatching&&(this.s.pop(),this.l()))},t.f=function(e){var t=(0,n._)(e?this.S(e):[-1],1)[0];void 0!==t&&((e=this.i.slice(t+1)).length&&this.o&&(this.o=!1,null!==(t=this.e)&&void 0!==t&&t.do(this.t)),1<e.length&&this.mergeRecords.apply(this,(0,n.e)(e)))},t.d=function(e,t,r){var n=r.id,i=r.type,r=r.selection,t=e.invert(t);this.i.push(new l({id:n,type:i,deltaSet:t,selection:r})),this.n.clear(),this.inBatching?this.o=!0:null!==(r=this.e)&&void 0!==r&&r.do(this.t)},t._=function(e){this.p(this.i,e),this.p(this.n,e)},t.p=function(e,t){for(var r=e.length-1;0<=r;r--){var n=e[r].deltaSet;e[r].deltaSet=t.transform(n),t=n.transform(t)}},t.m=function(e,t,r){var i;e.length&&(i=e.pop(),e=this.r.getContentState().toDeltaSet(),e=i.deltaSet.invert(e),t.push(new l((0,n.b)((0,n.b)({},i),{deltaSet:e}))),this.r.getContentState().apply(i.deltaSet,r),this.r.selection.setSelection(i.selection))},t.performUndo=function(){this.m(this.i,this.n,{type:"undo"})},t.performRedo=function(){this.m(this.n,this.i,{type:"redo"})},t.S=function(e){var t,r;try{for(var i=(0,n.c)(this.i.entries()),o=i.next();!o.done;o=i.next()){var a=(0,n._)(o.value,2),s=a[0],c=a[1];if(c.id===e)return[s,c]}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return[]},t.g=function(e,t){var r=e.id,i=e.type,o=t.id,e=(0,n._)(this.S(r),2),a=e[0],t=e[1],e=(0,n._)(this.S(o),2),o=e[0],e=e[1];if(t&&e&&void 0!==a&&void 0!==o){var s=e.deltaSet,e=t.deltaSet;if(a<o)for(var c=o-1;a<c;c--)s=this.i.getNthFromBottom(c).deltaSet.transform(s);else for(c=o+1;c<a;c++)s=this.i.getNthFromBottom(c).deltaSet.transform(s);e=s.compose(e),this.i.splice(a,1,new l({id:r,type:i,deltaSet:e,selection:t.selection})),this.i.splice(o,1)}},t.batchedUndo=function(e){this.l(),e(),this.y()},t.setUndoDispatcher=function(e,t){this.e=e,null!=t&&t.id&&(this.t=null==t?void 0:t.id),this.e.register((0,n.b)({id:this.t,undo:this.performUndo,redo:this.performRedo},t))},t.undo=function(){this.e?this.e.undo():this.performUndo()},t.redo=function(){this.e?this.e.redo():this.performRedo()},t.mergeRecords=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{for(var r=e.length-1;0<r;r--)this.g(e[r-1],e[r])}catch(e){this.r.log("mergeRecords failed",e.stack)}},Object.defineProperty(t,"undoable",{get:function(){return 0<this.i.length},enumerable:!1,configurable:!0}),Object.defineProperty(t,"redoable",{get:function(){return 0<this.n.length},enumerable:!1,configurable:!0}),t.markNonundoable=function(e){var t=(0,n._)(this.S(e.id),1)[0];void 0!==t&&(e=(0,n._)(this.i.splice(t,1),1)[0].deltaSet.invert(this.r.getContentState().toDeltaSet()),this.p(this.i.slice(0,t),e))},t.getNthUndoRecordFromTop=function(e){return this.i.getNthFromTop(e=void 0===e?0:e)},t.getNthUndoRecordFromBottom=function(e){return this.i.getNthFromBottom(e=void 0===e?0:e)},t.getNthRedoRecordFromTop=function(e){return this.n.getNthFromTop(e=void 0===e?0:e)},t.getNthredoRecordFromBottom=function(e){return this.n.getNthFromBottom(e=void 0===e?0:e)},t.clearUndoStack=function(){this.i.clear()},t.clearRedoStack=function(){this.n.clear()},t.clear=function(){this.clearRedoStack(),this.clearUndoStack()},t.destroy=function(){var e;this.a(),null!==(e=this.e)&&void 0!==e&&e.unregister(this.t)},(0,n.a)([o.W],e.prototype,"handleInputEvent",null),(0,n.a)([o.W],e.prototype,"handleContentWillChange",null),(0,n.a)([o.W],e.prototype,"handleContentChange",null),(0,n.a)([o.W],e.prototype,"performUndo",null),(0,n.a)([o.W],e.prototype,"performRedo",null),(0,n.a)([o.W],e.prototype,"batchedUndo",null),e}()},312745:function(e,t,r){"use strict";r.d(t,{D:function(){return p},a:function(){return c},b:function(){return u},d:function(){return d},f:function(){return f},i:function(){return l},n:function(){return v},o:function(){return g},p:function(){return m},w:function(){return y},x:function(){return E}});var n=r(41792),i=r(26105),o=r(219519);r(15490);var a=function(){function e(e){this.ops=e,this.index=0,this.offset=0}var t=e.prototype;return t.hasNext=function(){return this.peekLength()<1/0},t.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(!t)return{retain:1/0};var r=this.offset,n=c(t);if(e>=n-r?(e=n-r,this.index+=1,this.offset=0):this.offset+=e,l(t))return{delete:e};var i={};return t.attributes&&(i.attributes=t.attributes),u(t)?i.retain=e:d(t)?i.insert=t.insert.substr(r,e):i.insert=t.insert,i},t.peek=function(){return this.ops[this.index]},t.peekLength=function(){return this.ops[this.index]?c(this.ops[this.index])-this.offset:1/0},t.peekType=function(){return this.ops[this.index]?f(this.ops[this.index]):i.HP.RETAIN},t.rest=function(){if(!this.hasNext())return[];if(0===this.offset)return this.ops.slice(this.index);var e=this.offset,t=this.index,r=this.next(),n=this.ops.slice(this.index);return this.offset=e,this.index=t,[r].concat(n)},e}();function s(e){return new a(e)}function c(e){if(l(e))return e.delete;if(u(e))return e.retain;if(d(e))return e.insert.length;if(h(e))return 1;throw Error("op is unknown")}function l(e){return"number"==typeof(null==e?void 0:e.delete)}function u(e){return"number"==typeof(null==e?void 0:e.retain)}function d(e){return"string"==typeof(null==e?void 0:e.insert)}function h(e){return"object"==typeof(null==e?void 0:e.insert)}function f(e){if(l(e))return i.HP.DELETE;if(u(e))return i.HP.RETAIN;if(d(e)||h(e))return i.HP.INSERT;throw Error("op is unknown")}var p=function(){function e(e,t){void 0===e&&(e={}),(t=null!=t?t:Object.keys(e).some(function(t){return e[t]instanceof y}))?this._deltas=e:this._deltas=Object.keys(e).reduce(function(t,r){return t[r]=E(e[r]),t},{})}var t=e.prototype;return Object.defineProperty(t,"deltas",{get:function(){return this._deltas},enumerable:!1,configurable:!0}),t.get=function(e){return this._deltas[e]},t.compose=function(e,t,r){return void 0===t&&(t=!0),void 0===r&&(r=!0),this._call("compose",e,{keepEmptyAttributes:t,immutable:r})},t.concat=function(e){return this._call("concat",e)},t.invert=function(t){var r=new e;if(_(t))r=new e().add(t.zoneId,t);else if(v(t))r=t;else throw Error("DeltaSet invert data is wrong");return this.reduce(function(e,t){var n=r.get(t.zoneId)||t.create({zoneId:t.zoneId}),i=t.invert(n);return e.compose(i)},new e)},t.transform=function(t,r){var n=this;if(void 0===r&&(r=!1),_(t))return t.zoneId in this.deltas?this.deltas[t.zoneId].transform(t,r):t;if(v(t))return new e(t.reduce(function(e,t){return e[t.zoneId]=n.transform(t,r),e},{}));throw Error("DeltaSet call data is wrong")},t.delete=function(e){return delete this._deltas[e],this},t.add=function(e,t){if(_(e)){var r=e.zoneId;this._deltas[r]=e}else{if(!t)return console.error("DeltaSet add delta error, delta is undefined"),this;var r=e;if(t.zoneId!==r)return console.error("DeltaSet add delta error, zoneId is not match"),this;this._deltas[r]=t}return this},t.replace=function(e,t){return this.delete(e).add(t.zoneId,t),this},t._call=function(t,r,n){if(_(r))return this._callDeltaFunc(t,r,n);if(v(r)){var i=new e(this.deltas);return r.forEach(function(e){i=i._callDeltaFunc(t,e,n)}),i}throw Error("DeltaSet call: data: "+r+" is not Delta or DeltaSet")},t._callDeltaFunc=function(t,r,i){var o=Object.assign({keepEmptyAttributes:!0,immutable:!0},i),a=r.zoneId,s=o.immutable?(0,n._)({},this.deltas):this.deltas;if(this.deltas[a])s[a]=this.deltas[a][t](r,o.keepEmptyAttributes);else{var c=r.zoneType;s[a]=r.create({zoneId:a,zoneType:c})[t](r,o.keepEmptyAttributes)}return new e(s,!0)},t.reduce=function(e,t){var r=this;return Object.keys(this._deltas).map(function(e){return r._deltas[e]}).reduce(e,t)},t.forEach=function(e){var t,r;try{for(var i=(0,n.a)(Object.entries(this._deltas)),o=i.next();!o.done;o=i.next()){var a=(0,n.b)(o.value,2),s=a[0],c=a[1];e(c,s)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},e}();function _(e){return Object.values(i.Ak).includes(e.zoneType)}function v(e){return void 0!==e.deltas}function g(e){var t;return!e||(null===(t=null==e?void 0:e.ops)||void 0===t?void 0:t.length)===0}function m(e){if(!e)return!0;var t=e.deltas,r=Object.keys(t);return 0===r.length||!r.some(function(e){return!g(t[e])})}var y=function(){function e(){this.ops=[]}var t=e.prototype;return e.registerCreator=function(t,r){e.creators.set(t,r)},e.getCreator=function(t){return e.creators.get(t)},t.insert=function(e,t,r){if(void 0===r&&(r=!0),"string"==typeof e&&0===e.length)return this;var i={insert:e};return null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(i.attributes=(0,n.s)(t,r)),this.push(i)},t.delete=function(e){return e<=0?this:this.push({delete:e})},t.retain=function(e,t){if(e<=0)return this;var r={retain:e};return null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(r.attributes=(0,n.s)(t)),this.push(r)},t.forEach=function(e){this.ops.forEach(e)},t.eachLine=function(e,t){void 0===t&&(t=i.K5);for(var r=s(this.ops),n=0,o={},a=[];r.hasNext();){if(r.peekType()!==i.HP.INSERT)return;var l=r.peek();l.insert===i.F5&&l.attributes&&l.attributes.lmkr&&(o=l.attributes||{});var u=c(l)-r.peekLength(),d="string"==typeof l.insert?l.insert.indexOf(t,u)-u:-1;if(d<0)a.push(r.next());else{if(a.push(r.next(d+1)),!1===e(this.create({zoneId:this.zoneId,ops:a}),o,n))return;a=[],o={},n+=1}}var h=this.create({zoneId:this.zoneId,ops:a});h.length()>0&&e(h,o,n)},t.push=function(e){if(l(e)&&e.delete<=0)return console.warn("delete op is wrong"),this;if(u(e)&&e.retain<=0)return console.warn("retain op is wrong"),this;if(d(e)&&0===e.insert.length)return console.warn("insert op is wrong"),this;var t,r,i=this.ops.length,a=this.ops[i-1];if(t=e,r=(0,n._)({},t),t.attributes&&(r.attributes=(0,n._)({},t.attributes)),e=r,"object"==typeof a){if(l(e)&&l(a))return this.ops[i-1]={delete:a.delete+e.delete},this;if((0,o.X)(e.attributes,a.attributes)){if(d(e)&&d(a))return this.ops[i-1]={insert:a.insert+e.insert},"object"==typeof e.attributes&&(this.ops[i-1].attributes=e.attributes),this;if(u(e)&&u(a))return this.ops[i-1]={retain:a.retain+e.retain},"object"==typeof e.attributes&&(this.ops[i-1].attributes=e.attributes),this}}return i===this.ops.length?this.ops.push(e):this.ops.splice(i,0,e),this},t.compose=function(e,t){if(void 0===t&&(t=!0),!1===t){var r=e.zoneId,a=e.zoneType;e=e.reduce(function(e,r){return r.insert&&r.attributes&&(r.attributes=(0,n.s)(r.attributes,t)),e.push(r),e},this.create({zoneId:r,zoneType:a}))}var c=s(this.ops),h=s(e.ops),f=[],p=h.peek();if(null!=p&&u(p)&&null==p.attributes){for(var _=p.retain;c.peekType()===i.HP.INSERT&&c.peekLength()<=_;)_-=c.peekLength(),f.push(c.next());p.retain-_>0&&h.next(p.retain-_)}for(var v=this.create({zoneId:this.zoneId,zoneType:this.zoneType,ops:f});c.hasNext()||h.hasNext();)if(h.peekType()===i.HP.INSERT)v.push(h.next());else if(c.peekType()===i.HP.DELETE)v.push(c.next());else{var g=Math.min(c.peekLength(),h.peekLength()),m=c.next(g),y=h.next(g);if(l(y)&&d(m));else if(l(y)&&u(m))v.push(y);else if(u(y)){var E={};u(m)?E.retain=g:E.insert=m.insert;var A=(0,n.c)(m.attributes,y.attributes,t);if(A&&(E.attributes=A),v.push(E),!h.hasNext()&&(0,o.X)(v.ops[v.ops.length-1],E)){var b=this.create({zoneId:this.zoneId,zoneType:this.zoneType,ops:c.rest()});return v.concat(b).chop()}}}return v.chop()},t.concat=function(e){var t=this.create({zoneId:this.zoneId,zoneType:this.zoneType,ops:this.ops.slice()});return e.ops.length>0&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t},t.length=function(){return this.reduce(function(e,t){return e+c(t)},0)},t.reduce=function(e,t){return this.ops.reduce(e,t)},t.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},t.transform=function(e,t){if(void 0===t&&(t=!1),t=!!t,"number"==typeof e)return this.transformPosition(e,t);for(var r=s(this.ops),o=s(e.ops),a=this.create({zoneId:this.zoneId,zoneType:this.zoneType});r.hasNext()||o.hasNext();)if(r.peekType()===i.HP.INSERT&&(t||o.peekType()!==i.HP.INSERT))a.retain(c(r.next()));else if(o.peekType()===i.HP.INSERT)a.push(o.next());else{var u=Math.min(r.peekLength(),o.peekLength()),d=r.next(u),h=o.next(u);if(l(d))continue;l(h)?a.push(h):a.retain(u,(0,n.t)(d.attributes,h.attributes,t))}return a.chop()},t.transformPosition=function(e,t){void 0===t&&(t=!1),t=!!t;for(var r=s(this.ops),n=0;r.hasNext()&&n<=e;){var i=r.peekLength(),o=r.peekType();if(r.next(),"delete"===o){e-=Math.min(i,e-n);continue}"insert"===o&&(n<e||!t)&&(e+=i),n+=i}return e},t.slice=function(e,t){void 0===e&&(e=0),void 0===t&&(t=1/0);for(var r=[],n=s(this.ops),i=0;i<t&&n.hasNext();){var o=void 0;i<e?o=n.next(e-i):(o=n.next(t-i),r.push(o)),i+=c(o)}return this.create({zoneId:this.zoneId,zoneType:this.zoneType,ops:r})},t.invert=function(e){var t=this.create({zoneId:this.zoneId,zoneType:this.zoneType});return this.reduce(function(r,i){if(d(i)||h(i))t.delete(c(i));else if(u(i)&&!i.attributes)return t.retain(i.retain),r+i.retain;else if(l(i)||u(i)&&i.attributes){var o=i.delete||i.retain;return e.slice(r,r+o).forEach(function(e){l(i)?t.push(e):u(i)&&i.attributes&&t.retain(c(e),(0,n.i)(i.attributes,e.attributes))}),r+o}return r},0),t.chop()},e.creators=new Map,e}();function E(e){var t=y.getCreator(e.zoneType);return t||console.error("DeltaCreator undefiend",e.zoneType),new t(e)}},129417:function(e,t,r){"use strict";r.d(t,{f:function(){return i}});var n=r(458612);function i(e){return void 0===e&&(e={}),Object.keys(e).every(function(e){return n.$.includes(e)})}r(861441),r(649888)},113961:function(e,t,r){"use strict";r.d(t,{A:function(){return i}});var n=r(86021);function i(e){var t,r,i={};try{for(var o=(0,n._)(e),a=o.next();!a.done;a=o.next()){var s=a.value;i[s[0]]=s[1]}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return i}},652744:function(e,t,r){"use strict";var n,i,o,a;function s(e){return e.type===n.literal}function c(e){return e.type===n.argument}function l(e){return e.type===n.number}function u(e){return e.type===n.date}function d(e){return e.type===n.time}function h(e){return e.type===n.select}function f(e){return e.type===n.plural}function p(e){return e.type===n.pound}function _(e){return e.type===n.tag}function v(e){return!!(e&&"object"==typeof e&&e.type===i.number)}function g(e){return!!(e&&"object"==typeof e&&e.type===i.dateTime)}r.d(t,{HI:function(){return _},Ii:function(){return g},Jo:function(){return f},O4:function(){return s},VG:function(){return c},Wh:function(){return v},Wi:function(){return h},aV:function(){return i},pe:function(){return d},rp:function(){return u},uf:function(){return l},wD:function(){return n},yx:function(){return p}}),(o=n||(n={}))[o.literal=0]="literal",o[o.argument=1]="argument",o[o.number=2]="number",o[o.date=3]="date",o[o.time=4]="time",o[o.select=5]="select",o[o.plural=6]="plural",o[o.pound=7]="pound",o[o.tag=8]="tag",(a=i||(i={}))[a.number=0]="number",a[a.dateTime=1]="dateTime"},592930:function(e,t,r){"use strict";r.d(t,{JO:()=>o,zv:()=>a});let n=r("218571"),i=r("140445");var o=(0,n.createContext)({});(0,n.createContext)({});var a=function(e){var t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],r=arguments.length>2?arguments[2]:void 0;return{loaderManager:(0,i.K)({}),runner:e,isBrowser:t,routeManifest:r||"undefined"!=typeof window&&window._MODERNJS_ROUTE_MANIFEST}}},198884:function(e,t,r){"use strict";r.d(t,{Z:function(){return D}});var n,i,o,a,s,c,l,u,d,h,f,p,_,v,g,m,y=r(50906),E=r.n(y),A=r(56052),b=r(698698),T=r(904404),S=Object.defineProperty,C=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,R=(e,t,r)=>t in e?S(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,k=(e,t)=>{for(var r in t||(t={}))P.call(t,r)&&R(e,r,t[r]);if(C)for(var r of C(t))w.call(t,r)&&R(e,r,t[r]);return e},L=(e,t)=>{var r={};for(var n in e)P.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&C)for(var n of C(e))0>t.indexOf(n)&&w.call(e,n)&&(r[n]=e[n]);return r},I=(e,t,r)=>new Promise((n,i)=>{var o=e=>{try{s(r.next(e))}catch(e){i(e)}},a=e=>{try{s(r.throw(e))}catch(e){i(e)}},s=e=>e.done?n(e.value):Promise.resolve(e.value).then(o,a);s((r=r.apply(e,t)).next())});let O=Object.keys(A.tR).reduce((e,t)=>(e[A.tR[t]]={},e),{});class x extends T.Z{constructor(){super(...arguments),this.addEventListener=(e,t,r)=>{if(b.Z.info("[DefaultEventPlugin]: addEventListener"),this._registeredCallbackMap[e][t]){b.Z.error("[DefaultEventPlugin]: addEventListener - id for this event callback has been used");return}this._registeredCallbackMap[e][t]=r},this.removeEventListener=(e,t)=>{b.Z.info("[DefaultEventPlugin]: removeEventListener"),this._registeredCallbackMap[e][t]&&delete this._registeredCallbackMap[e][t]},this[n]=e=>{b.Z.info(`[DefaultEventPlugin]: ${A.tR.beforeFetchUserInfo}`),this._triggerEvent(A.tR.beforeFetchUserInfo,e)},this[i]=e=>{b.Z.info(`[DefaultEventPlugin]: ${A.tR.afterFetchUserInfo}`),this._triggerEvent(A.tR.afterFetchUserInfo,e)},this[o]=e=>{b.Z.info(`[DefaultEventPlugin]: ${A.tR.beforeFetchConsentData}`),this._triggerEvent(A.tR.beforeFetchConsentData,e)},this[a]=e=>{b.Z.info(`[DefaultEventPlugin]: ${A.tR.afterFetchConsentData}`),this._triggerEvent(A.tR.afterFetchConsentData,e)},this[s]=e=>{b.Z.info(`[DefaultEventPlugin]: ${A.tR.beforeFetchNotificationData}`),this._triggerEvent(A.tR.beforeFetchNotificationData,e)},this[c]=e=>{b.Z.info(`[DefaultEventPlugin]: ${A.tR.afterFetchNotificationData}`),this._triggerEvent(A.tR.afterFetchNotificationData,e)},this[l]=e=>{b.Z.info(`[DefaultEventPlugin]: ${A.tR.beforeUpdateRecords}`),this._triggerEvent(A.tR.beforeUpdateRecords,e)},this[u]=e=>{b.Z.info(`[DefaultEventPlugin]: ${A.tR.afterUpdateRecords}`),this._triggerEvent(A.tR.afterUpdateRecords,e)},this[d]=e=>{b.Z.info(`[DefaultEventPlugin]: ${A.tR.beforeNotify}`),this._triggerEvent(A.tR.beforeNotify,e)},this[h]=e=>{b.Z.info(`[DefaultEventPlugin]: ${A.tR.afterNotify}`),this._triggerEvent(A.tR.afterNotify,e)},this[f]=e=>{b.Z.info(`[DefaultEventPlugin]: ${A.tR.beforeRemoveNotification}`),this._triggerEvent(A.tR.beforeRemoveNotification,e)},this[p]=e=>{b.Z.info(`[DefaultEventPlugin]: ${A.tR.afterRemoveNotification}`),this._triggerEvent(A.tR.afterRemoveNotification,e)},this[_]=e=>{b.Z.info(`[DefaultEventPlugin]: ${A.tR.beforeThirdPartyApprove}`),this._triggerEvent(A.tR.beforeThirdPartyApprove,e)},this[v]=e=>{b.Z.info(`[DefaultEventPlugin]: ${A.tR.afterThirdPartyApprove}`),this._triggerEvent(A.tR.afterThirdPartyApprove,e)},this[g]=e=>{b.Z.info(`[DefaultEventPlugin]: ${A.tR.beforeThirdPartyReject}`),this._triggerEvent(A.tR.beforeThirdPartyReject,e)},this[m]=e=>{b.Z.info(`[DefaultEventPlugin]: ${A.tR.afterThirdPartyReject}`),this._triggerEvent(A.tR.afterThirdPartyReject,e)},this.destruct=()=>{Object.keys(A.tR).forEach(e=>{let t=A.tR[e];Object.keys(this._registeredCallbackMap[t]).forEach(e=>{delete this._registeredCallbackMap[t][e]}),this._registeredCallbackMap[t]={}})}}init(){this._registeredCallbackMap=E()(O)}_triggerEvent(e,t){return I(this,null,function*(){b.Z.info("[DefaultEventPlugin]: triggerEvent");let r=[];Object.values(this._registeredCallbackMap[e]).forEach(e=>{if("function"==typeof e){let{plugin:n}=t,i=L(t,["plugin"]);r.push(e(k({plugin:n},E()(i))))}});try{yield Promise.all(r)}catch(e){b.Z.warn("[DefaultEventPlugin]: plugin callback error",e)}})}}n=A.tR.beforeFetchUserInfo,i=A.tR.afterFetchUserInfo,o=A.tR.beforeFetchConsentData,a=A.tR.afterFetchConsentData,s=A.tR.beforeFetchNotificationData,c=A.tR.afterFetchNotificationData,l=A.tR.beforeUpdateRecords,u=A.tR.afterUpdateRecords,d=A.tR.beforeNotify,h=A.tR.afterNotify,f=A.tR.beforeRemoveNotification,p=A.tR.afterRemoveNotification,_=A.tR.beforeThirdPartyApprove,v=A.tR.afterThirdPartyApprove,g=A.tR.beforeThirdPartyReject,m=A.tR.afterThirdPartyReject;var D=x},274606:function(){},573258:function(){},975516:function(){},631303:function(){},302892:function(){},725306:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n={scheduleResult:"scheduleResult-gn52La",scheduleResultButton:"scheduleResultButton-I_h5tM",scheduleResultBodyLeft:"scheduleResultBodyLeft-TpRvHj",scheduleResultBodyRight:"scheduleResultBodyRight-haGINg",batchPublishResultModal:"batchPublishResultModal-egb5TI",batchResult:"batchResult-vooBxW",failedReasonList:"failedReasonList-KHLds8",failedWrap:"failedWrap-TrV6fx",icon:"icon-RvcB8X",failedReason:"failedReason-P1gmS7",action:"action-BkHV39"}},383386:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n={"automatic-generation":"automatic-generation-J1RJW6",automaticGeneration:"automatic-generation-J1RJW6",box:"box-eUcdcf","generating-ball":"generating-ball-cEt3jH",generatingBall:"generating-ball-cEt3jH","generating-progress":"generating-progress-e6NQmH",generatingProgress:"generating-progress-e6NQmH","progress-text":"progress-text-tIjs0e",progressText:"progress-text-tIjs0e","one-digit":"one-digit-g7w4Xe",oneDigit:"one-digit-g7w4Xe","percent-text":"percent-text-MUHSXj",percentText:"percent-text-MUHSXj","generating-text":"generating-text-byvW6j",generatingText:"generating-text-byvW6j","tip-text":"tip-text-Bnkoie",tipText:"tip-text-Bnkoie","cancel-button":"cancel-button-u0BM65",cancelButton:"cancel-button-u0BM65","cancel-modal":"cancel-modal-hUaPTW",cancelModal:"cancel-modal-hUaPTW",title:"title-eIchNI","lv-modal-footer":"lv-modal-footer-Oz9zIp",lvModalFooter:"lv-modal-footer-Oz9zIp","lv-modal-header":"lv-modal-header-TDAmmU",lvModalHeader:"lv-modal-header-TDAmmU","failed-icon":"failed-icon-ah2tT5",failedIcon:"failed-icon-ah2tT5","failed-text":"failed-text-kiYa5x",failedText:"failed-text-kiYa5x","failed-button-container":"failed-button-container-knhcyN",failedButtonContainer:"failed-button-container-knhcyN"}},542739:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n={"lv-tools-player-controls":"lv-tools-player-controls-JGAq9S",lvToolsPlayerControls:"lv-tools-player-controls-JGAq9S","controls-left":"controls-left-h87B9j",controlsLeft:"controls-left-h87B9j","controls-right":"controls-right-vDX0px",controlsRight:"controls-right-vDX0px",disabled:"disabled-RCk888",dark:"dark-ks76M_","lv-tools-player-controls__play-button":"lv-tools-player-controls__play-button-DlNhaK",lvToolsPlayerControlsPlayButton:"lv-tools-player-controls__play-button-DlNhaK","lv-tools-player-controls__current-time":"lv-tools-player-controls__current-time-kbHj3R",lvToolsPlayerControlsCurrentTime:"lv-tools-player-controls__current-time-kbHj3R","lv-tools-player-controls__time-divider":"lv-tools-player-controls__time-divider-suPPGB",lvToolsPlayerControlsTimeDivider:"lv-tools-player-controls__time-divider-suPPGB","lv-tools-player-controls__duration":"lv-tools-player-controls__duration-N8kGs9",lvToolsPlayerControlsDuration:"lv-tools-player-controls__duration-N8kGs9","lv-tools-player-controls__fullscreen":"lv-tools-player-controls__fullscreen-cKfYlf",lvToolsPlayerControlsFullscreen:"lv-tools-player-controls__fullscreen-cKfYlf",light:"light-Z7Ihu4","lv-tools-player-controls__volume":"lv-tools-player-controls__volume-aVp2GL",lvToolsPlayerControlsVolume:"lv-tools-player-controls__volume-aVp2GL","lv-tools-player-controls__volume-progress-bg":"lv-tools-player-controls__volume-progress-bg-m9nbEr",lvToolsPlayerControlsVolumeProgressBg:"lv-tools-player-controls__volume-progress-bg-m9nbEr","lv-tools-player-controls__volume-progress-current":"lv-tools-player-controls__volume-progress-current-NMkwhy",lvToolsPlayerControlsVolumeProgressCurrent:"lv-tools-player-controls__volume-progress-current-NMkwhy",fullscreen:"fullscreen-XAzuog",embed:"embed-aTrzjP","lv-tools-player-controls__progress":"lv-tools-player-controls__progress-KYZ3_Z",lvToolsPlayerControlsProgress:"lv-tools-player-controls__progress-KYZ3_Z","lv-tools-player-controls__progress__bg":"lv-tools-player-controls__progress__bg-GTU5rK",lvToolsPlayerControlsProgressBg:"lv-tools-player-controls__progress__bg-GTU5rK","lv-tools-player-controls__progress__current":"lv-tools-player-controls__progress__current-NN0yGo",lvToolsPlayerControlsProgressCurrent:"lv-tools-player-controls__progress__current-NN0yGo",loading:"loading-cu10Ep","lv-tools-player-controls__time":"lv-tools-player-controls__time-XxoTl2",lvToolsPlayerControlsTime:"lv-tools-player-controls__time-XxoTl2","lv-tools-player-controls__progress-container":"lv-tools-player-controls__progress-container-vlkbsN",lvToolsPlayerControlsProgressContainer:"lv-tools-player-controls__progress-container-vlkbsN",active:"active-uLDBYy","lv-tools-player-controls__progress__buffer":"lv-tools-player-controls__progress__buffer-gdcZXH",lvToolsPlayerControlsProgressBuffer:"lv-tools-player-controls__progress__buffer-gdcZXH","lv-tools-player-controls__progress__handler":"lv-tools-player-controls__progress__handler-X2uOfX",lvToolsPlayerControlsProgressHandler:"lv-tools-player-controls__progress__handler-X2uOfX","progress-light":"progress-light-btd84S",progressLight:"progress-light-btd84S","lv-tools-player-controls__progress__tooltip-anchor":"lv-tools-player-controls__progress__tooltip-anchor-wxMdNx",lvToolsPlayerControlsProgressTooltipAnchor:"lv-tools-player-controls__progress__tooltip-anchor-wxMdNx","lv-tools-player-controls__volume__popup":"lv-tools-player-controls__volume__popup-xIYMgu",lvToolsPlayerControlsVolumePopup:"lv-tools-player-controls__volume__popup-xIYMgu","lv-tools-player-controls__volume-progress":"lv-tools-player-controls__volume-progress-Xm9Ue_",lvToolsPlayerControlsVolumeProgress:"lv-tools-player-controls__volume-progress-Xm9Ue_","lv-tools-player-controls__volume__text":"lv-tools-player-controls__volume__text-AI3aMU",lvToolsPlayerControlsVolumeText:"lv-tools-player-controls__volume__text-AI3aMU","lv-tools-player-controls__definition":"lv-tools-player-controls__definition-QQV_Ap",lvToolsPlayerControlsDefinition:"lv-tools-player-controls__definition-QQV_Ap","lv-tools-player-controls__definition-popup":"lv-tools-player-controls__definition-popup-o6bjwr",lvToolsPlayerControlsDefinitionPopup:"lv-tools-player-controls__definition-popup-o6bjwr","lv-tools-player-controls__definition-container":"lv-tools-player-controls__definition-container-I1S0nv",lvToolsPlayerControlsDefinitionContainer:"lv-tools-player-controls__definition-container-I1S0nv","lv-tools-player-controls__definition-item":"lv-tools-player-controls__definition-item-zmYVyS",lvToolsPlayerControlsDefinitionItem:"lv-tools-player-controls__definition-item-zmYVyS","lv-tools-player-controls__definition-icon":"lv-tools-player-controls__definition-icon-psDiwc",lvToolsPlayerControlsDefinitionIcon:"lv-tools-player-controls__definition-icon-psDiwc","lv-tools-player-controls__definition-text":"lv-tools-player-controls__definition-text-KI22NT",lvToolsPlayerControlsDefinitionText:"lv-tools-player-controls__definition-text-KI22NT"}},375055:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n={"label-wrap":"label-wrap-chW9Z2",labelWrap:"label-wrap-chW9Z2",avatar:"avatar-Dd0Hi4","icon-language":"icon-language-SVzbH1",iconLanguage:"icon-language-SVzbH1","forbidden-switch":"forbidden-switch-Eh8IyA",forbiddenSwitch:"forbidden-switch-Eh8IyA","user-info-item":"user-info-item-PQRwfI",userInfoItem:"user-info-item-PQRwfI","user-info-autocut":"user-info-autocut-WCWURd",userInfoAutocut:"user-info-autocut-WCWURd","user-info-autocut-detail":"user-info-autocut-detail-AMNKTL",userInfoAutocutDetail:"user-info-autocut-detail-AMNKTL","detail-item":"detail-item-uQ5wCq",detailItem:"detail-item-uQ5wCq","slideDynamicOrigin-enter-done":"slideDynamicOrigin-enter-done-uobz9t",slideDynamicOriginEnterDone:"slideDynamicOrigin-enter-done-uobz9t","sub-menu-item":"sub-menu-item-b_U6Yx",subMenuItem:"sub-menu-item-b_U6Yx","lang-dropdown-item":"lang-dropdown-item-P_1XMc",langDropdownItem:"lang-dropdown-item-P_1XMc","lang-item":"lang-item-qgtKq2",langItem:"lang-item-qgtKq2","check-icon-wrap":"check-icon-wrap-_VM22N",checkIconWrap:"check-icon-wrap-_VM22N",checked:"checked-zZHgdQ"}},524514:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n={"avatar-wrap":"avatar-wrap-fOD9n4",avatarWrap:"avatar-wrap-fOD9n4",avatar:"avatar-YO4jyD","placeholder-sdk":"placeholder-sdk-AWqhNo",placeholderSdk:"placeholder-sdk-AWqhNo","lv-btn-primary":"lv-btn-primary-lte9od",lvBtnPrimary:"lv-btn-primary-lte9od","sign-up-btn":"sign-up-btn-EQB21c",signUpBtn:"sign-up-btn-EQB21c"}},935673:function(){},205382:function(){},945462:function(){},321843:function(){},642470:function(){},234329:function(e,t,r){"use strict";var n=r(211996);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;if(r)o=r(t);else if(n.isURLSearchParams(t))o=t.toString();else{var o,a=[];n.forEach(t,function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),a.push(i(t)+"="+i(e))}))}),o=a.join("&")}if(o){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},137652:function(e){e.exports=null},914028:function(e,t,r){"use strict";r.d(t,{Z:function(){return es}});var n=r(499845),i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o=[["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)$/],["edge",/Edge\/([0-9\._]+)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+)\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["safari",/Version\/([0-9\._]+).*Safari/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/]],a=["Windows Phone","Android","CentOS",{name:"Chrome OS",pattern:"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "],s={"10.0":"10","6.4":"10 Technical Preview","6.3":"8.1","6.2":"8","6.1":"Server 2008 R2 / 7","6.0":"Server 2008 / Vista","5.2":"Server 2003 / XP 64-bit","5.1":"XP","5.01":"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"},c=RegExp("(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od|ad)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino","i"),l=RegExp("1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|k\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-","i"),u=function(){function e(e,t,r){this.navigator=t,this.process=r,this.userAgent=e||(this.navigator?t.userAgent||t.vendor:"")}return e.prototype.detect=function(){if(this.process&&!this.userAgent){var e=this.process.version.slice(1).split(".").slice(0,3),t=Array.prototype.slice.call(e,1).join("")||"0";return{name:"node",version:e.join("."),versionNumber:parseFloat(e[0]+"."+t),mobile:!1,os:this.process.platform}}return this.userAgent||this.handleMissingError(),i({},this.checkBrowser(),this.checkMobile(),this.checkOs())},e.prototype.checkBrowser=function(){var e=this;return o.filter(function(t){return t[1].test(e.userAgent)}).map(function(t){var r=t[1].exec(e.userAgent),n=r&&r[1].split(/[._]/).slice(0,3),i=Array.prototype.slice.call(n,1).join("")||"0";return n&&n.length<3&&Array.prototype.push.apply(n,1===n.length?[0,0]:[0]),{name:String(t[0]),version:n.join("."),versionNumber:Number(n[0]+"."+i)}}).shift()},e.prototype.checkMobile=function(){var e=this.userAgent.substr(0,4);return{mobile:c.test(this.userAgent)||l.test(e)}},e.prototype.checkOs=function(){var e=this;return a.map(function(t){var r=t.name||t,n=e.getOsPattern(t);return{name:r,pattern:n,value:RegExp("\\b"+n.replace(/([ -])(?!$)/g,"$1?")+"(?:x?[\\d._]+|[ \\w.]*)","i").exec(e.userAgent)}}).filter(function(e){return e.value}).map(function(e){var t,r=e.value[0]||"";return e.pattern&&e.name&&/^Win/i.test(r)&&!/^Windows Phone /i.test(r)&&(t=s[r.replace(/[^\d.]/g,"")])&&(r="Windows "+t),e.pattern&&e.name&&(r=r.replace(RegExp(e.pattern,"i"),e.name)),r=r.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0].trim(),{os:r=/^(?:webOS|i(?:OS|P))/.test(r)?r:r.charAt(0).toUpperCase()+r.slice(1)}}).shift()},e.prototype.getOsPattern=function(e){return("string"==typeof e?e:void 0)||e.pattern||e.name},e.prototype.handleMissingError=function(){throw Error("Please give user-agent.\n> browser(navigator.userAgent or res.headers['user-agent']).")},e}();function d(e,t){return e(t={exports:{}},t.exports),t.exports}var h=d(function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)}),f=d(function(e){var t=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=t)});f.version;var p=function(e){return"object"==typeof e?null!==e:"function"==typeof e},_=function(e){if(!p(e))throw TypeError(e+" is not an object!");return e},v=function(e){try{return!!e()}catch(e){return!0}},g=!v(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),m=h.document,y=p(m)&&p(m.createElement),E=!g&&!v(function(){return 7!=Object.defineProperty(y?m.createElement("div"):{},"a",{get:function(){return 7}}).a}),A=function(e,t){var r,n;if(!p(e))return e;if(t&&"function"==typeof(r=e.toString)&&!p(n=r.call(e))||"function"==typeof(r=e.valueOf)&&!p(n=r.call(e))||!t&&"function"==typeof(r=e.toString)&&!p(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")},b=Object.defineProperty,T={f:g?Object.defineProperty:function(e,t,r){if(_(e),t=A(t,!0),_(r),E)try{return b(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},S=g?function(e,t,r){return T.f(e,t,{enumerable:!1,configurable:!0,writable:!0,value:r})}:function(e,t,r){return e[t]=r,e},C={}.hasOwnProperty,P=function(e,t){return C.call(e,t)},w=0,R=Math.random(),k=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++w+R).toString(36))},L=d(function(e){var t=k("src"),r="toString",n=Function[r],i=(""+n).split(r);f.inspectSource=function(e){return n.call(e)},(e.exports=function(e,r,n,o){var a="function"==typeof n;a&&(P(n,"name")||S(n,"name",r)),e[r]!==n&&(a&&(P(n,t)||S(n,t,e[r]?""+e[r]:i.join(String(r)))),e===h?e[r]=n:o?e[r]?e[r]=n:S(e,r,n):(delete e[r],S(e,r,n)))})(Function.prototype,r,function(){return"function"==typeof this&&this[t]||n.call(this)})}),I=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e},O=function(e,t,r){if(I(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}},x="prototype",D=function(e,t,r){var n,i,o,a,s=e&D.F,c=e&D.G,l=e&D.S,u=e&D.P,d=e&D.B,p=c?h:l?h[t]||(h[t]={}):(h[t]||{})[x],_=c?f:f[t]||(f[t]={}),v=_[x]||(_[x]={});for(n in c&&(r=t),r)o=((i=!s&&p&&void 0!==p[n])?p:r)[n],a=d&&i?O(o,h):u&&"function"==typeof o?O(Function.call,o):o,p&&L(p,n,o,e&D.U),_[n]!=o&&S(_,n,a),u&&v[n]!=o&&(v[n]=o)};h.core=f,D.F=1,D.G=2,D.S=4,D.P=8,D.B=16,D.W=32,D.U=64,D.R=128;var M={}.toString,N=function(e){return M.call(e).slice(8,-1)},H=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==N(e)?e.split(""):Object(e)},F=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e},U=Math.ceil,j=Math.floor,B=Math.min,G=function(e){var t;return e>0?B(isNaN(t=+(t=e))?0:(t>0?j:U)(t),9007199254740991):0},Z=Array.isArray||function(e){return"Array"==N(e)},W=d(function(e){var t="__core-js_shared__",r=h[t]||(h[t]={});(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:f.version,mode:"global",copyright:"\xa9 2018 Denis Pushkarev (zloirock.ru)"})}),V=d(function(e){var t=W("wks"),r=h.Symbol,n="function"==typeof r;(e.exports=function(e){return t[e]||(t[e]=n&&r[e]||(n?r:k)("Symbol."+e))}).store=t})("species"),z=function(e){var t;return Z(e)&&("function"==typeof(t=e.constructor)&&(t===Array||Z(t.prototype))&&(t=void 0),p(t)&&null===(t=t[V])&&(t=void 0)),void 0===t?Array:t},Y=function(e,t){return new(z(e))(t)},X=function(e,t){var r=1==e,n=2==e,i=3==e,o=4==e,a=6==e,s=5==e||a,c=t||Y;return function(t,l,u){for(var d,h,f=Object(F(t)),p=H(f),_=O(l,u,3),v=G(p.length),g=0,m=r?c(t,v):n?c(t,0):void 0;v>g;g++)if((s||g in p)&&(h=_(d=p[g],g,f),e)){if(r)m[g]=h;else if(h)switch(e){case 3:return!0;case 5:return d;case 6:return g;case 2:m.push(d)}else if(o)return!1}return a?-1:i||o?o:m}},K=function(e,t){return!!e&&v(function(){t?e.call(null,function(){},1):e.call(null)})},J=X(2);D(D.P+!K([].filter,!0)*D.F,"Array",{filter:function(e){return J(this,e,arguments[1])}}),f.Array.filter;var q=X(1);D(D.P+!K([].map,!0)*D.F,"Array",{map:function(e){return q(this,e,arguments[1])}}),f.Array.map;var Q="	\n\v\f\r \xa0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF",$="["+Q+"]",ee="\u200B\x85",et=RegExp("^"+$+$+"*"),er=RegExp($+$+"*$"),en=function(e,t,r){var n={},i=v(function(){return!!Q[e]()||ee[e]()!=ee}),o=n[e]=i?t(ei):Q[e];r&&(n[r]=o),D(D.P+D.F*i,"String",n)},ei=en.trim=function(e,t){return e=String(F(e)),1&t&&(e=e.replace(et,"")),2&t&&(e=e.replace(er,"")),e};en("trim",function(e){return function(){return e(this,3)}}),f.String.trim;var eo="undefined"!=typeof window?window.navigator:void 0,ea=void 0!==n?n:void 0;let es=function(e){return new u(e,eo,ea).detect()}},420033:function(e,t){"use strict";/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */t.parse=function(e,t){if("string"!=typeof e)throw TypeError("argument str must be a string");for(var r={},n=(t||{}).decode||i,o=0;o<e.length;){var a=e.indexOf("=",o);if(-1===a)break;var s=e.indexOf(";",o);if(-1===s)s=e.length;else if(s<a){o=e.lastIndexOf(";",a-1)+1;continue}var c=e.slice(o,a).trim();if(void 0===r[c]){var l=e.slice(a+1,s).trim();34===l.charCodeAt(0)&&(l=l.slice(1,-1)),r[c]=function(e,t){try{return t(e)}catch(t){return e}}(l,n)}o=s+1}return r},t.serialize=function(e,t,i){var a=i||{},s=a.encode||o;if("function"!=typeof s)throw TypeError("option encode is invalid");if(!n.test(e))throw TypeError("argument name is invalid");var c=s(t);if(c&&!n.test(c))throw TypeError("argument val is invalid");var l=e+"="+c;if(null!=a.maxAge){var u=a.maxAge-0;if(isNaN(u)||!isFinite(u))throw TypeError("option maxAge is invalid");l+="; Max-Age="+Math.floor(u)}if(a.domain){if(!n.test(a.domain))throw TypeError("option domain is invalid");l+="; Domain="+a.domain}if(a.path){if(!n.test(a.path))throw TypeError("option path is invalid");l+="; Path="+a.path}if(a.expires){var d=a.expires;if("[object Date]"!==r.call(d)&&!(d instanceof Date)||isNaN(d.valueOf()))throw TypeError("option expires is invalid");l+="; Expires="+d.toUTCString()}if(a.httpOnly&&(l+="; HttpOnly"),a.secure&&(l+="; Secure"),a.priority)switch("string"==typeof a.priority?a.priority.toLowerCase():a.priority){case"low":l+="; Priority=Low";break;case"medium":l+="; Priority=Medium";break;case"high":l+="; Priority=High";break;default:throw TypeError("option priority is invalid")}if(a.sameSite)switch("string"==typeof a.sameSite?a.sameSite.toLowerCase():a.sameSite){case!0:case"strict":l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"none":l+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return l};var r=Object.prototype.toString,n=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function i(e){return -1!==e.indexOf("%")?decodeURIComponent(e):e}function o(e){return encodeURIComponent(e)}},622647:function(e,t,r){var n;n=function(e){return function(){if("function"==typeof ArrayBuffer){var t=e.lib.WordArray,r=t.init;(t.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var t=e.byteLength,n=[],i=0;i<t;i++)n[i>>>2]|=e[i]<<24-i%4*8;r.call(this,n,t)}else r.apply(this,arguments)}).prototype=t}}(),e.lib.WordArray},e.exports=n(r(359302))},483898:function(e,t,r){var n;n=function(e){var t,r,n,i,o,a,s,c,l,u,d;return t=Math,n=(r=e.lib).WordArray,i=r.Hasher,o=e.x64.Word,a=e.algo,s=[],c=[],l=[],function(){for(var e=1,t=0,r=0;r<24;r++){s[e+5*t]=(r+1)*(r+2)/2%64;var n=t%5,i=(2*e+3*t)%5;e=n,t=i}for(var e=0;e<5;e++)for(var t=0;t<5;t++)c[e+5*t]=t+(2*e+3*t)%5*5;for(var a=1,u=0;u<24;u++){for(var d=0,h=0,f=0;f<7;f++){if(1&a){var p=(1<<f)-1;p<32?h^=1<<p:d^=1<<p-32}128&a?a=a<<1^113:a<<=1}l[u]=o.create(d,h)}}(),u=[],function(){for(var e=0;e<25;e++)u[e]=o.create()}(),d=a.SHA3=i.extend({cfg:i.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new o.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var r=this._state,n=this.blockSize/2,i=0;i<n;i++){var o=e[t+2*i],a=e[t+2*i+1];o=(o<<8|o>>>24)&16711935|(o<<24|o>>>8)&4278255360,a=(a<<8|a>>>24)&16711935|(a<<24|a>>>8)&4278255360;var d=r[i];d.high^=a,d.low^=o}for(var h=0;h<24;h++){for(var f=0;f<5;f++){for(var p=0,_=0,v=0;v<5;v++){var d=r[f+5*v];p^=d.high,_^=d.low}var g=u[f];g.high=p,g.low=_}for(var f=0;f<5;f++)for(var m=u[(f+4)%5],y=u[(f+1)%5],E=y.high,A=y.low,p=m.high^(E<<1|A>>>31),_=m.low^(A<<1|E>>>31),v=0;v<5;v++){var d=r[f+5*v];d.high^=p,d.low^=_}for(var b=1;b<25;b++){var p,_,d=r[b],T=d.high,S=d.low,C=s[b];C<32?(p=T<<C|S>>>32-C,_=S<<C|T>>>32-C):(p=S<<C-32|T>>>64-C,_=T<<C-32|S>>>64-C);var P=u[c[b]];P.high=p,P.low=_}var w=u[0],R=r[0];w.high=R.high,w.low=R.low;for(var f=0;f<5;f++)for(var v=0;v<5;v++){var b=f+5*v,d=r[b],k=u[b],L=u[(f+1)%5+5*v],I=u[(f+2)%5+5*v];d.high=k.high^~L.high&I.high,d.low=k.low^~L.low&I.low}var d=r[0],O=l[h];d.high^=O.high,d.low^=O.low}},_doFinalize:function(){var e=this._data,r=e.words;this._nDataBytes;var i=8*e.sigBytes,o=32*this.blockSize;r[i>>>5]|=1<<24-i%32,r[(t.ceil((i+1)/o)*o>>>5)-1]|=128,e.sigBytes=4*r.length,this._process();for(var a=this._state,s=this.cfg.outputLength/8,c=s/8,l=[],u=0;u<c;u++){var d=a[u],h=d.high,f=d.low;h=(h<<8|h>>>24)&16711935|(h<<24|h>>>8)&4278255360,f=(f<<8|f>>>24)&16711935|(f<<24|f>>>8)&4278255360,l.push(f),l.push(h)}return new n.init(l,s)},clone:function(){for(var e=i.clone.call(this),t=e._state=this._state.slice(0),r=0;r<25;r++)t[r]=t[r].clone();return e}}),e.SHA3=i._createHelper(d),e.HmacSHA3=i._createHmacHelper(d),e.SHA3},e.exports=n(r(359302),r(80640))},470335:function(e,t,r){var n;n=function(e){return function(){var t=e.lib,r=t.WordArray,n=t.BlockCipher,i=e.algo,o=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],a=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],s=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],c=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],l=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],u=i.DES=n.extend({_doReset:function(){for(var e=this._key.words,t=[],r=0;r<56;r++){var n=o[r]-1;t[r]=e[n>>>5]>>>31-n%32&1}for(var i=this._subKeys=[],c=0;c<16;c++){for(var l=i[c]=[],u=s[c],r=0;r<24;r++)l[r/6|0]|=t[(a[r]-1+u)%28]<<31-r%6,l[4+(r/6|0)]|=t[28+(a[r+24]-1+u)%28]<<31-r%6;l[0]=l[0]<<1|l[0]>>>31;for(var r=1;r<7;r++)l[r]=l[r]>>>(r-1)*4+3;l[7]=l[7]<<5|l[7]>>>27}for(var d=this._invSubKeys=[],r=0;r<16;r++)d[r]=i[15-r]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,r){this._lBlock=e[t],this._rBlock=e[t+1],d.call(this,4,252645135),d.call(this,16,65535),h.call(this,2,858993459),h.call(this,8,16711935),d.call(this,1,1431655765);for(var n=0;n<16;n++){for(var i=r[n],o=this._lBlock,a=this._rBlock,s=0,u=0;u<8;u++)s|=c[u][((a^i[u])&l[u])>>>0];this._lBlock=a,this._rBlock=o^s}var f=this._lBlock;this._lBlock=this._rBlock,this._rBlock=f,d.call(this,1,1431655765),h.call(this,8,16711935),h.call(this,2,858993459),d.call(this,16,65535),d.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function d(e,t){var r=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=r,this._lBlock^=r<<e}function h(e,t){var r=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=r,this._rBlock^=r<<e}e.DES=n._createHelper(u);var f=i.TripleDES=n.extend({_doReset:function(){var e=this._key.words;if(2!==e.length&&4!==e.length&&e.length<6)throw Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var t=e.slice(0,2),n=e.length<4?e.slice(0,2):e.slice(2,4),i=e.length<6?e.slice(0,2):e.slice(4,6);this._des1=u.createEncryptor(r.create(t)),this._des2=u.createEncryptor(r.create(n)),this._des3=u.createEncryptor(r.create(i))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});e.TripleDES=n._createHelper(f)}(),e.TripleDES},e.exports=n(r(359302),r(223580),r(779514),r(813573),r(967272))},974862:function(e,t,r){"use strict";function n(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}r.d(t,{Z:function(){return n}})},461305:function(e,t,r){"use strict";r.d(t,{S:function(){return s}});var n=r(470922),i=r(157215),o=r(769026),a=r(465054),s=function(e,t){return void 0===t&&(t=(0,a.v)((0,o.Xi)(e).ownerDocument)),!!t&&(!t.dataset||!t.dataset.focusGuard)&&(0,i.K)(e).some(function(e){var r;return(0,n.r3)(e,t)||(r=t,!!(0,o.qo)(e.querySelectorAll("iframe")).some(function(e){return e===r}))})}},682981:function(e,t,r){"use strict";r.d(t,{P:function(){return n}});var n=function(e){try{return e()}catch(e){return}}},74448:function(e,t,r){"use strict";r.d(t,{S:function(){return d}});var n=r(254845),i=r(218571),o=r(20835),a=r(902215),s=r(19403),c=r(233879),l=function(){};function u(e){e.reaction=new n.le("observer".concat(e.name),function(){var t;e.stateVersion=Symbol(),null===(t=e.onStoreChange)||void 0===t||t.call(e)})}function d(e,t){if(void 0===t&&(t="observed"),(0,a.F)())return e();var r,n,d=i.useRef(null);if(!d.current){var h={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:t,subscribe:function(e){return s.O.unregister(h),h.onStoreChange=e,h.reaction||(u(h),h.stateVersion=Symbol()),function(){var e;h.onStoreChange=null,null===(e=h.reaction)||void 0===e||e.dispose(),h.reaction=null}},getSnapshot:function(){return h.stateVersion}};d.current=h}var f=d.current;if(f.reaction||(u(f),s.O.register(d,f,f)),i.useDebugValue(f.reaction,o.e),(0,c.useSyncExternalStore)(f.subscribe,f.getSnapshot,l),f.reaction.track(function(){try{r=e()}catch(e){n=e}}),n)throw n;return r}},987255:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(823086),i=r(804430),o=r(218571);let a=function(e,t){return function(r){var a,s=[];function c(){t(a=e(s.map(function(e){return e.props})))}var l=function(e){function t(){return e.apply(this,arguments)||this}(0,n.Z)(t,e),t.peek=function(){return a};var i=t.prototype;return i.componentDidMount=function(){s.push(this),c()},i.componentDidUpdate=function(){c()},i.componentWillUnmount=function(){var e=s.indexOf(this);s.splice(e,1),c()},i.render=function(){return o.createElement(r,this.props)},t}(o.PureComponent);return(0,i.Z)(l,"displayName","SideEffect("+(r.displayName||r.name||"Component")+")"),l}}},166209:function(e,t){"use strict";/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r="function"==typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,a=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,u=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,h=r?Symbol.for("react.forward_ref"):60112,f=r?Symbol.for("react.suspense"):60113,p=r?Symbol.for("react.suspense_list"):60120,_=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,g=r?Symbol.for("react.block"):60121,m=r?Symbol.for("react.fundamental"):60117,y=r?Symbol.for("react.responder"):60118,E=r?Symbol.for("react.scope"):60119;function A(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case u:case d:case o:case s:case a:case f:return e;default:switch(e=e&&e.$$typeof){case l:case h:case v:case _:case c:return e;default:return t}}case i:return t}}}function b(e){return A(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=l,t.ContextProvider=c,t.Element=n,t.ForwardRef=h,t.Fragment=o,t.Lazy=v,t.Memo=_,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=f,t.isAsyncMode=function(e){return b(e)||A(e)===u},t.isConcurrentMode=b,t.isContextConsumer=function(e){return A(e)===l},t.isContextProvider=function(e){return A(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return A(e)===h},t.isFragment=function(e){return A(e)===o},t.isLazy=function(e){return A(e)===v},t.isMemo=function(e){return A(e)===_},t.isPortal=function(e){return A(e)===i},t.isProfiler=function(e){return A(e)===s},t.isStrictMode=function(e){return A(e)===a},t.isSuspense=function(e){return A(e)===f},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===d||e===s||e===a||e===f||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===_||e.$$typeof===c||e.$$typeof===l||e.$$typeof===h||e.$$typeof===m||e.$$typeof===y||e.$$typeof===E||e.$$typeof===g)},t.typeOf=A},153946:function(e,t,r){"use strict";r.d(t,{x:function(){return i}});var n=r(789786);function i(e,t,r,n,i){return new o(e,t,r,n,i)}var o=function(e){function t(t,r,n,i,o,a){var s=e.call(this,t)||this;return s.onFinalize=o,s.shouldUnsubscribe=a,s._next=r?function(e){try{r(e)}catch(e){t.error(e)}}:e.prototype._next,s._error=i?function(e){try{i(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,s._complete=n?function(){try{n()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,s}return(0,n.ZT)(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),r||null===(t=this.onFinalize)||void 0===t||t.call(this)}},t}(r(301876).Lv)},997938:function(e,t,r){"use strict";r.d(t,{z:function(){return function e(t,r,c){return(void 0===c&&(c=1/0),(0,s.m)(r))?e(function(e,o){return(0,n.U)(function(t,n){return r(e,t,o,n)})((0,i.Xf)(t(e,o)))},c):("number"==typeof r&&(c=r),(0,o.e)(function(e,r){return(0,a.p)(e,r,t,c)}))}}});var n=r(269511),i=r(23423),o=r(969925),a=r(514726),s=r(882314)},713287:function(e,t,r){"use strict";r.d(t,{z:function(){return n}});var n=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},447992:function(e,t,r){"use strict";e.exports=r(513169)},726087:function(e,t,r){var n=r(32016),i=r(696772),o=r(140860).Buffer,a=[1518500249,1859775393,-1894007588,-899497514],s=Array(80);function c(){this.init(),this._w=s,i.call(this,64,56)}n(c,i),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(e){for(var t=this._w,r=0|this._a,n=0|this._b,i=0|this._c,o=0|this._d,s=0|this._e,c=0;c<16;++c)t[c]=e.readInt32BE(4*c);for(;c<80;++c)t[c]=t[c-3]^t[c-8]^t[c-14]^t[c-16];for(var l=0;l<80;++l){var u,d,h,f,p,_=~~(l/20),v=((u=r)<<5|u>>>27)+(d=n,h=i,f=o,0===_?d&h|~d&f:2===_?d&h|d&f|h&f:d^h^f)+s+t[l]+a[_]|0;s=o,o=i,i=(p=n)<<30|p>>>2,n=r,r=v}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0},c.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=c},131837:function(e,t,r){var n=r(32016),i=r(696772),o=r(140860).Buffer,a=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],s=Array(160);function c(){this.init(),this._w=s,i.call(this,128,112)}function l(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function u(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function d(e,t){return e>>>0<t>>>0?1:0}n(c,i),c.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},c.prototype._update=function(e){for(var t=this._w,r=0|this._ah,n=0|this._bh,i=0|this._ch,o=0|this._dh,s=0|this._eh,c=0|this._fh,h=0|this._gh,f=0|this._hh,p=0|this._al,_=0|this._bl,v=0|this._cl,g=0|this._dl,m=0|this._el,y=0|this._fl,E=0|this._gl,A=0|this._hl,b=0;b<32;b+=2)t[b]=e.readInt32BE(4*b),t[b+1]=e.readInt32BE(4*b+4);for(;b<160;b+=2){var T,S,C,P,w,R,k,L,I=t[b-30],O=t[b-30+1],x=((T=I)>>>1|(S=O)<<31)^(T>>>8|S<<24)^T>>>7,D=((C=O)>>>1|(P=I)<<31)^(C>>>8|P<<24)^(C>>>7|P<<25);I=t[b-4],O=t[b-4+1];var M=((w=I)>>>19|(R=O)<<13)^(R>>>29|w<<3)^w>>>6,N=((k=O)>>>19|(L=I)<<13)^(L>>>29|k<<3)^(k>>>6|L<<26),H=t[b-14],F=t[b-14+1],U=t[b-32],j=t[b-32+1],B=D+F|0,G=x+H+d(B,D)|0;G=(G=G+M+d(B=B+N|0,N)|0)+U+d(B=B+j|0,j)|0,t[b]=G,t[b+1]=B}for(var Z=0;Z<160;Z+=2){G=t[Z],B=t[Z+1];var W,V,z,Y,X,K,J,q,Q,$,ee=(W=r)&(V=n)|i&(W|V),et=(z=p)&(Y=_)|v&(z|Y),er=l(r,p),en=l(p,r),ei=u(s,m),eo=u(m,s),ea=a[Z],es=a[Z+1],ec=(X=s,K=c,(J=h)^X&(K^J)),el=(q=m,Q=y,($=E)^q&(Q^$)),eu=A+eo|0,ed=f+ei+d(eu,A)|0;ed=(ed=(ed=ed+ec+d(eu=eu+el|0,el)|0)+ea+d(eu=eu+es|0,es)|0)+G+d(eu=eu+B|0,B)|0;var eh=en+et|0,ef=er+ee+d(eh,en)|0;f=h,A=E,h=c,E=y,c=s,y=m,s=o+ed+d(m=g+eu|0,g)|0,o=i,g=v,i=n,v=_,n=r,_=p,r=ed+ef+d(p=eu+eh|0,eu)|0}this._al=this._al+p|0,this._bl=this._bl+_|0,this._cl=this._cl+v|0,this._dl=this._dl+g|0,this._el=this._el+m|0,this._fl=this._fl+y|0,this._gl=this._gl+E|0,this._hl=this._hl+A|0,this._ah=this._ah+r+d(this._al,p)|0,this._bh=this._bh+n+d(this._bl,_)|0,this._ch=this._ch+i+d(this._cl,v)|0,this._dh=this._dh+o+d(this._dl,g)|0,this._eh=this._eh+s+d(this._el,m)|0,this._fh=this._fh+c+d(this._fl,y)|0,this._gh=this._gh+h+d(this._gl,E)|0,this._hh=this._hh+f+d(this._hl,A)|0},c.prototype._hash=function(){var e=o.allocUnsafe(64);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},e.exports=c},649888:function(e,t,r){"use strict";var n=r(606963),i=r(83913),o=r(852932),a=r(609526),s=r(254006),c=n(o);i(c,{getPolyfill:a,implementation:o,shim:s}),e.exports=c},683738:function(e,t,r){"use strict";r.d(t,{Fc:function(){return s},wb:function(){return o}});var n,i=r(11065),o={MANIFEST:"manifest",NETWORK:"network",NETWORK_TIMEOUT:"network_timeout",NETWORK_FORBIDDEN:"network_forbidden",NETWROK_RANGE_NOT_SATISFIABLE:"network_range_not_satisfiable",DEMUX:"demux",REMUX:"remux",MEDIA:"media",DRM:"drm",OTHER:"other",RUNTIME:"runtime",SUB_TYPES:{FLV:"FLV",HLS:"HLS",MP4:"MP4",FMP4:"FMP4",MSE_ADD_SB:"MSE_ADD_SB",MSE_APPEND_BUFFER:"MSE_APPEND_BUFFER",MSE_OTHER:"MSE_OTHER",MSE_FULL:"MSE_FULL",OPTION:"OPTION",DASH:"DASH",LICENSE:"LICENSE",CUSTOM_LICENSE:"CUSTOM_LICENSE",MSE_HIJACK:"MSE_HIJACK",EME_HIJACK:"EME_HIJACK",SIDX:"SIDX",NO_CANPLAY_ERROR:"NO_CANPLAY_ERROR",BUFFERBREAK_ERROR:"BUFFERBREAK_ERROR",MEDIA_ERR_ABORTED:"MEDIA_ERR_ABORTED",MEDIA_ERR_NETWORK:"MEDIA_ERR_NETWORK",MEDIA_ERR_DECODE:"MEDIA_ERR_DECODE",MEDIA_ERR_SRC_NOT_SUPPORTED:"MEDIA_ERR_SRC_NOT_SUPPORTED",MEDIA_ERR_CODEC_NOT_SUPPORTED:"MEDIA_ERR_CODEC_NOT_SUPPORTED",MEDIA_ERR_URL_EMPTY:"MEDIA_ERR_URL_EMPTY"}},a=(n={},(0,i._x)(n,o.MANIFEST,{HLS:1100,DASH:1200}),(0,i._x)(n,o.NETWORK,2100),(0,i._x)(n,o.NETWORK_TIMEOUT,2101),(0,i._x)(n,o.NETWORK_FORBIDDEN,2103),(0,i._x)(n,o.NETWROK_RANGE_NOT_SATISFIABLE,2116),(0,i._x)(n,o.DEMUX,{FLV:3100,HLS:3200,MP4:3300,FMP4:3400,SIDX:3410}),(0,i._x)(n,o.REMUX,{FMP4:4100,MP4:4200}),(0,i._x)(n,o.MEDIA,{MEDIA_ERR_ABORTED:5101,MEDIA_ERR_NETWORK:5102,MEDIA_ERR_DECODE:5103,MEDIA_ERR_SRC_NOT_SUPPORTED:5104,MEDIA_ERR_CODEC_NOT_SUPPORTED:5105,MEDIA_ERR_URL_EMPTY:5106,MSE_ADD_SB:5200,MSE_APPEND_BUFFER:5201,MSE_OTHER:5202,MSE_FULL:5203,MSE_HIJACK:5204,EME_HIJACK:5301}),(0,i._x)(n,o.DRM,{LICENSE:7100,CUSTOM_LICENSE:7200}),(0,i._x)(n,o.OTHER,8e3),(0,i._x)(n,o.RUNTIME,{NO_CANPLAY_ERROR:9001,BUFFERBREAK_ERROR:9002}),n),s=function(e){(0,i.XW)(r,e);var t=(0,i.WY)(r);function r(e,n,s,c,l){var u;return(0,i.PA)(this,r),(u=t.call(this,l||(null==s?void 0:s.message))).errorType=e===o.NETWORK_TIMEOUT?o.NETWORK:e,u.originError=s,u.ext=c,u.errorCode=a[e][n]||a[e],u.errorMessage=u.message,u.errorCode||(u.errorType=o.OTHER,u.errorCode=a[u.errorType]),u}return(0,i.qH)(r,null,[{key:"create",value:function(e,t,n,i,a){return e instanceof r?e:(e instanceof Error&&(n=e,e=""),e||(e=o.OTHER),new r(e,t,n,i,a))}},{key:"network",value:function(e){var t;return new r(null!=e&&e.isTimeout?o.NETWORK_TIMEOUT:o.NETWORK,null,e instanceof Error?e:null,{url:null==e?void 0:e.url,response:null==e?void 0:e.response,httpCode:null==e?void 0:null===(t=e.response)||void 0===t?void 0:t.status})}}]),r}((0,i.wm)(Error))},767852:function(e,t,r){"use strict";r.d(t,{C:function(){return o}});var n=r(11065),i=r(537686),o=function(e){(0,n.XW)(r,e);var t=(0,n.WY)(r);function r(e,o,a,s){var c;return(0,n.PA)(this,r),c=t.call(this,s),(0,n._x)((0,n.Lc)(c),"retryCount",0),(0,n._x)((0,n.Lc)(c),"isTimeout",!1),(0,n._x)((0,n.Lc)(c),"loaderType",i.t.FETCH),(0,n._x)((0,n.Lc)(c),"startTime",0),(0,n._x)((0,n.Lc)(c),"endTime",0),(0,n._x)((0,n.Lc)(c),"options",{}),c.url=e,c.request=o,c.response=a,c}return(0,n.qH)(r)}((0,n.wm)(Error))},623621:function(e,t,r){"use strict";function n(){n=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o,a,s=Object.create((t&&t.prototype instanceof f?t:f).prototype);return i(s,"_invoke",{value:(o=new S(n||[]),a="suspendedStart",function(t,n){if("executing"===a)throw Error("Generator is already running");if("completed"===a){if("throw"===t)throw n;return P()}for(o.method=t,o.arg=n;;){var i=o.delegate;if(i){var s=function e(t,r){var n=r.method,i=t.iterator[n];if(void 0===i)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=void 0,e(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=TypeError("The iterator does not provide a '"+n+"' method")),h;var o=d(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,h;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,h):a:(r.method="throw",r.arg=TypeError("iterator result is not an object"),r.delegate=null,h)}(i,o);if(s){if(s===h)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if("suspendedStart"===a)throw a="completed",o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);a="executing";var c=d(e,r,o);if("normal"===c.type){if(a=o.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(a="completed",o.method="throw",o.arg=c.arg)}})}),s}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var h={};function f(){}function p(){}function _(){}var v={};l(v,a,function(){return this});var g=Object.getPrototypeOf,m=g&&g(g(C([])));m&&m!==t&&r.call(m,a)&&(v=m);var y=_.prototype=f.prototype=Object.create(v);function E(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function A(e,t){var n;i(this,"_invoke",{value:function(i,o){function a(){return new t(function(n,a){!function n(i,o,a,s){var c=d(e[i],e,o);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==typeof u&&r.call(u,"__await")?t.resolve(u.__await).then(function(e){n("next",e,a,s)},function(e){n("throw",e,a,s)}):t.resolve(u).then(function(e){l.value=e,a(l)},function(e){return n("throw",e,a,s)})}s(c.arg)}(i,o,n,a)})}return n=n?n.then(a,a):a()}})}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function C(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=_,i(y,"constructor",{value:_,configurable:!0}),i(_,"constructor",{value:p,configurable:!0}),p.displayName=l(_,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},E(A.prototype),l(A.prototype,s,function(){return this}),e.AsyncIterator=A,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new A(u(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then(function(e){return e.done?e.value:a.next()})},E(y),l(y,c,"Generator"),l(y,a,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=C,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;T(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:C(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},e}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){r(e);return}s.done?t(c):Promise.resolve(c).then(n,i)}function a(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var a=e.apply(t,r);function s(e){o(a,n,i,s,c,"next",e)}function c(e){o(a,n,i,s,c,"throw",e)}s(void 0)})}}function s(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m(n.key),n)}}function l(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e,t,r){return(t=m(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function p(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _(e,t,r){return(_=p()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&f(i,r.prototype),i}).apply(null,arguments)}function v(e){var t="function"==typeof Map?new Map:void 0;return(v=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return _(e,arguments,h(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),f(r,e)})(e)}function g(e){var t=p();return function(){var r,n=h(e);return r=t?Reflect.construct(n,arguments,h(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function m(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}r.d(t,{Ac:function(){return i},PA:function(){return s},WY:function(){return g},XW:function(){return d},_x:function(){return u},l5:function(){return n},qH:function(){return l},wm:function(){return v},x:function(){return a}})},948600:function(e,t,r){"use strict";r.d(t,{l:function(){return i}});var n=r(623621),i=function(){function e(){(0,n.PA)(this,e)}return(0,n.qH)(e,null,[{key:"start",value:function(e){return!e||!e.length||1===e.length&&e.end(0)-e.start(0)<1e-6||1===e.length&&0>e.start(0)?0:e.start(0)}},{key:"end",value:function(e){return!e||!e.length||1===e.length&&e.end(0)-e.start(0)<1e-6?0:e.end(e.length-1)}},{key:"get",value:function(e){if(e)try{return e.buffered}catch(e){}}},{key:"buffers",value:function(e,t){if(!e||!e.length)return[];for(var r=[],n=0,i=e.length;n<i;n++){var o=r.length;if(o&&t){var a=r[o-1],s=a[1];if(e.start(n)-s<=t){var c=e.end(n);c>s&&(a[1]=c)}else r.push([e.start(n),e.end(n)])}else r.push([e.start(n),e.end(n)])}return r}},{key:"totalLength",value:function(e){return e&&e.length?e.reduce(function(e,t){return e+(t[1]-t[0])},0):0}},{key:"info",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!t||!t.length)return{start:0,end:0,buffers:[]};for(var i=0,o=0,a=0,s=0,c=0,l=0,u=0,d=e.buffers(t,n),h=0,f=d.length;h<f;h++){var p=d[h];if(r+n>=p[0]&&r<=p[1])i=p[0],o=p[1],a=h;else if(r+n<p[0]){s=p[0],c=p[1];break}else r+n>p[1]&&(l=p[0],u=p[1])}return{start:i,end:o,index:a,buffers:d,nextStart:s,nextEnd:c,prevStart:l,prevEnd:u,currentTime:r,behind:r-i,remaining:o?o-r:0,length:e.totalLength&&e.totalLength(d)}}}]),e}()},2731:function(e,t,r){"use strict";r.d(t,{x:function(){return s}});var n=r(949024),i=r(597398),o=r(35004),a=r(434706),s=function(){function e(){(0,n.PA)(this,e)}return(0,n.qH)(e,null,[{key:"parseAVCDecoderConfigurationRecord",value:function(t){if(!(t.length<7)){for(var r,n,o,a=(3&t[4])+1,s=[],c=[],l=6,u=31&t[5],d=0;d<u;d++)if(n=t[l]<<8|t[l+1],l+=2,n){var h=t.subarray(l,l+n);l+=n,s.push(h),r||(r=e.parseSPS(i.l.removeEPB(h)))}var f=t[l];l++;for(var p=0;p<f;p++)o=t[l]<<8|t[l+1],l+=2,o&&(c.push(t.subarray(l,l+o)),l+=o);return{sps:r,spsArr:s,ppsArr:c,nalUnitSize:a}}}},{key:"parseSPS",value:function(e){var t,r,n,i,s,c=new a.S(e);c.readUByte();var l=c.readUByte(),u=c.readUByte(),d=c.readUByte();c.skipUEG();var h=420;if(100===l||110===l||122===l||244===l||44===l||83===l||86===l||118===l||128===l||138===l||144===l){var f=c.readUEG();if(f<=3&&(h=[0,420,422,444][f]),3===f&&c.skipBits(1),c.skipUEG(),c.skipUEG(),c.skipBits(1),c.readBool())for(var p=3!==f?8:12,_=0;_<p;_++)c.readBool()&&(_<6?c.skipScalingList(16):c.skipScalingList(64))}c.skipUEG();var v=c.readUEG();if(0===v)c.readUEG();else if(1===v){c.skipBits(1),c.skipUEG(),c.skipUEG();for(var g=c.readUEG(),m=0;m<g;m++)c.skipUEG()}c.skipUEG(),c.skipBits(1);var y=c.readUEG(),E=c.readUEG(),A=c.readBits(1);0===A&&c.skipBits(1),c.skipBits(1);var b=0,T=0,S=0,C=0;if(c.readBool()&&(b=c.readUEG(),T=c.readUEG(),S=c.readUEG(),C=c.readUEG()),c.readBool()){if(c.readBool())switch(c.readUByte()){case 1:t=[1,1];break;case 2:t=[12,11];break;case 3:t=[10,11];break;case 4:t=[16,11];break;case 5:t=[40,33];break;case 6:t=[24,11];break;case 7:t=[20,11];break;case 8:t=[32,11];break;case 9:t=[80,33];break;case 10:t=[18,11];break;case 11:t=[15,11];break;case 12:t=[64,33];break;case 13:t=[160,99];break;case 14:t=[4,3];break;case 15:t=[3,2];break;case 16:t=[2,1];break;case 255:t=[c.readUByte()<<8|c.readUByte(),c.readUByte()<<8|c.readUByte()]}if(c.readBool()&&c.readBool(),c.readBool()&&(c.readBits(4),c.readBool()&&c.readBits(24)),c.readBool()&&(c.readUEG(),c.readUEG()),c.readBool()){var P=c.readBits(32),w=c.readBits(32);r=c.readBool(),s=(n=w)/(i=2*P)}}return{codec:(0,o.dB)(e.subarray(1,4)),profileIdc:l,profileCompatibility:u,levelIdc:d,chromaFormat:h,width:Math.ceil((y+1)*16-2*(b+T)),height:(2-A)*(E+1)*16-(A?2:4)*(S+C),sarRatio:t,fpsNum:n,fpsDen:i,fps:s,fixedFrame:r}}}]),e}()},793777:function(e,t,r){"use strict";r.d(t,{A:function(){return s}});var n=r(58924),i=r(814694),o=r(831295),a=r(169330),s=function(){function e(t,r){(0,n.PA)(this,e),this.videoTrack=t,this.audioTrack=r}return(0,n.qH)(e,[{key:"remux",value:function(e,t){this.videoTrack=e||this.videoTrack,this.audioTrack=t||this.audioTrack;var r,n,i=(null==e?void 0:e.exist())&&(null==e?void 0:e.hasSample()),o=(null==t?void 0:t.exist())&&(null==t?void 0:t.hasSample());return i&&o?r=this._remuxMix(e,t):i?r=this._remuxTrack(e):o&&(n=this._remuxTrack(t)),e&&(e.samples=[]),t&&(t.samples=[]),{videoSegment:r,audioSegment:n}}},{key:"_remuxMix",value:function(e,t){var r=o.b.ftyp([e,t]),n=this._remuxData(e,r.byteLength+8),i=n.mdatData,s=n.chunkOffset,c=this._remuxData(t,s).mdatData,l=o.b.mdat((0,a.gJ)(i,c)),u=o.b.moovMP4([e,t]);return e.ext=void 0,t.ext=void 0,e.samples=[],t.samples=[],(0,a.gJ)(r,l,u)}},{key:"_remuxTrack",value:function(e){var t=o.b.ftyp([e]),r=this._remuxData(e,t.byteLength+8).mdatData,n=o.b.mdat(r),i=o.b.moovMP4([e]);return e.ext=void 0,e.samples=[],(0,a.gJ)(t,n,i)}},{key:"_remuxData",value:function(e,t){var r,n=this,o=e.type===i.Vc.VIDEO,a=e.samples,s=0;o?a.forEach(function(e){s+=e.units.reduce(function(e,t){return e+t.byteLength},0)+4*e.units.length}):s=a.reduce(function(e,t){return e+t.size},0);for(var c=new Uint8Array(s),l=new DataView(c.buffer),u=e.ext={stts:[],stsc:[],stsz:[],stco:[],stss:[],ctts:[]},d=0,h=0,f=a.length,p=0;p<f;p++)!function(){r=a[p],h+=r.duration;var e=o?0:r.size;o?r.units.forEach(function(t){l.setUint32(d,t.byteLength),d+=4,c.set(t,d),d+=t.byteLength,e+=4+t.byteLength}):(c.set(r.data,d),d+=e),r.size=e,u.stsz.push(e),o&&n._fillCttsSamples(u.ctts,r.cts),n._fillSttsSamples(u.stts,r,a[p+1]),n._fillStcoSamples(u.stco,p,1,t),t+=e,o&&r.keyframe&&u.stss.push(p+1)}();return e.duration=h,this._fillStscSamples(u.stsc,f,1),{mdatData:c,chunkOffset:t}}},{key:"_fillSttsSamples",value:function(e,t,r){var n=e[e.length-1];if(r){n&&n.value===t.duration?n.count++:e.push({value:t.duration,count:1});return}n?n.count++:e.push({value:40,count:1})}},{key:"_fillCttsSamples",value:function(e,t){var r=e[e.length-1];r&&r.value===t?r.count++:e.push({value:t,count:1})}},{key:"_fillStcoSamples",value:function(e,t,r,n){t%r||e.push(n)}},{key:"_fillStscSamples",value:function(e,t,r){if(t<=r)e.push({firstChunk:1,samplesPerChunk:t,sampleDescIndex:1});else{var n=Math.floor(t/r),i=t%r;e.push({firstChunk:1,samplesPerChunk:r,sampleDescIndex:1}),i&&e.push({firstChunk:n+1,samplesPerChunk:i,sampleDescIndex:1})}}}]),e}()},150055:function(e,t,r){"use strict";r.d(t,{i:function(){return o}});var n=new Map,i=0,o={bookId:function(){return"x:".concat(i++)},register:function(e,t){return n.set(e,t),e},get:function(e){return n.get(e)},free:function(e){n.delete(e)}}},551078:function(e,t,r){"use strict";r.d(t,{b:function(){return o}});var n=r(188389),i={deferEvents:!1},o=function(){function e(e){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=(0,n.pi)((0,n.pi)({},i),e)}return e.prototype.initialize=function(e){if(this.initialized=!0,e){if(!this.options.deferEvents){this.schedule(e);return}this.process(e)}this.flushEvents()},e.prototype.schedule=function(e){if(!this.initialized||this.processingEvent){this.queue.push(e);return}if(0!==this.queue.length)throw Error("Event queue should be empty when it is not processing events");this.process(e),this.flushEvents()},e.prototype.clear=function(){this.queue=[]},e.prototype.flushEvents=function(){for(var e=this.queue.shift();e;)this.process(e),e=this.queue.shift()},e.prototype.process=function(e){this.processingEvent=!0;try{e()}catch(e){throw this.clear(),e}finally{this.processingEvent=!1}},e}()},404382:function(e,t,r){"use strict";r.d(t,{Bc:function(){return x},EL:function(){return D},ET:function(){return p},HD:function(){return R},HV:function(){return A},JQ:function(){return y},L$:function(){return I},O4:function(){return O},Q8:function(){return h},Q9:function(){return l},QX:function(){return m},Qi:function(){return k},SA:function(){return function e(t){return t?R(t)?[[t]]:v(Object.keys(t).map(function(r){var n=t[r];return"string"==typeof n||n&&Object.keys(n).length?e(t[r]).map(function(e){return[r].concat(e)}):[[r]]})):[[]]}},W:function(){return function e(t,r,n){void 0===n&&(n=a.iS);var i=u(t,n),o=u(r,n);return R(o)?!!R(i)&&o===i:R(i)?i in o:Object.keys(i).every(function(t){return t in o&&e(i[t],o[t])})}},WM:function(){return u},ZK:function(){return C},_v:function(){return M},bi:function(){return L},bx:function(){return Z},dt:function(){return S},g5:function(){return N},gk:function(){return _},ib:function(){return f},j:function(){return B},jh:function(){return H},kJ:function(){return P},mf:function(){return w},on:function(){return d},qo:function(){return g},rg:function(){return F},uK:function(){return b},v4:function(){return U},vx:function(){return j},x6:function(){return c},xH:function(){return v},y8:function(){return E},yv:function(){return T},zM:function(){return G}});var n,i,o=r(188389),a=r(527548),s=r(110242);function c(e){try{return R(e)||"number"==typeof e?"".concat(e):e.type}catch(e){throw Error("Events must be strings or objects with a string event.type property.")}}function l(e,t){try{if(P(e))return e;return e.toString().split(t)}catch(t){throw Error("'".concat(e,"' is not a valid state path."))}}function u(e,t){return"object"==typeof e&&"value"in e&&"context"in e&&"event"in e&&"_event"in e?e.value:P(e)?d(e):"string"!=typeof e?e:d(l(e,t))}function d(e){if(1===e.length)return e[0];for(var t={},r=t,n=0;n<e.length-1;n++)n===e.length-2?r[e[n]]=e[n+1]:(r[e[n]]={},r=r[e[n]]);return t}function h(e,t){for(var r={},n=Object.keys(e),i=0;i<n.length;i++){var o=n[i];r[o]=t(e[o],o,e,i)}return r}function f(e,t,r){var n,i,a={};try{for(var s=(0,o.XA)(Object.keys(e)),c=s.next();!c.done;c=s.next()){var l=c.value,u=e[l];r(u)&&(a[l]=t(u,l,e))}}catch(e){n={error:e}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return a}var p=function(e){return function(t){var r,n,i=t;try{for(var a=(0,o.XA)(e),s=a.next();!s.done;s=a.next())i=i[s.value]}catch(e){r={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i}};function _(e,t){return function(r){var n,i,a=r;try{for(var s=(0,o.XA)(e),c=s.next();!c.done;c=s.next()){var l=c.value;a=a[t][l]}}catch(e){n={error:e}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return a}}function v(e){var t;return(t=[]).concat.apply(t,(0,o.ev)([],(0,o.CR)(e),!1))}function g(e){return void 0===e?[]:P(e)?e:[e]}function m(e,t,r){if(w(e))return e(t,r.data);var n,i,a={};try{for(var s=(0,o.XA)(Object.keys(e)),c=s.next();!c.done;c=s.next()){var l=c.value,u=e[l];w(u)?a[l]=u(t,r.data):a[l]=u}}catch(e){n={error:e}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return a}function y(e){return/^(done|error)\./.test(e)}function E(e){return!!(e instanceof Promise||null!==e&&(w(e)||"object"==typeof e)&&w(e.then))}function A(e){return null!==e&&"object"==typeof e&&"transition"in e&&"function"==typeof e.transition}function b(e,t){var r,n,i=(0,o.CR)([[],[]],2),a=i[0],s=i[1];try{for(var c=(0,o.XA)(e),l=c.next();!l.done;l=c.next()){var u=l.value;t(u)?a.push(u):s.push(u)}}catch(e){r={error:e}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}return[a,s]}function T(e,t){return{current:t,states:function e(t,r){return h(t.states,function(t,n){if(t){var i=(R(r)?void 0:r[n])||(t?t.current:void 0);if(i)return{current:i,states:e(t,i)}}})}(e,t)}}function S(e,t,r,n){return s.M||C(!!e,"Attempting to update undefined context"),e?r.reduce(function(e,r){var i,a,s=r.assignment,c={state:n,action:r,_event:t},l={};if(w(s))l=s(e,t.data,c);else try{for(var u=(0,o.XA)(Object.keys(s)),d=u.next();!d.done;d=u.next()){var h=d.value,f=s[h];l[h]=w(f)?f(e,t.data,c):f}}catch(e){i={error:e}}finally{try{d&&!d.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}return Object.assign({},e,l)},e):e}var C=function(){};function P(e){return Array.isArray(e)}function w(e){return"function"==typeof e}function R(e){return"string"==typeof e}function k(e,t){return e?R(e)?{type:a.TV,name:e,predicate:t?t[e]:void 0}:w(e)?{type:a.TV,name:e.name,predicate:e}:e:void 0}function L(e){try{return"subscribe"in e&&w(e.subscribe)}catch(e){return!1}}s.M||(C=function(e,t){var r=e instanceof Error?e:void 0;if((r||!e)&&void 0!==console){var n=["Warning: ".concat(t)];r&&n.push(r),console.warn.apply(console,n)}});var I="function"==typeof Symbol&&Symbol.observable||"@@observable";function O(e){return!!e&&"__xstatenode"in e}function x(e){return!!e&&"function"==typeof e.send}(i={})[I]=function(){return this},i[Symbol.observable]=function(){return this};var D=(n=0,function(){return n++,n.toString(16)});function M(e,t){return R(e)||"number"==typeof e?(0,o.pi)({type:e},t):e}function N(e,t){if(!R(e)&&"$$type"in e&&"scxml"===e.$$type)return e;var r=M(e);return(0,o.pi)({name:r.type,data:r,$$type:"scxml",type:"external"},t)}function H(e,t){return(P(t)?t:[t]).map(function(t){return void 0===t||"string"==typeof t||O(t)?{target:t,event:e}:(0,o.pi)((0,o.pi)({},t),{event:e})})}function F(e){if(void 0!==e&&e!==a.rt)return g(e)}function U(e,t,r){if(!s.M){var n=e.stack?" Stacktrace was '".concat(e.stack,"'"):"";if(e===t)console.error("Missing onError handler for invocation '".concat(r,"', error was '").concat(e,"'.").concat(n));else{var i=t.stack?" Stacktrace was '".concat(t.stack,"'"):"";console.error("Missing onError handler and/or unhandled exception/promise rejection for invocation '".concat(r,"'. ")+"Original error: '".concat(e,"'. ").concat(n," Current error is '").concat(t,"'.").concat(i))}}}function j(e,t,r,n,i){var o=e.options.guards,s={state:i,cond:t,_event:n};if(t.type===a.TV)return((null==o?void 0:o[t.name])||t.predicate)(r,n.data,s);var c=null==o?void 0:o[t.type];if(!c)throw Error("Guard '".concat(t.type,"' is not implemented on machine '").concat(e.id,"'."));return c(r,n.data,s)}function B(e){return"string"==typeof e?{type:e}:e}function G(e,t,r){if("object"==typeof e)return e;var n=function(){};return{next:e,error:t||n,complete:r||n}}function Z(e,t){return"".concat(e,":invocation[").concat(t,"]")}},980868:function(e,t,r){"use strict";e.exports=r.p+"static/image/icon-create-script.f4eaf4ff.png"},341705:function(e,t,r){"use strict";e.exports=r.p+"static/image/icon-video-preview.a93a703c.png"},115418:function(e,t,r){"use strict";r.d(t,{r:function(){return a}});var n=r(69984),i=r(764112),o=r(772322);r(218571);var a=e=>(0,o.jsx)("svg",(0,i._)((0,n._)({xmlns:"http://www.w3.org/2000/svg",width:17,height:17,fill:"none",viewBox:"0 0 17 17"},e),{children:(0,o.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"m12.189 2.396 1.416 1.417a.833.833 0 0 1 0 1.178l-1.343 1.343a5.8 5.8 0 0 1 1.978.379l.543-.543a2.5 2.5 0 0 0 0-3.536l-1.416-1.416a2.5 2.5 0 0 0-3.535 0L.716 10.334l-.244.244v4.986h4.917l.244-.244 1.08-1.08a5.8 5.8 0 0 1-.38-1.978L4.7 13.897h-2.56v-2.63L8.438 4.97l1.72 1.72a5.8 5.8 0 0 1 2.002-.356L9.616 3.79l1.394-1.394a.833.833 0 0 1 1.179 0m2.435 10.815a2.669 2.669 0 1 1-.2-2.468l-.998.997a.25.25 0 0 0 .177.427h2.48a.25.25 0 0 0 .25-.25v-2.48a.25.25 0 0 0-.427-.177l-.405.405a4.168 4.168 0 1 0 .703 3.545z",clipRule:"evenodd"})}))},405634:function(e,t,r){"use strict";r.d(t,{r:function(){return a}});var n=r(69984),i=r(764112),o=r(772322);r(218571);var a=e=>(0,o.jsx)("svg",(0,i._)((0,n._)({xmlns:"http://www.w3.org/2000/svg",width:16,height:12,fill:"none",viewBox:"0 0 16 12"},e),{children:(0,o.jsxs)("g",{fill:"currentColor",children:[(0,o.jsx)("path",{d:"M.5 10.773c0 .23.187.417.417.417h14.166c.23 0 .417-.187.417-.417v-.834a.417.417 0 0 0-.417-.416H.917a.417.417 0 0 0-.417.416zm0-7.002c0 .23.187.417.417.417h3.307c.23 0 .417-.187.417-.417v-.833a.417.417 0 0 0-.417-.417H.917a.417.417 0 0 0-.417.417zM15.24 4.178c.23 0 .416-.187.416-.417v-.833a.417.417 0 0 0-.416-.417H9.42v1.667z"}),(0,o.jsx)("path",{d:"M9.458 1.434a.417.417 0 0 0-.711-.294l-1.91 1.91a.417.417 0 0 0 0 .59l1.91 1.91a.417.417 0 0 0 .711-.294z"})]})}))},362247:function(e,t,r){"use strict";r.d(t,{r:function(){return a}});var n=r(69984),i=r(764112),o=r(772322);r(218571);var a=e=>(0,o.jsx)("svg",(0,i._)((0,n._)({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none",viewBox:"0 0 20 20"},e),{children:(0,o.jsx)("path",{fill:"currentColor",d:"M4.198 10.382a5.8 5.8 0 0 1 11.598 0v1.284h-.964v4.974h1.825l1.508-.912v-4.062h-.702v-1.284a7.466 7.466 0 0 0-14.932 0v1.284h-.699v4.089l1.507.911h1.826v-5h-.967z"})}))},137213:function(e,t,r){"use strict";r.d(t,{r:function(){return a}});var n=r(69984),i=r(764112),o=r(772322);r(218571);var a=e=>(0,o.jsx)("svg",(0,i._)((0,n._)({xmlns:"http://www.w3.org/2000/svg",width:24,height:25,fill:"none",viewBox:"0 0 24 25"},e),{children:(0,o.jsx)("path",{fill:"#090C14",fillRule:"evenodd",d:"M2 5.134a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v5.638l-.048.047-3.145 3.145a2 2 0 0 0-.258.317 4.2 4.2 0 0 0-3.078 1.428q-.15.17-.3.347l-3.95-3.69a2.5 2.5 0 0 0-3.427.013L4 14.079v2.756l3.17-3.005a.5.5 0 0 1 .686-.002l4.297 4.014c-.085.227-.15.432-.204.6l-.047.146c-.204.623-.316.843-.479 1.008a6 6 0 0 0-.313.538H5a3 3 0 0 1-3-3zm12 5a2 2 0 1 0 0-4 2 2 0 0 0 0 4m7.015 2.207a.705.705 0 0 1 1.204.497l.008 3.404c.001.3-.118.589-.33.801l-1.832 1.832-.322-.783a3.1 3.1 0 0 0-.677-1.005 3.1 3.1 0 0 0-1.01-.68l-.786-.32zm-8.117 9.163q-.002.002.05.05c.102.085.383.269 1.044.413.444.097 1.06.176 1.908.196 1.275.03 2.057-.336 2.684-.872 1.091-.934.938-2.735-.078-3.75-.98-.981-2.57-1.03-3.493.005q-.172.192-.333.386c-.409.494-.597 1.074-.788 1.66-.218.67-.438 1.347-.994 1.912",clipRule:"evenodd"})}))},41054:function(e,t,r){"use strict";r.d(t,{r:function(){return a}});var n=r(69984),i=r(764112),o=r(772322);r(218571);var a=e=>(0,o.jsxs)("svg",(0,i._)((0,n._)({xmlns:"http://www.w3.org/2000/svg",width:48,height:48,fill:"none",viewBox:"0 0 48 48"},e),{children:[(0,o.jsx)("path",{fill:"#fff",d:"M0 0h48v48H0z"}),(0,o.jsx)("path",{fill:"url(#icon-catch-error_svg__a)",fillOpacity:.4,d:"M12.687 29.745a3.99 3.99 0 0 1 0-3.985l6.665-11.544a3.99 3.99 0 0 1 3.451-1.992h13.33c1.424 0 2.74.759 3.451 1.992L46.25 25.76a3.99 3.99 0 0 1 0 3.985l-6.665 11.544a3.99 3.99 0 0 1-3.45 1.992h-13.33c-1.424 0-2.74-.76-3.452-1.992z"}),(0,o.jsx)("path",{fill:"#090C14",fillRule:"evenodd",d:"m32.878 36.04 5.36-9.285c.831-1.439.831-3.211 0-4.65l-5.36-9.284a4.65 4.65 0 0 0-4.026-2.325H18.131c-1.661 0-3.196.886-4.026 2.325l-5.36 9.285a4.65 4.65 0 0 0 0 4.648l5.36 9.285a4.65 4.65 0 0 0 4.026 2.325h10.721c1.661 0 3.196-.886 4.026-2.325m8.237-7.625a7.97 7.97 0 0 0 0-7.97l-5.361-9.284a7.97 7.97 0 0 0-6.902-3.985H18.131a7.97 7.97 0 0 0-6.902 3.985l-5.36 9.284a7.97 7.97 0 0 0 0 7.97l5.36 9.285a7.97 7.97 0 0 0 6.902 3.984h10.721a7.97 7.97 0 0 0 6.902-3.984zm-20.16-11.957a2.538 2.538 0 1 1 5.072 0l-.453 9.967a2.085 2.085 0 0 1-4.165 0zm2.537 19.262a2.656 2.656 0 1 1 0-5.313 2.656 2.656 0 0 1 0 5.313",clipRule:"evenodd"}),(0,o.jsx)("defs",{children:(0,o.jsxs)("linearGradient",{id:"icon-catch-error_svg__a",x1:23.118,x2:23.118,y1:45.533,y2:9.646,gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#A799FF"}),(0,o.jsx)("stop",{offset:1,stopColor:"#91BEFB"})]})})]}))},318593:function(e,t,r){"use strict";r.d(t,{r:function(){return a}});var n=r(69984),i=r(764112),o=r(772322);r(218571);var a=e=>(0,o.jsx)("svg",(0,i._)((0,n._)({xmlns:"http://www.w3.org/2000/svg",width:21,height:20,fill:"none",viewBox:"0 0 21 20"},e),{children:(0,o.jsx)("path",{fill:"#000",fillRule:"evenodd",d:"m15.512 5.267-1.179-1.179a.833.833 0 0 0-1.178 0l-.813.813 2.357 2.357.813-.813a.833.833 0 0 0 0-1.178m-1.992 3.17L11.163 6.08 4.932 12.31v2.39h2.325zm1.992-5.527 1.178 1.178a2.5 2.5 0 0 1 0 3.536l-8.499 8.499-.244.244H3.265v-4.746l.244-.244 8.467-8.467a2.5 2.5 0 0 1 3.536 0M11.543 14.7h5.9v1.667H9.876z",clipRule:"evenodd"})}))},232257:function(e,t,r){"use strict";r(851633),r(321474)},912061:function(e,t,r){"use strict";r.d(t,{b:function(){return a}});var n=r(900268),i=r(831246),o=r(797323);function a(e,t){e.invokeFunction(e=>{var r,a,s=e.get(i.D),c=e.get(o.L);if((null==t?void 0:t.commonParams)&&(r=t.commonParams,c.setEventParams(r),a=Object.entries(r).reduce((e,t)=>{var[r,n]=t;return void 0!==n&&(e[r]=String(n)),e},{}),c.setCaptureParams(a),c.setLogParams(r)),s.hasLogin){var{uid:l}=s.userProfile;c.setConfig({userId:l})}else(0,n.V)(s.onDidLogin)(()=>{var{uid:e}=s.userProfile;c.setConfig({userId:e})})})}},629025:function(e,t,r){"use strict";r.d(t,{y:function(){return p}});var n=r(461228),i=r(69984),o=r(764112),a=r(123951),s=r(91933),c=r(468835),l=r(691716),u=r(710799),d=()=>{var e,t=null===(e=r.g.location)||void 0===e?void 0:e.host;return t?"https://".concat(t):""},h={baseURL:"/api/biz/v1",method:"POST",headers:{loc:s.yM.CHANNEL,lan:a.ZP.language||s.yM.LAN,pf:s.yM.APP_PF,appvr:s.yM.VERSION,tdid:"","sign-ver":1,"app-sdk-version":s.yM.APP_SDK_VERSION}},f=l.ZP.createAxios(h);f.interceptors.request.use(e=>{var{pf:t,appvr:r,tdid:n}=h.headers;return Object.assign(e.headers,(0,u.O)({url:"".concat(e.baseURL).concat(e.url),pf:t,appvr:r,tdid:n})),e}),f.interceptors.response.use(e=>{if(200!==e.status)return Promise.reject(e);var t=e.data;return"0"===t.ret?Promise.resolve(t):c.QV[Number(t.ret)]===c.bh.NOT_IN_WHITE_LIST||c.QV[Number(t.ret)]===c.bh.NOT_IN_SUBSCRIBE_REGION&&"/user/get_user_identities"===e.config.url?Promise.resolve(t):Promise.reject(e)});var p={getOrganizationList:e=>(0,n._)(function*(){return yield f((0,o._)((0,i._)({method:"GET",url:"/user/get_user_identities"},{[l.R0]:{domain:d()}}),{params:{subject_aid:e}}))})(),getBusinessUser:e=>(0,n._)(function*(){return yield f((0,o._)((0,i._)({method:"GET",url:"/user/get_business_user"},{[l.R0]:{domain:d()}}),{params:{subject_aid:e}}))})()}},673941:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=new Map;function i(e,t){var{maxAge:r=36e5}=t||{};return e.interceptors.request.use(e=>{var{needCache:t}=e.params||{},r=function(e){try{if(!e)return"";var{url:t,data:r}=e;return"".concat(t).concat(JSON.stringify(r))}catch(e){return""}}(e);if(e.cacheKey=r,!t)return n.delete(r),e;var i=n.get(r);if(i){var{data:o,maxAge:a,cacheStartTime:s}=i;Date.now()<a+s?e.adapter=e=>Promise.resolve({data:o,status:200,statusText:"OK",headers:{},config:e}):n.delete(r)}return e}),e.interceptors.response.use(e=>{var{config:t,status:i,data:o}=e,{cacheKey:a}=t||{};return a&&200===i&&(null==o?void 0:o.ret)==="0"&&n.set(a,{data:o,maxAge:r,cacheStartTime:Date.now()}),e}),e}},19556:function(e,t,r){"use strict";r.d(t,{W:function(){return L}});var n=r(461228),i=r(69984),o=r(764112),a=r(574451),s=r(772322);r(349601);var c=r(781494),l=r(804929),u=r(218571),d=r(570126),h=r(123951),f=r(152155),p=r.n(f),_=r(722169),v=r(659179),g=r(285617),m=r(691716),y=r(799943),E=r(429372),A=r(443354),b=r(635272),T=r(958418),S=r(249570),C=r(245934),P="share-report-setting-modal",w=e=>{var t=(0,u.useRef)(null);return(0,s.jsx)("span",{ref:t,onClick:e=>{e.stopPropagation()},onMouseDown:e=>{e.stopPropagation()},children:(0,s.jsx)(S.yW,(0,o._)((0,i._)({},e),{getPopupContainer:()=>t.current}))})},R=e=>new Promise(t=>{var r,{reportParams:s}=e,c=(0,a._)(e,["reportParams"]),l=(r=(0,n._)(function*(r){var n,i=yield null===(n=e.onOk)||void 0===n?void 0:n.call(e,r);return i&&t(r),i}),function(e){return r.apply(this,arguments)}),h=()=>{new E.V().report((0,o._)((0,i._)({},(0,_.omit)(e.reportParams,"aigc_content_id")),{action:"cancel"}))},f=()=>{new E.V().report((0,o._)((0,i._)({},(0,_.omit)(e.reportParams,"aigc_content_id")),{action:"show"}))},p=document.getElementById(P);p?S.cv.emit("update",(0,o._)((0,i._)({},e),{onOk:l,onCancel:h,afterOpen:f})):((p=document.createElement("div")).id=P,document.body.appendChild(p),(0,d.createRoot)(p).render(u.createElement(w,(0,o._)((0,i._)({},c),{onOk:l,onCancel:h,afterOpen:f}))))}),k=null,L=e=>{var t,r,{onOk:a,children:d,data:f,className:P,wrapClassName:w,reportParams:L,domain:I,enableReporter:O,cookieConsent:x}=e;k=I||k,(0,u.useEffect)(()=>{var e;(e=(0,n._)(function*(){if(k)m.ZP.updateRequestDomain({domain:k});else{var{data:e}=yield g.U.getLocation();m.ZP.updateRequestDomain({domain:e.domain}),k=e.domain}}),function(){return e.apply(this,arguments)})()},[]),(0,T.d)(x,O);var[D,M]=(0,u.useState)(!1),[N,H]=(0,l.default)(void 0,{threshold:.1}),F=(t=(0,n._)(function*(t){new E.V().report((0,o._)((0,i._)({},(0,_.omit)(e.reportParams,"aigc_content_id")),{action:"submit",report_reason:t.report_param})),M(!0);var r,n=String(Math.floor(Math.random()*(4294967294+1))+1),s=!0;try{yield y.B.aigcReport((0,o._)((0,i._)({},t),{id:n,report_type:9,extra:{ai_material:[(0,o._)((0,i._)({},f),{object_id:n})]}})),new A.N().report((0,o._)((0,i._)({},(0,_.omit)(e.reportParams,"aigc_content_id")),{action:"show",result:"success"}))}catch(e){s=!1,(null==e?void 0:null===(r=e.data)||void 0===r?void 0:r.ret)&&"0"!==e.data.ret?c.Z.error(h.oc.t("web_s2v_report_toast_went_wrong",{},"Something went wrong. Try again.")):c.Z.error(h.oc.t("web_s2v_report_toast_internet",{},"Connect to the internet and try again."))}return s||new A.N().report((0,o._)((0,i._)({},(0,_.omit)(e.reportParams,"aigc_content_id")),{action:"show",result:"fail"})),M(!1),s&&(null==a||a(t)),s}),function(e){return t.apply(this,arguments)}),U=(0,u.useMemo)(()=>({type:"aigc",onOk:F,wrapClassName:w}),[F]);(0,u.useEffect)(()=>{S.cv.emit("updateSubmitLoading",D)},[D]),(0,u.useEffect)(()=>{H&&new b.G().report((0,o._)((0,i._)({},L),{action:"show"}))},[H,L]);var j=(r=(0,n._)(function*(){new b.G().report((0,o._)((0,i._)({},L),{action:"click"}));try{yield R((0,o._)((0,i._)({},U),{reportParams:L}))}catch(e){}}),function(){return r.apply(this,arguments)});return d?(0,s.jsx)("span",{className:p()(C.Z["report-btn"],P),onClick:j,ref:N,children:d}):(0,s.jsxs)("span",{className:p()(C.Z["report-btn"],P),onClick:j,ref:N,children:[(0,s.jsx)(v.AKl,{className:p()(C.Z["report-icon"],"aigc-report-icon")}),h.oc.t("web_s2v_report_hover_report",{},"Report")]})}},259184:function(e,t,r){"use strict";r.d(t,{Z:function(){return m}});var n=r(772322);r(822289),r(349601);var i=r(5622),o=r(781494),a=r(218571),s=r(282893),c=r(793676),l=r(454078),u=r(659179),d=r(106502),h=r(123688),f=r(751530),p=r(125518);r(77506);var _=r(123951),v=r(335091),g=e=>{var{toForgetPwd:t}=e;return(0,n.jsx)("div",{className:"lv_sign_in_panel_wide-log-in-footer",children:(0,n.jsx)("div",{className:"lv_sign_in_panel_wide-forget-container",children:(0,n.jsx)("div",{onClick:t,className:"forget-pwd-btn",children:_.oc.t("web_signin_button_forgot_password",{},"Forgot password?")})})})};let m=e=>{var{toForgetPwd:t,toBasePage:r}=e,m=(0,l.t)(),[y]=(0,s.L)(m),E=y.context.emailSignInRef,A=y.context.loginReportParams,[b,T]=(0,s.L)(E),[S,C]=(0,a.useState)(""),[P,w]=(0,a.useState)(""),[R,k]=(0,a.useState)(!1),L=(0,c.v)(E,e=>e.matches("signInSuccess")),I=e=>{T({type:"RESTORE_ACCOUNT",token:e,restoreType:1})},O=e=>{new d.S().report({action:e,current_page:(null==A?void 0:A.currentPage)||"login"})},x=e=>{var t=i.Z.confirm({focusLock:!1,className:"lv_sign_in_panel_wide-restore-account",title:(0,n.jsxs)("div",{className:"lv_sign_in_panel_wide-restore-account-title",children:[(0,n.jsx)(u.rLP,{size:24,color:"#2668FF"}),_.oc.t("web_deactivate_button_delete_restore",{},"Restore deleted account")]}),content:(0,n.jsx)("div",{className:"lv_sign_in_panel_wide-restore-account-content",children:_.oc.t("web_deactivate_text_trying_sign_into",{},"You\u2019re trying to sign into a deleted account. By signing in, your account will be restored. If you don\u2019t restore the account, it will be permanently deleted in 30 days.")}),maskStyle:{zIndex:1103},wrapStyle:{zIndex:1103},onOk:()=>{O("restore"),I(e),t.close()},onCancel:()=>O("cancel"),okText:_.oc.t("web_deactivate_button_restore_confirm",{},"Restore account"),cancelText:_.oc.t("web_deactivate_button_cancel_restore",{},"Cancel"),okButtonProps:{type:"primary"},icon:null,closeIcon:(0,n.jsx)(u.bMz,{size:20,onClick:()=>O("cancel")})})};return(0,a.useEffect)(()=>{T({type:"INIT_LOGIN_ERROR_CB",func:(e,t)=>{var r,n=parseInt(null==e?void 0:null===(r=e.data)||void 0===r?void 0:r.message,10);n===v.B.SIGN_UP_CODE.LOGIN_ERROR_CODE.USER_NOT_EXITE||n===v.B.SIGN_UP_CODE.LOGIN_ERROR_CODE.PASSWORD_WRONG?w(_.oc.t("web_signin_error_text_valid_email",{},"Enter a valid email or password")):t&&n===v.B.SIGN_UP_CODE.LOGIN_ERROR_CODE.USER_ACCOUNT_CANCEL?(O("show"),x(t)):o.Z.error(_.oc.t("log_fail_try_again")),k(!1)}})},[]),(0,n.jsxs)("div",{className:"lv_sign_in_panel_wide-detail",children:[(0,n.jsx)(p.Z,{onClick:r}),(0,n.jsxs)("div",{className:"lv_sign_in_panel_wide-detail-content",children:[(0,n.jsx)("h2",{className:"lv_sign_in_panel_wide-title",children:_.oc.t("web_signin_title_welcome_back",{},"Welcome back")}),(0,n.jsx)(f.Z,{disableBtton:L,loading:!L&&R,defaultEmail:b.context.email,defaultPassword:b.context.password,confirmText:_.oc.t("web_signin_button_sign_in",{},"Sign in"),emailWarn:S,passwordWarn:P,onEmailChange:e=>{T({type:"SAVE_EMAIL",email:e}),""===e||h.s9.test(e.trim())?C(""):C(_.oc.t("email_contain_at")),P===_.oc.t("web_signin_error_text_valid_email",{},"Enter a valid email of password")&&w("")},onPasswordChange:e=>{T({type:"SAVE_PASSWORD",password:e}),""===e||h.lI.test(e)?w(""):w(_.oc.t("set_password_rule"))},onSignIn:(e,t)=>{if(""===e||""===t){""===e&&C(_.oc.t("fill_the_text")),""===t&&w(_.oc.t("fill_the_text"));return}""===S&&""===P&&(T({type:"CONFIRM_SIGN",email:e,password:t}),k(!0))}}),(0,n.jsx)(g,{toForgetPwd:t})]})]})}},442884:function(e,t,r){"use strict";r.d(t,{Z:function(){return m}});var n=r(772322);r(822289),r(529114);var i=r(5622),o=r(595051),a=r(218571),s=r(44324),c=r(984452),l=r(123688),u=r(366667),d=r(454078),h=r(793676),f=r(282893),p=r(625656),_=r(123951),v=r(937729),g=r(437069);r(663153);let m=e=>{var{brandName:t,theme:r,onBack:m,onAgeErrorBack:y,openUnderAgeModal:E}=e,A=(0,d.t)(),b=(0,h.v)(A,e=>{var t,r;return null!==(r=null===(t=e.context.userInfo)||void 0===t?void 0:t.region)&&void 0!==r?r:p.yp.US}),T=(0,h.v)(A,e=>{var t;return null===(t=e.context.ipLocationInfo)||void 0===t?void 0:t.Subdivisions}),S=(0,h.v)(A,e=>e.context.newEmailSignInRef),C=(0,h.v)(A,e=>e.context.enableDeviceAgeBan),[P]=(0,f.L)(A),w=P.context.newEmailSignInRef,R=(0,h.v)(w,e=>e.context.birthday),k=(0,h.v)(w,e=>e.context.currentWindow),L=P.context.thirdPartSignInRef,[I,O]=(0,f.L)(L),[,x]=(0,f.L)(S),[D,M]=(0,a.useState)(""),[N,H]=(0,a.useState)(!1),F=k===l.L4.ENTER_BIRTHDAY,U=(0,a.useCallback)(e=>{M(e)},[]),j=(0,a.useCallback)(()=>{var e,r=(0,c.Ig)(b,D,(null==T?void 0:null===(e=T.map)||void 0===e?void 0:e.call(T,e=>e.GeoNameID))||[]),[n,o,a]=D.split("-").map(e=>Number(e)),s=e=>{new v.S().report({action:e,signup_type:"email"}),y()};if(r)F?(A.send({type:"UPDATE_REPORT_PARAMS",params:{age_year:n,age_month:o,age_date:a}}),x({type:"CONFIRM_BIRTHDAY",value:D,region:b})):O({type:"SET_THIRD_PARTY_BIRTHDAY",birthday:D});else{P.context.ageGateChecker.ageDeviceBan.ban();var l=t||"Capcut";E?E():i.Z.error({className:"lv_new_sign_in_panel_wide-birthday-modal",maskStyle:{zIndex:1103},wrapStyle:{zIndex:1103},title:C?_.ZP.t("dre_account_title_capcut_not_available_age_reason",{},"Can\u2019t access"):_.ZP.t("web_quebec_users_tiitle_minimum_age",{},"Minimum age requirement not met"),content:C?_.ZP.t("dre_account_toast_capcut_not_available_age_reason",{},"You\u2019re not eligible for CapCut."):_.ZP.t("cc_web_multiple_age_limit",{string0:l},"According to local laws, you don\u2019t meet the minimum age requirement to use ".concat(l,".")),okText:_.ZP.t("web_quebec_users_button_get_it_one",{},"Got it"),onOk:()=>s("got_it"),onCancel:()=>s("close")}),new v.S().report({action:"show",signup_type:"email"})}},[b,D,A,x]);return(0,n.jsxs)("div",{className:"lv_new_sign_in_panel_wide-birthday-detail",children:[(0,n.jsx)(g.Z,{style:{top:32,zIndex:99},onClick:m,text:_.ZP.t("web_accounts_btn_sign_up_if_no_account",{},"Sign up")}),(0,n.jsxs)("div",{className:"lv_new_sign_in_panel_wide-birthday-wrapper",children:[(0,n.jsxs)("div",{className:"lv_new_sign_in_panel_wide-birthday-title-wrapper",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"lv_new_sign_in_panel_wide-birthday-title",children:_.ZP.t("web_signin_title_birthday_when",{},"When\u2019s your birthday?")}),(0,n.jsx)("p",{className:"lv_new_sign_in_panel_wide-birthday-subtitle",children:_.ZP.t("web_signin_desc_birthday_when",{},"Your birthday won\u2019t be shown publicly.")})]}),(0,n.jsx)("div",{className:"lv_new_sign_in_panel_wide-birthday-picker",children:(0,n.jsx)(u.i,{birthdayStr:R,theme:r,mode:(0,s.S7)().isMobile?"native":"custom",setIsBirthdayValid:H,onChange:U})})]}),(0,n.jsx)(o.Z,{className:"lv_new_sign_in_panel_wide-birthday-next lv_new_sign_in_panel_wide-primary-button",disabled:""===D||!N,type:"primary",onClick:j,children:_.ZP.t("web_signin_button_continue_signin",{},"Continue")})]})]})}},853812:function(e,t,r){"use strict";r.d(t,{Z:function(){return _}});var n=r(772322);r(349601);var i=r(781494),o=r(218571),a=r(282893),s=r(123951),c=r(335091),l=r(542714),u=r(454078),d=r(123688),h=r(720197),f=r(437069);r(670064);var p=e=>{var{toLogIn:t,isInvitePage:r}=e;return(0,n.jsx)("div",{className:"lv_new_sign_in_panel_wide-sign-up-footer",children:!r&&(0,n.jsxs)("div",{className:"lv_new_sign_in_panel_wide-footer-switch",children:[(0,n.jsx)("span",{className:"lv_new_sign_in_panel_wide-footer-switch-text",children:s.ZP.t("web_signin_text_have_account",{},"Have an account?")}),(0,n.jsx)("span",{onClick:t,className:"lv_new_sign_in_panel_wide-footer-switch-button",children:s.ZP.t("web_signin_button_siginin_old_account",{},"Sign in")})]})})};let _=e=>{var{toLogIn:t,toBasePage:r}=e,_=(0,u.t)(),[v,g]=(0,a.L)(_),[m,y]=(0,a.L)(v.context.newEmailSignInRef),[E,A]=(0,o.useState)(""),[b,T]=(0,o.useState)(""),[S,C]=(0,o.useState)(!1),[P,w]=(0,o.useState)(!1),R=v.context.userInviteRef,[k]=(0,a.L)(R),{isInvitePage:L}=k.context,{searchParams:I}=new URL(window.location.href);return(0,o.useEffect)(()=>{y({type:"INIT_SEND_CODE_ERROR_CB",func:e=>{var t,r=parseInt(null===(t=e.data)||void 0===t?void 0:t.message,10);C(!1),r===c.B.SIGN_UP_CODE.SEND_CODE_ERROR_CODE.EMAIL_ERROR?A(s.ZP.t("email_contain_at")):r===c.B.SIGN_UP_CODE.REGISTER_ERROR_CODE.LINKED_EMAIL?A(s.ZP.t("web_accounts_text_email_already_signed_up")):r===c.B.SIGN_UP_CODE.SEND_CODE_ERROR_CODE.SENDING_FREQUENTLY?i.Z.error(s.ZP.t("many_code_later")):i.Z.error(s.ZP.t("fail_sign_try_again")),y({type:"BACK_TO_FILL_REGISTER_INFO"})}})},[]),(0,n.jsxs)("div",{className:"lv_new_sign_in_panel_wide-detail",children:[(0,n.jsx)(f.Z,{onClick:r,text:s.ZP.t("web_accounts_btn_sign_up_if_no_account",{},"Sign up")}),(0,n.jsxs)("div",{className:"lv_new_sign_in_panel_wide-detail-content",children:[(0,n.jsx)("h2",{className:"lv_new_sign_in_panel_wide-title",children:s.ZP.t("web_signin_title_create_account",{},"Create an account")}),(0,n.jsx)(h.Z,{disableButton:P,defaultEmail:I.get(l.h3)||m.context.email,defaultPassword:m.context.password,confirmText:s.ZP.t("web_continue",{},"Continue"),emailWarn:E,passwordWarn:b,loading:S,onEmailChange:(e,t)=>{y({type:"SAVE_EMAIL",email:e}),t.current&&""===e&&t.current.focus(),(""===e||E&&d.s9.test(e.trim()))&&A("")},onEmailBlur:()=>{""===m.context.email||d.s9.test(m.context.email.trim())?(A(""),w(!1)):(A(s.ZP.t("email_contain_at")),w(!0))},onPasswordChange:e=>{y({type:"SAVE_PASSWORD",password:e}),(""===e||b&&d.lI.test(e))&&T("")},onPasswordBlur:()=>{""===m.context.password||d.lI.test(m.context.password)?T(""):T(s.ZP.t("set_password_rule"))},onSignIn:(e,t)=>{if(""===e||""===t){""===e&&A(s.ZP.t("fill_the_text")),""===t&&T(s.ZP.t("fill_the_text"));return}if(""===E&&""===b){if(v.context.enableDeviceAgeBan&&v.context.ageGateChecker.ageDeviceBan.isBeingBanned()){i.Z.error(s.ZP.t("dre_account_toast_capcut_not_available_age_reason",{},"You\u2019re not eligible to use CapCut."));return}C(!0),y({type:"SEND_EMAIL_CODE",email:e,password:t,onError:e=>{C(!1),1031===e.error_code?A(s.ZP.t("email_contain_at")):i.Z.error(s.ZP.t("fail_sign_try_again"))}})}}}),(0,n.jsx)(p,{isInvitePage:L,toLogIn:t})]})]})}},583661:function(e,t,r){"use strict";r.d(t,{e:function(){return n}});var n={GOOGLE_UNAUTHORIZED:1904}},147966:function(e,t,r){"use strict";r.d(t,{k:function(){return n}});var n={ASSET_TRANSCODE_FAIL:-11001}},604632:function(e,t,r){"use strict";var n,i,o,a;r.d(t,{e:function(){return n},u:function(){return i}}),(o=n||(n={}))[o.ERR_CTEATE_WORKSPACE_OVER_MAX_SIZE=2312]="ERR_CTEATE_WORKSPACE_OVER_MAX_SIZE",o[o.ERR_Hit_Sensitive_Word=2334]="ERR_Hit_Sensitive_Word",(a=i||(i={}))[a.ERR_UPLOAD_LINK_NOT_EXIST=2341]="ERR_UPLOAD_LINK_NOT_EXIST"},208282:function(e,t,r){"use strict";r.d(t,{l:function(){return n}});var n={HOME:{PATH:"/",LOCALE_PATH:"/:locale/",MATCHER:"/:locale*/",HAS_LOCALE_PREFIX:!0,INDEXING:!0},CREATIVE_SUITE:{PATH:"/creative-suite",LOCALE_PATH:"/:locale/creative-suite",MATCHER:"/:locale*/creative-suite",HAS_LOCALE_PREFIX:!0,INDEXING:!0},APPEAL_PAGE:{PATH:"/appeal-age-restriction",LOCALE_PATH:"/appeal-age-restriction",MATCHER:"/appeal-age-restriction",HAS_LOCALE_PREFIX:!1},WORKSPACE:{CHILD:{MY_DRAFT:{NAME:"my_draft",PATH:"/my-edit",LOCALE_PATH:"/my-edit",MATCHER:"/my-edit",HAS_LOCALE_PREFIX:!1},TEMPLATE:{NAME:"templates",PATH:"/templates",LOCALE_PATH:"/templates",MATCHER:"/templates",HAS_LOCALE_PREFIX:!1},TEMPLATE_DETAIL:{PATH:"/templates/:id",LOCALE_PATH:"/templates/:id",MATCHER:"/templates/:id",HAS_LOCALE_PREFIX:!1,MENU_ACTIVE_KEY:"TEMPLATE"},MAGIC_TOOLS:{NAME:"magic_tools",PATH:"/magic-tools",LOCALE_PATH:"/magic-tools",MATCHER:"/magic-tools",HAS_LOCALE_PREFIX:!1},RECENT_LISTS:{NAME:"recent",PATH:"/recent-list",LOCALE_PATH:"/recent-list",MATCHER:"/recent-list",HAS_LOCALE_PREFIX:!1},MY_FILM:{NAME:"my_file",PATH:"/my-film",LOCALE_PATH:"/my-film",MATCHER:"/my-film",HAS_LOCALE_PREFIX:!1},MY_CLOUD:{NAME:"my_cloud",PATH:"/my-cloud",LOCALE_PATH:"/my-cloud",MATCHER:"/my-cloud",HAS_LOCALE_PREFIX:!1},WORKSPACE_CLOUD:{NAME:"my_cloud",PATH:"/my-cloud/:id",LOCALE_PATH:"/my-cloud/:id",MATCHER:"/my-cloud/:id",HAS_LOCALE_PREFIX:!1},WORKSPACE_CLOUD_TRASH:{NAME:"my_cloud_trash",PATH:"/my-cloud/:id/trash",LOCALE_PATH:"/my-cloud/:id/trash",MATCHER:"/my-cloud/:id/trash",HAS_LOCALE_PREFIX:!1,MENU_ACTIVE_KEY:"WORKSPACE_CLOUD"},WORKSPACE_BRAND_LIBRARY:{NAME:"brand_library",PATH:"/my-cloud/:id/brand-library",LOCALE_PATH:"/my-cloud/:id/brand-library",MATCHER:"/my-cloud/:id/brand-library",HAS_LOCALE_PREFIX:!1,MENU_ACTIVE_KEY:"WORKSPACE_CLOUD"},MY_SHARE:{NAME:"share_records",PATH:"/my-share",LOCALE_PATH:"/my-share",MATCHER:"/my-share",HAS_LOCALE_PREFIX:!1},PUBLISH_CALENDAR:{NAME:"publish_calendar",PATH:"/publish-calendar",LOCALE_PATH:"/publish-calendar",MATCHER:"/publish-calendar",HAS_LOCALE_PREFIX:!1,MENU_ACTIVE_KEY:"MY_SHARE"},PROFILE:{NAME:"profile",PATH:"/profile",LOCALE_PATH:"/profile",MATCHER:"/profile",HAS_LOCALE_PREFIX:!1},SEARCH:{NAME:"search",PATH:"/search",LOCALE_PATH:"/search",MATCHER:"/search",HAS_LOCALE_PREFIX:!1},SEARCH_RESULTS:{NAME:"search-results",PATH:"/search-results",LOCALE_PATH:"/search-results",MATCHER:"/search-results",HAS_LOCALE_PREFIX:!1},THIRDPARTY_START:{NAME:"thirdparty_start",PATH:"/thirdparty-start",LOCALE_PATH:"/thirdparty-start",MATCHER:"/thirdparty-start",HAS_LOCALE_PREFIX:!1},APPROVAL_RESULT:{PATH:"/approval-result",LOCALE_PATH:"/approval-result",MATCHER:"/approval-result",HAS_LOCALE_PREFIX:!0},CREATOR_ACTIVITY:{NAME:"creator_activity",PATH:"/creator-activity",LOCALE_PATH:"/creator-activity",MATCHER:"/creator-activity",HAS_LOCALE_PREFIX:!1},MY_CREATOR_ACTIVITY:{NAME:"my-creator-activities",PATH:"/my-creator-activities",LOCALE_PATH:"/my-creator-activities",MATCHER:"/my-creator-activities",HAS_LOCALE_PREFIX:!1},CREATOR_ACTIVITY_DETAIL:{NAME:"creator-activity-detail",PATH:"/creator-activity/:id",LOCALE_PATH:"/creator-activity/:id",MATCHER:"/creator-activity/:id",HAS_LOCALE_PREFIX:!1}}},LOGIN:{PATH:"/login",LOCALE_PATH:"/:locale/login",MATCHER:"/:locale*/login",HAS_LOCALE_PREFIX:!0,INDEXING:!0},SIGN_UP:{PATH:"/signup",LOCALE_PATH:"/:locale/signup",MATCHER:"/:locale*/signup",HAS_LOCALE_PREFIX:!0,INDEXING:!0},DOWNLOAD_GUIDANCE:{PATH:"/download-guidance",LOCALE_PATH:"/download-guidance",MATCHER:"/download-guidance",HAS_LOCALE_PREFIX:!1},INVITE:{PATH:"/invite",LOCALE_PATH:"/:locale/invite",MATCHER:"/:locale*/invite",HAS_LOCALE_PREFIX:!0},FORGET_PWD:{PATH:"/forget-password",LOCALE_PATH:"/:locale/forget-password",MATCHER:"/:locale*/forget-password",HAS_LOCALE_PREFIX:!0},TEAM_INVITE:{PATH:"/team-invite/:id",LOCALE_PATH:"/team-invite/:id",MATCHER:"/team-invite/:id",HAS_LOCALE_PREFIX:!1},TEAM_APPLY:{PATH:"/team-apply",LOCALE_PATH:"/team-apply",MATCHER:"/team-apply",HAS_LOCALE_PREFIX:!1},LOGIN_STATUS:{PATH:"/loginStatus",LOCALE_PATH:"/loginStatus",MATCHER:"/loginStatus",HAS_LOCALE_PREFIX:!1},COOPERATION:{DETAIL:{PID:"/view/:id",PATH:"/view/:id",LOCALE_PATH:"/view/:id",MATCHER:"/:locale*/view/:id",HAS_LOCALE_PREFIX:!1},EXPERIENCE:{PATH:"/view",LOCALE_PATH:"/view",MATCHER:"/view",HAS_LOCALE_PREFIX:!1},SHARE:{PID:"/share/:id",PATH:"/share/:id",LOCALE_PATH:"/share/:id",MATCHER:"/share/:id",HAS_LOCALE_PREFIX:!1},EMBED:{PID:"/embed/:id",PATH:"/embed/:id",LOCALE_PATH:"/embed/:id",MATCHER:"/embed/:id",HAS_LOCALE_PREFIX:!1},RENDER:{PID:"/render/:id",PATH:"/render/:id",LOCALE_PATH:"/render/:id",MATCHER:"/render/:id",HAS_LOCALE_PREFIX:!1},REPORT:{PID:"/report",PATH:"/report",LOCALE_PATH:"/report",MATCHER:"/report",HAS_LOCALE_PREFIX:!1},DRAFT_PREVIEW:{PID:"/draft-preview/:id",PATH:"/draft-preview/:id",LOCALE_PATH:"/draft-preview/:id",MATCHER:"/draft-preview/:id",HAS_LOCALE_PREFIX:!1}},TOKEN_AUTH:{PATH:"/tokenAuth",LOCALE_PATH:"/tokenAuth",MATCHER:"/tokenAuth",HAS_LOCALE_PREFIX:!1},EDITOR:{PATH:"/editor",LOCALE_PATH:"/editor",MATCHER:"/editor",HAS_LOCALE_PREFIX:!1,INDEXING:!0},TIKTOK_AUTH:{PATH:"/tiktokAuth",LOCALE_PATH:"/tiktokAuth",MATCHER:"/tiktokAuth",HAS_LOCALE_PREFIX:!1},THIRD_PARTY_ENTRANCE:{PATH:"/third-party-entrance",LOCALE_PATH:"/third-party-entrance",MATCHER:"/third-party-entrance",HAS_LOCALE_PREFIX:!1},COOKIE_SETTINGS:{PATH:"/cookie-settings",LOCALE_PATH:"/cookie-settings",MATCHER:"/cookie-settings",HAS_LOCALE_PREFIX:!1,INDEXING:!0},PRIVACY_SETTINGS:{PATH:"/privacy-settings",LOCALE_PATH:"/privacy-settings",MATCHER:"/privacy-settings",HAS_LOCALE_PREFIX:!0,INDEXING:!0},THIRDPARTY_CLOUD_STORAGE_AUTH:{PATH:"/thirdpartyCloudStorageAuth",LOCALE_PATH:"/thirdpartyCloudStorageAuth",MATCHER:"/thirdpartyCloudStorageAuth",HAS_LOCALE_PREFIX:!1},CAPCUT_APP:{PATH:"/tools/video-editing-app",LOCALE_PATH:"/:locale/tools/video-editing-app",MATCHER:"/:locale*/tools/video-editing-app",HAS_LOCALE_PREFIX:!0,INDEXING:!0},CMS_TOOLS:{PATH:"/tools/:title",LOCALE_PATH:"/:locale/tools/:title",MATCHER:"/:locale*/tools/:title",HAS_LOCALE_PREFIX:!0},CMS_CREATE:{PATH:"/create/:title",LOCALE_PATH:"/:locale/create/:title",MATCHER:"/:locale*/create/:title",HAS_LOCALE_PREFIX:!0},CMS_RESOURCE:{PATH:"/resource/:title",LOCALE_PATH:"/:locale/resource/:title",MATCHER:"/:locale*/resource/:title",HAS_LOCALE_PREFIX:!0},CMS_TOOLS_AGGREGATION:{PATH:"/tools",LOCALE_PATH:"/:locale/tools",MATCHER:"/:locale*/tools",HAS_LOCALE_PREFIX:!0},CMS_CREATE_AGGREGATION:{PATH:"/create",LOCALE_PATH:"/:locale/create",MATCHER:"/:locale*/create",HAS_LOCALE_PREFIX:!0},CMS_RESOURCE_AGGREGATION:{PATH:"/resource",LOCALE_PATH:"/:locale/resource",MATCHER:"/:locale*/resource",HAS_LOCALE_PREFIX:!0},COLLECT_RESOURCE:{NAME:"collect-resource",PATH:"/collect-resource/:token",LOCALE_PATH:"/collect-resource/:token",MATCHER:"/collect-resource/:token",HAS_LOCALE_PREFIX:!1},EDITOR_TOOLS:{NAME:"editor-tools",PATH:"/editor-tools",LOCALE_PATH:"/editor-tools/:name",MATCHER:"/editor-tools/:name",HAS_LOCALE_PREFIX:!1,TEXT_TO_IMAGE:{PATH:"/magic-tools/convert-text-to-image",LOCALE_PATH:"/magic-tools/convert-text-to-image",MATCHER:"/magic-tools/convert-text-to-image",HAS_LOCALE_PREFIX:!1},IMAGE_TO_IMAGE:{PATH:"/magic-tools/generate-image",LOCALE_PATH:"/magic-tools/generate-image",MATCHER:"/magic-tools/generate-image",HAS_LOCALE_PREFIX:!1},IMAGE_STYLE_AVATAR:{PATH:"/magic-tools/generate-portrait",LOCALE_PATH:"/magic-tools/generate-portrait",MATCHER:"/magic-tools/generate-portrait",HAS_LOCALE_PREFIX:!1},IMAGE_NIGHT_ENHANCE:{PATH:"/magic-tools/enhance-low-light-image",LOCALE_PATH:"/magic-tools/enhance-low-light-image",MATCHER:"/magic-tools/enhance-low-light-image",HAS_LOCALE_PREFIX:!1},IMAGE_STYLE_CONVERSION:{PATH:"/magic-tools/stylize-photo",LOCALE_PATH:"/magic-tools/stylize-photo",MATCHER:"/magic-tools/stylize-photo",HAS_LOCALE_PREFIX:!1},IMAGE_UPSCALER:{PATH:"/magic-tools/upscale-image",LOCALE_PATH:"/magic-tools/upscale-image",MATCHER:"/magic-tools/upscale-image",HAS_LOCALE_PREFIX:!1},IMAGE_AI_TONING:{PATH:"/magic-tools/correct-color",LOCALE_PATH:"/magic-tools/correct-color",MATCHER:"/magic-tools/correct-color",HAS_LOCALE_PREFIX:!1},IMAGE_COLORING:{PATH:"/magic-tools/ai-colorize",LOCALE_PATH:"/magic-tools/ai-colorize",MATCHER:"/magic-tools/ai-colorize",HAS_LOCALE_PREFIX:!1},IMAGE_RESTORATION:{PATH:"/magic-tools/ai-restore",LOCALE_PATH:"/magic-tools/ai-restore",MATCHER:"/magic-tools/ai-restore",HAS_LOCALE_PREFIX:!1},VIDEO_VIDEO_STYLE_CONVERSION:{PATH:"/magic-tools/stylize-video",LOCALE_PATH:"/magic-tools/stylize-video",MATCHER:"/magic-tools/stylize-video",HAS_LOCALE_PREFIX:!1},VIDEO_UPSCALER:{PATH:"/magic-tools/upscale-video",LOCALE_PATH:"/magic-tools/upscale-video",MATCHER:"/magic-tools/upscale-video",HAS_LOCALE_PREFIX:!1},VIDEO_SLOW_MOTION:{PATH:"/magic-tools/make-slomo",LOCALE_PATH:"/magic-tools/make-slomo",MATCHER:"/magic-tools/make-slomo",HAS_LOCALE_PREFIX:!1},VIDEO_STABILIZATION:{PATH:"/magic-tools/stablize-video",LOCALE_PATH:"/magic-tools/stablize-video",MATCHER:"/magic-tools/stablize-video",HAS_LOCALE_PREFIX:!1},TRANSFORM:{PATH:"/editor-tools/transform",LOCALE_PATH:"/editor-tools/transform",MATCHER:"/editor-tools/transform",HAS_LOCALE_PREFIX:!1},CUTOUT:{PATH:"/editor-tools/cutout",LOCALE_PATH:"/editor-tools/cutout",MATCHER:"/editor-tools/cutout",HAS_LOCALE_PREFIX:!1},SCRIPT:{PATH:"/editor-tools/script",LOCALE_PATH:"/editor-tools/script",MATCHER:"/editor-tools/script",HAS_LOCALE_PREFIX:!1},AUTO_CUT:{PATH:"/editor-tools/autocut",LOCALE_PATH:"/editor-tools/autocut",MATCHER:"/editor-tools/autocut",HAS_LOCALE_PREFIX:!1},TEXT_TO_VIDEO:{PATH:"/editor-tools/convert-script-to-video",LOCALE_PATH:"/editor-tools/convert-script-to-video",MATCHER:"/editor-tools/convert-script-to-video",HAS_LOCALE_PREFIX:!1},U2V:{PATH:"/editor-tools/url-to-ads",LOCALE_PATH:"/editor-tools/url-to-ads",MATCHER:"/editor-tools/url-to-ads",HAS_LOCALE_PREFIX:!1},LONG_TO_SHORT:{PATH:"/editor-tools/long-video-to-shorts",LOCALE_PATH:"/editor-tools/long-video-to-shorts",MATCHER:"/editor-tools/long-video-to-shorts",HAS_LOCALE_PREFIX:!1},AIGC_VIDEO:{PATH:"/editor-tools/ai-video-generator",LOCALE_PATH:"/editor-tools/ai-video-generator",MATCHER:"/editor-tools/ai-video-generator",HAS_LOCALE_PREFIX:!1},TTS:{PATH:"/magic-tools/text-to-speech",LOCALE_PATH:"/editor-tools/text-to-speech",MATCHER:"/editor-tools/text-to-speech",HAS_LOCALE_PREFIX:!1},AUDIO_VIDEO_TRANSLATOR:{PATH:"/magic-tools/video-translator",LOCALE_PATH:"/magic-tools/video-translator",MATCHER:"/magic-tools/video-translator",HAS_LOCALE_PREFIX:!1}},TOOlS:{ONLINE:{PATH:"/tools/online-video-editor"},DESKTOP:{PATH:"/tools/desktop-video-editor"}},DISCOVER:{PATH:"/discover/keyword/:id",LOCALE_PATH:"/:locale/discover/keyword/:id",MATCHER:"/:locale*/discover/keyword/:id",HAS_LOCALE_PREFIX:!0},DISCOVER_TITLE:{PATH:"/discover/keyword/:title/:id",LOCALE_PATH:"/:locale/discover/keyword/:title/:id",MATCHER:"/:locale*/discover/keyword/:title/:id",HAS_LOCALE_PREFIX:!0},EDITOR_GRAPHIC:{PATH:"/editor-graphic",LOCALE_PATH:"/editor-graphic",MATCHER:"/editor-graphic",HAS_LOCALE_PREFIX:!1,INDEXING:!0},EDITOR_BATCH:{PATH:"/editor-batch",LOCALE_PATH:"/editor-batch",MATCHER:"/editor-batch",HAS_LOCALE_PREFIX:!1,INDEXING:!0},TEMPLATE_DETAIL:{PATH:"/templates/:id",LOCALE_PATH:"/:locale/templates/:id",MATCHER:"/:locale*/templates/:id",HAS_LOCALE_PREFIX:!0},TEMPLATE_DETAIL_KEYWORDS:{PATH:"/template-detail/:key/:id",LOCALE_PATH:"/:locale/template-detail/:key/:id",MATCHER:"/:locale*/template-detail/:key/:id",HAS_LOCALE_PREFIX:!0},TEMPLATE_DETAIL_NO_KEYWORDS:{PATH:"/template-detail/:id",LOCALE_PATH:"/:locale/template-detail/:id",MATCHER:"/:locale*/template-detail/:id",HAS_LOCALE_PREFIX:!0},PROFILE:{PATH:"/profile/:id",LOCALE_PATH:"/:locale/profile/:id",MATCHER:"/:locale*/profile/:id",HAS_LOCALE_PREFIX:!0},SETTINGS:{PATH:"/settings",LOCALE_PATH:"/:locale/settings",MATCHER:"/:locale*/settings",HAS_LOCALE_PREFIX:!0},HASHTAG:{PATH:"/discover/hashtag/:title/:id",LOCALE_PATH:"/:locale/discover/hashtag/:title/:id",MATCHER:"/:locale*/discover/hashtag/:title/:id",HAS_LOCALE_PREFIX:!0},CATEGORY:{PATH:"/discover/category/:title/:id",LOCALE_PATH:"/:locale/discover/category/:title/:id",MATCHER:"/:locale*/discover/category/:title/:id",HAS_LOCALE_PREFIX:!0},CREATOR:{PATH:"/discover/creator/:id",LOCALE_PATH:"/:locale/discover/creator/:id",MATCHER:"/:locale*/discover/creator/:id",HAS_LOCALE_PREFIX:!0},UG_ARTICLE:{PATH:"/discover/article/:title/:id",LOCALE_PATH:"/:locale/discover/article/:title/:id",MATCHER:"/:locale*/discover/article/:title/:id",HAS_LOCALE_PREFIX:!0},TEMPLATE:{PATH:"/templates",LOCALE_PATH:"/:locale/templates",MATCHER:"/:locale*/templates",HAS_LOCALE_PREFIX:!0},EDITOR_TEMPLATE:{PATH:"/editor-template",LOCALE_PATH:"/editor-template",MATCHER:"/editor-template",HAS_LOCALE_PREFIX:!1,INDEXING:!0},MAGIC_TOOLS:{TEXT_TO_IMAGE:{PATH:"/magic-tools/convert-text-to-image",LOCALE_PATH:"/magic-tools/convert-text-to-image",MATCHER:"/magic-tools/convert-text-to-image",HAS_LOCALE_PREFIX:!1},IMAGE_TO_IMAGE:{PATH:"/magic-tools/generate-image",LOCALE_PATH:"/magic-tools/generate-image",MATCHER:"/magic-tools/generate-image",HAS_LOCALE_PREFIX:!1}},SCAN_QR_CODE:{PATH:"/scan-qr-code",LOCALE_PATH:"/scan-qr-code",MATCHER:"/scan-qr-code",HAS_LOCALE_PREFIX:!1,INDEXING:!1},FILL_BIRTHDAY:{PATH:"/birthday-information",LOCALE_PATH:"/birthday-information",MATCHER:"/birthday-information",HAS_LOCALE_PREFIX:!1,INDEXING:!1},TUTORIAL:{PATH:"/tutorial",LOCALE_PATH:"/:locale/tutorial",MATCHER:"/:locale*/tutorial",HAS_LOCALE_PREFIX:!0},ACCOUNT_CENTER:{PATH:"/account-center",LOCALE_PATH:"/account-center",MATCHER:"/account-center",HAS_LOCALE_PREFIX:!1,CHILD:{LOGIN:{PATH:"/account-center/login",LOCALE_PATH:"/account-center/login",MATCHER:"/account-center/login",HAS_LOCALE_PREFIX:!1}}},FACEBOOK_LOGIN:{PATH:"/facebook-login",LOCALE_PATH:"/facebook-login",MATCHER:"/facebook-login",HAS_LOCALE_PREFIX:!1}}},921665:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(218571),i=r(50751),o=(0,n.createContext)({userService:{},theme:i.Q.Light,setTheme:()=>void 0,locale:{}})},307645:function(e,t,r){"use strict";r.d(t,{Fg:function(){return d},SN:function(){return u},VO:function(){return l}});var n=r(50751),i=r(539),o=r(218571),a=r(786377),s=r(283659),c=r(921665),l=new class{init(e){var t=this.retrive()?this.retrive()===n.Q.Dark:document.body.getAttribute("lv-theme")===n.Q.Dark;return this.apply(t?n.Q.Dark:n.Q.Light),e(t?n.Q.Dark:n.Q.Light),this.listen(e)}listen(e){var t=window.matchMedia("(prefers-color-scheme: dark)"),r=t=>{this.apply(t.matches?n.Q.Dark:n.Q.Light,!0),e(t.matches?n.Q.Dark:n.Q.Light)};return t.addListener(r),()=>{t.removeListener(r)}}apply(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._theme=e,e===n.Q.Dark?document.body.setAttribute("lv-theme","dark"):document.body.removeAttribute("lv-theme"),t&&this.store()}checkCookieEnabled(){return"undefined"==typeof window||!navigator.cookieEnabled}retrive(){if(!this.checkCookieEnabled())return s.m.getString(i.g.CAPCUT_THEME)}store(){this.checkCookieEnabled()||(a.Z.set(i.g.CAPCUT_THEME,this._theme),s.m.setString(i.g.CAPCUT_THEME,this._theme))}clear(){this.checkCookieEnabled()||(a.Z.remove(i.g.CAPCUT_THEME),s.m.removeItem(i.g.CAPCUT_THEME))}constructor(){this._theme=n.Q.Light}};function u(){var e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],[t,r]=(0,o.useState)(n.Q.Light);return(0,o.useEffect)(()=>e?l.init(r):()=>void 0,[]),[t,function(t){e&&(l.apply(t,!0),r(t))}]}function d(){var{theme:e,setTheme:t}=(0,o.useContext)(c.Z);return[e,t]}},106502:function(e,t,r){"use strict";r.d(t,{S:function(){return i}});var n=r(554269);class i{report(e){this.reporter.report("account_restore_popup",e)}constructor(){this.reporter=(0,n.y)()}}},124656:function(e,t,r){"use strict";r.d(t,{C:function(){return i},m:function(){return u}});var n,i,o=r(69984),a=r(764112),s=r(554269),c=r(52102),l=r(901058);(n=i||(i={}))[n.LoginIn=0]="LoginIn",n[n.SignUp=1]="SignUp",n[n.ForgetPwd=2]="ForgetPwd";class u{reportStatus(e){this.reporter.reportBecon("login_status",(0,a._)((0,o._)({},e),{enable_looki:(null===(t=window._libra_abtest_uuid)||void 0===t?void 0:t.enable_looki_passport)===!0}));var t,r=(0,c.jr)(e.is_login_new_user?"sign_up":"sign_in");(0,l.T)().report(this.reporter,r)}reportPageAction(e){var t;this.reporter.report("login_page",(0,a._)((0,o._)({},e),{enable_looki:(null===(t=window._libra_abtest_uuid)||void 0===t?void 0:t.enable_looki_passport)===!0}))}constructor(){this.reporter=(0,s.y)()}}},886316:function(e,t,r){"use strict";r.d(t,{A:function(){return a}});var n=r(461228),i=r(492728),o=r(521179);class a extends o.g{init(){var e=this;return(0,n._)(function*(){var t,{workspaceId:r}=e.props;if(!r)throw Error(JSON.stringify({code:-1,msg:"[error]no parameter workspaceid passed in."}));try{t=yield i.o.getUploadToken({workspaceId:r})}catch(e){var n=e.data||e;throw Error(JSON.stringify({code:n.ret||n.code,msg:n.errmsg||e.msg}))}e.stsToken={AccessKeyId:t.security_token.access_key_id,SecretAccessKey:t.security_token.secret_access_key,SessionToken:t.security_token.session_token,ExpiredTime:t.security_token.expired_time,CurrentTime:t.security_token.current_time},e.config={userId:t.everphoto_user_id,appId:t.app_id,useServerCurrentTime:!0,videoHost:t.upload_domain.includes("://")?t.upload_domain:"https://".concat(t.upload_domain),videoConfig:{spaceName:t.service_id},objectConfig:{spaceName:t.service_id}}})()}getStsToken(){return this.stsToken}getConfig(){return this.config}constructor(e){super(),this.props=e}}},366667:function(e,t,r){"use strict";r.d(t,{i:function(){return g}});var n=r(69984),i=r(764112),o=r(772322);r(188506),r(445175);var a=r(948106),s=r(429907),c=r(218571),l=r(105789),u=r.n(l),d=r(496022),h=r(984452),f=r(41723),p=r.n(f),_=r(123951);r(41784);var v=r(50751),g=e=>{var t,{mode:r="custom",theme:l=v.Q.Light,setIsBirthdayValid:f,customVerfication:g,onChange:m,birthdayStr:y}=e,[E,A,b]=null!==(t=null==y?void 0:y.split("-"))&&void 0!==t?t:[],[T,S]=(0,c.useState)(!1),[C,P]=(0,c.useState)(!1),[w,R]=(0,c.useState)(!1),[k,L]=(0,d.e)(y?h._N.withContext((0,i._)((0,n._)({},h._N.context),{year:Number(E),month:Number(A),date:Number(b)})):h._N),{month:I,date:O,year:x,months:D,dates:M}=k.context,[N,H]=(0,c.useState)(""),F=(0,c.useRef)(null),U=(0,c.useMemo)(()=>{var e=p()(N);return[e.month(),e.date(),e.year()]},[N]),j=["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map(e=>e?_.ZP.t(e):e);(0,c.useEffect)(()=>{p()("".concat(x,"-").concat(I,"-").concat(O)).isAfter(p()(new Date))?R(!0):R(!1)},[x,I,O]),(0,c.useEffect)(()=>{var e=p()("".concat(x,"-").concat(I,"-").concat(O));if(!k.matches("valid")||w||T||C){null==f||f(!1);return}null==f||f(!0),null==m||m(e.format("YYYY-MM-DD"))},[m,k,x,I,O,T,C,w,f]),(0,c.useEffect)(()=>{"native"===r&&N&&(!g||g(...U))&&(null==m||m(N))},[r,N,g]),(0,c.useEffect)(()=>{L({type:"CHANGE_CUSTOM_VERFICATION",callback:g})},[g]);var B=e=>{e.length<4?(S(!1),P(!0)):Number(e)<new Date().getFullYear()-130||Number(e)>=new Date().getFullYear()+1||e.length<4?S(!0):(P(!1),S(!1))};return(0,o.jsx)("div",{"data-lv-theme-force":"light"===l?"light":"dark",className:u()("gate_birthday-picker",l||""),children:"custom"===r?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"gate_birthday-picker-content",children:[(0,o.jsx)(s.Z,{className:"gate_birthday-picker-input",value:-1===x||0===x?"":String(x),placeholder:_.ZP.t("web_signin_placeholder_year",{},"Year"),onChange:e=>{if(!isNaN(Number(e))){L({type:"CHANGE_YEAR",value:Number(e)});var t=String(e);t.length>3&&B(t)}},onBlur:()=>{B(String(x))},maxLength:4,style:{width:112},error:T||C||w}),(0,o.jsx)(a.Z,{className:"gate_birthday-picker-selector",placeholder:_.ZP.t("web_signin_placeholder_month",{},"Month"),options:D.map(e=>({label:j[e],value:e})),value:-1===I?void 0:I,style:{flex:1},error:w,triggerProps:{className:"age_gate_birthday-selector",getPopupContainer:()=>{var e=document.createElement("div");return e.setAttribute("data-lv-theme-force","light"===l?"light":"dark"),e.setAttribute("style","width: 100%; position: absolute; top: 0px; left: 0px;z-index: 2000;"),document.body.append(e),e}},onChange:e=>L({type:"CHANGE_MONTH",value:e})}),(0,o.jsx)(a.Z,{className:"gate_birthday-picker-selector",placeholder:_.ZP.t("web_signin_placeholder_day",{},"Day"),options:M.map(e=>({label:String(e),value:e})),value:-1===O?void 0:O,style:{width:112},error:w,triggerProps:{className:"age_gate_birthday-selector",getPopupContainer:()=>{var e=document.createElement("div");return e.setAttribute("data-lv-theme-force","light"===l?"light":"dark"),e.setAttribute("style","width: 100%; position: absolute; top: 0px; left: 0px;z-index: 2000;"),document.body.append(e),e}},onChange:e=>L({type:"CHANGE_DATE",value:e})})]}),T||C||w?(0,o.jsx)("div",{className:"gate_birthday-error_text",children:T||w?_.ZP.t("dre_account_text_year_number_requirement",{},"Enter a valid date of birth"):_.ZP.t("dre_account_text_year_number_requirement_digit",{},"Enter a 4-digit number")}):null]}):(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{className:"gate_birthday-input",onClick:()=>{F.current.showPicker()},children:[(0,o.jsx)("span",{className:u()(N?"":"placeholder"),children:N||"Enter your birthday"}),(0,o.jsx)("input",{ref:F,className:"gate_birthday-input",type:"date",onChange:e=>{var t=p()(e.target.value),r=t.year,n=t.month,i=t.day;L({type:"CHANGE_YEAR",value:Number(r)}),L({type:"CHANGE_MONTH",value:Number(n)}),L({type:"CHANGE_DATE",value:Number(i)}),H(e.target.value?t.format("YYYY-MM-DD"):"")}})]})})})}},31202:function(e,t,r){"use strict";r.d(t,{I:function(){return i}});var n=r(786377);class i{static getString(e){return n.Z.get(e)}static setString(e,t,r){n.Z.set(e,t,{expires:r?new Date(r):void 0})}static getJson(e){var t=n.Z.get(e),r=null;if(!t)return null;try{r=JSON.parse(t)}catch(e){console.error("CookiesTool JSON parse Error:",e)}return r}static removeItem(e){n.Z.remove(e)}}},555725:function(e,t,r){"use strict";r.d(t,{G3:function(){return l},aD:function(){return c}});var n=r(69984),i=r(722169),o=r(123951),a=r(382838),s=r(823310);function c(e){var t=[];return Object.keys(e).forEach(r=>{var n=e[r];Array.isArray(n)?n.forEach(function(e){t.push("".concat(r,"=").concat(e))}):t.push("".concat(r,"=").concat(n))}),t.join("&")}function l(e){var t,r,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},h=(r={},(t=(0,s.Jx)()).slice(t.indexOf("?")+1).split("&").filter(e=>!!e).map(e=>{var[t,n]=e.split("=");r[t]=n}),r),f=(0,i.omit)((0,n._)({},d,h,l),u),p=e,_="";try{var v=new URL(e);p=v.pathname,_=v.origin}catch(e){}for(var g in f)f[g]||delete f[g];var m=c(f),y=a.uL.formatRoutePath({path:p,locale:o.ZP.language||"en"}),[,E]=e.split("?");return E&&(m="".concat(E,"&").concat(m)),"".concat(_).concat(y).concat(m?"?":"").concat(m)}},561547:function(e,t,r){"use strict";r.d(t,{AR:function(){return d}});var n=r(41723),i=r.n(n),o=r(328449),a=r.n(o),s=r(317851),c=r.n(s),l=r(79611),u=r.n(l);function d(e){return i()(e).isLeapYear()}r(123951),i().extend(a()),i().extend(c()),i().extend(u())},926171:function(e,t,r){"use strict";function n(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],[r,n]=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.split(".");return t.length<=1?[e,""]:[t.slice(0,-1).join("."),t[t.length-1]]}(e),i="".concat(r,"-").concat(n?".":"").concat(n),o=0,a=i;t.includes(a);)o++,a="".concat(r,"-").concat(o).concat(n?".":"").concat(n);return a}r.d(t,{Gs:function(){return n}})},561872:function(e,t,r){"use strict";r.d(t,{NY:function(){return a},gB:function(){return i},pf:function(){return o}});var n=r(823310);function i(e,t){var r=new URLSearchParams((0,n.Jx)());Object.entries(null!=t?t:{}).forEach(e=>{var[t,n]=e;r.set(t,n)});var i=r.toString();location.href=globalThis.xssNamespace["lvweb/smart-tools"].filterUrl("".concat(location.origin).concat(e).concat(i?"?".concat(i):""),null,{logType:"js.href/src",mode:"black",reportOnly:"all"})}function o(e){return new URLSearchParams((0,n.Jx)()).get(e)}var a=e=>{var t,r=new URLSearchParams((0,n.Jx)());for(var i in e)r.set(i,e[i]),"object"==typeof(null===(t=window.location)||void 0===t?void 0:t.originParams)&&(window.location.originParams[i]=e[i]);var o="".concat(window.location.href.split("?")[0],"?").concat(r.toString());history.replaceState("",document.title,o)}},723597:function(e,t,r){"use strict";r.d(t,{E:()=>y});let n=r("461228"),i=r("69984"),o=r("764112"),a=r("789786"),s=r("677684"),c=r("834457"),l=r("968822"),u=r("145014"),d=r("855548"),h=r("123951"),f=r("727133"),p=r("460198"),_=r("23537");var v={GetAutoColorTheme:{hostNameType:p.b_.Default,url:"/lv/v1/editor/plane/color/auto"},GetRecommendPalette:{hostNameType:p.b_.Default,url:"/lv/v1/editor/plane/color/recommend"},GetApplyPalette:{hostNameType:p.b_.Default,url:"/lv/v1/editor/plane/color/apply"},GetRecentList:{hostNameType:p.b_.Default,url:"/lv/v1/editor/plane/common/recent_list"},GetPlanePaletteFeed:{hostNameType:p.b_.Default,url:"/lv/v1/editor/plane/color/feed"},ReportRecently:{hostNameType:p.b_.Default,url:"/lv/v1/editor/use_report"}},g=_.aK.Common;let m=r("111265");class y{getAutoColorTheme(e){var t=this;return(0,n._)(function*(){var{url:r,hostNameType:n}=v.GetAutoColorTheme,a=(0,o._)((0,i._)({},e),{app_version:m.eP,sdk_version:m.AS,lang:h.ZP.language,region:yield s.Z.apiSetting.getUserRegion()}),{canvas:c,layers:l=[],palette_recommend_list:d}=JSON.parse((yield t._service({url:r,data:a,[u.Tf]:n})).result);return{canvas:c,layers:l,paletteList:d[0].palette_list}})()}getRecommendColorPalette(e){var t=this;return(0,n._)(function*(){var{url:r,hostNameType:n}=v.GetRecommendPalette,a=(0,o._)((0,i._)({},e),{app_version:m.eP,sdk_version:m.AS,lang:h.ZP.language,region:yield s.Z.apiSetting.getUserRegion()}),{canvas:c,layers:l=[],palette_recommend_list:d}=yield t._service({url:r,data:a,[u.Tf]:n});return{canvas:c,layers:l,recommendList:null==d?void 0:d.map(e=>({layerId:e.layer_id,paletteList:e.palette_list}))}})()}getApplyColorPalette(e){var t=this;return(0,n._)(function*(){var{url:r,hostNameType:n}=v.GetApplyPalette,a=(0,o._)((0,i._)({},e),{app_version:m.eP,sdk_version:m.AS,lang:h.ZP.language,region:yield s.Z.apiSetting.getUserRegion()}),{canvas:c,layers:l=[]}=JSON.parse((yield t._service({url:r,data:a,[u.Tf]:n})).result);return{canvas:c,layers:l}})()}getRecentlyUsedColorPalette(){var e=this;return(0,n._)(function*(){var{url:t,hostNameType:r}=v.GetRecentList,n={cursor:0,count:50,common_action_key:"palette",app_version:m.eP,sdk_version:m.AS,lang:h.ZP.language,region:yield s.Z.apiSetting.getUserRegion()},{new_cursor:i,has_more:o,item_list:a=[]}=yield e._service({url:t,data:n,[u.Tf]:r});return{newCursor:i,hasMore:o,itemList:a}})()}reportRecentlyUsedPalette(e){var t=this;return(0,n._)(function*(){var{url:r,hostNameType:n}=v.ReportRecently,i={type:g,common_action_key:"palette",common_action_value:e.commonActionValue};return yield t._service({url:r,data:i,[u.Tf]:n})})()}getPlanePaletteFeedList(){var e=this;return(0,n._)(function*(){var{url:t,hostNameType:r}=v.GetPlanePaletteFeed;return yield e._service({url:t,data:{type:g,common_action_key:"palette"},[u.Tf]:r})})()}constructor(){var e=new s.Z;this._service=e.setDefaultConfig(m.s0).useJsonBigTransformResponse().addInterceptor([new c.g({}),new l.$,new d.b]).build()}}(0,a.gn)([(0,f.V)(),(0,a.w6)("design:type",Function),(0,a.w6)("design:paramtypes",["undefined"==typeof AutoColorThemeReqParams?Object:AutoColorThemeReqParams]),(0,a.w6)("design:returntype",Promise)],y.prototype,"getAutoColorTheme",null),(0,a.gn)([(0,f.V)(),(0,a.w6)("design:type",Function),(0,a.w6)("design:paramtypes",["undefined"==typeof AutoColorThemeReqParams?Object:AutoColorThemeReqParams]),(0,a.w6)("design:returntype",Promise)],y.prototype,"getRecommendColorPalette",null),(0,a.gn)([(0,f.V)(),(0,a.w6)("design:type",Function),(0,a.w6)("design:paramtypes",["undefined"==typeof ApplyColorPaletteParams?Object:ApplyColorPaletteParams]),(0,a.w6)("design:returntype",Promise)],y.prototype,"getApplyColorPalette",null),(0,a.gn)([(0,f.V)(),(0,a.w6)("design:type",Function),(0,a.w6)("design:paramtypes",[]),(0,a.w6)("design:returntype",Promise)],y.prototype,"getRecentlyUsedColorPalette",null),(0,a.gn)([(0,f.V)(),(0,a.w6)("design:type",Function),(0,a.w6)("design:paramtypes",["undefined"==typeof ColorPaletteRecentReportParams?Object:ColorPaletteRecentReportParams]),(0,a.w6)("design:returntype",Promise)],y.prototype,"reportRecentlyUsedPalette",null),(0,a.gn)([(0,f.V)(),(0,a.w6)("design:type",Function),(0,a.w6)("design:paramtypes",[]),(0,a.w6)("design:returntype",Promise)],y.prototype,"getPlanePaletteFeedList",null)},23537:function(e,t,r){"use strict";var n,i,o,a,s,c;r.d(t,{aK:function(){return o}}),(a=n||(n={}))[a.HeyCan=1]="HeyCan",a[a.Loki=2]="Loki",(s=i||(i={})).Text="text",s.Image="image",s.Shape="shape",s.Color="color",s.Line="line",(c=o||(o={})).Template="template",c.Effect="effect",c.Material="material",c.Common="common"},349541:function(e,t,r){"use strict";var n=r(263559),i=r(241027),o=r(727133),a=r(723597),s=r(426926),c=r(843841),l=r(93237),u=r(213658),d=r(999737),h=r(96564),f=r(19910),p=r(349746),_=r(313109);r(527345),r(936760),r(210834),r(514206),r(414842),function(e){for(var t of e)o.j.getInstance().registerApi(t);new Proxy({},{get(e,t){var r=o.j.getInstance().getApiMethod(t);if(r)return r}})}([new n.co,new i.f,new a.E,new s.a,new c.RT,new u.D,new d.x,new h.I,new f.w,new p.D,new l.l,new _.jn])},668992:function(e,t,r){"use strict";var n,i;r.d(t,{i:function(){return n}}),(i=n||(n={}))[i.CC=1]="CC",i[i.MWEB=2]="MWEB",i[i.LONG_TO_SHORT=3]="LONG_TO_SHORT"},769698:function(e,t,r){"use strict";r.d(t,{Oo:function(){return i}}),r(69984),r(460198),r(722169);var n=/#([0-9a-fA-F]{6})([0-9a-fA-F]{2})?/;function i(e){var t=n.exec(e);if(t){for(var r=[],[,i,o]=t,a=0;a<6;a+=2)r.push(parseInt(i.slice(a,a+2),16));return[r[0],r[1],r[2],parseInt(null!=o?o:"ff",16)/255]}return[0,0,0,0]}},427680:function(e,t,r){"use strict";function n(e){var t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return new Promise(r=>{var n=document.createElement("input");n.type="file",n.accept=e,n.multiple=t,n.addEventListener("change",e=>{var t=null==e?void 0:e.target,n=null==t?void 0:t.files;r(Array.from(null!=n?n:[]))}),n.click()})}r.d(t,{IL:function(){return n}})},982393:function(e,t,r){"use strict";r.d(t,{l:function(){return i}});var n=r(461228);function i(){return function(e,t,r){var i=r.value;return"function"==typeof i&&(r.value=(0,n._)(function*(){for(var e,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return yield null===this||void 0===this?void 0:null===(e=this.init)||void 0===e?void 0:e.call(this),yield i.apply(this,r)})),r}}},549630:function(e,t,r){"use strict";r.d(t,{I:function(){return c}});var n=r(722169),i=r(117785),o=r(747890),a=r(282560),s=r(640712);class c extends a.bF{get isValid(){return!(0,n.isEmpty)(this._sourceData._meta)}get id(){return this.notOnlyId}get notOnlyId(){return this._sourceData.id}get md5(){return this._sourceData.md5}get name(){var e;return(null===(e=this.entry)||void 0===e?void 0:e.entry_name)||this._sourceData.file_name}get author(){return this._sourceData.author}get sourcePath(){return this._sourceData.source_path}get mime(){return this._sourceData.mime}get subType(){return this._sourceData.sub_type}get size(){return this._sourceData.size}get sizeStr(){return(0,o.ys)(this.size)}get filterList(){return this._sourceData.filter_list||[]}get type(){return a.Gk.NORMAL}get width(){return this._sourceData.width}get height(){return this._sourceData.height}get updatedAt(){var e,t;return 1e3*((null===(t=this._sourceData)||void 0===t?void 0:null===(e=t.entry)||void 0===e?void 0:e.access_at_ts)||this._sourceData.updated_at_ts)}get createdAt(){return 1e3*this._sourceData.uploaded_at}get downloadUrl(){var e;return null===(e=this._sourceData.asset_meta)||void 0===e?void 0:e.download_url}get meta(){var e;return null===(e=this._sourceData)||void 0===e?void 0:e._meta}get status(){var e;return null===(e=this._sourceData)||void 0===e?void 0:e.status}get permission(){return s.iH.isGroupSdk?this._sourceData.permission||i.y3.PUBLIC:i.y3.PERSONAL}get isPublic(){return this.permission===i.y3.PUBLIC}get isPersonal(){return this.permission===i.y3.PERSONAL}get owner(){var e,t,r;return null===(r=this._sourceData)||void 0===r?void 0:null===(t=r._meta)||void 0===t?void 0:null===(e=t.uploadSource)||void 0===e?void 0:e.owner}get uploadedAt(){return 1e3*this._sourceData.uploaded_at}get entryId(){return this._sourceData.entry_id}get entry(){return this._sourceData.entry||this._sourceData.entry_data}get sourceData(){return this._sourceData}get hasMaterialTag(){return this._sourceData.has_material_tag}constructor(e,t){super((0,o.Wg)({obj:e,serializeKey:"meta",targetKey:"_meta"})),this.sdk=t}}},730314:function(e,t,r){"use strict";r.d(t,{t:function(){return i}});var n=r(461228);class i{acquire(){var e=this;return(0,n._)(function*(){return new Promise(t=>{e._availableConcurrency>0?(e._availableConcurrency--,t()):e._waitingQueue.push(t)})})()}release(){if(this._waitingQueue.length>0){var e=this._waitingQueue.shift();e&&e()}else this._availableConcurrency<this._maxConcurrency&&this._availableConcurrency++}constructor(e){this._maxConcurrency=e,this._availableConcurrency=e,this._waitingQueue=[]}}},629652:function(e,t,r){"use strict";r.d(t,{m:function(){return o}});var n=r(640712),i=r(361460);function o(){var e;return{uploadSource:{owner:null===(e=n.iH.options)||void 0===e?void 0:e.user_id,platform:"browser",systemVersion:window.navigator.userAgent,appVersion:i.i8}}}},501404:function(){"use strict";var e,t,r,n;(r=e||(e={})).path="path",r.circle="circle",r.rect="rect",(n=t||(t={})).brush="brush",n.eraser="eraser"},243683:function(e,t,r){"use strict";r(215719),r(159327)},687998:function(){"use strict";var e,t;(t=e||(e={})).MetaSubTypeAutoBeauty="auto_beauty",t.MetaSubTypeExclusion="exclusion",t.MetaSubTypeExclusionFace="exclusion_face"},974414:function(){"use strict";var e,t,r,n;(r=e||(e={})).Canvas="canvas",r.Element="elements",(n=t||(t={})).Include="include",n.Overlap="overlap",n.Opposite="opposite",n.Horizontal="horizontal",n.Vertical="vertical"},865482:function(e,t,r){"use strict";r.d(t,{e2:function(){return s},rp:function(){return i},u0:function(){return c}});var n,i,o=r(980014),a=r(658742);(n=i||(i={}))[n.Unlocked=0]="Unlocked",n[n.Locked=1]="Locked";class s{get status(){return this._status}acquire(){(0,o.Y2)(0===this._status),this._status=1}release(){(0,o.Y2)(1===this._status),this._status=0,this._onUnlocked.fire()}constructor(){this._onUnlocked=new a.Q,this._status=0,this.onUnlocked=this._onUnlocked.event}}class c{get status(){return this._status}get counter(){return this._counter}acquire(){0===this._status&&(this._status=1),this._counter++}release(){(0,o.Y2)(this._counter>0),this._counter--,0===this._counter&&(this._status=0,this._onUnlocked.fire())}constructor(){this._onUnlocked=new a.Q,this._status=0,this._counter=0,this.onUnlocked=this._onUnlocked.event}}},980422:function(e,t,r){"use strict";r.d(t,{cl:function(){return a}});var n,i,o=r(980014);(n=i||(i={}))[n.String=0]="String",n[n.Boolean=1]="Boolean",n[n.Int64=2]="Int64",n[n.Double=3]="Double",n[n.Buffer=4]="Buffer";class a{static string(e,t){var r=new a(e);return r.vStr=t,r.valueType=0,r}static bool(e,t){var r=new a(e);return r.vBool=t,r.valueType=1,r}static int64(e,t){var r=new a(e);return r.vInt64=t,r.valueType=2,r}static double(e,t){var r=new a(e);return r.vDouble=t,r.valueType=3,r}static buffer(e,t){var r=new a(e);return r.vBuffer=t,r.valueType=4,r}toJSON(){switch(this.valueType){case 0:return{[this.key]:this.vStr};case 1:return{[this.key]:this.vBool};case 3:return{[this.key]:this.vDouble};case 2:return{[this.key]:String(this.vInt64)};case 4:return{[this.key]:function(e){var t=new Uint8Array(e),r="";for(var n of t)r+=String.fromCharCode(n);return btoa(r)}(this.vBuffer)};default:(0,o.bP)(this.valueType)}}constructor(e){this.key=e,this.valueType=0,this.vStr="",this.vBool=!1,this.vInt64=0n,this.vDouble=0}}},383600:function(e,t,r){"use strict";r.d(t,{D:function(){return c},G:function(){return l}});var n=r(963473),i=r(133966),o=r(980422),a=r(673749),s=r(836038);class c{get traceId(){return this._spanContext.traceId}get spanId(){return this._spanContext.spanId}get shouldRecordArgs(){return this._spanContext.recordInOut}get hasError(){return this._hasError}get duration(){return this._duration}get process(){return this._process}get operationName(){return this._operationName}get reference(){return this._reference}get startTime(){return this._startTime}get metrics(){return this._metrics}linkParent(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.ru.ChildOf;this._reference=new s.KR(this._spanContext.traceId,e,t)}addLink(e){this._links.push(e)}addLinks(e){this._links.push(...e)}setReferenceType(e){this._reference&&(this._reference.refType=e)}setOperationName(e){this._operationName=e}addEvent(e){this._tags.push(e)}addEvents(e){this._tags.push(...e)}setSent(e){try{var t=JSON.stringify(e);this._tags.push(o.cl.string("request",t.substring(0,1e3)))}catch(e){return}}setReceive(e){try{var t=JSON.stringify(e);this._tags.push(o.cl.string("response",t.substring(0,1e3)))}catch(e){return}}addLog(e){this._logs.push({timestamp:Date.now(),fields:e})}addMetrics(e){this._metrics.push(...e)}markError(e){var t,r,i;this._hasError=!0,this._tags.push(o.cl.bool("error",!0)),e instanceof Error?(this._tags.push(o.cl.double("error_code",null!==(t=e.code)&&void 0!==t?t:-1)),this._errorCode=String(null!==(r=e.code)&&void 0!==r?r:-1),this._tags.push(o.cl.string("error_message",e.message)),this._tags.push(o.cl.string("error_name",e.name)),this._error="".concat(e.name,"_").concat(e.message),e.stack&&this._tags.push(o.cl.string("error_stack",e.stack)),e.cause&&this._tags.push(o.cl.string("error_cause","string"==typeof e.cause?e.cause:JSON.stringify(e.cause)))):(0,n.oi)(e)&&!e.ok&&(this._tags.push(o.cl.double("error_code",e.code)),this._errorCode=String(null!==(i=e.code)&&void 0!==i?i:-1),this._tags.push(o.cl.string("error_message",e.msg)),e.cause&&this._tags.push(o.cl.string("error_cause",e.toString())),e.stack&&this._tags.push(o.cl.string("error_stack",e.stack)),this._error="".concat(e.code,"_").concat(e.msg))}end(){this._duration=Date.now()-this._startTime,this._spanContext.commit(this)}toJSON(){var e=this._reference?[this._reference.toJSON()]:[];return this._links.length>0&&this._links.forEach(t=>e.push((0,s.b2)(t.context.traceId,t.context.spanId).toJSON())),{traceId:this._spanContext.traceId,spanId:this._spanContext.spanId,startTime:this._startTime,duration:this._duration,operationName:this._operationName,references:e,processName:this._process.name,tags:this._tags.map(e=>e.toJSON()),logs:this._logs.map(e=>({timestamp:e.timestamp,fields:e.fields.map(e=>e.toJSON())})),hasError:this._hasError,error:this._error,errorCode:this._errorCode}}exportMetrics(){return this._metrics.map(e=>e.toJSON())}constructor(e,t,r=!1){this._spanContext=e,this.root=r,this._links=[],this._startTime=Date.now(),this._duration=-1,this._tags=[],this._logs=[],this._metrics=[],this._operationName="",this._hasError=!1,this._process=a.A.get(t)}}function l(){return Math.floor(Math.random()*Number.MAX_SAFE_INTEGER)}},561915:function(e,t,r){"use strict";r.d(t,{H:function(){return n}});class n{insert(e){this._heap.push(e),this._siftUp()}peek(){return this._heap.length>0?this._heap[0]:null}remove(){if(0===this._heap.length)return null;if(1===this._heap.length)return this._heap.pop();var e=this._heap[0];return this._heap[0]=this._heap.pop(),this._siftDown(),e}size(){return this._heap.length}clear(){this._heap.length=0}_getLeftChildIndex(e){return 2*e+1}_getRightChildIndex(e){return 2*e+2}_getParentIndex(e){return Math.floor((e-1)/2)}_swap(e,t){[this._heap[e],this._heap[t]]=[this._heap[t],this._heap[e]]}_siftUp(){for(var e=this._heap.length-1;e>0&&this._compare(this._heap[this._getParentIndex(e)],this._heap[e])>0;){var t=this._getParentIndex(e);this._swap(e,t),e=t}}_siftDown(){for(var e=0,t=this._getLeftChildIndex(e);t<this._heap.length;){var r=this._getRightChildIndex(e);if(r<this._heap.length&&0>this._compare(this._heap[r],this._heap[t])&&(t=r),0>=this._compare(this._heap[e],this._heap[t]))break;this._swap(e,t),e=t,t=this._getLeftChildIndex(e)}}constructor(e){this._heap=[],e?this._compare=e:this._compare=(e,t)=>e<t?-1:e>t?1:0}}},235137:function(e,t,r){"use strict";r.d(t,{k:function(){return a}});var n=r(218571),i=r(254845),o=(e,t)=>e===t;function a(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{isEqual:a=o,deps:s,shouldUpdateOnlyOnChange:c=!1}=r,l=function(){var[,e]=(0,n.useState)(0);return(0,n.useCallback)(()=>{e(e=>e+1)},[])}(),u=e=>(function e(t){if("object"!=typeof t)return t;if(t instanceof Array)return t.map(t=>e(t));if(t instanceof Object){if(t&&t.$$typeof===Symbol.for("react.element"))return t;var r={};for(var n in t)"object"==typeof t[n]?r[n]=e(t[n]):r[n]=t[n];return r}return t})(t(e)),d=(0,n.useRef)();return d.current||(e?d.current=u(e):d.current=void 0),(0,n.useEffect)(()=>{if(e){var t=(0,i.U5)(()=>u(e),(e,t)=>{d.current=e,c&&a(e,t)||l()},{fireImmediately:!0});return()=>{t()}}},[e,...null!=s?s:[]]),d.current}},563210:function(e,t,r){"use strict";r.d(t,{Q3:function(){return i},Ww:function(){return o},lr:function(){return n},s4:function(){return a}});var n="118.0.0",i="32.0.1",o="14.6.0",a=400000n},162374:function(e,t,r){"use strict";var n,i,o,a,s,c,l,u,d,h,f,p,_,v;r.d(t,{ZZ:function(){return l}}),(u=n||(n={})).Android="android",u.Ios="ios",u.Browser="browser",u.Mac="mac",u.Windows="windows",(d=i||(i={})).TemplatelistSearch="templatelist_search",d.TemplatelistCategory="templatelist_category",d.TemplatelistSimilar="templatelist_similar",d.TemplatelistSearchNoResult="templatelist_search_no_result",d.EditorSimilar="editor_similar",d.EditorSearch="editor_search",d.EditorRecommended="editor_recommended",(h=o||(o={})).TemplatelistSearch="templatelist_search",h.TemplatelistCategory="templatelist_category",h.TemplatelistSimilar="templatelist_similar",h.TemplatelistSearchNoResult="templatelist_search_no_result",(f=a||(a={})).Search="search",f.Category="category",f.SimilarRecommendation="similar_recommendation",(p=s||(s={})).EmptyCutsame="empty_cutsame",p.DreaminaStory="dreamina_story",(_=c||(c={}))[_.VideoCut=0]="VideoCut",_[_.VideoTemplate=1]="VideoTemplate",_[_.Script=3]="Script",_[_.SmartTool=4]="SmartTool",_[_.Graphic=5]="Graphic",_[_.DreaminaAIEditor=6]="DreaminaAIEditor",(v=l||(l={}))[v.default=0]="default",v[v.remove_background=5]="remove_background",v[v.resize_video=6]="resize_video",v[v.ad_script=7]="ad_script",v[v.text_to_image=8]="text_to_image",v[v.image_to_image=9]="image_to_image",v[v.portrait_generator=10]="portrait_generator",v[v.image_style_transfer=11]="image_style_transfer",v[v.video_style_transfer=12]="video_style_transfer",v[v.image_upscaler=13]="image_upscaler",v[v.ai_color_correction=14]="ai_color_correction",v[v.photo_colorizer=15]="photo_colorizer",v[v.old_photo_restoration=16]="old_photo_restoration",v[v.low_light_image_enhancement=17]="low_light_image_enhancement",v[v.video_upscaler=18]="video_upscaler",v[v.super_slow_motion=19]="super_slow_motion",v[v.video_stabilization=20]="video_stabilization",v[v.chatgpt=21]="chatgpt",v[v.autocut=22]="autocut",v[v.text_to_video=23]="text_to_video",v[v.url_to_video=24]="url_to_video",v[v.template=25]="template",v[v.chatgpt_search=26]="chatgpt_search",v[v.long_to_short=27]="long_to_short",v[v.ai_video=28]="ai_video",v[v.text_to_speech=29]="text_to_speech",v[v.av_translator=30]="av_translator",v[v.dreamina_story=33]="dreamina_story"},802217:function(e,t,r){"use strict";r.d(t,{E:function(){return m}});var n=r(461228),i=r(69984),o=r(764112),a=r(963473),s=r(62460),c=r(781440),l=r(258337),u=r(640712),d=r(454941),h=r(167154),f=r(619398),p=r(471216),_=r(123951),v=r(655982),g=r(247869);function m(e){return y.apply(this,arguments)}function y(){return(y=(0,n._)(function*(e){var{addToUserGenerated:t=!0}=e,r=(0,g.O)(e.containerService,e.notificationGenerator);try{var[n,m]=e.containerService.invokeFunction(e=>[e.get(s.ec),e.get(c.b)]),y=Promise.all(e.files.map((s,c)=>{var g,y,E,A,b,T,S=".".concat(s.name.split(".").reverse()[0]);if(e.acceptTypes&&!(0,u.J5)({file:s,accepts:e.acceptTypes})&&!e.acceptTypes.includes("file")||(null===(g=e.disableTypes)||void 0===g?void 0:g.includes(s.type))||(null===(y=e.disableTypes)||void 0===y?void 0:y.includes(S))||s.size<=0)return e.acceptTypesErrorTipDisabled||null==r||r.error(_.ZP.t("current_import_format_not_supported",{},"\u5F53\u524D\u5BFC\u5165\u683C\u5F0F\u4E0D\u652F\u6301")),(0,a.wf)(-1,"un support file type",{name:s.name});if(s.size<=0)return null==r||r.error(_.ZP.t("web_file_upload_toast_empty_file",{},"Can\u2019t upload empty file")),(0,a.wf)(-1,"invalid file size");var C=(0,p.m)(s.size,null===(E=e.checkUploadLimit)||void 0===E?void 0:E.singleSize,(null===(A=e.checkUploadLimit)||void 0===A?void 0:A.isNoNeedSingleSizeLimitToast)?void 0:r);if(!C.ok)return C;var P=null===(b=e.dataDelta)||void 0===b?void 0:b[c];return(0,a.oW)(e.containerService.createInstance(l.p,{fromWorkspaceId:e.fromWorkspaceId,toWorkspaceId:e.toWorkspaceId,fromFolderId:e.fromFolderId,toFolderId:e.toFolderId,data:(0,o._)((0,i._)({key:"",owner:"",md5:""},P),{filename:s.name,sourceType:h.ov.EverCloud,assetType:f.pS.Material,fileType:(null===(T=e.uploadParams)||void 0===T?void 0:T.skipTranscode)?h.YB.File:(0,u.eF)({file:s}),mime:s.type,size:s.size,createdAt:Date.now().valueOf(),updatedAt:Date.now().valueOf()}),autoUpload:e.autoUpload,packageDelta:e.packageDelta,addModelToDraft:(0,v.s)(e.containerService,{addToUserGenerated:t,notificationService:r}),payinPayoutHelper:e.payinPayoutHelper,uploadMaterialLifecycleHelper:new d.x({file:s,uploadSizeChecker:e.uploadSizeChecker,fromWorkspaceId:e.fromWorkspaceId,fromFolderId:e.fromFolderId,uploadParams:e.uploadParams,fastImportAnalyzeHelper:e.fastImportAnalyzeHelper,captureCoverAndThumbHelper:e.captureCoverAndThumbHelper,userMaterialUploadService:n,userMaterialService:m,payinPayoutHelper:e.payinPayoutHelper,checkUploadFlag:e.checkUploadFlag,notificationService:r}),notificationService:r}))}));return yield y}catch(e){return[(0,a.wf)(-1,null==e?void 0:e.message)]}})).apply(this,arguments)}},408989:function(e,t,r){"use strict";r.d(t,{i:function(){return u}});var n=r(461228),i=r(789786),o=r(963473),a=r(980014),s=r(488260),c=r(393167),l=r(167154);class u{getCover(e){var t=this;return(0,n._)(function*(){var{fileType:r,blobUrl:n}=e;if(![l.YB.Video,l.YB.Image].includes(r))return(0,o.wf)(-1,"only support type");switch(r){case l.YB.Video:var i=yield t._getVideoSize(n);if(!i.ok)return i;var c=t._sizeFormat(i.value),u=yield t._videoCaptureService.createCapturer(n,c);if(!u.ok)return u;var d=yield u.value.captureSingleFrame(1,s.l.ArrayBuffer);return(0,o.oW)({url:URL.createObjectURL(new Blob([d.data]))});case l.YB.Image:return yield new Promise(e=>{var t=new Image;t.src=globalThis.xssNamespace["lvweb/smart-tools"].filterUrl(n,null,{logType:"js.href/src",mode:"black",reportOnly:"all"}),t.onload=()=>{e((0,o.oW)({url:n}))},t.onerror=t=>{e((0,o.wf)(-1,"img not loaded"))}});case l.YB.Audio:case l.YB.File:(0,a.ss)();default:(0,a.bP)(r)}})()}getThumb(e){var t=this;return(0,n._)(function*(){var{blobUrl:r}=e;if(e.fileType!==l.YB.Video)return(0,o.wf)(-1,"only support for video");var n=t._getSpriteInterval(1e3*e.duration),i=t._sizeFormat(e.size),a=yield t._videoCaptureService.createCapturer(r,i);if(!a.ok)return a;var u=a.value.captureByInterval(n,s.l.ArrayBuffer),d=(yield(0,c.uC)(u)).map(e=>({frameCount:1,imageWidth:i.width,imageHeight:i.height,url:URL.createObjectURL(new Blob([e.data]))}));return(0,o.oW)({common:{singleFrameWidth:i.width,singleFrameHeight:i.height,totalSetNum:d.length},details:d})})()}_getVideoSize(e){return new Promise(t=>{var r=document.createElement("video"),n=()=>{r.remove(),r=null};r.src=globalThis.xssNamespace["lvweb/smart-tools"].filterUrl(e,null,{logType:"js.href/src",mode:"black",reportOnly:"all"}),r.onloadedmetadata=()=>{var{videoWidth:e,videoHeight:i}=r;t((0,o.oW)({width:e,height:i})),n()},r.onerror=()=>{n(),t((0,o.wf)(-1,"load error"))}})}_sizeFormat(e){var t=e.width,r=e.height;if(e.height>100){var n=100/e.height;t=e.width*n,r=100}return{width:Math.round(t),height:Math.round(r)}}_getSpriteInterval(e){return e>=72e6?e/36e5:e>=36e6?2e4:e>=18e6?1e4:e>=36e5?5e3:e>=18e5?3e3:e>=6e5?2e3:e>=6e4?1e3:e>=1e4?500:e>=5e3?125:100}constructor(e){this._videoCaptureService=e}}u=(0,i.gn)([(0,i.fM)(0,s.T),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[void 0===s.T?Object:s.T])],u)},513351:function(e,t,r){"use strict";r.d(t,{E:function(){return m}});var n=r(461228),i=r(69984),o=r(764112),a=r(574451),s=r(789786),c=r(980014),l=r(963473),u=r(781440),d=r(939051),h=r(167154),f=r(810381),p=r(123951),_=r(520118),v=r(525479),g=r(807283);class m extends _.I{get md5(){return this._data.md5}getModel(){return(0,o._)((0,i._)({},this._data),{id:this.id,status:this.status,draftDelta:this._draftDelta,addModelToDraft:this._addModelToDraftBinder,onModelUpdate:this.onModelUpdate,onResourceReady:this.onResourceReady,onDidDone:this.onDidDone,onDidRemove:this.onDidRemove,syncingUserMaterial:this.syncingUserMaterial})}canRetryPrepare(){return!1}prepare(){(0,c.ss)("should not be called when canRetryUpload is false")}canRetryUpload(){return!1}upload(){(0,c.ss)("should not be called when canRetryUpload is false")}canCancelUpload(){return!1}cancelUpload(){(0,c.ss)("should not be called when canCancelUpload is false")}canRetryTranscode(){return!1}canSync2UserMaterial(){return void 0!==this.toWorkspaceId&&this.fromWorkspaceId!==this.toWorkspaceId}cancelSync2UserMaterial(){this.status===d.a.Syncing2UserMaterial&&this._updateToWorkspaceId(this.fromWorkspaceId)}sync2UserMaterial(){var e=this;return(0,n._)(function*(){(0,c.Y2)(e.status!==d.a.Syncing2UserMaterial,"could not call this function before it change to final status");var t=e._genSyncResultChecker();e.syncingUserMaterial={progress:0};try{e._updateStatus(d.a.Syncing2UserMaterial);var{fromWorkspaceId:r,toWorkspaceId:n}=e;if((0,c.Y2)(e._data.sourceType===h.ov.EverCloud),(0,c.ZB)(r),(0,c.ZB)(n),e.toWorkspaceId!==e.fromWorkspaceId){var i=yield e._userMaterialService.copyMaterialToWorkspace({fromWorkspaceId:r,toWorkspaceId:n,assetId:e._data.assetId,meta:""});if(!i.ok){e._updateStatus(d.a.Sync2UserMaterialFailure,{errInfo:i}),e.syncingUserMaterial.error=i,e._handleSyncError(i.code),e._reportService.reportDevError("sync-material-from-workspace",e.syncingUserMaterial.error);return}}t()&&(e._updateStatus(d.a.Synced2UserMaterial),e._afterSync2UserMaterial())}catch(r){if(t()){var o=(0,l.wf)(-1,null==r?void 0:r.message);e._updateStatus(d.a.Sync2UserMaterialFailure,{errInfo:o}),e.syncingUserMaterial.error=o}}})()}transcode(){(0,c.ss)("should not be called when transcode is false")}delete(e){var t=this,r=()=>super.delete;return(0,n._)(function*(){try{if((0,c.Y2)(t._data.sourceType===h.ov.EverCloud),(0,c.ZB)(t.fromWorkspaceId),!(null==e?void 0:e.onlyDeleteInCache)){var n,i=yield t._userMaterialService.deleteMaterials({workspaceId:t.fromWorkspaceId,assetIds:[t._data.assetId]});if(!i.ok)return i}return yield r().call(t),(0,l.ly)()}catch(e){return(0,l.wf)(-1,null!==(n=null==e?void 0:e.message)&&void 0!==n?n:"unexpected error")}})()}_afterSync2UserMaterial(){this._updateStatus(d.a.Success)}_handleSyncError(e){var t,r=Number(e);if(!this._option.payinPayoutHelper){null===(t=this._notificationService)||void 0===t||t.error(p.ZP.t("web_personal_invite_copy_wrong",{},"Couldn\u2019t copy"));return}r===u.F.Insufficient&&(0,v.i)({payinPayoutHelper:this._option.payinPayoutHelper,payScene:g.Mm.SYNC,workspaceId:this.toWorkspaceId,onPaySuccess:()=>{this.sync2UserMaterial()}})}updateVideoTranscodeInfo(e){this._data.fileType===h.YB.Video&&(this._data.videoTranscodeInfo=e,this._fireModelUpdate())}constructor(e,t,r){var{data:n,toWorkspaceId:i,fromWorkspaceId:o,fromFolderId:s,toFolderId:c}=e,l=(0,a._)(e,["data","toWorkspaceId","fromWorkspaceId","fromFolderId","toFolderId"]);super({toWorkspaceId:i,fromWorkspaceId:o,fromFolderId:s,toFolderId:c,addModelToDraft:e.addModelToDraft,notificationService:e.notificationService}),this._userMaterialService=t,this._reportService=r,this._addModelToDraftBinder=()=>this.addModelToDraft(this),this._option=l,this._data=n,this._updateFromWorkspaceId(e.fromWorkspaceId),this._updateToWorkspaceId(e.toWorkspaceId),this._draftDelta=e.packageDelta,this.canSync2UserMaterial()?this._updateStatus(d.a.WaitForSync2UserMaterial):this._updateStatus(d.a.Success)}}m=(0,s.gn)([(0,s.fM)(1,u.b),(0,s.fM)(2,f.m),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",["undefined"==typeof FileMaterialLifecycleParams?Object:FileMaterialLifecycleParams,void 0===u.b?Object:u.b,void 0===f.m?Object:f.m])],m)},258337:function(e,t,r){"use strict";r.d(t,{p:function(){return y}});var n=r(461228),i=r(69984),o=r(764112),a=r(789786),s=r(939051),c=r(167154),l=r(461644),u=r(520118),d=r(980014),h=r(963473),f=r(900268),p=r(445292),_=r(488277),v=r(270193),g=r(781440),m=r(399573);class y extends u.I{get md5(){return this._data.md5}canRetryPrepare(){return!1}prepare(){(0,d.ss)("Do not need prepare in upload-material-lifecycle.")}getModel(){var e;return(0,o._)((0,i._)({},void 0,this._data),{id:this.id,addModelToDraft:this._addModelToDraftBinder,onModelUpdate:this.onModelUpdate,onResourceReady:this.onResourceReady,onDidDone:this.onDidDone,onDidRemove:this.onDidRemove,status:this.status,uploading:this._uploadMaterialLifecycleHelper.uploading,transcoding:null===(e=this._transcodeMaterialHelper)||void 0===e?void 0:e.transcoding})}canRetryUpload(){return this._uploadBootstrap(),this._uploadMaterialLifecycleHelper.canRetryUpload()}upload(e){this.fromWorkspaceId&&(this._uploadBootstrap(),this._uploadMaterialLifecycleHelper.upload(e))}changeUploadWorkspace(e){this._uploadBootstrap(),(0,m.p)(this)||(this._updateFromWorkspaceId(e),this._uploadMaterialLifecycleHelper.updateFromWorkspaceId(e))}canCancelUpload(){var e,t;return this._uploadBootstrap(),null!==(t=null===(e=this._uploadMaterialLifecycleHelper)||void 0===e?void 0:e.canCancelUpload())&&void 0!==t&&t}cancelUpload(){this._uploadBootstrap(),this._uploadMaterialLifecycleHelper.cancelUpload(),super.cancelUpload()}canRetryTranscode(){var e,t;return null!==(t=null===(e=this._transcodeMaterialHelper)||void 0===e?void 0:e.canRetryTranscode())&&void 0!==t&&t}transcode(){return(0,d.Y2)(this._transcodeMaterialHelper,"helper not found"),this._transcodeMaterialHelper.transcode()}cancelSync2UserMaterial(){this.status===s.a.Syncing2UserMaterial&&this._updateToWorkspaceId(this.fromWorkspaceId)}canSync2UserMaterial(){var e,t;return null!==(t=null===(e=this._syncFromWorkspaceHelper)||void 0===e?void 0:e.canSync2UserMaterial())&&void 0!==t&&t}sync2UserMaterial(){this._triggerSyncMaterialFromWorkspaceHelper(),(0,d.Y2)(this._syncFromWorkspaceHelper,"helper not found"),this._syncFromWorkspaceHelper.sync2UserMaterial()}delete(e){var t=this,r=()=>super.delete;return(0,n._)(function*(){try{return(null==e?void 0:e.onlyDeleteInCache)||(yield t._userMaterialsService.deleteMaterials({workspaceId:t.fromWorkspaceId,assetIds:[t._data.assetId]})),yield r().call(t),(0,h.ly)()}catch(e){var n;return(0,h.wf)(-1,null!==(n=null==e?void 0:e.message)&&void 0!==n?n:"unexpected error")}})()}bindListenerWithLifecycle(){(0,f.V)(this.onDidUpload)(()=>{Promise.resolve().then(()=>{if(this._uploadMaterialLifecycleHelper.dispose(),!this.hasBeenRemoved){if(this._data.fileType===c.YB.Image)this._transcodeMaterialHelper=new p.Y({assetId:this._data.assetId,fromWorkspaceId:this.fromWorkspaceId,userMaterialService:this._userMaterialsService,handler:{status:()=>this.status,onProgress:()=>this._onModelUpdate.fire(this.getModel()),onDidTranscode:this.onDidTranscode,onTranscodeFailure:this.onTranscodeFailure,updateStatus:this._updateStatus.bind(this),updateModel:e=>this._partialUpdateModel(e)}});else if([c.YB.Audio,c.YB.Video].includes(this._data.fileType))this._transcodeMaterialHelper=new _.D({assetId:this._data.assetId,fileType:this._data.fileType,fromWorkspaceId:this.fromWorkspaceId,userMaterialService:this._userMaterialsService,handler:{status:()=>this.status,onProgress:()=>this._onModelUpdate.fire(this.getModel()),onDidTranscode:this.onDidTranscode,onTranscodeFailure:this.onTranscodeFailure,updateStatus:this._updateStatus.bind(this),updateModel:e=>this._partialUpdateModel(e)}});else{this._updateStatus(s.a.Transcoded);return}this._updateStatus(s.a.Transcoding),this._transcodeMaterialHelper.listenTranscodeResult()}})}),(0,f.V)(this.onDidTranscode)(()=>{Promise.resolve().then(()=>{if(!this.hasBeenRemoved){if(void 0===this.toWorkspaceId||this.fromWorkspaceId===this.toWorkspaceId){this._updateStatus(s.a.Success);return}this.sync2UserMaterial()}})}),this.onDidSync2UserMaterial(()=>{Promise.resolve().then(()=>{this.hasBeenRemoved||this._updateStatus(s.a.Success)})})}_triggerSyncMaterialFromWorkspaceHelper(){(0,d.ZB)(this.toWorkspaceId),this._syncFromWorkspaceHelper=this._containerService.createInstance(v.k,{assetId:this._data.assetId,fromWorkspaceId:this.fromWorkspaceId,toWorkspaceId:this.toWorkspaceId,userMaterialService:this._userMaterialsService,payinPayoutHelper:this._option.payinPayoutHelper,handler:{status:()=>this.status,updateStatus:this._updateStatus.bind(this)},notificationService:this._notificationService})}_partialUpdateModel(e){this._data.key&&delete e.key,Object.assign(this._data,e),this._fireModelUpdate()}_uploadBootstrap(){this._hadUploadBootstrap||(this._hadUploadBootstrap=!0,this._uploadMaterialLifecycleHelper.bootstrap({handler:{model:()=>this.getModel(),status:()=>this.status,delete:()=>{this.delete()},onProgress:()=>{this._fireModelUpdate()},onCancelUpload:()=>{this._onDidCancelUpload.fire()},updateStatus:this._updateStatus.bind(this),updateModel:e=>{this._partialUpdateModel(e)}},events:{onSuccess:this.onDidUpload,onError:this.onUploadFailure}}))}constructor(e,t,r){super({fromWorkspaceId:e.fromWorkspaceId,toWorkspaceId:e.toWorkspaceId,addModelToDraft:e.addModelToDraft,fromFolderId:e.fromFolderId,toFolderId:e.toFolderId,notificationService:e.notificationService}),this._option=e,this._userMaterialsService=t,this._containerService=r,this._hadUploadBootstrap=!1,this._addModelToDraftBinder=()=>this.addModelToDraft(this);var{data:n,uploadMaterialLifecycleHelper:i,autoUpload:o=!0}=this._option;this._data=n,this._uploadMaterialLifecycleHelper=i,this._updateStatus(s.a.WaitingUpload),o&&this.upload(),this.bindListenerWithLifecycle()}}y=(0,a.gn)([(0,a.fM)(1,g.b),(0,a.fM)(2,l.t),(0,a.w6)("design:type",Function),(0,a.w6)("design:paramtypes",["undefined"==typeof IUploadMaterialLifecycle?Object:IUploadMaterialLifecycle,void 0===g.b?Object:g.b,void 0===l.t?Object:l.t])],y)},807283:function(e,t,r){"use strict";r.d(t,{Je:function(){return E},MY:function(){return _},Mm:function(){return a},hU:function(){return c},mY:function(){return f},mq:function(){return s},qA:function(){return y}});var n,i,o,a,s,c,l=r(772322),u=r(123951);(n=a||(a={})).SYNC="SYNC",n.UPLOAD="UPLOAD",n.SYNC_TEMPLATE="SYNC_TEMPLATE",n.SELECTED_SPACE_UPLOAD="SELECTED_SPACE_UPLOAD",n.UPGRADE="UPGRADE",n.AUTO_SAVE="AUTO_SAVE",n.SAVE="SAVE",n.EXPORT="EXPORT",n.MOVE_SPACE_MODAL="MOVE_SPACE_MODAL",(i=s||(s={})).UPGRADE="UPGRADE",i.FREE_UP="FREE_UP",i.EXPAND="EXPAND",i.CHANGE_LOCATION="CHANGE_LOCATION",i.TRY_AGAIN="TRY_AGAIN",i.OK="OK";var d={UPGRADE:()=>u.ZP.t("web_livestudio_button_upgraded",{},"Upgrade"),FREE_UP:()=>u.ZP.t("web_livestudio_button_abandon_project",{},"Free up"),EXPAND:()=>u.ZP.t("to_expand_space",{},"Expand"),CHANGE_LOCATION:()=>u.ZP.t("editor_save_storageerror_change",{},"Change storage location"),TRY_AGAIN:()=>u.ZP.t("retry_web",{},"Try again"),OK:()=>u.ZP.t("ok_we_b",{},"OK")};(o=c||(c={})).FREE_UP="FREE_UP",o.CANCEL="CANCEL",o.ABANDON_PROJECT="ABANDON_PROJECT";var h={FREE_UP:()=>u.ZP.t("web_livestudio_button_abandon_project",{},"Free up"),ABANDON_PROJECT:()=>u.ZP.t("abandon_draft",{},"Abandon project"),CANCEL:()=>u.ZP.t("web_livestudio_button_cancelled",{},"Cancel")},f=e=>{var{payScene:t,isSpaceRoleSupportPay:r,isSupportMultiWorkSpace:n,workspaceList:i,isSupportPay:o}=e;return o&&r&&"SELECTED_SPACE_UPLOAD"===t?"UPGRADE":o&&r||"SELECTED_SPACE_UPLOAD"!==t?o&&r?"EXPAND":!o&&r&&i.length>1&&n&&"SYNC"!==t||!r&&n?"CHANGE_LOCATION":"SYNC"===t||"SYNC_TEMPLATE"===t?"TRY_AGAIN":"OK":"FREE_UP"},p=e=>d[f(e)](),_=e=>{var{payScene:t,isSpaceRoleSupportPay:r,isSupportPay:n}=e;return n&&r&&"SELECTED_SPACE_UPLOAD"===t?"FREE_UP":"SELECTED_SPACE_UPLOAD"===t?"CANCEL":"SYNC"===t?"ABANDON_PROJECT":"CANCEL"},v=e=>h[_(e)](),g=e=>{var{payScene:t,isSpaceRoleSupportPay:r,activateWorkspaceInfo:n,isSupportMultiWorkSpace:i,workspaceList:o,isSupportPay:a}=e;return a&&r&&"SELECTED_SPACE_UPLOAD"===t?u.ZP.t("web_livestudio_text_no_space_update",{placeholder0:null==n?void 0:n.name,"color-strong0":e=>(0,l.jsx)("b",{children:e})},"Your space <color-strong0>{placeholder0}</color-strong0> doesn\u2019t have enough storage left. You can upgrade your space, or free up storage."):"SELECTED_SPACE_UPLOAD"===t?u.ZP.t("web_livestudio_text_no_space_clean",{placeholder0:null==n?void 0:n.name,"color-strong0":e=>(0,l.jsx)("b",{children:e})},"Your space <color-strong0>{placeholder0}</color-strong0> doesn\u2019t have enough storage left. You can delete some files to free up storage."):a&&r&&"AUTO_SAVE"===t?u.ZP.t("web_expansion_text_upgrade_storage",{},"Your space storage is almost full. Upgrade your space and try again."):a&&r?u.ZP.t("delete_or_enlarge",{},"Your cloud space has reached the storage limit. You can delete some of your cloud files or expand your cloud storage."):!a&&r&&o.length>1&&i||!r&&i?u.ZP.t("editor_save_storageerror_desc1",{placeholder1:null==n?void 0:n.name},'The storage for "'.concat(null==n?void 0:n.name,'" is running low, please expand the space. You can also change the storage location, or clean up the file and try again.')):"EXPORT"===t?u.ZP.t("export_failed_cloud_spac_reached",{},"The space has reached the storage limit. Delete some files and try again."):u.ZP.t("cloud_web_space_web_limited",{},"Cloud Space has reached its limit. Web doesn't support purchasing more Cloud Space at the moment.")},m=e=>{var{payScene:t,isSupportPay:r}=e;return"SELECTED_SPACE_UPLOAD"===t?u.ZP.t("web_livestudio_title_can_not_save",{},"Couldn\u2019t save project"):"AUTO_SAVE"===t?u.ZP.t("web_expansion_title_can_not_save",{},"Couldn\u2019t save project"):r?u.ZP.t("couldnot_save",{},"Couldn\u2019t save"):u.ZP.t("cannot_web_save_web_peoject",{},"Couldn't save project")},y=(e,t,r,n,i)=>{var{payScene:o}=e,a="auto_save_fail";switch(o){case"AUTO_SAVE":a="auto_save_fail";break;case"SYNC":a="sync_fail";break;case"UPLOAD":case"SELECTED_SPACE_UPLOAD":a="upload_fail";break;case"EXPORT":a="export_fail";break;case"SYNC_TEMPLATE":a="sync_template_fail";break;case"MOVE_SPACE_MODAL":a="change_dictionary_window"}return{enterFrom:a,currentPage:t,pageFrom:r,pageFromExtra:n,reportVipInfo:i}},E=e=>({okText:p(e),cancelText:v(e),content:g(e),title:m(e)})},542842:function(e,t,r){"use strict";r.d(t,{I8:function(){return f},Xl:function(){return h}});var n=r(461228);r(772322),r(529114),r(822289),r(349601);var i=r(5622),o=r(781494),a=r(123951);r(244989);var s=r(733760);r(218571);var c=r(276502),l=r(980014),u=r(548946),d=r(26566);r(360123);var h=(e,t,r)=>{(0,c.Ww)(t,{action:"show",platform:c.iw[r.type]});var{id:d}=r;return(0,l.Y2)(d,"id is undefined"),new Promise(l=>{i.Z.confirm({autoFocus:!1,title:a.ZP.t("ccweb_account_authorization_unlink_pop_up_title",{},"Unlink account?"),content:a.ZP.t("ccweb_account_authorization_unlink_pop_up_description",{},"You won\u2019t be able to upload videos to your TikTok account or view creative insights on CapCut."),onOk:(0,n._)(function*(){try{(0,c.Ww)(t,{action:"unlink",platform:c.iw[r.type]}),yield e.withdrawAuth((0,u.VM)(),d),(0,c.Cx)(t,{platform:c.iw[r.type],status:"success",link_type:"unlink"}),o.Z.success(a.ZP.t("ccweb_account_authorization_unlink_toast_success",{},"Account unlinked")),l(s.d_.Success)}catch(e){(0,c.Cx)(t,{platform:c.iw[r.type],status:"fail",link_type:"unlink"}),o.Z.error(a.ZP.t("ccweb_account_authorization_unlink_toast_fail",{},"Couldn\u2019t unlink")),l(s.d_.Fail),console.log(e),l(s.d_.Fail)}}),onCancel:()=>{(0,c.Ww)(t,{action:"cancel",platform:c.iw[r.type]}),l(s.d_.Cancel)},okText:a.ZP.t("ccweb_account_authorization_unlink_pop_up_button_yes",{},"Unlink"),cancelText:a.ZP.t("ccweb_account_authorization_unlink_pop_up_button_no",{},"Cancel")})})},f=(e,t,r)=>{var i;return new Promise((i=(0,n._)(function*(n,i){try{var l=yield null==e?void 0:e.requestAuth((0,u.VM)(),r);l!==s.Tv.AuthorizationStatusSuccess?(o.Z.error(d.a[l]()),(0,c.Cx)(t,{platform:c.iw[r],status:"fail",link_type:"link"}),n(s.d_.Fail)):(o.Z.success(d.a[l]()),(0,c.Cx)(t,{platform:c.iw[r],status:"success",link_type:"link"}),n(s.d_.Success))}catch(e){o.Z.error(a.ZP.t("ccweb_account_authorization_link_toast_fail",{},"Couldn\u2019t link")),(0,c.Cx)(t,{platform:c.iw[r],status:"fail",link_type:"link"}),console.log(e),n(s.d_.Fail)}}),function(e,t){return i.apply(this,arguments)}))}},933185:function(e,t,r){"use strict";r(833094),r(509932)},552012:function(e,t,r){"use strict";r.d(t,{C:function(){return s}});var n=r(69984),i=r(833094),o=r(509932);class a{getEventParams(){return(0,n._)({page_from:"account_authorization_page"},(0,o.B5)(this._params))}constructor(e){this._params=e,this.eventName="account_authorization_status"}}function s(e,t){(0,i.K)(e,a,[t])}},795988:function(e,t,r){"use strict";r.d(t,{D:function(){return l}});var n=r(772322);r(459360);var i=r(401725),o=r(123951);r(218571);var a=r(659179),s=r(132630),c=r(145193);r(648547);var l=e=>{var{taskId:t,videoName:r,coverUrl:l,progress:u,onDelete:d,hideDropdown:h,onClickItem:f}=e;return(0,n.jsx)("div",{className:"Lv_Task-item-fail",tabIndex:0,children:(0,n.jsxs)("div",{className:"Lv_Task-item",onClick:()=>{null==h||h(),null==f||f(t,c.h.Fail)},children:[(0,n.jsx)(s.Z,{url:l}),(0,n.jsxs)("div",{className:"Lv_Task-item-body fail",children:[(0,n.jsx)("p",{className:"Lv_Task-item-title",children:r}),(0,n.jsx)("div",{className:"Lv_Task-item-progress",children:(0,n.jsx)("div",{className:"Lv_Task-item-progress-value fail",style:{width:"".concat(u,"%")}})}),(0,n.jsx)("p",{className:"Lv_Task-item-desc fail",children:o.oc.t("failed_export_x",{placeholder0:u},"Couldn\u2019t export, {placeholder0}%")})]}),(0,n.jsx)("div",{className:"Lv_Task-item-actions",onClick:e=>{e.stopPropagation(),null==d||d(t)},children:(0,n.jsx)("div",{className:"Lv_Task-item-action",onClick:()=>{null==d||d(t)},children:(0,n.jsx)(i.Z,{className:"Lv_Task-item-action-tip",content:o.oc.t("cancel_web",{},"Cancel"),style:{zIndex:1004},children:(0,n.jsx)(a.xcW,{})})})})]})})}},261677:function(e,t,r){"use strict";r.d(t,{S:function(){return i}});var n=r(145193);function i(e){return e===n.T.Graphic}},477346:function(e,t,r){"use strict";r(772322),r(218571),r(738418)},624804:function(e,t,r){"use strict";r.d(t,{I:function(){return u}});var n=r(69984),i=r(772322),o=r(105789),a=r.n(o),s=r(835886),c=r(683181),l=(0,c.PS)(()=>Promise.all([r.e("8583"),r.e("3173"),r.e("7716"),r.e("9680")]).then(r.bind(r,832406)).then(e=>{var{Lottie:t}=e;return{default:t}})),u=e=>{var{className:t="",config:o={},eventListeners:u=[]}=e;return(0,i.jsx)("div",{className:a()(s.Z.lottieLoadingContainer,t),children:(0,i.jsx)("div",{className:s.Z.loading,children:(0,i.jsx)(c.Xf,{fallback:null,children:(0,i.jsx)(l,{config:(0,n._)({loop:!0,animationData:r(308504)},o),lottieEventListeners:u})})})})}},603430:function(e,t,r){"use strict";r.d(t,{b:function(){return n.b}});var n=r(612059)},771268:function(e,t,r){"use strict";r.d(t,{tN:function(){return n.tN},v_:function(){return i.v},zo:function(){return o.z}});var n=r(434405),i=r(296360),o=r(734400)},972355:function(e,t,r){"use strict";r.d(t,{Rh:function(){return a},ol:function(){return s}});var n=r(285348),i=r(447222),o=r(980014);function a(e,t){switch(e){case n.NS.TikTok:return(0,i.Pm)([t]);case n.NS.FacebookPage:return(0,i.co)([t]);case n.NS.Instagram:return(0,i.bn)([t]);default:(0,o.bP)(e)}}function s(e){return{scheduleTaskId:""}}},483694:function(e,t,r){"use strict";let n=r("69984"),i=r("764112"),o=r("789786"),a=r("772322");r("822289");let s=r("5622"),c=r("577729"),l=r("658742"),u=r("285348"),d=r("461644"),h=r("910723"),f=r("186148"),p=r("771268"),_=r("439409"),v=r("194033"),g=r("776384"),m=r("506878"),y=r("30765"),E=r("955400"),A=r("461228");r("349601");let b=r("781494"),T=r("781440"),S=r("123951"),C=r("254845");class P{init(e){var{fileId:t,fileName:r,fileWorkspaceId:n,downloadUrl:i}=e;this._fileId=t,this._fileName=r,this._fileWorkspaceId=n,this._downloadUrl=i,t&&n&&(0,C.z)(()=>{this.observableData.isDownloadEnable=!0}),this._initVideoDownloadUrl()}autoDownloadVideo(){var e=this;return(0,A._)(function*(){try{(0,C.z)(()=>{e.observableData.isAutoDownloading=!0});var t=yield e._getEverCloudInstance();if((yield t.downloadAssetUrlV2({ids:[e._fileId]})).length)throw Error("get DownloadAssetUrl failure");(0,C.z)(()=>{e.observableData.isAutoDownloading=!1})}catch(t){(0,C.z)(()=>{e.observableData.isAutoDownloading=!1}),b.Z.error(S.ZP.t("file_failed_to_download",{},"File download error"))}})()}addDownloadCount(){this._downloadCountNum++,this._downloadCountNum>3&&this._initVideoDownloadUrl()}destroy(){this._updateDownloadUrlTimer&&clearTimeout(this._updateDownloadUrlTimer),this._updateDownloadUrlTimer=void 0,this._downloadCountNum=0,this._fileId="",this._fileName="",this._fileWorkspaceId=""}_getDownloadUrl(){var e=this;return(0,A._)(function*(){try{var t=yield e._getEverCloudInstance(),{urlMap:r}=yield t.getDownloadUrl({ids:[e._fileId],names:[e._fileName],ttl:3600,maxTime:5});e._updateDownloadUrlTimer&&(clearTimeout(e._updateDownloadUrlTimer),e._updateDownloadUrlTimer=void 0),e._updateDownloadUrlTimer=setTimeout(()=>{e._initVideoDownloadUrl()},348e4);var{url:n}=r[e._fileId];(0,C.z)(()=>{e.observableData.isLoading=!1,e.observableData.videoDownloadUrl=n}),e._downloadCountNum=0}catch(t){(0,C.z)(()=>{e.observableData.isLoading=!1,e.observableData.isLoadError=!0})}})()}_initVideoDownloadUrl(){var e=this;return(0,A._)(function*(){if(!e.observableData.isLoading){if((0,C.z)(()=>{e.observableData.isLoading=!0,e.observableData.isLoadError=!1,e.observableData.videoDownloadUrl=""}),e._downloadUrl)(0,C.z)(()=>{e.observableData.isLoading=!1,e.observableData.videoDownloadUrl=e._downloadUrl||""}),e._downloadCountNum=0;else try{var t=yield e._getEverCloudInstance(),{urlMap:r}=yield t.getDownloadUrl({ids:[e._fileId],names:[e._fileName],ttl:3600,maxTime:5});e._updateDownloadUrlTimer&&(clearTimeout(e._updateDownloadUrlTimer),e._updateDownloadUrlTimer=void 0),e._updateDownloadUrlTimer=setTimeout(()=>{e._initVideoDownloadUrl()},348e4);var{url:n}=r[e._fileId];(0,C.z)(()=>{e.observableData.isLoading=!1,e.observableData.videoDownloadUrl=n}),e._downloadCountNum=0}catch(t){(0,C.z)(()=>{e.observableData.isLoading=!1,e.observableData.isLoadError=!0})}}})()}_getEverCloudInstance(){return this._userMaterialsService.getEvercloudInstance(this._fileWorkspaceId)}constructor(e){this._userMaterialsService=e,this.observableData=(0,C.LO)({isLoading:!1,isLoadError:!1,videoDownloadUrl:"",isDownloadEnable:!1,isAutoDownloading:!1}),this._downloadCountNum=0,this._fileId="",this._fileName="",this._fileWorkspaceId=""}}P=(0,o.gn)([(0,o.fM)(0,T.b),(0,o.w6)("design:type",Function),(0,o.w6)("design:paramtypes",[void 0===T.b?Object:T.b])],P);let w=r("182033"),R=r("249655"),k=r("673426"),L=r("593356"),I=r("104690"),O=r("824769"),x=r("15728"),D=r("227167"),M=r("26305"),N=r("116266"),H=r("301649"),F=r("342544"),U=r("636771"),j=r("5313"),B=r("828961");class G extends c.JT{_getPlatformUserIds(){return U._.forEach(e=>{this._platformUserIds[e]=this._businessAuthorizationService.getAccounts(e).map(e=>e.id)}),this._platformUserIds}_getCatchSelectAccount(){var e=this._browserStorageService.keyValue.query(I.y);return e.ok&&e.value?JSON.parse(e.value):void 0}_getCurBusinessAccount(){return this._getCatchSelectAccount()?this._getCatchSelectAccount():this._getPlatformUserIds()}publishVideoFromDraft(e){return this._publish((0,i._)((0,n._)({},e),{businessAccountMap:e.businessAccountMap?e.businessAccountMap:this._getCurBusinessAccount(),onSelectAssetId:()=>Promise.resolve("")}),{fromExport:!0,uploadMenuKeys:[F.A.Computer],forceFocusSignal:!this._getCatchSelectAccount()})}publishVideoFromProject(e){return this._publish((0,i._)((0,n._)({},e),{onSelectAssetId:()=>Promise.resolve(""),businessAccountMap:e.businessAccountMap?e.businessAccountMap:this._getCurBusinessAccount()}),{fromTaskbar:!0,uploadMenuKeys:[F.A.Computer],forceFocusSignal:!this._getCatchSelectAccount()})}publishVideoFromUpload(e){return this._publish(e,{uploadMenuKeys:[F.A.Computer,F.A.Cloud]})}publishFromScheduled(e){return this._publish(e,{uploadMenuKeys:[F.A.Computer,F.A.Cloud]})}downloadVideo(e){var{reportData:t,exportManager:r}=e;this._scheduleReportManager.setReportData(t);var n=this._containerService.createInstance(P);r.initExportTask(),this._modal=s.Z.info({alignCenter:!0,modalRender:()=>(0,a.jsx)(_.bi.Provider,{value:{containerService:this._containerService,exportManager:r,downloadManager:n},children:(0,a.jsx)(m.Q,{onClose:()=>{this._closeModal(),n.destroy()}})}),onCancel:()=>{this._closeModal(),n.destroy()}}),this._reportShow()}downloadVideoTempDebugger(e){var t=this._containerService.createInstance(P);return this._modal=s.Z.info({alignCenter:!0,modalRender:()=>(0,a.jsx)(_.bi.Provider,{value:{containerService:this._containerService,exportManager:void 0,exportManagerStore:e.exportManagerStore,params:e,downloadManager:t},children:(0,a.jsx)(m.Q,{onClose:()=>{this._closeModal(),t.destroy()},isTempDebugger:!0})}),onCancel:()=>{this._closeModal(),t.destroy()}}),this._modal}preloadAsset(e){this._everCloudHelper.getFileDetail(e)}_publish(e,t){var r,n,i=(0,x.F)(),{reportData:o,onCreate:c,onUpdate:l,onDelete:d,onSave:p,onSelectAssetId:m,scheduleTask:A,createTime:b,assetId:T,businessAccountMap:S,operationType:C}=e;this._scheduleReportManager.setReportData(o);var R=this._containerService.createInstance(f.i),k=this._containerService.createInstance(P),L=this._containerService.createInstance(I.i,{scheduleTime:null!=b?b:(0,O.Fr)(),existingSchedulePostTask:A,initialTemplate:T?{assetIdList:[T]}:void 0,needCachedSelectedAccount:(null==t?void 0:t.fromExport)||(null==t?void 0:t.fromTaskbar)});L.updateTabKeysFromBusinessAccount(S),this._currentBatchScheduleManager=L;var M=this._containerService.createInstance(E.W,{onSelectAssetId:m});A&&M.setVideoAsset(A.assetIdList[0]),T&&M.setVideoAsset(T);var N=this._containerService.createInstance(w.S3,{scheduleTask:A}),F=e=>{this._onDidPublish.fire({actionType:e,saveType:"create"}),null==c||c(e)},U=!(null==t?void 0:t.fromExport)&&!(null==t?void 0:t.fromTaskbar),j=(null==t?void 0:t.fromExport)||(null==t?void 0:t.fromTaskbar),B=(0,a.jsx)(D.O,{autoCloseWhenSuccess:U,showHide:j,forceFocusSignal:null==t?void 0:t.forceFocusSignal,onClose:()=>{this._closeModal(),k.destroy(),M.destroy()},uploadMenuKeys:null==t?void 0:t.uploadMenuKeys,scheduleCb:{onCreate:F,onUpdate:l,onSave:p}}),G=null!==(r=e.exportManager)&&void 0!==r?r:this.createExportManager({});i?((null==t?void 0:t.fromExport)&&G.initExportTask(),n=B):(null==t?void 0:t.fromTaskbar)?n=(0,a.jsx)(y.S,{scheduleManager:N,mixedUploadManager:M,operationType:h.Y.options,onClose:()=>{this._closeModal(),k.destroy()},scheduleCb:{onCreate:F}}):(null==t?void 0:t.fromExport)?(G.initExportTask(),n=(0,a.jsx)(v.m,{exportManager:G,scheduleManager:N,mixedUploadManager:M,operationType:null!=C?C:u.NS.TikTok,onClose:()=>{this._closeModal(),k.destroy()},scheduleCb:{onCreate:e=>{this._onDidPublish.fire({actionType:e,saveType:"create"}),null==c||c(e)}}})):n=(0,a.jsx)(g.P,{mixedUploadManager:M,scheduleManager:N,onClose:()=>{this._closeModal(),M.destroy(),k.destroy()},scheduleCb:{onCreate:F,onUpdate:l}}),this._modal=s.Z.info({modalRender:()=>(0,a.jsx)(_.rC.Provider,{value:{exportManager:G,businessAuthorizationManager:this._containerService.createInstance(H.cz),scheduleReportManager:this._scheduleReportManager,containerService:this._containerService,publishHashTagManager:R,scheduleManager:N,mixedUploadManager:M,batchScheduleManager:L,authManager:this._authManager,ttsAuthManager:this._ttsAuthManager,productLinkService:this._productLinkService,productLinkManager:this._productLinkManager,downloadManager:k,authorizedAccounts:this._authorizedAccounts,chooseAsset:m,closeModal:()=>{this._closeModal(),M.destroy(),k.destroy()}},children:n}),unmountOnExit:!0}),this._reportShow()}_closeModal(e){var t,r;null===(t=this._modal)||void 0===t||t.close(),null===(r=this._onCloseCallback)||void 0===r||r.call(this,e),this._modal=null,this._scheduleReportManager.dispose()}_reportShow(){this._scheduleReportManager.reportSchedulePostPage("show")}dispose(){this._authManager.dispose(),this._ttsAuthManager.dispose(),this._scheduleReportManager.dispose(),super.dispose()}get modal(){return this._modal}createExportManager(e){var{exportTaskId:t,onExported:r,exportRetryParams:n}=e,i=this._containerService.createInstance(p.v_,{exportTaskId:t,exportRetryParams:n});return i.onExported(e=>{var{status:t,data:n}=e;null==r||r(t,n)}),i}createExportManagerForAIVideo(e){var{onExported:t,exportRetryParams:r,failStatus:n}=e,i=this._containerService.createInstance(p.zo,{exportRetryParams:r,failStatus:n});return i.onExported(e=>{var{status:r,data:n}=e;null==t||t(r,n)}),i}constructor(e,t,r,n){super(),this._containerService=e,this._productLinkService=t,this._businessAuthorizationService=r,this._browserStorageService=n,this._onDidPublish=this._register(new l.Q),this.onPublish=this._onDidPublish.event,this._platformUserIds={},this.onClose=e=>{this._onCloseCallback=e},this._scheduleReportManager=this._containerService.createInstance(L.b),this._authManager=this._containerService.createInstance(R.E),this._productLinkManager=this._containerService.createInstance(k.Sr),this._ttsAuthManager=this._containerService.createInstance(R.E),this._ttsAuthManager.setPlatformType(u.NS.TikTokShopAffiliate),this._authorizedAccounts=this._containerService.createInstance(M.N),this._everCloudHelper=this._containerService.createInstance(N.U)}}(0,o.gn)([(0,o.fM)(0,d.t),(0,o.fM)(1,k.VU),(0,o.fM)(2,j._),(0,o.fM)(3,B.d),(0,o.w6)("design:type",Function),(0,o.w6)("design:paramtypes",[void 0===d.t?Object:d.t,void 0===k.VU?Object:k.VU,void 0===j._?Object:j._,void 0===B.d?Object:B.d])],G)},447330:function(e,t,r){"use strict";r(289005),r(722169)},55488:function(e,t,r){"use strict";r(289005)},583316:function(e,t,r){"use strict";r.d(t,{Fr:function(){return o},MV:function(){return i},i$:function(){return n}});var n=e=>{var t=new Date(e),r=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),i=String(t.getDate()).padStart(2,"0");return"".concat(r).concat(n).concat(i)},i=e=>6e4*Math.floor(e/6e4);function o(){return i(Date.now()+3e5)+6e4}},193315:function(e,t,r){"use strict";r.d(t,{a:function(){return a}});var n=r(123951),i=r(285348),o=(e,t)=>{if(e===i.NS.TikTok){var{isDiscloseVideoContent:r,isPromoteOwnBrand:o,isPromoteOtherBrand:a,privacyLevel:s,selectedAccounts:c}=t;if(!s)return{allowed:!1,disallowedReason:n.ZP.t("web_cover_text_sure_privacy",{},"Make sure your privacy settings here are consistent with that on your TikTok app.")};if(r&&!o&&!a)return{allowed:!1,disallowedReason:n.ZP.t("web_posttt_text_legal_copy4",{},"Select disclosed content type or turn off the toggle")};if(!c||0===c.length)return{allowed:!1,disallowedReason:n.ZP.t("cc_ecom_publisher_schedule_error_account",{},"To publish content to the selected platform, sign into the platform account and authorize")}}return{allowed:!0}},a=(e,t)=>e?o(e,t):{allowed:!1}},256011:function(e,t,r){"use strict";r.d(t,{Z:()=>v});let n=r("69984"),i=r("764112"),o=r("574451"),a=r("772322");r("218571");let s=r("105789"),c=r.n(s),l=r("429188"),u=r("917761"),d=r("781247");var h=e=>(0,a.jsxs)("svg",(0,i._)((0,n._)({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,fill:"none",viewBox:"0 0 32 32"},e),{children:[(0,a.jsx)("path",{fill:"url(#slash-button_svg__a)",d:"M2 22a6 6 0 0 0 6 6h16a6 6 0 0 0 6-6v4.4a5.6 5.6 0 0 1-5.6 5.6H7.6A5.6 5.6 0 0 1 2 26.4z"}),(0,a.jsx)("rect",{width:26.6,height:26.6,x:2.7,y:.7,fill:"currentColor",rx:5.3}),(0,a.jsx)("rect",{width:26.6,height:26.6,x:2.7,y:.7,stroke:"url(#slash-button_svg__b)",strokeWidth:1.4,rx:5.3}),(0,a.jsx)("path",{fill:"url(#slash-button_svg__c)",d:"M17.087 6.5h1.9l-4.017 15h-1.887z"}),(0,a.jsxs)("defs",{children:[(0,a.jsxs)("linearGradient",{id:"slash-button_svg__a",x1:2,x2:30,y1:27.478,y2:27.478,gradientUnits:"userSpaceOnUse",children:[(0,a.jsx)("stop",{stopColor:"#8BCAD7"}),(0,a.jsx)("stop",{offset:1,stopColor:"#A6C3DF"})]}),(0,a.jsxs)("linearGradient",{id:"slash-button_svg__b",x1:2,x2:30,y1:14,y2:14,gradientUnits:"userSpaceOnUse",children:[(0,a.jsx)("stop",{stopColor:"#04BCE1",stopOpacity:.3}),(0,a.jsx)("stop",{offset:1,stopColor:"#61A0FF",stopOpacity:.3})]}),(0,a.jsxs)("linearGradient",{id:"slash-button_svg__c",x1:13.083,x2:18.986,y1:14,y2:14,gradientUnits:"userSpaceOnUse",children:[(0,a.jsx)("stop",{stopColor:"#04BCE1"}),(0,a.jsx)("stop",{offset:1,stopColor:"#7357FF"})]})]})]})),f=e=>(0,a.jsxs)("svg",(0,i._)((0,n._)({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,fill:"none",viewBox:"0 0 32 32"},e),{children:[(0,a.jsx)("path",{fill:"url(#slash-button-pressed_svg__a)",d:"M2 23.5a6 6 0 0 0 6 6h16a6 6 0 0 0 6-6v1.4a5.6 5.6 0 0 1-5.6 5.6H7.6A5.6 5.6 0 0 1 2 24.9z"}),(0,a.jsx)("rect",{width:26.6,height:26.6,x:2.7,y:2.2,fill:"currentColor",rx:5.3}),(0,a.jsx)("rect",{width:26.6,height:26.6,x:2.7,y:2.2,stroke:"url(#slash-button-pressed_svg__b)",strokeWidth:1.4,rx:5.3}),(0,a.jsx)("path",{fill:"url(#slash-button-pressed_svg__c)",d:"M17.087 8h1.9L14.97 23h-1.887z"}),(0,a.jsxs)("defs",{children:[(0,a.jsxs)("linearGradient",{id:"slash-button-pressed_svg__a",x1:2,x2:30,y1:28.978,y2:28.978,gradientUnits:"userSpaceOnUse",children:[(0,a.jsx)("stop",{stopColor:"#8BCAD7"}),(0,a.jsx)("stop",{offset:1,stopColor:"#A6C3DF"})]}),(0,a.jsxs)("linearGradient",{id:"slash-button-pressed_svg__b",x1:2,x2:30,y1:15.5,y2:15.5,gradientUnits:"userSpaceOnUse",children:[(0,a.jsx)("stop",{stopColor:"#04BCE1",stopOpacity:.3}),(0,a.jsx)("stop",{offset:1,stopColor:"#61A0FF",stopOpacity:.3})]}),(0,a.jsxs)("linearGradient",{id:"slash-button-pressed_svg__c",x1:13.083,x2:18.986,y1:15.5,y2:15.5,gradientUnits:"userSpaceOnUse",children:[(0,a.jsx)("stop",{stopColor:"#04BCE1"}),(0,a.jsx)("stop",{offset:1,stopColor:"#7357FF"})]})]})]}));let p=r("312445"),_=r("649401"),v=(0,l.Pi)(e=>{var{className:t,theme:r}=e,s=(0,o._)(e,["className","theme"]),l=r===u.h.Light;return(0,a.jsxs)("div",(0,i._)((0,n._)({className:c()(t,d.Z.slashButton)},s),{children:[l?(0,a.jsx)(h,{className:d.Z.icon}):(0,a.jsx)(p.r,{className:d.Z.icon}),l?(0,a.jsx)(f,{className:d.Z.iconPressed}):(0,a.jsx)(_.r,{className:d.Z.iconPressed})]}))})},837284:function(e,t,r){"use strict";r.d(t,{v:function(){return f}});var n=r(772322),i=r(218571),o=r(429188),a=r(813727),s=r(105789),c=r.n(s),l=r(565523),u=r(909599),d=r(748262),h=r(244809),f=(0,o.Pi)((0,i.forwardRef)((e,t)=>{var{visible:r,onVisibleChange:o,onSelected:s}=e,{i18n:f}=(0,a.$)(),[p,_]=(0,i.useState)([]),[v,g]=(0,i.useState)(!1),{smartWriterManager:m}=(0,l.G)(u.Y),{randomOralPrompts:y}=m;return(0,i.useEffect)(()=>{r&&y.length>0&&_(y)},[r,y]),(0,i.useImperativeHandle)(t,()=>({close:()=>{g(!0)}})),(0,n.jsxs)("div",{className:c()(h.Z.container,{[h.Z.container__fade_in]:r,[h.Z.container__fade_out]:v}),onAnimationEnd:()=>{v&&(g(!1),o(!1),m.resetRandomOralPrompts(),null==s||s())},children:[(0,n.jsxs)("div",{className:h.Z.header,children:[(0,n.jsxs)("div",{className:h.Z.title,children:[f.t("web_textvideo_toast_no_creativity",{},"No inspiration?")," ",f.t("web_textvideo_button_try_these",{},"Try the following prompts:")]}),(0,n.jsxs)("div",{className:h.Z.random,onClick:function(){m.randomlyGenerateOralPrompts()},children:[(0,n.jsx)(d.r,{className:h.Z.random_icon}),f.t("web_textvideo_button_random",{},"See others")]})]}),(0,n.jsx)("div",{className:h.Z.list,children:p.map(e=>(0,n.jsx)("div",{className:h.Z.item,onClick:()=>{var t;return t=f.t(f.t(...e)),void(m.smartWriterTrackerData.prompt_source="preset",m.oralValue=t,g(!0))},children:f.t(...e)},e[0]))})]})}))},161643:function(e,t,r){"use strict";r.d(t,{HF:function(){return i},P3:function(){return n},wL:function(){return o}});var n="/",i="/my-edit",o="/magic-tools"},770081:function(e,t,r){"use strict";r.d(t,{y:function(){return v}});var n=r(69984),i=r(772322),o=r(577725),a=r(216518),s=r(218571),c=r(640595),l=r(195894),u=r(113022),d=r(105789),h=r.n(d),f=r(852711),p=r(122236),_=r(122889),v=e=>{var{editor:t,children:r,inlineAttr:d}=e,v=(0,s.useRef)(null),{triggerFrom:g,insertText:m}=d,[y,E]=(0,s.useState)(!1),A=()=>{var e=t.getContentState();e.getEntities([[p.q,"true"]]).forEach(t=>{e.setAttributes(t,{[p.q]:""})}),window.removeEventListener("click",A),window.removeEventListener("keydown",A),window.removeEventListener("compositionstart",A),window.removeEventListener("beforeunload",A)};(0,s.useEffect)(()=>(t.setEditable(!1),()=>{t.setEditable(!0)}),[t]),(0,s.useEffect)(()=>{var e=t.getScrollContainer();if(v.current&&e){(0,l.wq)(v.current,e,{scrollOffset:20});var r=new MutationObserver(()=>{(0,l.wq)(v.current,e,{scrollOffset:20})});return r.observe(v.current,{subtree:!0,childList:!0}),()=>{r.disconnect()}}},[t]);var b=()=>{E(!0),setTimeout(()=>{t.setEditable(!0);var e=t.getContentState(),r=e.getZoneState("0");e.getEntities([[u.w]]).forEach(t=>{var n=t.end.line,i=null==r?void 0:r.getLine(n),{start:o=0,end:a=0}=(null==i?void 0:i.getOffset())||{},s=(null==i?void 0:i.hasLineMarker())?1:0,l=new c.I({zoneId:"0"}).retain(o-s).delete(a-o);e.apply(l)});var n=(null==m?void 0:m.length)||0;if("button"===g){var i=(0,l.P2)(t,f.Ip,"true",!0);if(!i)return;var a=null==i?void 0:i.end.line,s=null==r?void 0:r.getLine(a),d=new c.I({zoneId:"0"});if((null==s?void 0:s.getText())==="/\n"){var h=null==r?void 0:r.getLine(a),{start:p=0,end:_=0}=(null==h?void 0:h.getOffset())||{},v=(null==h?void 0:h.hasLineMarker())?1:0,y=0===a?1:0;d.retain(p-v).delete(_-p-y),e.apply(d)}else{var E=i.toPosition();d.retain(E.len+E.start-n).delete(n);var A=new o.L({start:E.start-n,editor:t,len:0,zoneId:"0"});e.apply(d),t.selection.setSelection(A)}}if("mark"===g){var b=(0,l.P2)(t,f.Ip,"true",!0);b&&t.selection.setSelection(b)}},300)},T=h()(_.Z["cc-ttv-ai-writer-container"],{[_.Z["container-fade-out"]]:y});return(0,i.jsx)("span",{className:T,id:"cc-ttv-ai-writer-container",onClick:e=>{e.preventDefault(),e.stopPropagation()},ref:v,children:r({onClose:b,onConfirm:e=>{var r,i=function(e){e.getContent().eachLine((t,r,i)=>{var o=e.getLine(i);(null==o?void 0:o.isEmpty())||null==o||o.forEach(e=>{var t=(0,n._)({},e);t.insert&&(t.attributes||(t.attributes={}),t.attributes[p.q]="true"),v.push(t)})})},o=t.getContentState(),{insertText:s,sel:u}=d;(r=(0,l.P2)(t,f.Ip,"true",!0))||(r=new a.e({editor:t,start:u.start,end:u.end}));var h=(null==s?void 0:s.length)||0,_=r.toPosition(),v=[{retain:_.len+_.start-h},{delete:h}];for(var g of e.values())i(g);var m=v.length;v.forEach((e,t)=>{if(t===m-1){var{insert:r}=e;e.insert=r&&"string"==typeof e.insert?r.replace(/\n$/,""):e.insert}return e});var y=new c.I({zoneId:"0",ops:v});o.apply(y),b(),requestAnimationFrame(()=>{window.addEventListener("click",A),window.addEventListener("keydown",A),window.addEventListener("compositionstart",A),window.addEventListener("beforeunload",A)})}})})}},852711:function(e,t,r){"use strict";r.d(t,{At:function(){return n},CO:function(){return i},Ip:function(){return o}});var n="/",i="insertSlashContentByHandle",o="inline-trigger"},413872:function(e,t,r){"use strict";r.d(t,{t:function(){return c}});var n=r(978232),i=r(399501),o=r(64367),a=r(195291),s=r(865211);class c extends n.S{get contentState(){return this.editor.getContentState()}get zoneState(){return this.contentState.getZoneState(o.S)}togglePlaceholderBySelection(e){var t,r=this.getIsLineSelection(e),n=this.editor.isEditable();if(r&&n){var i=e.end.line,o=null===(t=this.zoneState)||void 0===t?void 0:t.getLine(i);(null==o?void 0:o.isEmpty())?this.addPlaceholder():this.removePlaceholder()}}editorDidMount(){this._containerDom=document.createElement("div"),this._containerDom.classList.add(s.Z.placeholderContainer),(0,a.render)(this.options.mainPlaceholder,this._containerDom),this.options.placeholderAnchor.appendChild(this._containerDom)}destroy(){this.editor.off(i.r.SELECTION_CHANGE,this.onSelectionChange),this.editor.off(i.r.COMPOSITION_START,this.onCompositionStart),this.editor.off(i.r.RECT_CHANGE,this._updateOffset)}constructor(e,t){super(),this.editor=e,this.options=t,this.name="linePlaceholderV2",this.removePlaceholderBySel=e=>{this.getIsLineSelection(e)&&this.removePlaceholder()},this.onCompositionStart=()=>{var e=this.editor.selection.getSelection();this.removePlaceholderBySel(e)},this.onSelectionChange=e=>{this.removePreLinePlaceholder(e),this.toggleCurrentLineSelection(e)},this.removePreLinePlaceholder=e=>{var t=e.previous;this.removePlaceholderBySel(t)},this.toggleCurrentLineSelection=e=>{var t=e.current;this.togglePlaceholderBySelection(t)},this._updateOffset=()=>{if(this._containerDom){var e=this.editor.rectModule.getCaretRect(this.editor.selection.getSelection().start);this._containerDom.style.top="".concat(e.top+e.height/2,"px")}},this.addPlaceholder=()=>{this._containerDom&&(this._containerDom.style.display="block",this._updateOffset())},this.removePlaceholder=()=>{this._containerDom&&(this._containerDom.style.display="none")},this.getIsLineSelection=e=>e.start.line===e.end.line,this.editor.on(i.r.SELECTION_CHANGE,this.onSelectionChange),this.editor.on(i.r.COMPOSITION_START,this.onCompositionStart),this.editor.on(i.r.RECT_CHANGE,this._updateOffset)}}c.KEY="linePlaceholderV2"},543544:function(e,t,r){"use strict";r.d(t,{t:function(){return n}});var n=(0,r(30276).yh)("persistance-service")},879565:function(e,t,r){"use strict";r.d(t,{c:function(){return n}});var n=(0,r(30276).yh)("tool-business-report-service")},793335:function(e,t,r){"use strict";var n,i,o,a;r.d(t,{q:function(){return i},z:function(){return n}}),(o=n||(n={})).StartTask="StartTask",o.FinishTask="FinishTask",o.TaskStarted="TaskStarted",o.TaskFinished="TaskFinished",o.TaskTimestamp="TaskAudioTimestamp",o.TaskAudio="TaskAudio",(a=i||(i={})).wav="wav",a.mp3="mp3",a.aac="aac",a.ogg_opus="ogg_opus",a.pcm="pcm"},752489:function(e,t,r){"use strict";var n,i,o,a,s,c,l,u,d,h,f,p;r.d(t,{Bq:function(){return o},KD:function(){return n},k1:function(){return a},pP:function(){return i},tO:function(){return c}}),(l=n||(n={}))[l.GenerateLimit=3100]="GenerateLimit",l[l.LanguageError=210105]="LanguageError",l[l.LanguageError2=20002]="LanguageError2",l[l.SensitiveError=-1001]="SensitiveError",l[l.NetWorkError=-1]="NetWorkError",l[l.GenerateError=-998]="GenerateError",l[l.SaveDraftError=-997]="SaveDraftError",l[l.MakeDraftError=-996]="MakeDraftError",l[l.DraftError=-995]="DraftError",l[l.NoTrackError=-994]="NoTrackError",(u=i||(i={}))[u.modal=0]="modal",u[u.toast=1]="toast",(d=o||(o={})).Audio="audio",d.Video="video",(h=a||(a={}))[h.Home=0]="Home",h[h.Translator=1]="Translator",(f=s||(s={}))[f.Original=0]="Original",f[f.Target=1]="Target",(p=c||(c={})).MyDevice="local",p.MySpace="cloud",p.GoogleDrive="third_party_cloud",p.Dropbox="third_party_cloud",p.DRAG_TO_PANEL="local",p.Examples="local"},390256:function(e,t,r){"use strict";var n,i,o,a,s,c,l,u;r.d(t,{Tv:function(){return a}}),(s=n||(n={}))[s.PACKAGE=0]="PACKAGE",s[s.ASSET=1]="ASSET",s[s.FILM=2]="FILM",s[s.FOLDER=3]="FOLDER",(c=i||(i={})).Desc="desc",c.Asc="asc",(l=o||(o={})).CreateTime="create_time",l.ModifyTime="modify_time",(u=a||(a={})).File="file",u.Video="video",u.Image="image",u.Audio="audio",u.LivePhoto="livephoto"},780904:function(e,t,r){"use strict";r.d(t,{b:function(){return n}});var n={GET_USER_PERMISSION:"/lv/v1/user/web/user_permissions"}},619398:function(e,t,r){"use strict";r.d(t,{_g:function(){return i},is:function(){return l},pS:function(){return o}}),(n=i||(i={})).Sticker="sticker",n.Font="font",n.TextTemplate="textTemplate",n.Shape="shape",n.ImageFrame="imageFrame",n.Photo="photo",n.AdjustmentPreset="adjustmentPreset",n.BrandColor="brandColor",n.BrandFont="brandFont",n.UserAudio="userAudio",n.UserPhoto="userPhoto",n.UserVideo="userVideo",n.UserFile="userFile",n.UserCloneVoice="userCloneVoice",n.ImageFilter="imageFilter",n.ImageEffect="imageEffect",n.AiBackground="aiBackground",n.UserMaterial="everCloud",n.EffectModel="effectModel",n.TextGlow="textGlow",n.ImageFigureFaceEffect="imageFigureFaceEffect",n.ImageFigureMakeupEffect="imageFigureMakeupEffect",n.ImageFigureBodyEffect="imageFigureBodyEffect",n.ImageFigureReshapeEffect="imageFigureReshapeEffect",n.Video="video",n.Gif="gif",n.CurveHSL="CurveHSL",n.CurvePreset="curve_adjust_preset",n.VoiceChange="voice-change",n.ShootProject="shoot-project",n.LiveshortenPanEntertainment="liveshorten-pan-entertainment",n.FaceProp="face-prop",n.ShootProp="shoot-prop",n.Shoot="shoot",n.Play="play",n.SystemFonts="system-fonts",n.ManualFigure="manual-figure",n.SkeletonBody="skeleton-body",n.AISkeletonBody="beauty2",n.AutoBeautyBody="auto-beauty3",n.Beauty="beauty",n.AutoBeautyShape="auto-beauty",n.AutoBeautyFace="auto-beauty2",n.AutoBeautyMakeup="makeup",n.CoverFlower="flower2",n.ShootFilter="filter2",n.CoverBubble="bubble2",n.Effects="effects2",n.Tone="tone",n.Filter="filter",n.VideoBackground="videoBackground",n.Bubble="bubble",n.TextPreset="flower",n.Transition="transitions",n.Mix="mix",n.TextMotion="textMotion",n.VideoMotion="videoMotion",n.StickerMotion="stickerMotion",n.Insert="insert",n.Mask="videomask",n.CurveSpeed="curvespeed",n.Integration="integration",n.Iosemojinew="iosemojinew",n.Emoji="emoji",n.Emojiandroid="emojiandroid",n.Emojiios="emojiios",n.Audio="audio",n.ArithmeticModel="arithmetic-model",n.VideoTemplate="video-template",n.ShapeAnimation="shape-animation",n.Graffiti="graffiti",n.PathAnimation="path-animation",n.AiAvatarMask="aiavatarmask",n.DigitalHuman="digital-human",n.SmartColorAdjust="smart_color_adjust",n.SubtitleTemplate="subtitle-templates",n.ObjectLock="camera_tracking",n.PhotoDreamina="photo-dreamina",n.VideoDreamina="video-dreamina",n.DreaminaAiVideo="dreamina_ai_video",n.DreaminaUserAiVideo="dreamina_user_ai_video",n.DreaminaShowCaseVideo="dreamina_showcase_video",n.DreaminaLipSyncAudio="dreamina_lip_sync_audio",n.DreaminaFont="dreamina_font",n.MattingStroke="matting_stroke",n.TextArt="text_art",n.TextArtIcon="text_art_icon",n.ImageSource="image_source",(s=o||(o={}))[s.Material=0]="Material",s[s.Folder=1]="Folder",s[s.Package=3]="Package",s[s.Exported=6]="Exported",(c=a||(a={}))[c.Delete=1]="Delete",c[c.Move=2]="Move",c[c.Rename=3]="Rename",c[c.View=4]="View",c[c.Copy=5]="Copy";var n,i,o,a,s,c,l=new Set(["sticker","font","textTemplate","shape","imageFrame","imageFilter","imageEffect","aiBackground","everCloud","effectModel","CurveHSL","curve_adjust_preset","voice-change","shoot-project","liveshorten-pan-entertainment","face-prop","shoot-prop","shoot","play","system-fonts","manual-figure","skeleton-body","beauty2","auto-beauty3","beauty","auto-beauty","auto-beauty2","makeup","flower2","filter2","bubble2","effects2","tone","filter","videoBackground","bubble","flower","transitions","mix","textMotion","textGlow","videoMotion","stickerMotion","insert","videomask","curvespeed","integration","iosemojinew","emoji","emojiandroid","emojiios","shape-animation","graffiti","path-animation","aiavatarmask","subtitle-templates"])},608833:function(e,t,r){"use strict";var n,i;r.d(t,{d:function(){return n}}),(i=n||(n={})).TikTokShop="TikTokShop",i.Shopify="Shopify"},950403:function(e,t,r){"use strict";r.d(t,{b:function(){return n}});var n={CREATE_INTELLIGENT_TASK:"/lv/v1/intelligence/create",GET_INTELLIGENT_TASK_DETAIL:"/lv/v1/intelligence/query",CREATE_INTELLIGENT_TASK_LONG_TO_SHORT_FOR_PC:"/lv/v1/capflow/submit",GET_INTELLIGENT_TASK_DETAIL_LONG_TO_SHORT_FOR_PC:"/lv/v1/capflow/long2short_query",GET_INTELLIGENT_TASK_DETAIL_LONG_TO_SHORT_FOR_TT:"/lv/v1/capflow/query"}},400840:function(e,t,r){"use strict";var n,i,o,a,s,c,l,u;r.d(t,{eB:function(){return a}}),(s=n||(n={})).US="US",s.BR="BR",s.SG="SG",s.KR="KR",s.ID="ID",(c=i||(i={}))[c.VA=0]="VA",c[c.GCP=1]="GCP",(l=o||(o={}))[l.SelfCreate=0]="SelfCreate",l[l.AppTransition=1]="AppTransition",l[l.WebTransition=2]="WebTransition",(u=a||(a={})).Owner="owner",u.Admin="admin",u.Collaborator="collaborator",u.visitor="visitor"},44798:function(e,t,r){"use strict";r.d(t,{a:function(){return u}});var n=r(977013),i=r(963473),o=r(349901),a=r(146625),s=r(797323),c={timeZone:"Asia/Shanghai"};class l{build(){return this._contextParams}constructor(e){this._contextParams=e}}class u extends a.r{debug(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];if(this._checkLogLevel(o.in.Debug)){var a=(0,n.g)(e,...r);this._slardarAdapterService.sendLog(s.T.DEBUG,this._addPrefix(a),this._contextParamsBuilder.build())}}info(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];if(this._checkLogLevel(o.in.Info)){var a=(0,n.g)(e,...r);this._slardarAdapterService.sendLog(s.T.INFO,this._addPrefix(a),this._contextParamsBuilder.build())}}warn(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(this._checkLogLevel(o.in.Warning)){var i=this._transformErrorMessage(e,...r);this._slardarAdapterService.sendLog(s.T.WARN,this._addPrefix(i),this._contextParamsBuilder.build())}}error(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(this._checkLogLevel(o.in.Error)){var i=this._transformErrorMessage(e,...r);this._slardarAdapterService.sendLog(s.T.ERROR,this._addPrefix(i),this._contextParamsBuilder.build())}}_addPrefix(e){return"".concat(this._label?"[".concat(this._label,"]"):"").concat(this._timePrefix?"[".concat(new Date().toLocaleString("en-US",c),"]").concat(this._logPrefix?" [".concat(this._logPrefix,"]"):""):"").concat(e)}_transformErrorMessage(e){for(var t=arguments.length,r=Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return e instanceof Error?(0,n.g)(e.message,...r):(0,i.oi)(e)?(0,n.g)(e.toString(),...r):(0,n.g)(e,...r)}constructor(e,t,r="",n={}){var i,a,s,c,u;super(r,t),this._slardarAdapterService=e,this.setLevel(null!==(a=n.logLevel)&&void 0!==a?a:o.jd),this._timePrefix=null===(s=n.timePrefix)||void 0===s||s,this._logPrefix=null!==(c=n.logPrefix)&&void 0!==c?c:"",(null===(i=n.contextParams)||void 0===i?void 0:i.build)&&"function"==typeof n.contextParams.build?this._contextParamsBuilder=n.contextParams:this._contextParamsBuilder=new l(null!==(u=n.contextParams)&&void 0!==u?u:{})}}},964716:function(e,t,r){"use strict";r.d(t,{g:function(){return h}});var n=r(461228),i=r(69984),o=r(789786),a=r(211928),s=r(980014),c=r(466477),l=r(847025),u=r(806797),d=r(998803);class h extends d.m{getContentUrl(e){return e.package.urlList[0]}doFetch(){var e=this;return(0,n._)(function*(){(0,s.Y2)(!(0,c.R)(e.value));var[t,r]=(yield e._aiAvatarMaskDataService.batchGetAiAvatarMaskByIds({enterFrom:e._configurationService.editorCategory,ids:[e.value.resourceId]})).pair();if(t)throw Error("doFetch error-".concat(t.code,"-").concat(t.msg));return(0,i._)({type:e.value.type},r.list[0])})()}constructor(e,t,r,n,i){super(e,t,r),this.key=e,this._downloadService=r,this._aiAvatarMaskDataService=n,this._configurationService=i}}h=(0,o.gn)([(0,o.fM)(2,a.tx),(0,o.fM)(3,l.n),(0,o.fM)(4,u.Ui),(0,o.w6)("design:type",Function),(0,o.w6)("design:paramtypes",["undefined"==typeof IResourceKey?Object:IResourceKey,"undefined"==typeof IAiAvatarMaskMeta?Object:IAiAvatarMaskMeta,void 0===a.tx?Object:a.tx,void 0===l.n?Object:l.n,void 0===u.Ui?Object:u.Ui])],h)},485584:function(e,t,r){"use strict";r.d(t,{I:function(){return c}});var n=r(789786),i=r(251164),o=r(969946),a=r(963730),s=r(37011);class c extends i.e{createResource(e,t){return this._instantiationService.createInstance(new a.M(o.L,[e,t]))}constructor(e){super(e),this._instantiationService=e}}c=(0,n.gn)([(0,n.fM)(0,s.T),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",[void 0===s.T?Object:s.T])],c)},424792:function(e,t,r){"use strict";r.d(t,{p:function(){return f}});var n=r(461228),i=r(69984),o=r(789786),a=r(211928),s=r(980014),c=r(466477),l=r(619398),u=r(27133),d=r(49978),h=r(806797);class f extends d.${getCover(e){return e.icon.urlList[0]}getContentUrl(e){return e.package.urlList[0]}doFetch(){var e=this;return(0,n._)(function*(){(0,s.Y2)(!(0,c.R)(e.value));var[t,r]=(yield e._autoBeautyDataService.batchGetAutoBeautyByIds({enterFrom:e._configurationService.editorCategory,ids:[e.value.resourceId],resourceType:l._g.AutoBeautyMakeup})).pair();if(t)throw Error("doFetch error-".concat(t.code,"-").concat(t.msg));var n=r.list[0];return(0,i._)({type:e.value.type},n)})()}constructor(e,t,r,n,i){super(e,t,r),this.key=e,this._downloadService=r,this._autoBeautyDataService=n,this._configurationService=i}}f=(0,o.gn)([(0,o.fM)(2,a.tx),(0,o.fM)(3,u.X),(0,o.fM)(4,h.Ui),(0,o.w6)("design:type",Function),(0,o.w6)("design:paramtypes",["undefined"==typeof IResourceKey?Object:IResourceKey,"undefined"==typeof IAutoBeautyMakeupMeta?Object:IAutoBeautyMakeupMeta,void 0===a.tx?Object:a.tx,void 0===u.X?Object:u.X,void 0===h.Ui?Object:h.Ui])],f)},359449:function(e,t,r){"use strict";r.d(t,{F:function(){return c}});var n=r(789786),i=r(251164),o=r(356925),a=r(963730),s=r(37011);class c extends i.e{createResource(e,t){return this._instantiationService.createInstance(new a.M(o.D,[e,t]))}constructor(e){super(e),this._instantiationService=e}}c=(0,n.gn)([(0,n.fM)(0,s.T),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",[void 0===s.T?Object:s.T])],c)},618961:function(e,t,r){"use strict";r.d(t,{i:function(){return h}});var n=r(461228),i=r(69984),o=r(789786),a=r(987799),s=r(211928),c=r(980014),l=r(466477),u=r(49978),d=r(806797);class h extends u.${getCover(e){return e.icon.urlList[0]}getContentUrl(e){return e.package.urlList[0]}doFetch(){var e=this;return(0,n._)(function*(){(0,c.Y2)(!(0,l.R)(e.value));var[t,r]=(yield e._graffitiDataService.batchGetGraffitisByIds({enterFrom:e._configurationService.editorCategory,ids:[e.value.resourceId]})).pair();if(t)throw Error("doFetch error-".concat(t.code,"-").concat(t.msg));return(0,i._)({type:e.value.type},r.list[0])})()}constructor(e,t,r,n,i){super(e,t,r),this.key=e,this._downloadService=r,this._graffitiDataService=n,this._configurationService=i}}h=(0,o.gn)([(0,o.fM)(2,s.tx),(0,o.fM)(3,a.a),(0,o.fM)(4,d.Ui),(0,o.w6)("design:type",Function),(0,o.w6)("design:paramtypes",["undefined"==typeof IResourceKey?Object:IResourceKey,"undefined"==typeof IGraffitiMeta?Object:IGraffitiMeta,void 0===s.tx?Object:s.tx,void 0===a.a?Object:a.a,void 0===d.Ui?Object:d.Ui])],h)},179723:function(e,t,r){"use strict";r.d(t,{U:function(){return c}});var n=r(789786),i=r(251164),o=r(213911),a=r(963730),s=r(37011);class c extends i.e{createResource(e,t){return this._instantiationService.createInstance(new a.M(o.y,[e,t]))}constructor(e){super(e),this._instantiationService=e}}c=(0,n.gn)([(0,n.fM)(0,s.T),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",[void 0===s.T?Object:s.T])],c)},502524:function(e,t,r){"use strict";r.d(t,{q:function(){return p}});var n=r(461228),i=r(69984),o=r(852630),a=r(789786),s=r(183751),c=r(211928),l=r(250047),u=r(980014),d=r(466477),h=r(762134),f=r(610306);class p extends h.B{getCover(e){return e.coverUrl}getContentResourceToken(){return this._getResourceTokenSync(this._createContentResourceToken.bind(this),()=>this._contentResourceToken,e=>this._contentResourceToken=e)}getContentResolutionInfo(){return(0,u.Y2)((0,d.R)(this.value)),this._getPhotoDreaminaResolutionInfo(this.value)}getResourceTokenByFuzzyMatchWidth(e){for(var t of((0,u.Y2)((0,d.R)(this.value)),this.value.transcode))if(t.width>=e){if(n&&t.width>n)continue;n=t.width,r=t}r||(r=this.value.transcode[this.value.transcode.length-1]);var r,n,i=this._getResolutionResourceKey(String(n));return(0,l.MZ)({key:i,url:r.url,md5:this.value.md5},this._downloadService)}_createCoverToken(e){var t=this._getCoverResourceKey(),r=this.getCover(e);return(0,l.MZ)({key:t,url:r},this._downloadService)}_createContentResourceToken(e){var{url:t,resolution:r}=this._getPhotoDreaminaResolutionInfo(e),n=this._getResolutionResourceKey(r);return(0,l.MZ)({key:n,url:t,md5:e.md5},this._downloadService)}_getResolutionResourceKey(e){return"".concat(this.key,"_resolution_").concat(e)}_getPhotoDreaminaResolutionInfo(e){var t=function(e){var t=r.find(t=>t.resolution===e);if(t)return{v:t}},r=e.transcode.map(t=>{var{url:r,width:n,height:i}=t;return{url:r,resolution:this._getResolutionKeyByLongSide(n,i,e.resolutionKeys)}}).filter(e=>e.resolution),n=e.resolutionKeys?e.resolutionKeys.map(e=>"".concat(e,"p")):["480p","720p","360p","540p","1024p","288p"];for(var i of this._environmentService.isAutoTest?["720p","1024p","540p","480p","360p","288p"]:n){var a=t(i);if("object"===(0,o._)(a))return a.v}return{url:e.coverUrl,resolution:"origin"}}getPhotoDreaminaOrderedResolutionInfo(){return(0,u.Y2)((0,d.R)(this.value)),this.getContentResolutionInfo()}_getResolutionKeyByLongSide(e,t,r){var n=100,i=null;for(var o of null!=r?r:[1024,720,540,480,360,288]){var a=void 0;(a=e>t?Math.abs(o-e):Math.abs(o-t))<n&&(n=a,i=o)}if(i)return"".concat(i,"p")}doFetch(){var e=this;return(0,n._)(function*(){(0,u.Y2)(!(0,d.R)(e.value));var[t,r]=(yield e._photoDataService.batchGetPhotos({resourceIds:[e.value.resourceId]})).pair();if(t)throw Error("doFetch error-".concat(t.code,"-").concat(t.msg));return(0,i._)({type:e.value.type},r.list[0])})()}constructor(e,t,r,n,i){super(e,t,r),this.key=e,this._downloadService=r,this._photoDataService=n,this._environmentService=i}}p=(0,a.gn)([(0,a.fM)(2,c.tx),(0,a.fM)(3,s._),(0,a.fM)(4,f.Y),(0,a.w6)("design:type",Function),(0,a.w6)("design:paramtypes",["undefined"==typeof IResourceKey?Object:IResourceKey,"undefined"==typeof IPhotoDreaminaMeta?Object:IPhotoDreaminaMeta,void 0===c.tx?Object:c.tx,void 0===s._?Object:s._,void 0===f.Y?Object:f.Y])],p)},476693:function(e,t,r){"use strict";r.d(t,{U:function(){return h}});var n=r(461228),i=r(69984),o=r(789786),a=r(211928),s=r(980014),c=r(466477),l=r(49978),u=r(987892),d=r(806797);class h extends l.${getCover(e){return e.icon.urlList[0]}getContentUrl(e){return e.package.urlList[0]}_getDownloadConfig(e){return{withCredentials:e.isFromBrand}}doFetch(){var e=this;return(0,n._)(function*(){(0,s.Y2)(!(0,c.R)(e.value));var[t,r]=(yield e._stickerDataService.batchGetStickersByIds({enterFrom:e._configurationService.editorCategory,ids:[e.value.resourceId],source:e.value.source})).pair();if(t)throw Error("doFetch error-".concat(t.code,"-").concat(t.msg));return(0,i._)({type:e.value.type},r.list[0])})()}constructor(e,t,r,n,i){super(e,t,r),this.key=e,this._downloadService=r,this._stickerDataService=n,this._configurationService=i}}h=(0,o.gn)([(0,o.fM)(2,a.tx),(0,o.fM)(3,u.c),(0,o.fM)(4,d.Ui),(0,o.w6)("design:type",Function),(0,o.w6)("design:paramtypes",["undefined"==typeof IResourceKey?Object:IResourceKey,"undefined"==typeof IStickerMeta?Object:IStickerMeta,void 0===a.tx?Object:a.tx,void 0===u.c?Object:u.c,void 0===d.Ui?Object:d.Ui])],h)},498242:function(e,t,r){"use strict";r.d(t,{c:function(){return p}});var n=r(789786),i=r(251164),o=r(360933),a=r(963730),s=r(37011),c=r(515029),l=r(528512),u=r(605735),d=r(436184),h=r(656090),f=r(46306);class p extends i.e{createResource(e,t){return this._instantiationService.createInstance(new a.M(o.R,[e,t,this._fontResourceService,this._stickerResourceService,this._textPresetResourceService,this._textMotionResourceService,this._videoMotionResourceService,this._stickerMotionResourceService,this._shapeAnimationResourceService]))}constructor(e,t,r,n,i,o,a,s){super(s),this._fontResourceService=e,this._stickerResourceService=t,this._textPresetResourceService=r,this._textMotionResourceService=n,this._videoMotionResourceService=i,this._stickerMotionResourceService=o,this._shapeAnimationResourceService=a,this._instantiationService=s}}p=(0,n.gn)([(0,n.fM)(7,s.T),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",[void 0===c.I?Object:c.I,void 0===u.B?Object:u.B,void 0===h.V?Object:h.V,void 0===d.n?Object:d.n,void 0===f.B?Object:f.B,void 0===l.p?Object:l.p,"undefined"==typeof IShapeAnimationResourceService?Object:IShapeAnimationResourceService,void 0===s.T?Object:s.T])],p)},10888:function(e,t,r){"use strict";r.d(t,{a:function(){return h}});var n=r(461228),i=r(69984),o=r(789786),a=r(211928),s=r(980014),c=r(466477),l=r(597646),u=r(811855),d=r(806797);class h extends u.R{getCover(e){return e.icon.urlList[0]}getContentUrl(e){return e.package.urlList[0]}get contentFileFilter(){return e=>"config.json"===e}doFetch(){var e=this;return(0,n._)(function*(){(0,s.Y2)(!(0,c.R)(e.value));var t=e._configurationService.getAppConfigurationValue("toolbar.tts.fromHeycan"),[r,n]=(yield e._toneDataService.batchGetTonesByIds({enterFrom:e._configurationService.editorCategory,ids:[e.value.resourceId]},t?l.i.Heycan:l.i.Loki)).pair();if(r)throw Error("doFetch error-".concat(r.code,"-").concat(r.msg));return(0,i._)({type:e.value.type},n.list[0])})()}constructor(e,t,r,n,i){super(e,t,r),this.key=e,this._downloadService=r,this._toneDataService=n,this._configurationService=i}}h=(0,o.gn)([(0,o.fM)(2,a.tx),(0,o.fM)(3,l.T),(0,o.fM)(4,d.Ui),(0,o.w6)("design:type",Function),(0,o.w6)("design:paramtypes",["undefined"==typeof IResourceKey?Object:IResourceKey,"undefined"==typeof IToneMeta?Object:IToneMeta,void 0===a.tx?Object:a.tx,void 0===l.T?Object:l.T,void 0===d.Ui?Object:d.Ui])],h)},986512:function(e,t,r){"use strict";r.d(t,{E:function(){return c}});var n=r(789786),i=r(251164),o=r(205890),a=r(963730),s=r(37011);class c extends i.e{createResource(e,t){return this._instantiationService.createInstance(new a.M(o.G,[e,t]))}constructor(e){super(e),this._instantiationService=e}}c=(0,n.gn)([(0,n.fM)(0,s.T),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",[void 0===s.T?Object:s.T])],c)},350191:function(e,t,r){"use strict";r.d(t,{b:function(){return d}});var n=r(461228),i=r(69984),o=r(789786),a=r(742044),s=r(211928),c=r(250047),l=r(762134),u=r(806797);class d extends l.B{getCover(e){return e.previewUrl}getVideoBackgroundResourceToken(){return this._getResourceTokenSync(this._createVideoBackgroundResourceToken.bind(this),()=>this._videoBackgroundResourceToken,e=>this._videoBackgroundResourceToken=e)}_createVideoBackgroundResourceToken(e){var t=e.package.urlList[0],r=this._getVideoBackgroundResourceResourceKey();return(0,c.MZ)({key:r,url:t},this._downloadService,this._getDownloadConfig(e))}_getVideoBackgroundResourceResourceKey(){return"".concat(this.key,"_resource")}_getDownloadConfig(e){return{withCredentials:e.isFromBrand}}doFetch(){var e=this;return(0,n._)(function*(){var[t,r]=(yield e._videoBackgroundDataService.batchGetVideoBackgroundsByIds({enterFrom:e._configurationService.editorCategory,ids:[e.value.resourceId]})).pair();if(t)throw Error("doFetch error-".concat(t.code,"-").concat(t.msg));return(0,i._)({type:e.value.type},r.list[0])})()}constructor(e,t,r,n,i){super(e,t,r),this.key=e,this._downloadService=r,this._videoBackgroundDataService=n,this._configurationService=i}}d=(0,o.gn)([(0,o.fM)(2,s.tx),(0,o.fM)(3,a.k),(0,o.fM)(4,u.Ui),(0,o.w6)("design:type",Function),(0,o.w6)("design:paramtypes",["undefined"==typeof IResourceKey?Object:IResourceKey,"undefined"==typeof IVideoBackgroundMeta?Object:IVideoBackgroundMeta,void 0===s.tx?Object:s.tx,void 0===a.k?Object:a.k,void 0===u.Ui?Object:u.Ui])],d)},884640:function(e,t,r){"use strict";var n=r(246513),i=r(122579),o=r(367359);e.exports=function(e){if(void 0!==e&&!i(e))throw new n("Assertion failed: `Desc` must be a Property Descriptor");return o(e)}},658226:function(e,t,r){"use strict";var n=r(246513),i=r(845208)("RegExp.prototype.exec"),o=r(250729),a=r(680482),s=r(270459),c=r(569379);e.exports=function(e,t){if("Object"!==c(e))throw new n("Assertion failed: `R` must be an Object");if("string"!=typeof t)throw new n("Assertion failed: `S` must be a String");var r=a(e,"exec");if(s(r)){var l=o(r,e,[t]);if("object"==typeof l)return l;throw new n('"exec" method must return `null` or an Object')}return i(e,t)}},47114:function(e,t,r){"use strict";r.d(t,{W:function(){return i}});var n=r(769025);class i{enqueueTask(e){let{queue:t,requestFlush:r}=this;t.length||(r(),this.flushing=!0),t[t.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{let{queue:e}=this;for(;this.index<e.length;){let t=this.index;if(this.index++,e[t].call(),this.index>this.capacity){for(let t=0,r=e.length-this.index;t<r;t++)e[t]=e[t+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=(0,n.tX)(this.flush),this.requestErrorThrow=(0,n.as)(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}},327812:function(e,t,r){"use strict";r.d(t,{eM:function(){return n.e}});var n=r(412679);r(47114)},476064:function(e,t,r){"use strict";function n(e){return!!(e&&e.__CANCEL__)}r.d(t,{Z:function(){return n}})},677004:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(535591),i=r(531504),o=r(204442);function a(e,t){let r=this||i.Z,a=t||r,s=o.Z.from(a.headers),c=a.data;return n.Z.forEach(e,function(e){c=e.call(r,c,s.normalize(),t?t.status:void 0)}),s.normalize(),c}},531504:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var n=r(535591),i=r(156940),o=r(673373),a=r(543302),s=r(85481),c=r(424507),l=r(211200);let u={transitional:o.Z,adapter:["xhr","http"],transformRequest:[function(e,t){let r;let i=t.getContentType()||"",o=i.indexOf("application/json")>-1,c=n.Z.isObject(e);if(c&&n.Z.isHTMLForm(e)&&(e=new FormData(e)),n.Z.isFormData(e))return o&&o?JSON.stringify((0,l.Z)(e)):e;if(n.Z.isArrayBuffer(e)||n.Z.isBuffer(e)||n.Z.isStream(e)||n.Z.isFile(e)||n.Z.isBlob(e))return e;if(n.Z.isArrayBufferView(e))return e.buffer;if(n.Z.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(c){if(i.indexOf("application/x-www-form-urlencoded")>-1)return(0,s.Z)(e,this.formSerializer).toString();if((r=n.Z.isFileList(e))||i.indexOf("multipart/form-data")>-1){let t=this.env&&this.env.FormData;return(0,a.Z)(r?{"files[]":e}:e,t&&new t,this.formSerializer)}}return c||o?(t.setContentType("application/json",!1),function(e,t,r){if(n.Z.isString(e))try{return(0,JSON.parse)(e),n.Z.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){let t=this.transitional||u.transitional,r=t&&t.forcedJSONParsing,o="json"===this.responseType;if(e&&n.Z.isString(e)&&(r&&!this.responseType||o)){let r=t&&t.silentJSONParsing;try{return JSON.parse(e)}catch(e){if(!r&&o){if("SyntaxError"===e.name)throw i.Z.from(e,i.Z.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:c.Z.classes.FormData,Blob:c.Z.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};n.Z.forEach(["delete","get","head","post","put","patch"],e=>{u.headers[e]={}});let d=u},628225:function(e,t,r){"use strict";r.d(t,{q:function(){return n}});let n="1.6.4"},909534:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(535591);function i(e){return n.Z.isObject(e)&&!0===e.isAxiosError}},133226:function(e,t,r){"use strict";r.d(t,{m:function(){return c}});var n=r(540723),i=r(344330),o=r(61902),a=r(453740);let s={type:a.TL,payload:{clientOffset:null,sourceClientOffset:null}};function c(e){return function(t=[],r={publishSource:!0}){let{publishSource:c=!0,clientOffset:l,getSourceClientOffset:u}=r,d=e.getMonitor(),h=e.getRegistry();e.dispatch((0,o.T)(l)),(0,n.k)(!d.isDragging(),"Cannot call beginDrag while dragging."),t.forEach(function(e){(0,n.k)(h.getSource(e),"Expected sourceIds to be registered.")});let f=function(e,t){let r=null;for(let n=e.length-1;n>=0;n--)if(t.canDragSource(e[n])){r=e[n];break}return r}(t,d);if(null==f){e.dispatch(s);return}let p=null;if(l){if(!u)throw Error("getSourceClientOffset must be defined");(0,n.k)("function"==typeof u,"When clientOffset is provided, getSourceClientOffset must be a function."),p=u(f)}e.dispatch((0,o.T)(l,p));let _=h.getSource(f).beginDrag(d,f);if(null==_)return;(0,n.k)((0,i.Kn)(_),"Item must be an object."),h.pinSource(f);let v=h.getSourceType(f);return{type:a.qu,payload:{itemType:v,item:_,sourceId:f,clientOffset:l||null,sourceClientOffset:p||null,isSourcePublic:!!c}}}}},301097:function(e,t,r){"use strict";r.d(t,{BT:function(){return u},IS:function(){return a},Rd:function(){return i},SG:function(){return o},fu:function(){return n},j1:function(){return s},jn:function(){return c},wZ:function(){return l}});let n="dnd-core/ADD_SOURCE",i="dnd-core/ADD_TARGET",o="dnd-core/REMOVE_SOURCE",a="dnd-core/REMOVE_TARGET";function s(e){return{type:n,payload:{sourceId:e}}}function c(e){return{type:i,payload:{targetId:e}}}function l(e){return{type:o,payload:{sourceId:e}}}function u(e){return{type:a,payload:{targetId:e}}}},346997:function(e,t,r){"use strict";r.d(t,{Hn:function(){return i},QN:function(){return o},co:function(){return a}});var n=r(344330);let i=[],o=[];function a(e,t){return e!==i&&(e===o||void 0===t||(0,n.jV)(t,e).length>0)}i.__IS_NONE__=!0,o.__IS_ALL__=!0},291635:function(e,t,r){"use strict";r.d(t,{e:function(){return i}});var n=r(123171);class i{enter(e){let t=this.entered.length;return this.entered=(0,n.G0)(this.entered.filter(t=>this.isNodeInDocument(t)&&(!t.contains||t.contains(e))),[e]),0===t&&this.entered.length>0}leave(e){let t=this.entered.length;return this.entered=(0,n.zu)(this.entered.filter(this.isNodeInDocument),e),t>0&&0===this.entered.length}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}},449871:function(e,t,r){"use strict";r.d(t,{PD:function(){return i}});var n=r(595683);let i=function(e,t,r){return new n.z(e,t,r)}},285957:function(e,t,r){"use strict";r.d(t,{V:function(){return a}});var n=r(218571),i=r(527815),o=r(783222);function a(){let e=(0,o.N)();return(0,n.useMemo)(()=>new i.H(e),[e])}},755203:function(e,t,r){"use strict";r.d(t,{U:function(){return o}});var n=r(288),i=r(489805);function o(e,t,r){let[o,a]=(0,n.r)(e,t,r);return(0,i.L)(function(){let t=e.getHandlerId();if(null!=t)return e.subscribeToStateChange(a,{handlerIds:[t]})},[e,a]),o}},21228:function(e,t,r){"use strict";r.d(t,{p:function(){return a}});var n=r(540723);let i=!1,o=!1;class a{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){(0,n.k)(!i,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return i=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{i=!1}}isDragging(){if(!this.sourceId)return!1;(0,n.k)(!o,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return o=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{o=!1}}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,t){return this.internalMonitor.isOverTarget(e,t)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}}}]);