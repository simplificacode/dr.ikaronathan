/*!
* @ies/filter-xss v3.1.4
* (c) 2024
*/var e,t;e=this,t=function(e){"use strict";var t=function(){return(t=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function n(e,t,n){if(n||2==arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var i=/[^a-zA-Z0-9\\_:.-]/gim,r=/</g,o=/>/g,a=/&#([a-zA-Z0-9]*);?/gim,s=/&quot;/g,c=/&colon;?/gim,l=/&newline;?/gim,u=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,d=/u\s*r\s*l\s*\(.*/gi,p=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,h=/"/g,f=function(e){return e.replace(r,"&lt;").replace(o,"&gt;")},v={indexOf:function(e,t){var n,i;for(n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return -1},forEach:function(e,t,n){var i,r;for(i=0,r=e.length;i<r;i++)t.call(n,e[i],i,e)},some:function(e,t,n){var i,r;for(i=0,r=e.length;i<r;i++)if(t.call(n,e[i],i,e))return!0;return!1},trim:function(e){return e.replace(/(^\s*)|(\s*$)/g,"")},includes:function(e,t){if("string"==typeof e)return -1!==e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return!0;return!1},spaceIndex:function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1},uniq:function(e){for(var t={},n=[],i=0;i<e.length;i++)t[e[i]]||(n.push(e[i]),t[e[i]]=!0);return n},from:function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t},keys:function(e){var t=[];for(var n in e)t.push(n);return t}};function g(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]?e.substr(1,e.length-2):e}function m(e){var t,n,i,r,o,a,s,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l="",u=0;for(e=function(e){e=e.replace(/rn/g,"n");for(var t="",n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?t+=String.fromCharCode(i):i>127&&i<2048?t+=String.fromCharCode(i>>6|192)+String.fromCharCode(63&i|128):t+=String.fromCharCode(i>>12|224)+String.fromCharCode(i>>6&63|128)+String.fromCharCode(63&i|128)}return t}(e);u<e.length;)r=(t=e.charCodeAt(u++))>>2,o=(3&t)<<4|(n=e.charCodeAt(u++))>>4,a=(15&n)<<2|(i=e.charCodeAt(u++))>>6,s=63&i,isNaN(n)?a=s=64:isNaN(i)&&(s=64),l=l+c.charAt(r)+c.charAt(o)+c.charAt(a)+c.charAt(s);return l}function _(e){var t,n,i,r,o,a,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c="",l=0;for(e=e.replace(/[^A-Za-z0-9+/=]/g,"");l<e.length;)t=s.indexOf(e.charAt(l++))<<2|(r=s.indexOf(e.charAt(l++)))>>4,n=(15&r)<<4|(o=s.indexOf(e.charAt(l++)))>>2,i=(3&o)<<6|(a=s.indexOf(e.charAt(l++))),c+=String.fromCharCode(t),64!==o&&(c+=String.fromCharCode(n)),64!==a&&(c+=String.fromCharCode(i));return function(e){for(var t="",n=0,i=0,r=0;n<e.length;)(i=e.charCodeAt(n))<128?(t+=String.fromCharCode(i),n++):i>191&&i<224?(t+=String.fromCharCode((31&i)<<6|63&e.charCodeAt(n+1)),n+=2):(t+=String.fromCharCode((15&i)<<12|(63&e.charCodeAt(n+1))<<6|63&e.charCodeAt(n+2)),n+=3);return t}(c)}function y(e,t,n){var i="",r=0,o=!1,a=!1,s=0,c=e.length,l="",u="";e:for(s=0;s<c;s++){var d=e.charAt(s);if(!1===o){if("<"===d){o=s;continue}}else if(!1===a){if("<"===d){i+=n(e.slice(r,s)),o=s,r=s;continue}if(">"===d||s===c-1){i+=n(e.slice(r,o)),l=function(e){var t,n=v.spaceIndex(e);return t=-1===n?e.slice(1,-1):e.slice(1,n+1),"/"===(t=v.trim(t).toLowerCase()).slice(0,1)&&(t=t.slice(1)),"/"===t.slice(-1)&&(t=t.slice(0,-1)),t}(u=e.slice(o,s+1)),i+=t(o,i.length,l,u,"</"===u.slice(0,2)),r=s+1,o=!1;continue}if('"'===d||"'"===d)for(var p=1,h=e.charAt(s-p);""===h.trim()||"="===h;){if("="===h){a=d;continue e}h=e.charAt(s-++p)}}else if(d===a){a=!1;continue}}return r<c&&(i+=n(e.substr(r))),i}function b(e,t){var n=0,r=0,o=[],a=!1,s=e.length;function c(e,n){if(!((e=(e=v.trim(e)).replace(i,"").toLowerCase()).length<1)){var r=t(e,n||"");r&&o.push(r)}}for(var l=0;l<s;l++){var u=e.charAt(l),d=void 0;if(!1!==a||"="!==u){if(!1===a||l!==r){if(/\s|\n|\t/.test(u)){if(e=e.replace(/\s|\n|\t/g," "),!1===a){if(-1===(d=function(e,t){for(;t<e.length;t++){var n=e[t];if(" "!==n)return"="===n?t:-1}return -1}(e,l))){c(v.trim(e.slice(n,l))),a=!1,n=l+1;continue}l=d-1;continue}if(-1===(d=function(e,t){for(;t>0;t--){var n=e[t];if(" "!==n)return"="===n?t:-1}return -1}(e,l-1))){c(a,g(v.trim(e.slice(n,l)))),a=!1,n=l+1;continue}}}else{if(-1===(d=e.indexOf(u,l+1)))break;c(a,v.trim(e.slice(r+1,d))),a=!1,n=(l=d)+1}}else a=e.slice(n,l),n=l+1,r='"'===e.charAt(n)||"'"===e.charAt(n)?n:function(e,t){for(;t<e.length;t++){var n=e[t];if(" "!==n)return"'"===n||'"'===n?t:-1}return -1}(e,l+1)}return n<e.length&&(!1===a?c(e.slice(n)):c(a,g(v.trim(e.slice(n))))),v.trim(o.join(" "))}function w(e,t,n){var i,r;if(n=function(e){for(var t="",n=0,i=e.length;n<i;n++)t+=32>e.charCodeAt(n)?" ":e.charAt(n);return v.trim(t)}(n.replace(s,'"').replace(a,function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))}).replace(c,":").replace(l," ")),"href"===t||"src"===t){if("#"===(n=v.trim(n)))return"#";if("http://"!==n.substr(0,7)&&"https://"!==n.substr(0,8)&&"mailto:"!==n.substr(0,7)&&"tel:"!==n.substr(0,4)&&"data:image/"!==n.substr(0,11)&&"ftp://"!==n.substr(0,6)&&"./"!==n.substr(0,2)&&"../"!==n.substr(0,3)&&"#"!==n[0]&&"/"!==n[0])return""}else if("background"===t){if(u.lastIndex=0,u.test(n))return""}else if("style"===t&&(p.lastIndex=0,p.test(n)||(d.lastIndex=0,d.test(n)&&(u.lastIndex=0,u.test(n)))))return"";return n=f(n.replace(h,"&quot;"))}var E=function(e){return"string"==typeof e?e.replace(/'/g,'"').replace('=""',"").replace(/\s+/g,"").toLowerCase():""},S=function(){function e(e){var t=function(e){var t={};for(var n in e)t[n]=e[n];return t}(e||{});t.stripIgnoreTag&&(t.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),t.onIgnoreTag=function(){return""}),t.whiteList={},t.onTag=function(){},t.onTagAttr=function(){},t.onIgnoreTag=function(){},t.onIgnoreTagAttr=function(){},t.safeAttrValue=w,t.escapeHtml=f,this.options=Object.assign(t,e)}return e.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t,n,i,r,o,a=this.options,s=a.whiteList,c=a.onTag,l=a.onIgnoreTag,u=a.onTagAttr,d=a.onIgnoreTagAttr,p=a.safeAttrValue,h=a.escapeHtml;a.stripBlankChar&&(e=e.split("").filter(function(e){var t=e.charCodeAt(0);return!(127===t||t<=31&&10!==t&&13!==t)}).join("")),a.allowCommentTag||(e=function(e){for(var t="",n=0;n<e.length;){var i=e.indexOf("<!--",n);if(-1===i){t+=e.slice(n);break}t+=e.slice(n,i);var r=e.indexOf("-->",i);if(-1===r)break;n=r+3}return t}(e));var f=!1;a.stripIgnoreTagBody&&(t=a.stripIgnoreTagBody,"function"!=typeof(n=l)&&(n=function(){}),i=!Array.isArray(t),r=[],o=!1,l=(f={onIgnoreTag:function(e,a,s){if(i||-1!==v.indexOf(t,e)){if(s.isClosing){var c=s.position+10;return r.push([!1!==o?o:s.position,c]),o=!1,"[/removed]"}return o||(o=s.position),"[removed]"}return n(e,a,s)},remove:function(e){var t="",n=0;return v.forEach(r,function(i){t+=e.slice(n,i[0]),n=i[1]}),t+=e.slice(n)}}).onIgnoreTag);var g=y(e,function(e,t,n,i,r){var o={sourcePosition:e,position:t,isClosing:r,isWhite:Object.prototype.hasOwnProperty.call(s,n)},a=c(n,i,o);if(null!=a)return a;if(o.isWhite){if(o.isClosing)return"</".concat(n,">");var f=function(e){var t=v.spaceIndex(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var n="/"===(e=v.trim(e.slice(t+1,-1)))[e.length-1];return n&&(e=v.trim(e.slice(0,-1))),{html:e,closing:n}}(i),g=s[n],m=b(f.html,function(e,t){var i=-1!==v.indexOf(g,e),r=u(n,e,t,i);return null==r?i?(t=p(n,e,t,null))?"".concat(e,'="').concat(t,'"'):e:null==(r=d(n,e,t,i))?void 0:r:r});return i="<".concat(n),m&&(i+=" ".concat(m)),f.closing&&(i+=" /"),i+=">"}return null==(a=l(n,i,o))?h(i):a},h);return f&&(g=f.remove(g)),g},e}(),k=!0,x=function(e){return e&&e.Math==Math&&e},A=x("object"==typeof globalThis&&globalThis)||x("object"==typeof window&&window)||x("object"==typeof self&&self)||x("object"==typeof global&&global)||Function("return this")();try{!0!==(k=!!(k=String(k)).startsWith("<%=")||JSON.parse(k))&&"true"!==k||(A=Function("\nvar _checkXSS = function (it) {\n  return it && it.Math == Math && it;\n};\nreturn _checkXSS(typeof globalThis === 'object' && globalThis) ||\n_checkXSS(typeof window === 'object' && window) ||\n_checkXSS(typeof self === 'object' && self) ||\n_checkXSS(typeof global === 'object' && global) ||\nFunction('return this')();\n")())}catch(e){console.log(e)}var C=new(function(){function e(){var e=this;this.batchData=[],this.uniqKeys=new Set,this.timeout=2e3,this.lock=!1,this.isSetedConfig=!1,this.getSlardarBid=function(){var t,n,i="cc_web_smart_tools";if(!v.includes(i,"bid"))return i;if(e.config&&e.config.bid)return e.config.bid;var r=A;if(r&&r._xssBid)return r._xssBid;if(r&&r.slardar&&"function"==typeof r.slardar.config){var o=(r.slardar.config()||{}).bid;if(o)return o}if(r&&r.Slardar&&"function"==typeof r.Slardar.config){var a=(r.Slardar.config()||{}).bid;if(a)return a}return(null===(n=null===(t=null==r?void 0:r.Slardar)||void 0===t?void 0:t._baseParams)||void 0===n?void 0:n.bid)||"argus"},this.getConfigRegion=function(){var t,n="maliva";return v.includes(n,"region")?e.config&&e.config.region?e.config.region:((null===(t=null==A?void 0:A.gfdatav1)||void 0===t?void 0:t.region)||"cn").toLowerCase():n},this.gerReportUrl=function(){var t={cn:_("aHR0cHM6Ly9tb24uemlqaWVhcGkuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),boe:_("aHR0cHM6Ly9tb24uemlqaWVhcGkuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),ttp:_("aHR0cHM6Ly9tb24udXMudGlrdG9rdi5jb20vbW9uaXRvcl9icm93c2VyL2NvbGxlY3QvYmF0Y2gvc2VjdXJpdHkvP2JpZD0="),va:_("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),maliva:_("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),sg:_("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),boei18n:_("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9")}[e.getConfigRegion()];if(t)return t+e.getSlardarBid()}}return e.prototype.setConfig=function(e){this.isSetedConfig||(this.config=e)},e.prototype.upload=function(){var e=this;if(!this.config||!this.config.isCloseSSRReport||(null==A?void 0:A.document)){var t=!1;t=String(!1);try{if((!0===(t=!t.startsWith("<%=")&&JSON.parse(t))||"true"===t)&&!(null==A?void 0:A.document))return}catch(e){console.log(e)}var n=this.gerReportUrl();!this.lock&&n&&0!==this.batchData.length&&(this.lock=!0,setTimeout(function(){var t=e.batchData.slice(0,100);e.batchData=e.batchData.slice(100),A.fetch(n,{method:"post",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).catch(function(e){console.warn("xss defense report error",e)}),e.lock=!1,e.upload()},this.timeout))}},e.prototype.generateKey=function(e){return e.collectKey?[e.collectMode,e.collectKey].join("___"):""},e.prototype.push=function(e){this.batchData.push(e),this.upload()},e.prototype.report=function(e){var t=this.generateKey(e);if(A.fetch&&e.collectKey){var n="SSR";void 0!==A&&void 0!==A.location&&void 0!==A.location.href&&(n=A.location.href),e.documentUrl=n;var i={age:Math.floor(Date.now()),type:"xss",url:n,body:e,"user-agent":""};i.url="".concat(t,"___").concat(e.documentUrl),"SSR"===n&&(i.url="SSR___".concat(i.url),i.body.ssr=!0),this.push(i)}},e}());function I(e,t){return C.setConfig(t),new S(t).process(e)}var O=function(e){return -1===(e=(e=(e=(e=e.replace(/&colon;/gi,":")).replace(/&tab;/gi,"")).replace(/&newline;/gi,"")).replace(/(\t|\n|\r)/g,"")).indexOf("&#")?e.trim().toLowerCase():e.trim().replace(/&#(?:(x)([0-9a-f]+)|([0-9]+));?/gi,function(e,t,n,i){return String.fromCharCode(t?parseInt(n,16):parseInt(i))}).replace(/(\t|\n|\r)/g,"").toLowerCase()};function D(e,t){if(void 0===e&&(e=""),"string"!=typeof e)return!0;if(e=O(e),v.includes(e,"base64")&&!function(e){if(""===e||""===e.trim())return!0;try{return!v.includes(e,"data:text/html;base64")}catch(e){return!0}}(e))return t&&t("data:text/html;base64"),!1;var n=["expression(","behavior:","view-source:"];if(v.some(n,function(t){return -1!==e.indexOf(t)}))return v.forEach(n,function(n){-1!==e.indexOf(n)&&t&&t(n)}),!1;var i=["data:application","data:javascript","data:text/html","data:texthtml"];if(v.some(i,function(t){return -1!==e.indexOf(t)}))return v.forEach(i,function(n){-1!==e.indexOf(n)&&t&&t(n)}),!1;if(e.indexOf("javascript:")>0)return t&&t("javascript:"),!1;if(/^javascript:/i.test(e)){var r=e.slice(11).replace(/\s/g,"").trim();return!!v.some(["void","void(0)","void0","false","undefined",";"],function(e){return e===r})||(t&&t("javascript:"),!1)}return!0}var R=function(e,t){var n,i,r=!1;if(r=String(!1),"string"!=typeof e||(i=Number(1e4),void 0!==n&&(i=n),"NaN"!==i.toString()&&-1!==i&&e.length>=i)||D(e,t))return e;try{if(!0===(r=!r.startsWith("<%=")&&JSON.parse(r))||"true"===r){var o=new URL(e);return o.origin+o.pathname}}catch(e){return console.log(e),"#"}return"#"};function N(e,t,i){if(void 0===e&&(e=""),void 0===t&&(t=[]),"string"!=typeof e)return!0;if(!D(e=O(e)))return!1;var r,o={url:(r=e.match(/^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/)||[])[0],scheme:r[1],slash:r[2],host:r[3],port:r[4],path:r[5],query:r[6],hash:r[7]},a=o.scheme,s=o.host;return i?!!i(e):!(!a||!s)&&(!v.includes(["http","https","file"],a)||("object"==typeof window&&window&&(t=n(n([],t,!0),[location.host],!1)),v.some(t,function(e){return!!(e instanceof RegExp&&e.test(s))||e===s})))}var M=function(e,t){for(var n={},i=0,r=v.keys(e);i<r.length;i++){var o=r[i];Array.isArray(e[o])?n[o]=v.from(e[o]):n[o]=M({},e[o])}for(var a=0,s=v.keys(t);a<s.length;a++)(o=s[a])in e?Array.isArray(e[o])?n[o]=e[o].concat(t[o]):n[o]=M(e[o],t[o]):Array.isArray(t[o])?n[o]=v.from(t[o]):n[o]=M({},t[o]);return n},L={blackList:{a:["folder"],meta:["content"],iframe:["srcdoc"],input:["pattern"],vmlframe:["xmlns"]},blackTags:["script","xml","embed","isindex","object","base","set","handler","animate","payload","import"],blackAttrs:["charset","ns","namespace","formaction","xlink:href","xmlns:xlink","handler","repeat","repeat-start","repeat-end"],blackAttrRegExps:[/^on/],filterList:{param:["value"],video:["poster"],form:["action"]},filterAttrs:["href","src","background","style","dynsrc","lowsrc","content"],specialContentClosure:["title","style","noscript","textarea","xmp","iframe","noembed","noframes"]};try{var P={};P.blackAttrRegExps&&(P.blackAttrRegExps=P.blackAttrRegExps.map(function(e){return new RegExp(e.toString().slice(1,e.toString().length-1))}));var j="merge";v.includes(j,"override")&&(L=P),v.includes(j,"merge")&&(L=M(L,P))}catch(e){console.log(e)}var z={mode:"black",whiteList:{},blackConfig:L,collect:null,initCollect:function(){z.collect={blackList:{},blackTags:[],blackAttrs:[],blackAttrRegExps:[],filterAttrs:[],filterList:{},filterProtocol:[]}},removeCollect:function(){var e=function(e){for(var t=0,n=function(n){Array.isArray(e[n])?0===e[n].length?delete e[n]:(e[n]=v.from(v.uniq(e[n])),t+=e[n].length):0===v.keys(e[n]).length?delete e[n]:v.keys(e[n]).forEach(function(i){e[n][i]=v.from(v.uniq(e[n][i])),t+=e[n][i].length})},i=0,r=v.keys(e);i<r.length;i++)n(r[i]);return{count:t,ret:e}}(z.collect),t=e.count,n=e.ret;return z.collect=null,{collectKey:0===t?null:JSON.stringify(n),collectMode:"black"}},onIgnoreTag:function(e,t){var n;if(!v.includes(L.blackTags,e))return y(t,function(e,t,n,i,r){if(-1!==n.indexOf("/"))return f(i);if(r)return"</".concat(n,">");var o=function(e){var t,n=(t=/\s|\n|\t/.exec(e))?t.index:-1;if(-1===n)return{html:"",closing:"/"===e[e.length-2]};var i="/"===(e=e.slice(n+1,-1).trim())[e.length-1];return i&&(e=e.slice(0,-1).trim()),{html:e,closing:i}}(i),a=b(o.html,function(e,t){var i,r,o=0;if(L.blackList[n]&&v.includes(L.blackList[n],e)&&(z.collect.blackList[n]=z.collect.blackList[n]||[],z.collect.blackList[n].push(e),o++),L.blackAttrRegExps.length&&L.blackAttrRegExps.some(function(t){return t.test(e)})&&v.forEach(L.blackAttrRegExps,function(t){t.test(e)&&(z.collect.blackAttrRegExps.push("".concat(t.toString(),"->").concat(e)),o++)}),L.blackAttrs.length&&v.includes(L.blackAttrs,e)&&(L.blackAttrs.push(e),o++),!o){if(Array.isArray(L.specialContentClosure)&&"string"==typeof t&&L.specialContentClosure.find(function(e){return t.includes("</".concat(e,">"))})){null===(i=z.collect)||void 0===i||i.filterAttrs.push(e);var a="#";return t?"".concat(e,"='").concat(a,"'"):e}return L.filterList&&L.filterList[n]&&v.includes(L.filterList[n],e)?((a=R(t,function(e){var t;null===(t=z.collect)||void 0===t||t.filterProtocol.push(e)}))!==t&&(z.collect.filterList[n]=z.collect.filterList[n]||[],z.collect.filterList[n].push(e)),t?"".concat(e,"='").concat(a,"'"):e):L.filterAttrs&&v.includes(L.filterAttrs,e)?((a=R(t,function(e){var t;null===(t=z.collect)||void 0===t||t.filterProtocol.push(e)}))!==t&&(null===(r=z.collect)||void 0===r||r.filterAttrs.push(e)),t?"".concat(e,"='").concat(a,"'"):e):t?"".concat(e,"='").concat(t,"'"):e}});return i="<".concat(n),a&&(i+=" ".concat(a)),o.closing&&(i+=" /"),i+=">"},f);null===(n=z.collect)||void 0===n||n.blackTags.push(e)}},B=function(e){var t=e.reportOnly,n=void 0===t||t,i=e.block;return n&&"all"===n?"report":("string"==typeof n&&("true"===n&&(n=!0),"false"===n&&(n=!1)),i?"enforce":n?"report":"enforce")},G=function(e){return function(n,i,r){if(!n||"string"!=typeof n)return n;var o=i;e===I&&(o=z).initCollect();var a=e(n,o);if(E(a)===E(n))return n;if(!r)return a;var s=r.logType,c=B(r),l=o.removeCollect();return C.report(t(t({type:s,disposition:c},l),{sourceText:m(n.replace(/'/g,'"')),filterText:m(a.replace(/'/g,'"'))})),"enforce"===c?a:n}},U=G(function(e,t){return void 0===t&&(t={}),t&&t.whiteList||(t.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}),new S(t).process(e)}),F=G(I),V=function(e,t,n){var i=[],r=R(e,function(e){i.push(e)});if(r===e)return e;i=v.from(v.uniq(i));var o=t||n||{};if(!o)return r;var a=o.logType,s=B(n);return C.report({type:a,disposition:s,collectKey:i.join("___"),collectData:JSON.stringify(i),collectMode:"black",sourceText:m(e),filterText:m(r)}),"enforce"===s?r:e},H=A._xssProject||{},Z=A.xssNamespace||{},W="3.1.4",q={FilterXSS:S,version:W,webpackPluginVersion:"3.1.9",reportOnly:"all",filterXSS:U,_filterXSS:F,filterUrl:V,BlackConfig:z,project:H,setProjectName:function(e){H[e]=this,A._xssProjectName=e}};Z["lvweb/smart-tools"]=q,A.xssNamespace=Z,A.Math&&!A.Math.xssNamespace&&(A.Math.xssNamespace=Z),H[W]=q,A.globalThis=A,A.getFilterXss=function(){return void 0!==this._xssProjectName?this._xssProject[this._xssProjectName]:q},A.xss=q,A.isSafeUrl=N,A.isSafeDomain=N,A.isSafeProtocol=D,A._xssProject=H,A._xssProjectName&&(H[A._xssProjectName]=q);var K=q.setProjectName.bind(q);e.BlackConfig=z,e.FilterXSS=S,e._filterXSS=F,e.filterUrl=V,e.filterXSS=U,e.isSafeDomain=N,e.isSafeProtocol=D,e.isSafeUrl=N,e.project=H,e.setProjectName=K,e.setXssNamespace=function(e){var t=e.appId,n=e.bid,i=e.region,r=e.isCloseSSRReport;Z[t]=q,z.bid=n,z.region=i,z.enabled=!0,z.isCloseSSRReport=r},e.xssNamespace=Z,Object.defineProperty(e,"__esModule",{value:!0})},"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).xss={}),(self.webpackChunksmart_tools=self.webpackChunksmart_tools||[]).push([["302"],{650261:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var i=n(218571),r=n(548704),o=n(648182),a=n(594200),s=n(642981),c=function(){return(c=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},l=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>t.indexOf(i)&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)0>t.indexOf(i[r])&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n},u={actionLayout:"horizontal"},d=i.forwardRef(function(e,t){var n=(0,i.useContext)(o.E_),d=n.getPrefixCls,p=n.componentConfig,h=(0,s.Z)(e,u,p&&p["List.Item"]),f=h.children,v=h.className,g=h.actions,m=h.extra,_=h.actionLayout,y=l(h,["children","className","actions","extra","actionLayout"]),b=d("list")+"-item",w=[],E=[];i.Children.forEach(f,function(e){e&&e.type&&e.type===r.Z?w.push(e):E.push(e)});var S=E.length?i.createElement("div",{className:b+"-content"},E):null,k=m?i.createElement("div",{className:b+"-extra-content"},m):null,x=g&&g.length?i.createElement("div",{className:b+"-action"},g.map(function(e,t){return i.createElement("li",{key:b+"-action-"+t},e)})):null;return i.createElement("div",c({role:"listitem",ref:t,className:(0,a.Z)(b,v)},y),i.createElement("div",{className:b+"-main"},w,S,"vertical"===_?x:null),"horizontal"===_?x:null,k)});d.displayName="ListItem",d.Meta=r.Z;let p=d},477458:function(e,t,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(269001),o=n(471664);t.default=function(e){var t=this;this.sendEmailCode=function(e){var n=e.email,a=e.extra_params,s=(0,r.encryptParams)(i({email:n,type:4},void 0===a?{}:a),["email","type"]);return t.request({url:o.WEB_AFF_URL.SEND_EMAIL_CODE,method:"POST",data:s})},this.sendMobileCode=function(e){var n=e.mobile,a=e.extra_params,s=(0,r.encryptParams)(i({mobile:n,type:6},void 0===a?{}:a),["mobile","type"]);return t.request({url:o.WEB_AFF_URL.SEND_MOBILE_CODE,method:"POST",data:s})},this.mobileReset=function(e){var n=e.mobile,a=e.code,s=e.password,c=e.extra_params,l=(0,r.encryptParams)(i({mobile:n,code:a,password:s},void 0===c?{}:c),["mobile","code","password"]);return t.request({url:o.WEB_AFF_URL.RESET_BY_MOBILE,method:"POST",data:l})},this.emailReset=function(e){var n=e.email,a=e.code,s=e.password,c=e.extra_params,l=(0,r.encryptParams)(i({email:n,code:a,password:s},void 0===c?{}:c),["email","code","password"]);return t.request({url:o.WEB_AFF_URL.RESET_BY_EMAIL,method:"POST",data:l})};var n=e.request;this.request=n}},281373:function(e,t,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(269001),o=n(471664);t.default=function(e){var t=this;this.notLoginSendCode=function(e){var n=e.mobile,a=e.extra_params,s=(0,r.encryptParams)(i({mobile:n,type:34},void 0===a?{}:a),["mobile","type"]);return new Promise(function(e,n){t.request({url:o.WEB_URL.SEND_MOBILE_CODE,method:"POST",data:s}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.notLoginValidateMobile=function(e){var n=e.mobile,a=e.code,s=e.extra_params,c=(0,r.encryptParams)(i({mobile:n,code:a,type:34},void 0===s?{}:s),["mobile","code","type"]);return new Promise(function(e,n){t.request({url:o.WEB_URL.CHECK_MOBILE_CODE,method:"POST",data:c}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.notLoginSendEmailCode=function(e){var n=e.email,a=e.extra_params,s=(0,r.encryptParams)(i({email:n,type:15},void 0===a?{}:a),["email","type"]);return new Promise(function(e,n){t.request({url:o.WEB_URL.SEND_EMAIL_CODE,method:"POST",data:s}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.notLoginValidateEmail=function(e){var n=e.email,a=e.code,s=e.extra_params,c=(0,r.encryptParams)(i({email:n,code:a,type:15},void 0===s?{}:s),["email","code","type"]);return new Promise(function(e,n){t.request({url:o.WEB_URL.CHECK_EMAIL_CODE,method:"POST",data:c}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.sendCode=function(e){void 0===e&&(e={});var n=e.extra_params,a=(0,r.encryptParams)(i({type:22},void 0===n?{}:n),["type"]);return new Promise(function(e,n){t.request({url:o.WEB_URL.SEND_MOBILE_CODE,method:"POST",data:a}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.validateMobile=function(e){var n=e.code,a=e.extra_params,s=(0,r.encryptParams)(i({code:n,type:22},void 0===a?{}:a),["code","type"]);return new Promise(function(e,n){t.request({url:o.WEB_URL.VERIFY_MOBILE_CODE,method:"POST",data:s}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.sendEmailCode=function(e){void 0===e&&(e={});var n=e.extra_params,a=(0,r.encryptParams)(i({type:6},void 0===n?{}:n),["type"]);return t.request({url:o.WEB_URL.SEND_EMAIL_CODE,method:"POST",data:a})},this.validateEmail=function(e){var n=e.code,a=e.extra_params,s=(0,r.encryptParams)(i({code:n,type:6},void 0===a?{}:a),["code","type"]);return t.request({url:o.WEB_URL.VERIFY_EMAIL_CODE,method:"POST",data:s})},this.accountVerify=function(e){var n=e.account,a=e.password,s=e.extra_params,c=(0,r.encryptParams)(i({account:n,password:a,user_login_version:1},void 0===s?{}:s),["account","password"]);return new Promise(function(e,n){t.request({url:o.WEB_URL.ACCOUNT_VERIFY,method:"POST",data:c}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.authVerify=function(e){var n=e.platform_app_id,r=e.code,a=e.access_token,s=e.access_token_secret,c=e.openid,l=e.profile_key,u=e.extra_params,d=void 0===u?{}:u;return new Promise(function(e,u){t.request({url:o.WEB_URL.AUTH_VERIFY,method:"POST",data:i({platform_app_id:n,code:r,access_token:a,access_token_secret:s,openid:c,profile_key:l},d)}).then(function(t){e(t)}).catch(function(e){u(e)})})},this.smsAuthorizeSendCode=function(e){var n=e.mobile,a=e.extra_params,s=(0,r.encryptParams)(i({mobile:n,type:26},void 0===a?{}:a),["mobile","type"]);return new Promise(function(e,n){t.request({url:o.WEB_URL.SEND_MOBILE_CODE,method:"POST",data:s}).then(function(t){e(t)}).catch(function(e){n(e)})})},this.smsAuthorize=function(e){var n=e.mobile,a=e.code,s=e.extra_params,c=(0,r.encryptParams)(i({mobile:n,code:a,type:26},void 0===s?{}:s),["mobile","code","type"]);return new Promise(function(e,n){t.request({url:o.WEB_URL.SMS_AUTHORIZE,method:"POST",data:c}).then(function(t){e(t)}).catch(function(e){n(e)})})};var n=e.request;this.request=n}},631785:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initAcrawler=void 0;var i=n(471664);function r(e){var t=(window||{}).byted_acrawler,n=[].concat(Object.values(i.WEB_URL),Object.values(i.WEB_AFF_URL),Object.values(i.WEB_SSO)),r=Object.values(i.WEB_SSO).map(function(e){return[e,"/passport/sso".concat(e)]})||[];t&&t.init({aid:e.aid,isSDK:!0,boe:e.isBoe||!1,enablePathList:n,urlRewriteRules:r})}t.initAcrawler=function(e,t){var n,i,o,a="https://sf16-secsdk.ibytedtos.com/obj/rc-web-sdk-gcs/webmssdk/1.0.0.303/webmssdk.js";("gcp"===e||"giso"===e?a="https://sf16-secsdk.ibytedtos.com/obj/rc-web-sdk-giso/webmssdk/1.0.0.303/webmssdk.js":"sg"===e?a="https://sf16-secsdk.ibytedtos.com/obj/rc-web-sdk-sg/webmssdk/1.0.0.303/webmssdk.js":("va"===e||"gcs"===e)&&(a="https://sf16-secsdk.ibytedtos.com/obj/rc-web-sdk-gcs/webmssdk/1.0.0.303/webmssdk.js"),window.byted_acrawler)?r(t):(n=a,i=function(){r(t)},(o=document.createElement("script")).type="text/javascript",o.src=n,document.getElementsByTagName("head")[0].appendChild(o),o.readyState?o.onreadystatechange=function(){("complete"===o.readyState||"loaded"===o.readyState)&&(o.onreadystatechange=null,i&&i())}:o.onload=function(){i&&i()})}},173006:function(e,t,n){"use strict";t.default=void 0;var i=n(218571);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}t.default=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.min,s=n.max,c=(0,i.useCallback)(function(e){return"number"==typeof s&&(e=Math.min(s,e)),"number"==typeof a&&(e=Math.max(a,e)),e},[a,s]),l=(0,i.useMemo)(function(){return c(t)},[t,c]),u=function(e){if(Array.isArray(e))return e}(e=(0,i.useState)(l))||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),2!==n.length);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}}(e,2)||function(e,t){if(e){if("string"==typeof e)return o(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,2)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),d=u[0],p=u[1];return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){var i;i=n[t],t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({state:d},(0,i.useMemo)(function(){var e=function(e){p(function(t){return c("number"==typeof e?e:e(t))})};return{inc:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;e(function(e){return e+t})},dec:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;e(function(e){return e-t})},set:function(t){e(t)},reset:function(){e(l)}}},[c,l]))}},215317:function(e,t,n){"use strict";t.default=void 0;var i=n(218571),r=n(522361);function o(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||c(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){var i;i=n[t],t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}t.default=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],l=function(e){if(Array.isArray(e))return e}(t=(0,i.useState)(r.INITIAL_DATA))||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),2!==n.length);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}}(t,2)||c(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),u=l[0],d=l[1],p=(0,i.useRef)(),h=(0,i.useRef)(null),f=(0,i.useRef)(),v=(0,i.useRef)(r.INITIAL_DATA),g=(0,i.useRef)(r.INITIAL_DATA),m=(0,i.useRef)(),_=(0,i.useRef)(),y=function(e){return s(s({},e),{},{time:Math.round(e.time),speed:{x:Math.round(e.speed.x),y:Math.round(e.speed.y)},totalDistance:{x:Math.round(e.totalDistance.x),y:Math.round(e.totalDistance.y)},relativeDistance:{x:Math.round(e.relativeDistance.x),y:Math.round(e.relativeDistance.y)},offset:{x:Math.round(e.offset.x),y:Math.round(e.offset.y)}})},b=function e(t){var n=p.current;if(n){m.current||(m.current=t);var i=t-m.current,o={x:n.scrollLeft,y:n.scrollTop};n===window&&(o.x=document.documentElement.scrollLeft||document.body.scrollLeft,o.y=document.documentElement.scrollTop||document.body.scrollTop);var a={x:(0,r.getDirectionX)(o.x,g.current),y:(0,r.getDirectionY)(o.y,g.current)},c={x:(0,r.getTotalDistanceX)(o.x,g.current),y:(0,r.getTotalDistanceY)(o.y,g.current)},l={x:(0,r.getRelativeDistanceX)(o.x,v.current),y:(0,r.getRelativeDistanceY)(o.y,v.current)},u=t-(_.current||0),f={x:(0,r.getSpeedX)(o.x,g.current,u),y:(0,r.getSpeedY)(o.y,g.current,u)},y=s(s({},g.current),{},{scrolling:!0,time:i,direction:a,speed:f,totalDistance:c,relativeDistance:l,offset:o});g.current=y,d(g.current),_.current=t,window.cancelAnimationFrame(h.current),h.current=requestAnimationFrame(e)}},w=function(){v.current=s({},g.current),window.cancelAnimationFrame(h.current),h.current=requestAnimationFrame(b),"function"==typeof n.onScrollStart&&n.onScrollStart(y(g.current))},E=function(){g.current=s(s(s({},g.current),r.INITIAL_DATA),{},{offset:g.current.offset,relativeDistance:g.current.relativeDistance,totalDistance:g.current.totalDistance}),d(g.current),window.cancelAnimationFrame(h.current),m.current=null,_.current=null,"function"==typeof n.onScrollEnd&&n.onScrollEnd(y(g.current))},S=function(){f.current&&window.clearTimeout(f.current),f.current=window.setTimeout(E,r.DEFAULT_TIMEOUT)},k=function(){g.current.scrolling||w(),"function"==typeof n.onScroll&&n.onScroll(y(g.current)),S()};return(0,i.useLayoutEffect)(function(){var t;if(!n.ref){if(e?(t="function"==typeof e?e():e)===window?p.current=window:p.current=t:t=p.current,t===window)return window.addEventListener("scroll",k,!0),function(){window.clearTimeout(f.current),t&&window.removeEventListener("scroll",k,!0)};if(t)return t.addEventListener("scroll",k,!0),function(){window.clearTimeout(f.current),t&&t.removeEventListener("scroll",k,!0)}}},[p.current,"function"==typeof e?void 0:e].concat(o(a))),(0,i.useEffect)(function(){if(n.ref){var e=n.ref.current;if(e)return p.current=e,e.addEventListener("scroll",k,!0),function(){window.clearTimeout(f.current),e&&e.removeEventListener("scroll",k,!0)}}},[n.ref].concat(o(a))),[p,y(u)]}},395551:function(e,t,n){"use strict";t.default=void 0;var i=n(218571),r=a(n(375107)),o=a(n(953032));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}t.default=function(e){var t,n,a,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],d=50;"string"==typeof l?n=l:(l.dimension&&(n=l.dimension),l.throttle&&(d=l.throttle),l.throttleOption&&(a=l.throttleOption));var p=(0,i.useRef)(),h=function(e){if(Array.isArray(e))return e}(t=(0,i.useState)(function(){var t="function"==typeof e?e():e;return{width:(t||{}).clientWidth||0,height:(t||{}).clientHeight||0}}))||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),2!==n.length);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}}(t,2)||s(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),f=h[0],v=h[1],g=(0,i.useCallback)(function(e){if(null!=e&&e.length){var t=e[0].contentRect,i=t.width,r=t.height;v(function(e){return e?"width"===n?e.width!==i?{width:i,height:r}:e:"height"===n?e.height!==r?{width:i,height:r}:e:e.width!==i||e.height!==r?{width:i,height:r}:e:{width:i,height:r}})}},[n]),m=(0,o.default)(g,d,[g],a).run;return(0,i.useLayoutEffect)(function(){var t=p.current;e&&(t="function"==typeof e?e():e);var n=new r.default(m);return t&&n.observe(t),function(){return n.disconnect()}},[p.current,"function"==typeof e?void 0:e,g].concat(function(e){if(Array.isArray(e))return c(e)}(u)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(u)||s(u)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),[p,f]}},250006:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var i=n(571456),r=n(683132),o=function(){function e(t){(0,i.PA)(this,e),this.TAG="AudioTimeRange",this._parent=t,this._buffers=[],this._duration=0,this._baseDts=0,this._lastBuffer=null}return(0,i.qH)(e,[{key:"isLive",get:function(){return this._parent.isLive}},{key:"duration",get:function(){return this._duration},set:function(e){this._duration=e}},{key:"buffered",get:function(){var e=this;if(this.isLive)return{length:this._duration?1:0,start:function(){return 0},end:function(){return e._duration}};var t=this._mergeBufferRanges();return{length:t.length,start:function(e){var n=t[e];return n?n.start:0},end:function(e){var n=t[e];return n?n.end:1/0}}}},{key:"resetDts",value:function(e){this._baseDts=e}},{key:"_transitionSamples",value:function(e){for(var t=e.numberOfChannels,n=e.length,i=0;i<t;i++){for(var r=e.getChannelData(i),o=0;o<512;o++)r[o]=r[o]*o/512;for(var a=n-512;a<n;a++)r[a]=r[a]*(n-a)/512}}},{key:"append",value:function(e,t,n,i){-1===this._baseDts&&(this._baseDts=n),this._transitionSamples(e);var o=(n-this._baseDts)/1e3,a=o+t,s={start:o,end:a,startDts:n,source:e,duration:t,delay:i};if(r.kg.log(this.TAG,"add new buffer range, startDts:".concat(n,", [").concat(s.start," , ").concat(s.end,"]")),this._buffers.filter(function(e){return e.start===o}).length){console.error("\u97F3\u9891\u91CD\u590D");return}return this._buffers.push(s),this.isLive&&(this._duration=a),s.start}},{key:"deletePassed",value:function(e){return this._buffers=this._buffers.filter(function(t){return t.start>=e}),this._buffers[0]}},{key:"canSeek",value:function(e){var t=this._buffers[this._buffers.length-1];return!!t&&!(t.start<e)}},{key:"_mergeBufferRanges",value:function(){var e=this._buffers.slice().sort(function(e,t){return e.start>t.start?1:-1}),t=e.length,n=[];if(!t)return n;for(var i={start:e[0].start,end:e[0].end},r=1;r<t;r++){var o=e[r];.5>Math.abs(i.end-o.start)?i.end=o.end:(n.push(i),i={start:o.start,end:o.end})}return n.push(i),n}},{key:"getBuffer",value:function(e){if(this.isLive)return this._buffers.shift();var t=this._buffers.filter(function(t){return t.start<e+.5&&t.end>e+.5})[0];return(r.kg.log(this.TAG,"get audio buffer , currentTime:".concat(e," ,buffer:[").concat(t&&t.start," , ").concat(t&&t.end,"]")),0!==e||t)?t:this._buffers[0]}},{key:"hasBuffer",value:function(){var e;return!!(null!==(e=this._buffers)&&void 0!==e&&e.length)}}]),e}()},838255:function(e,t,n){"use strict";n.d(t,{P:function(){return eP},Z:function(){return ej}});var i,r=function(){return(r=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function o(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}(arguments[t]));return e}var a,s,c,l,u,d,p,h=function(){function e(){this._hooks={},this._cache=[],this._hooksCache={}}return e.prototype.on=function(e,t){e&&t&&"function"==typeof t&&(this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t))},e.prototype.once=function(e,t){var n=this;e&&t&&"function"==typeof t&&this.on(e,function i(r){t(r),n.off(e,i)})},e.prototype.off=function(e,t){if(e&&this._hooks[e]&&this._hooks[e].length){if(t){var n=this._hooks[e].indexOf(t);-1!==n&&this._hooks[e].splice(n,1)}else this._hooks[e]=[]}},e.prototype.emit=function(e,t,n){n?e&&(-1!==this._cache.indexOf(n)?this._emit(e,t):(this._hooksCache.hasOwnProperty(n)||(this._hooksCache[n]={}),this._hooksCache[n].hasOwnProperty(e)||(this._hooksCache[n][e]=[]),this._hooksCache[n][e].push(t))):this._emit(e,t)},e.prototype._emit=function(e,t){e&&this._hooks[e]&&this._hooks[e].length&&o(this._hooks[e]).forEach(function(e){try{e(t)}catch(e){}})},e.prototype.set=function(e){e&&-1===this._cache.indexOf(e)&&this._cache.push(e)},e}(),f=function(e){return null!=e&&"[object Object]"==Object.prototype.toString.call(e)},v=function(e){return Array.isArray(e)},g=(a=+Date.now()+Number((""+Math.random()).slice(2,8)),function(){return a+=1}),m=function(e){return function(e,t,n){if("string"==typeof e&&"number"==typeof n){var i,r=[],o=String.fromCharCode((n=n<=25?n:n%25)+97);i=e.split(o);for(var a=0;a<i.length;a++){var s=parseInt(i[a],n),c=String.fromCharCode(s=1*s^64);r.push(c)}return r.join("")}}(e,0,25)},_=function(e){navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?window.addEventListener("pagehide",e,!1):window.addEventListener("beforeunload",e,!1)},y=function(){var e=0;return["hidden","msHidden","webkitHidden"].forEach(function(t){void 0!==document[t]&&(e=1)}),e},b=function(e){var t=document.createElement("a");return t.href=e,t},w=function(e){var t={};try{var n=b(e).search;(n=n.slice(1)).split("&").forEach(function(e){var n,i,r=e.split("=");r.length&&(n=r[0],i=r[1]);try{t[n]=decodeURIComponent(void 0===i?"":i)}catch(e){t[n]=i}})}catch(e){}return t},E=(s=u={exports:{}},u.exports,l=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(i){function r(){}function o(t,n,o){if("undefined"!=typeof document){"number"==typeof(o=e({path:"/"},r.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(e){}n=i.write?i.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in o)o[c]&&(s+="; "+c,!0!==o[c]&&(s+="="+o[c].split(";")[0]));return document.cookie=t+"="+n+s}}function a(e,n){if("undefined"!=typeof document){for(var r={},o=document.cookie?document.cookie.split("; "):[],a=0;a<o.length;a++){var s=o[a].split("="),c=s.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var l=t(s[0]);if(c=(i.read||i)(c,l)||t(c),n)try{c=JSON.parse(c)}catch(e){}if(r[l]=c,e===l)break}catch(e){}}return e?r[e]:r}}return r.set=o,r.get=function(e){return a(e,!1)},r.getJSON=function(e){return a(e,!0)},r.remove=function(t,n){o(t,"",e(n,{expires:-1}))},r.defaults={},r.withConverter=n,r}(function(){})},s.exports=l(),u.exports),S=function(e,t){try{return E.get(e)}catch(e){return""}},k=function(e,t,n,i){try{var r=i||document.domain,o=+new Date+(n||6048e5);E.set(e,t,{expires:new Date(o),path:"/",domain:r})}catch(e){}},x=function(){function e(){this.cache={}}return e.prototype.setItem=function(e,t){this.cache[e]=t},e.prototype.getItem=function(e){return this.cache[e]},e.prototype.removeItem=function(e){this.cache[e]=void 0},e.prototype.getCookie=function(e,t){return S(e)},e.prototype.setCookie=function(e,t,n,i){k(e,t,n,i)},e}(),A={getItem:function(e){try{var t=localStorage.getItem(e),n=t;try{t&&"string"==typeof t&&(n=JSON.parse(t))}catch(e){}return n||{}}catch(e){}return{}},setItem:function(e,t){try{var n="string"==typeof t?t:JSON.stringify(t);localStorage.setItem(e,n)}catch(e){}},removeItem:function(e){try{localStorage.removeItem(e)}catch(e){}},getCookie:function(e,t){return S(e)},setCookie:function(e,t,n,i){k(e,t,n,i)},isSupportLS:function(){try{return localStorage.setItem("_ranger-test-key","hi"),localStorage.getItem("_ranger-test-key"),localStorage.removeItem("_ranger-test-key"),!0}catch(e){return!1}}()},C={getItem:function(e){try{var t=sessionStorage.getItem(e),n=t;try{t&&"string"==typeof t&&(n=JSON.parse(t))}catch(e){}return n||{}}catch(e){}return{}},setItem:function(e,t){try{var n="string"==typeof t?t:JSON.stringify(t);sessionStorage.setItem(e,n)}catch(e){}},removeItem:function(e){try{sessionStorage.removeItem(e)}catch(e){}},getCookie:function(e,t){return S(e)},setCookie:function(e,t,n,i){k(e,t,n,i)},isSupportSession:function(){try{return sessionStorage.setItem("_ranger-test-key","hi"),sessionStorage.getItem("_ranger-test-key"),sessionStorage.removeItem("_ranger-test-key"),!0}catch(e){return!1}}()},I=function(){function e(e,t){this._storage=t&&"session"===t?C:!e&&A.isSupportLS?A:new x}return e.prototype.getItem=function(e){return this._storage.getItem(e)},e.prototype.setItem=function(e,t){this._storage.setItem(e,t)},e.prototype.getCookie=function(e,t){return this._storage.getCookie(e,t)},e.prototype.setCookie=function(e,t,n,i){this._storage.setCookie(e,t,n,i)},e.prototype.removeItem=function(e){this._storage.removeItem(e)},e}(),O=function(){function e(e,t,n){this.appid=e,this.domain=t,this.userAgent=window.navigator.userAgent,this.appVersion=window.navigator.appVersion,this.cookie_expire=n}return e.prototype.init=function(){var e=window.navigator.userAgent,t=window.navigator.language,n=document.referrer,i=n?b(n).hostname:"",r=w(window.location.href),o=/Mobile|htc|mini|Android|iP(ad|od|hone)/.test(this.appVersion)?"wap":"web";this.utm=function(e,t,n,i){var r=new I(!1,"session"),o=e?"_$utm_from_url_"+e:"_$utm_from_url",a={},s=["tr_shareuser","tr_admaster","tr_param1","tr_param2","tr_param3","tr_param4","$utm_from_url"],c={ad_id:Number(t.ad_id)||void 0,campaign_id:Number(t.campaign_id)||void 0,creative_id:Number(t.creative_id)||void 0,utm_source:t.utm_source,utm_medium:t.utm_medium,utm_campaign:t.utm_campaign,utm_term:t.utm_term,utm_content:t.utm_content,tr_shareuser:t.tr_shareuser,tr_admaster:t.tr_admaster,tr_param1:t.tr_param1,tr_param2:t.tr_param2,tr_param3:t.tr_param3,tr_param4:t.tr_param4};try{var l=!1;for(var u in c)c[u]&&(-1!==s.indexOf(u)?(a.hasOwnProperty("tracer_data")||(a.tracer_data={}),a.tracer_data[u]=c[u]):a[u]=c[u],l=!0);l&&r.setItem(o,"1"),r.getItem(o)&&(a.hasOwnProperty("tracer_data")||(a.tracer_data={}),a.tracer_data.$utm_from_url=1)}catch(e){return c}return a}(this.appid,r,this.domain,this.cookie_expire);var a=this.browser(),s=this.os();return{browser:a.browser,browser_version:a.browser_version,platform:o,os_name:s.os_name,os_version:s.os_version,userAgent:e,screen_width:window.screen&&window.screen.width,screen_height:window.screen&&window.screen.height,device_model:this.getDeviceModel(s.os_name),language:t,referrer:n,referrer_host:i,utm:this.utm,latest_data:this.last(n,i)}},e.prototype.last=function(e,t){var n="",i="",r="",o=location.hostname,a=!1;if(e&&t&&o!==t){n=e,i=t,a=!0;var s=w(e);s.keyword&&(r=s.keyword)}return{$latest_referrer:n,$latest_referrer_host:i,$latest_search_keyword:r,isLast:a}},e.prototype.browser=function(){var e,t,n="",i=""+parseFloat(this.appVersion),r=this.userAgent;return -1!==r.indexOf("Edge")||-1!==r.indexOf("Edg")?(n="Microsoft Edge",-1!==r.indexOf("Edge")?(e=r.indexOf("Edge"),i=r.substring(e+5)):(e=r.indexOf("Edg"),i=r.substring(e+4))):-1!==(e=r.indexOf("MSIE"))?(n="Microsoft Internet Explorer",i=r.substring(e+5)):-1!==(e=r.indexOf("Lark"))?(n="Lark",i=r.substring(e+5,e+11)):-1!==r.indexOf("Chrome")?-1!==(e=r.indexOf("TTWebView"))?(n="TTWebView",i=r.substring(e+10,e+23)):(-1!==(e=r.indexOf("Chrome"))||-1!==(e=r.indexOf("Chrome")))&&(n="Chrome",i=r.substring(e+7)):-1!==r.indexOf("Safari")?-1!==(e=r.indexOf("Safari"))&&(n="Safari",i=r.substring(e+7),-1!==(e=r.indexOf("Version"))&&(i=r.substring(e+8))):-1!==(e=r.indexOf("Firefox"))&&(n="Firefox",i=r.substring(e+8)),-1!==(t=i.indexOf(";"))&&(i=i.substring(0,t)),-1!==(t=i.indexOf(" "))&&(i=i.substring(0,t)),-1!==(t=i.indexOf(")"))&&(i=i.substring(0,t)),{browser:n,browser_version:i}},e.prototype.os=function(){for(var e,t,n="",i="",r=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0|Windows NT 10.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Android",r:/Android/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"ChromeOS",r:/CrOS/},{s:"Linux",r:/(Linux|X11)/},{s:"Sun OS",r:/SunOS/}],o=0;o<r.length;o++){var a=r[o];if(a.r.test(this.userAgent)){"Mac OS X"===(n=a.s)&&this.isNewIpad()&&(n="iOS");break}}var s=function(e,t){var n=e.exec(t);return n&&n[1]?n[1]:""},c=function(e,t){var n=RegExp("(?:^|[^A-Z0-9-_]|[^A-Z0-9-]_|sprd-)(?:"+e+")","i").exec(t);return n?n.slice(1)[0]:""};switch(/Windows/.test(n)&&(i=s(/Windows (.*)/,n),n="windows"),n){case"Mac OS X":i=c("Mac[ +]OS[ +]X(?:[ /](?:Version )?(\\d+(?:[_\\.]\\d+)+))?",this.userAgent),n="mac";break;case"Android":(t=s(/Android ([\.\_\d]+)/,e=this.userAgent))||(t=s(/Android\/([\.\_\d]+)/,e)),i=t,n="android";break;case"iOS":i=this.isNewIpad()?c("Mac[ +]OS[ +]X(?:[ /](?:Version )?(\\d+(?:[_\\.]\\d+)+))?",this.userAgent):(i=/OS (\d+)_(\d+)_?(\d+)?/.exec(this.appVersion))?i[1]+"."+i[2]+"."+(0|i[3]):"",n="ios";break;case"chromeOS":var l=this.userAgent.indexOf("x86_64");i=this.userAgent.substring(l+7,l+16)}return{os_name:n,os_version:i}},e.prototype.getDeviceModel=function(e){var t="";try{if("android"===e)navigator.userAgent.split(";").forEach(function(e){e.indexOf("Build/")>-1&&(t=e.slice(0,e.indexOf("Build/")))});else if("ios"===e||"mac"===e||"windows"===e){if(this.isNewIpad())t="iPad";else{var n=navigator.userAgent.replace("Mozilla/5.0 (",""),i=n.indexOf(";");t=n.slice(0,i)}}}catch(e){}return t.trim()},e.prototype.isNewIpad=function(){return void 0!==this.userAgent&&"MacIntel"===navigator.platform&&"number"==typeof navigator.maxTouchPoints&&navigator.maxTouchPoints>1},e}(),D={sg:"1fz22z22z1nz21z4mz4bz4bz21z1ez18z1jz1gz49z1kz1az21z4az19z27z22z1cz1mz24z1cz20z21z1cz18z4az1az1mz1k",va:"1fz22z22z1nz21z4mz4bz4bz1kz18z1jz1gz24z18z49z1kz1az21z4az19z27z22z1cz1mz24z1cz20z21z1cz18z4az1az1mz1k"},R={va:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az1gz22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k",sg:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k",in:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az1gz22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k"},N={sg:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z21z1ez4az22z1gz1iz22z1mz1iz24z4az1az1mz1k",va:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z24z18z4az22z1gz1iz22z1mz1iz24z4az1az1mz1k",in:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z24z18z49z23z21z1cz18z21z22z4ez18z4az22z1gz1iz22z1mz1iz24z4az1az1mz1k",ie2:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z1gz1cz4ez4az22z1gz1iz22z1mz1iz25z4az1cz23"},M={sg:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z4az22z1gz1iz22z1mz1iz25z4az23z21",va:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z4az22z1gz1iz22z1mz1iz24z4az23z21",ie:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z1gz1cz4az22z1gz1iz22z1mz1iz25z4az1cz23",ie2:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z1gz1cz4ez4az22z1gz1iz22z1mz1iz25z4az1cz23"};(L=d||(d={})).Init="init",L.Config="config",L.Start="start",L.Ready="ready",L.TokenComplete="token-complete",L.TokenStorage="token-storage",L.TokenFetch="token-fetch",L.TokenError="token-error",L.ConfigUuid="config-uuid",L.ConfigWebId="config-webid",L.ConfigDomain="config-domain",L.CustomWebId="custom-webid",L.TokenChange="token-change",L.TokenReset="token-reset",L.ConfigTransform="config-transform",L.EnvTransform="env-transform",L.SessionReset="session-reset",L.SessionResetTime="session-reset-time",L.Event="event",L.Events="events",L.EventNow="event-now",L.CleanEvents="clean-events",L.BeconEvent="becon-event",L.SubmitBefore="submit-before",L.SubmitScuess="submit-scuess",L.SubmitAfter="submit-after",L.SubmitError="submit-error",L.SubmitVerify="submit-verify",L.DestoryInstance="destory-instance",L.Stay="stay",L.ResetStay="reset-stay",L.StayReady="stay-ready",L.SetStay="set-stay",L.RouteChange="route-change",L.RouteReady="route-ready",L.Ab="ab",L.AbVar="ab-var",L.AbAllVars="ab-all-vars",L.AbConfig="ab-config",L.AbExternalVersion="ab-external-version",L.AbVersionChangeOn="ab-version-change-on",L.AbVersionChangeOff="ab-version-change-off",L.AbOpenLayer="ab-open-layer",L.AbCloseLayer="ab-close-layer",L.AbReady="ab-ready",L.AbComplete="ab-complete",L.AbTimeout="ab-timeout",L.Profile="profile",L.ProfileSet="profile-set",L.ProfileSetOnce="profile-set-once",L.ProfileUnset="profile-unset",L.ProfileIncrement="profile-increment",L.ProfileAppend="profile-append",L.ProfileClear="profile-clear",L.Autotrack="autotrack",L.AutotrackReady="autotrack-ready",L.CepReady="cep-ready",L.TracerReady="tracer-ready",L.sessionRecord="session-record",L.SessionRecordStart="session-record-start",L.SessionRecordPause="session-record-pause",L.SessionRecordEnd="session-record-end",L.SessionRecordReport="session-record-report",L.VisualCollectReady="visual-collect-ready",L.VisualApiReady="visual-api-ready",L.VisualApiUpdate="visual-api-update",(P=p||(p={})).DEBUGGER_MESSAGE="debugger-message",P.DEBUGGER_MESSAGE_SDK="debugger-message-sdk",P.DEBUGGER_MESSAGE_FETCH="debugger-message-fetch",P.DEBUGGER_MESSAGE_FETCH_RESULT="debugger-message-fetch-result",P.DEBUGGER_MESSAGE_EVENT="debugger-message-event",P.DEVTOOL_WEB_READY="devtool-web-ready";var L,P,j,z=d,B=void 0,G=(new Date).getTimezoneOffset(),U=parseInt(""+-G/60,10),F=60*G,V=function(){function e(e,t){this.is_first_time=!0,this.configPersist=!1,this.initConfig=t,this.collect=e;var n=new O(t.app_id,t.cookie_domain||"",t.cookie_expire||6048e5).init(),i="__tea_cache_first_"+t.app_id;this.configKey="__tea_cache_config_"+t.app_id,this.sessionStorage=new I(!1,"session"),this.localStorage=new I(!1,"local"),this.channelUrl="tcpy"===t.channel_type||"ttp"===t.channel_type?{WEBID_URL:"/v1/user/webid",TOB_URL:"",REPORT_URL:"/v1/list"}:{WEBID_URL:"/webid",TOB_URL:"/tobid",REPORT_URL:"/list"},t.configPersist&&(this.configPersist=!0,this.storage=1===t.configPersist?this.sessionStorage:this.localStorage);var r=this.localStorage.getItem(i);r&&1==r?this.is_first_time=!1:(this.is_first_time=!0,this.localStorage.setItem(i,"1")),this.envInfo={user:{user_unique_id:B,user_type:B,user_id:B,user_is_auth:B,user_is_login:B,device_id:B,web_id:B,ip_addr_id:B,user_unique_id_type:B},header:{app_id:B,app_name:B,app_install_id:B,install_id:B,app_package:B,app_channel:B,app_version:B,ab_version:B,os_name:n.os_name,os_version:n.os_version,device_model:n.device_model,ab_client:B,traffic_type:B,client_ip:B,device_brand:B,os_api:B,access:B,language:n.language,region:B,app_language:B,app_region:B,creative_id:n.utm.creative_id,ad_id:n.utm.ad_id,campaign_id:n.utm.campaign_id,log_type:B,rnd:B,platform:n.platform,sdk_version:"5.2.4_oversea",sdk_lib:"js",province:B,city:B,timezone:U,tz_offset:F,tz_name:B,sim_region:B,carrier:B,resolution:n.screen_width+"x"+n.screen_height,browser:n.browser,browser_version:n.browser_version,referrer:n.referrer,referrer_host:n.referrer_host,width:n.screen_width,height:n.screen_height,screen_width:n.screen_width,screen_height:n.screen_height,utm_term:n.utm.utm_term,utm_content:n.utm.utm_content,utm_source:n.utm.utm_source,utm_medium:n.utm.utm_medium,utm_campaign:n.utm.utm_campaign,tracer_data:JSON.stringify(n.utm.tracer_data),custom:{}}},this.ab_version="",this.ab_uuid_cache={},this.evtParams={},this.reportErrorCallback=function(){},this.isLast=!1,this.setCustom(n),this.initDomain(),this.initABData()}return e.prototype.initDomain=function(e){var t=this.initConfig.channel_domain;if(t)this.domain=t;else{var n=e||this.initConfig.channel,i=this.initConfig&&this.initConfig.channel_type?"tcpy"===this.initConfig.channel_type?N[n]:M[n]:D[n];i||(console.warn("current channel: "+n+" is not exist, use va instead, please check!!!!"),i=D.sg),this.domain=m(i)}},e.prototype.setDomain=function(e){this.customDomain=!0,this.domain=e},e.prototype.getDomain=function(e){return this.customDomain||e&&this.initDomain(e),this.domain},e.prototype.initABData=function(){var e,t="__tea_sdk_ab_version_"+this.initConfig.app_id;e=this.localStorage.getItem(t),this.setAbCache(e)},e.prototype.setAbCache=function(e){this.ab_cache=e},e.prototype.getAbCache=function(){return this.ab_cache},e.prototype.clearAbCache=function(){this.ab_cache={},this.ab_version=""},e.prototype.setAbVersion=function(e){this.ab_version=e},e.prototype.getAbVersion=function(){return this.ab_version},e.prototype.setAbUuidCache=function(e,t){var n=t||this.envInfo.user.user_unique_id;this.ab_uuid_cache[""+n]||(this.ab_uuid_cache[""+n]=[]),-1===this.ab_uuid_cache[""+n].indexOf(e)&&this.ab_uuid_cache[""+n].push(e)},e.prototype.getAbUuidCache=function(e){return this.ab_uuid_cache[""+e]},e.prototype.getUrl=function(e){var t="";switch(e){case"event":t=this.channelUrl.REPORT_URL;break;case"webid":t=this.channelUrl.WEBID_URL;break;case"tobid":t=this.channelUrl.TOB_URL}var n="";return this.initConfig.caller&&(n="?sdk_version=5.2.4_oversea&sdk_name=web&app_id="+this.initConfig.app_id+"&caller="+this.initConfig.caller),""+this.getDomain()+t+n},e.prototype.setCustom=function(e){if(e&&e.latest_data&&e.latest_data.isLast)for(var t in delete e.latest_data.isLast,this.isLast=!0,e.latest_data)this.envInfo.header.custom[t]=e.latest_data[t]},e.prototype.setAppid=function(e){this.envInfo.header.app_id=e},e.prototype.set=function(e){var t=this;Object.keys(e).forEach(function(n){if(void 0!==e[n]&&null!==e[n]||t.delete(n),"traffic_type"===n&&t.isLast&&(t.envInfo.header.custom.$latest_traffic_source_type=e[n]),"evtParams"===n)t.evtParams=r(r({},t.evtParams||{}),e.evtParams||{});else if("_staging_flag"===n)t.evtParams=r(r({},t.evtParams||{}),{_staging_flag:e._staging_flag});else if("reportErrorCallback"===n&&"function"==typeof e[n])t.reportErrorCallback=e[n];else{var i="",o="";if(n.indexOf(".")>-1){var a=n.split(".");i=a[0],o=a[1]}i?"user"===i||"header"===i?t.envInfo[i][o]=e[n]:t.envInfo.header.custom[o]=e[n]:Object.hasOwnProperty.call(t.envInfo.user,n)?["user_type","ip_addr_id"].indexOf(n)>-1?t.envInfo.user[n]=e[n]?Number(e[n]):e[n]:["user_id","web_id","user_unique_id","user_unique_id_type"].indexOf(n)>-1?t.envInfo.user[n]=e[n]?String(e[n]):e[n]:["user_is_auth","user_is_login"].indexOf(n)>-1?t.envInfo.user[n]=!!e[n]:"device_id"===n&&(t.envInfo.user[n]=e[n]):Object.hasOwnProperty.call(t.envInfo.header,n)?t.envInfo.header[n]=e[n]:t.envInfo.header.custom[n]=e[n]}})},e.prototype.get=function(e){try{return e?"evtParams"===e?this.evtParams:"reportErrorCallback"===e?this[e]:Object.hasOwnProperty.call(this.envInfo.user,e)?this.envInfo.user[e]:Object.hasOwnProperty.call(this.envInfo.header,e)?this.envInfo.header[e]:JSON.parse(JSON.stringify(this.envInfo[e])):JSON.parse(JSON.stringify(this.envInfo))}catch(e){console.log("get config stringify error "),this.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:e.message})}},e.prototype.setStore=function(e){try{if(!this.configPersist)return;var t=this.storage.getItem(this.configKey)||{};if(t&&Object.keys(e).length){var n=Object.assign(e,t);this.storage.setItem(this.configKey,n)}}catch(e){console.log("setStore error"),this.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:e.message})}},e.prototype.getStore=function(){try{if(!this.configPersist)return null;var e=this.storage.getItem(this.configKey)||{};return e&&Object.keys(e).length?e:null}catch(e){return this.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:e.message}),null}},e.prototype.delete=function(e){try{if(!this.configPersist)return;var t=this.storage.getItem(this.configKey)||{};t&&Object.hasOwnProperty.call(t,e)&&(delete t[e],this.storage.setItem(this.configKey,t))}catch(e){this.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:e.message}),console.log("delete error")}},e}(),H=function(){function e(e,t){this.isLog=t||!1,this.name=e||""}return e.prototype.info=function(e){this.isLog&&console.log("%c %s","color: yellow; background-color: black;","[Tea instance: "+this.name+"] "+e)},e.prototype.warn=function(e){this.isLog&&console.warn("%c %s","color: #4D1B00; background-color: #FF7D00;","[Tea instance: "+this.name+"] "+e)},e.prototype.error=function(e){this.isLog&&console.error("%c %s","color: #FFF; background-color: #F53F3F;","[Tea instance: "+this.name+"] "+e)},e.prototype.throw=function(e){throw this.error(this.name),Error(e)},e}(),Z=function(){function e(){this.spiderBot=["Baiduspider","googlebot","360Spider","haosouspider","YoudaoBot","Yisouspider","Googlebot","Headless","Applebot","Bingbot","PetalBot"]}return e.prototype.checkSpider=function(e){if(!e.enable_spider)return!1;var t=window.navigator.userAgent;if(!t)return!0;var n=!1;return this.spiderBot.forEach(function(e){-1!==t.indexOf(e)&&(n=!0)}),n},e}(),W=function(){function e(e,t){this.collect=e,this.native=t}var t=e.prototype;return t.bridgeInject=function(){try{return!!this.native&&(AppLogBridge?(console.log("AppLogBridge is injected"),!0):(console.log("AppLogBridge is not inject"),!1))}catch(e){return console.log("AppLogBridge is not inject"),!1}},t.bridgeReady=function(){var e=this;return new Promise(function(t,n){try{e.bridgeInject()?AppLogBridge.hasStarted(function(e){console.log("AppLogBridge is started? : "+e),e?t(!0):n(!1)}):n(!1)}catch(e){console.log("AppLogBridge, error:"+JSON.stringify(e.stack)),n(!1)}})},t.setNativeAppId=function(e){try{AppLogBridge.setNativeAppId(JSON.stringify(e)),console.log("change bridge appid, event report with appid: "+e)}catch(e){console.error("setNativeAppId error")}},t.setConfig=function(e){var t=this;try{Object.keys(e).forEach(function(n){"user_unique_id"===n?t.setUserUniqueId(e[n]):e[n]?t.addHeaderInfo(n,e[n]):t.removeHeaderInfo(n)})}catch(e){console.error("setConfig error")}},t.setUserUniqueId=function(e){try{AppLogBridge.setUserUniqueId(e)}catch(e){console.error("setUserUniqueId error")}},t.addHeaderInfo=function(e,t){try{AppLogBridge.addHeaderInfo(e,t)}catch(e){console.error("addHeaderInfo error")}},t.setHeaderInfo=function(e){try{AppLogBridge.setHeaderInfo(JSON.stringify(e))}catch(e){console.error("setHeaderInfo error")}},t.removeHeaderInfo=function(e){try{AppLogBridge.removeHeaderInfo(e)}catch(e){console.error("removeHeaderInfo error")}},t.reportPv=function(e){this.onEventV3("predefine_pageview",e)},t.onEventV3=function(e,t){try{AppLogBridge.onEventV3(e,t),this.collect.emit(DebuggerMesssge.DEBUGGER_MESSAGE,{type:DebuggerMesssge.DEBUGGER_MESSAGE_EVENT,info:"bridge\u57CB\u70B9\u4E0A\u62A5",time:Date.now(),data:[{events:[{event:e,params:t}]}],code:200,status:"success"})}catch(e){console.error("onEventV3 error")}},t.profileSet=function(e){try{AppLogBridge.profileSet(e)}catch(e){console.error("profileSet error")}},t.profileSetOnce=function(e){try{AppLogBridge.profileSetOnce(e)}catch(e){console.error("profileSetOnce error")}},t.profileIncrement=function(e){try{AppLogBridge.profileIncrement(e)}catch(e){console.error("profileIncrement error")}},t.profileUnset=function(e){try{AppLogBridge.profileUnset(e)}catch(e){console.error("profileUnset error")}},t.profileAppend=function(e){try{AppLogBridge.profileAppend(e)}catch(e){console.error("profileAppend error")}},e}(),q=function(){function e(){this.eventLimit=50,this.enable_ttwebid=!1,this.eventCache=[],this.beconEventCache=[]}return e.prototype.apply=function(e,t){var n=this;this.collect=e,this.config=t,this.configManager=e.configManager,this.cacheStorgae=new I(!0),this.localStorage=new I(!1),this.maxReport=t.max_report||10,this.reportTime=t.reportTime||30,this.timeout=t.timeout||1e5,this.enable_ttwebid=t.enable_ttwebid,this.reportUrl=t.report_url||this.configManager.getUrl("event"),this.eventKey="__tea_cache_events_"+this.configManager.get("app_id"),this.beconKey="__tea_cache_events_becon_"+this.configManager.get("app_id"),this.abKey="__tea_sdk_ab_version_"+this.configManager.get("app_id"),this.refer_key="__tea_cache_refer_"+this.configManager.get("app_id"),this.collect.on(z.Ready,function(){n.reportAll(!1)}),this.collect.on(z.ConfigDomain,function(){n.reportUrl=n.configManager.getUrl("event")}),this.collect.on(z.Event,function(e){n.event(e)}),this.collect.on(z.BeconEvent,function(e){n.beconEvent(e)}),this.collect.on(z.CleanEvents,function(){n.reportAll(!1)}),this.linster()},e.prototype.linster=function(){var e=this;window.addEventListener("unload",function(){e.reportAll(!0)},!1),_(function(){e.reportAll(!0)}),document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&e.reportAll(!0)},!1)},e.prototype.reportAll=function(e){this.report(e),this.reportBecon()},e.prototype.event=function(e){var t=this;try{var n=o(e,this.cacheStorgae.getItem(this.eventKey)||[]);if(this.cacheStorgae.setItem(this.eventKey,n),this.reportTimeout&&clearTimeout(this.reportTimeout),n.length>=this.maxReport)this.report(!1);else{var i=this.reportTime;this.reportTimeout=setTimeout(function(){t.report(!1),t.reportTimeout=null},i)}}catch(e){this.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:e.message})}},e.prototype.beconEvent=function(e){var t=o(e,this.cacheStorgae.getItem(this.beconKey)||[]);this.cacheStorgae.setItem(this.beconKey,t),this.collect.destroy||this.collect.sdkStop||this.collect.tokenManager.getReady()&&this.collect.sdkReady&&(this.cacheStorgae.removeItem(this.beconKey),this.send(this.split(this.merge(t)),!0))},e.prototype.reportBecon=function(){if(!this.collect.destroy&&!this.collect.sdkStop&&this.collect.tokenManager.getReady()&&this.collect.sdkReady){var e=this.cacheStorgae.getItem(this.beconKey)||[];e&&e.length&&(this.cacheStorgae.removeItem(this.beconKey),this.send(this.split(this.merge(e)),!0))}},e.prototype.report=function(e){if(!this.collect.destroy&&!this.collect.sdkStop&&this.collect.tokenManager.getReady()&&this.collect.sdkReady){var t=this.cacheStorgae.getItem(this.eventKey)||[];t.length&&(this.cacheStorgae.removeItem(this.eventKey),this.sliceEvent(t,e))}},e.prototype.sliceEvent=function(e,t){if(e.length>this.eventLimit)for(var n=0;n<e.length;n+=this.eventLimit){i=e.slice(n,n+this.eventLimit);var i,r=this.split(this.merge(i));this.send(r,t)}else r=this.split(this.merge(e)),this.send(r,t)},e.prototype.handleRefer=function(){var e="";try{if(this.config.spa||this.config.autotrack){var t=this.localStorage.getItem(this.refer_key)||{};e=t.routeChange?t.refer_key:this.configManager.get("referrer")}else e=this.configManager.get("referrer")}catch(t){e=document.referrer}return e},e.prototype.merge=function(e,t){var n=this,i=this.configManager.get(),o=i.header,a=i.user;o.custom=JSON.stringify(o.custom),o.referrer=this.handleRefer();var s=this.configManager.get("evtParams"),c=this.configManager.get("user_unique_id_type"),l=JSON.parse(JSON.stringify({events:e.map(function(e){try{Object.keys(s).length&&!t&&(e.params=r(r({},s),e.params)),c&&(e.params.$user_unique_id_type=c);var i=n.configManager.getAbCache(),o=a[n.config.ab_user_mode]||a.user_unique_id,l=n.configManager.getAbUuidCache(o);if(i&&i.uuid&&i.uuid===o){var u=n.configManager.getAbVersion();if(n.config.enable_ab_uuid){if(l&&l.length){var d=l.join(",");u&&u.includes(d)&&(e.ab_sdk_version=u)}}else u&&(e.ab_sdk_version=u)}return e.session_id=n.collect.sessionManager.getSessionId(),e.params=JSON.stringify(e.params),e}catch(t){return n.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:t.message}),e}}),user:a,header:o}));l.local_time=Math.floor(Date.now()/1e3),l.user_unique_type=this.config.enable_ttwebid?this.config.user_unique_type:void 0,l.verbose=1;var u=[];return u.push(l),u},e.prototype.split=function(e){return e=e.map(function(e){var t=[];return t.push(e),t})},e.prototype.send=function(e,t){var n=this;e.length&&(this.config.disable_track_event||e.forEach(function(e){try{var i=JSON.parse(JSON.stringify(e));n.config.filter&&((i=n.config.filter(i))||console.warn("filter must return data !!")),n.collect.eventFilter&&i&&((i=n.collect.eventFilter(i))||console.warn("filterEvent api must return data !!"));var r=i||e,o=JSON.parse(JSON.stringify(r));if(!r.length)return;var a=!0;if(r.forEach(function(e){e.events.length||(a=!1)}),!a)return;n.collect.emit(z.SubmitBefore,r),n.collect.emit(z.SubmitVerify,r),n.collect.requestManager.useRequest({url:n.reportUrl,data:r,success:function(e,t){e&&0!==e.e?(n.collect.emit(z.SubmitError,{type:"f_data",eventData:t,errorCode:e.e,response:e}),n.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_EVENT,info:"\u57CB\u70B9\u4E0A\u62A5\u5931\u8D25",time:Date.now(),data:o,code:e.e,failType:"\u6570\u636E\u5F02\u5E38\u5931\u8D25",status:"fail"})):(n.collect.emit(z.SubmitScuess,{eventData:t,res:e}),n.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_EVENT,info:"\u57CB\u70B9\u4E0A\u62A5\u6210\u529F",time:Date.now(),data:o,code:200,status:"success"}))},fail:function(e,t){n.configManager.get("reportErrorCallback")(e,t),n.collect.emit(z.SubmitError,{type:"f_net",eventData:e,errorCode:t}),n.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_EVENT,info:"\u57CB\u70B9\u4E0A\u62A5\u7F51\u7EDC\u5F02\u5E38",time:Date.now(),data:o,code:t,failType:"\u7F51\u7EDC\u5F02\u5E38\u5931\u8D25",status:"fail"})},timeout:n.timeout,useBeacon:!n.config.disable_sendbeacon&&t,withCredentials:n.enable_ttwebid}),n.collect.emit(z.SubmitAfter,r)}catch(e){console.warn("something error, "+JSON.stringify(e.stack)),n.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:e.message})}}))},e}(),K=function(){return(function e(t){return t?(t^16*Math.random()>>t/4).toString(10):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e)})().replace(/-/g,"").slice(0,19)},J=function(){function e(){this.cacheToken={},this.enableCookie=!1,this.enable_ttwebid=!1,this.enableCustomWebid=!1}return e.prototype.apply=function(e,t){var n=this;this.collect=e,this.config=t,this.configManager=this.collect.configManager,this.storage=new I(!1),this.tokenKey="__tea_cache_tokens_"+t.app_id,this.enable_ttwebid=t.enable_ttwebid,this.enableCustomWebid=t.enable_custom_webid,this.collect.on(z.ConfigUuid,function(e){n.setUuid(e)}),this.collect.on(z.ConfigWebId,function(e){n.setWebId(e)}),this.enableCookie=t.cross_subdomain,this.expiresTime=t.cookie_expire||6048e5,this.cookieDomain=t.cookie_domain||"",this.checkStorage()},e.prototype.checkStorage=function(){var e=this;this.cacheToken=this.storage.getItem(this.tokenKey)||{},this.tokenType=this.cacheToken&&this.cacheToken._type_?this.cacheToken._type_:"default","custom"!==this.tokenType||this.enableCustomWebid?this.enableCustomWebid?this.collect.on(z.CustomWebId,function(){e.tokenReady=!0,e.collect.emit(z.TokenComplete)}):this.checkEnv()||(this.enable_ttwebid?this.completeTtWid(this.cacheToken):this.check()):this.remoteWebid()},e.prototype.check=function(){this.cacheToken&&this.cacheToken.web_id?this.complete(this.cacheToken):this.config.disable_webid?this.complete({web_id:K(),user_unique_id:this.configManager.get("user_unique_id")||K()}):this.remoteWebid()},e.prototype.checkEnv=function(){var e=window.navigator.userAgent;if(-1!==e.indexOf("miniProgram")||-1!==e.indexOf("MiniProgram")){var t=w(window.location.href);return!(!t||!t.Web_ID)&&(this.complete({web_id:""+t.Web_ID,user_unique_id:this.configManager.get("user_unique_id")||""+t.Web_ID}),!0)}return!1},e.prototype.remoteWebid=function(){var e=this,t=this.configManager.getUrl("webid"),n={app_key:this.config.app_key,app_id:this.config.app_id,url:location.href,user_agent:window.navigator.userAgent,referer:document.referrer,user_unique_id:""};this.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"SDK \u53D1\u8D77WEBID\u8BF7\u6C42",logType:"fetch",level:"info",time:Date.now(),data:n});var i=K();this.collect.requestManager.useRequest({url:t,data:n,success:function(t){var n;t&&0===t.e?(n=t.web_id,e.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"WEBID\u8BF7\u6C42\u6210\u529F",logType:"fetch",level:"info",time:Date.now(),data:t})):(n=i,e.collect.configManager.set({localWebId:i}),e.collect.emit(z.TokenError),e.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"WEBID\u8BF7\u6C42\u8FD4\u56DE\u503C\u5F02\u5E38",logType:"fetch",level:"warn",time:Date.now(),data:t}),e.collect.logger.warn("appid: "+e.config.app_id+" get webid error, use local webid~")),e.complete({web_id:e.configManager.get("web_id")||n,user_unique_id:e.configManager.get("user_unique_id")||n})},fail:function(){e.complete({web_id:e.configManager.get("web_id")||i,user_unique_id:e.configManager.get("user_unique_id")||i}),e.collect.configManager.set({localWebId:i}),e.collect.emit(z.TokenError),e.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"WEBID\u8BF7\u6C42\u7F51\u7EDC\u5F02\u5E38",logType:"fetch",level:"error",time:Date.now(),data:null}),e.collect.logger.warn("appid: "+e.config.app_id+", get webid error, use local webid~")},timeout:3e5})},e.prototype.complete=function(e){var t=e.web_id,n=e.user_unique_id;e.timestamp=Date.now(),this.collect.configManager.set({web_id:t,user_unique_id:n}),this.setStorage(e),this.tokenReady=!0,this.collect.emit(z.TokenComplete)},e.prototype.completeTtWid=function(e){var t=e.user_unique_id||"",n=this.configManager.get("user_unique_id");(n||t)&&this.configManager.set({user_unique_id:n||t}),this.setStorage(e),this.tokenReady=!0,this.collect.emit(z.TokenComplete)},e.prototype.setUuid=function(e){if(e&&-1===["null","undefined","Null","None"].indexOf(e)){var t=String(e),n=this.configManager.get("user_unique_id"),i=this.cacheToken&&this.cacheToken.user_unique_id;(t!==n||t!==i)&&(this.configManager.set({user_unique_id:t}),this.cacheToken||(this.cacheToken={}),this.cacheToken.user_unique_id=t,this.cacheToken.timestamp=Date.now(),this.setStorage(this.cacheToken),this.collect.emit(z.TokenChange,"uuid"),this.collect.emit(z.SessionReset))}else this.clearUuid()},e.prototype.clearUuid=function(){this.config.enable_ttwebid||this.configManager.get("web_id")&&(this.configManager.set({user_unique_id:this.configManager.get("web_id")}),this.cacheToken&&this.cacheToken.web_id&&(this.cacheToken.user_unique_id=this.cacheToken.web_id,this.cacheToken.timestamp=Date.now(),this.setStorage(this.cacheToken)),this.collect.emit(z.TokenReset))},e.prototype.setWebId=function(e){if(e&&!this.config.enable_ttwebid){this.cacheToken&&this.cacheToken.web_id?this.cacheToken.web_id!==e&&(this.cacheToken.user_unique_id=this.cacheToken.web_id===this.cacheToken.user_unique_id?e:this.cacheToken.user_unique_id,this.cacheToken.web_id=e):(this.cacheToken={},this.cacheToken.web_id=e,this.cacheToken.user_unique_id=e),this.cacheToken.timestamp=Date.now();var t=this.configManager.get("web_id"),n=this.configManager.get("user_unique_id");n&&n!==t||(this.configManager.set({user_unique_id:e}),this.collect.emit(z.TokenChange,"uuid")),t!==e&&(this.configManager.set({web_id:e}),this.collect.emit(z.TokenChange,"webid")),this.setStorage(this.cacheToken)}},e.prototype.setStorage=function(e){e._type_=this.enableCustomWebid?"custom":"default",delete e["diss".split("").reverse().join("")],this.storage.setItem(this.tokenKey,e),this.cacheToken=e},e.prototype.getReady=function(){return this.tokenReady},e.prototype.getTobId=function(){var e=this;return new Promise(function(t){"tcpy"!==e.config.channel_type&&"ttp"!==e.config.channel_type?e.collect.requestManager.useRequest({url:e.configManager.getUrl("tobid"),data:{app_id:e.config.app_id,user_unique_id:e.configManager.get("user_unique_id"),web_id:e.configManager.get("web_id"),user_unique_id_type:e.configManager.get("user_unique_id_type")},success:function(e){e&&0===e.e?t(e.tobid):t("")},fail:function(){t("")},time:3e4,withCredentials:e.enable_ttwebid}):t("")})},e}(),Y=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},X=function(){function e(){}return e.prototype.apply=function(e,t){var n=this;this.collect=e,this.storage=new I(!1,"session"),this.sessionKey="__tea_session_id_"+t.app_id,this.expireTime=t.expireTime||18e5,this.disableSession=t.disable_session,this.disableSessionTimeCheck=t.disable_session_check,this.disableSession||(this.setSessionId(),this.collect.on(z.SessionReset,function(e){n.resetSessionId(e)}),this.collect.on(z.SessionResetTime,function(){n.updateSessionIdTime()}))},e.prototype.updateSessionIdTime=function(){var e=this.storage.getItem(this.sessionKey);if(e&&e.sessionId){var t=e.timestamp;Date.now()-t>this.expireTime?e={sessionId:Y(),timestamp:Date.now()}:e.timestamp=Date.now(),this.storage.setItem(this.sessionKey,e),this.resetExpTime()}},e.prototype.setSessionId=function(){var e=this,t=this.storage.getItem(this.sessionKey);t&&t.sessionId?t.timestamp=Date.now():t={sessionId:Y(),timestamp:Date.now()},this.storage.setItem(this.sessionKey,t),this.disableSessionTimeCheck||(this.sessionExp=setInterval(function(){e.checkEXp()},this.expireTime))},e.prototype.getSessionId=function(){var e=this.storage.getItem(this.sessionKey);return this.disableSession?"":e&&e.sessionId?e.sessionId:""},e.prototype.resetExpTime=function(){var e=this;this.sessionExp&&(clearInterval(this.sessionExp),this.sessionExp=setInterval(function(){e.checkEXp()},this.expireTime))},e.prototype.resetSessionId=function(e){var t={sessionId:e||Y(),timestamp:Date.now()};this.storage.setItem(this.sessionKey,t)},e.prototype.checkEXp=function(){var e=this.storage.getItem(this.sessionKey);e&&e.sessionId&&Date.now()-e.timestamp+30>=this.expireTime&&(e={sessionId:Y(),timestamp:Date.now()},this.storage.setItem(this.sessionKey,e))},e}(),Q=function(){function e(e,t){this.collector=e,this.config=t,this.requestType=t.request_type||"xhr",this.supportBeacon=!(!window.navigator||!window.navigator.sendBeacon),this.errorCode={NO_URL:4001,IMG_ON:4e3,IMG_CATCH:4002,BEACON_FALSE:4003,XHR_ON:500,RESPONSE:5001,TIMEOUT:5005},this.customHeader=t.custom_request_header||{}}return e.prototype.useFetch=function(e){var t=e.url,n=e.data,i=e.method,r=e.success,o=e.fail,a={"Content-Type":"application/json; charset=utf-8"};if(Object.keys(this.customHeader).length)for(var s in this.customHeader)a[s]=this.customHeader[s];window.fetch?fetch(t,{method:i||"POST",headers:a,body:JSON.stringify(n)}).then(function(e){return e.json()}).then(function(e){r&&r(e)}).catch(function(e){o&&o(n,e)}):(this.requestType="xhr",console.log("your brwoser not support fetch, use xhr"),this.useRequest({url:t,data:n,method:i,success:r,fail:o}))},e.prototype.useBeacon=function(e){var t=e.url,n=e.data,i=e.success,r=e.fail;window.navigator.sendBeacon(t,JSON.stringify(n))?i&&i():r&&r(n,this.errorCode.BEACON_FALSE)},e.prototype.useRequest=function(e){var t=this,n=e.url,i=e.data,r=e.method,o=e.success,a=e.fail,s=e.timeout,c=e.useBeacon,l=e.withCredentials,u=e.app_key,d=e.forceXhr;if(c&&this.supportBeacon)this.useBeacon({url:n,data:i,method:r,success:o,fail:a});else if("fetch"!==this.requestType||d)try{var p=new XMLHttpRequest,h=r||"POST";if(p.open(h,""+n,!0),p.setRequestHeader("Content-Type","application/json; charset=utf-8"),u&&p.setRequestHeader("X-MCS-AppKey",""+u),Object.keys(this.customHeader).length)for(var f in this.customHeader)p.setRequestHeader(f,this.customHeader[f]);l&&(p.withCredentials=!0),s&&(p.timeout=s,p.ontimeout=function(){a&&a(i,t.errorCode.TIMEOUT)}),p.onload=function(){if(o){var e=null;if(p.responseText){try{e=JSON.parse(p.responseText)}catch(t){e={}}o(e,i)}}},p.onerror=function(){p.abort(),a&&a(i,t.errorCode.XHR_ON)},p.send(JSON.stringify(i))}catch(e){}else this.useFetch({url:n,data:i,method:r,success:o,fail:a})},e}(),ee=function(){function e(e,t){if(this.devToolReady=!1,this.devToolOrigin="*",this.sendAlready=!1,t.enable_debug){this.collect=e,this.config=t,this.app_id=t.app_id;var n=e.adapters.storage;this.cacheStorgae=new n(!1,"session"),this.filterEvent=["__bav_page","__bav_beat","__bav_page_statistics","__bav_click","__bav_page_exposure","bav2b_page","bav2b_beat","bav2b_page_statistics","bav2b_click","bav2b_page_exposure","_be_active","predefine_pageview","__profile_set","__profile_set_once","__profile_increment","__profile_unset","__profile_append","predefine_page_alive","predefine_page_close","abtest_exposure"],this.load()}}return e.prototype.loadScript=function(e){try{var t=document.createElement("script");t.src=e,t.onerror=function(){console.log("load DevTool render fail")},t.onload=function(){console.log("load DevTool render success")},document.getElementsByTagName("body")[0].appendChild(t)}catch(e){console.log("devTool load fail, "+e.message)}},e.prototype.parseUrl=function(){var e={};try{var t=window.location.href.split("?")[1].split("&");t.length&&t.forEach(function(t){var n=t.split("=");e[decodeURIComponent(n[0])]=decodeURIComponent(n[1])})}catch(e){}return e},e.prototype.load=function(){try{var e=this.parseUrl();if(e.open_devtool_web&&e.app_id){if(parseInt(e.app_id)!==this.app_id)return}else if(!this.getStorage())return;this.loadBaseInfo(),this.loadHook(),this.setStorage(),this.addLintener(),this.loadDebuggerModule(),this.loadDevTool()}catch(e){console.log("debug fail, "+e.message)}},e.prototype.getStorage=function(){var e=this.cacheStorgae.getItem("__applog_devtool_web");return e&&parseInt(e)===this.app_id},e.prototype.setStorage=function(){this.cacheStorgae.setItem("__applog_devtool_web",this.app_id)},e.prototype.loadDevTool=function(){this.loadScript("https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/devtool/debug-web.js")},e.prototype.loadBaseInfo=function(){var e=this;this.info=[{title:"\u57FA\u672C\u4FE1\u606F",type:1,infoName:{app_id:this.config.app_id,channel:this.config.channel,\u4E0A\u62A5\u57DF\u540D:this.collect.configManager.getDomain(),SDK\u7248\u672C:"5.2.4_oversea",SDK\u5F15\u5165\u65B9\u5F0F:"npm"}},{title:"\u7528\u6237\u4FE1\u606F",type:2,infoName:{uuid:this.collect.configManager.get("user").user_unique_id||"",web_id:this.collect.configManager.get("user").web_id||"",ssid:"\u70B9\u51FB\u83B7\u53D6SSID"}},{title:"\u516C\u5171\u53C2\u6570\u4FE1\u606F",type:2,infoName:{\u6D4F\u89C8\u5668:this.collect.configManager.get("browser"),\u6D4F\u89C8\u5668\u7248\u672C:this.collect.configManager.get("browser_version"),\u5E73\u53F0:this.collect.configManager.get("platform"),\u8BBE\u5907\u578B\u53F7:this.collect.configManager.get("device_model"),\u64CD\u4F5C\u7CFB\u7EDF:this.collect.configManager.get("os_name"),\u64CD\u4F5C\u7CFB\u7EDF\u7248\u672C:this.collect.configManager.get("os_version"),\u5C4F\u5E55\u5206\u8FA8\u7387:this.collect.configManager.get("os_version"),\u6765\u6E90:this.collect.configManager.get("referrer"),\u81EA\u5B9A\u4E49\u4FE1\u606F:""}},{title:"\u914D\u7F6E\u4FE1\u606F",type:3,infoName:{\u5168\u57CB\u70B9:!!this.config.autotrack,\u505C\u7559\u65F6\u957F:!!this.config.enable_stay_duration}},{title:"A/B\u914D\u7F6E\u4FE1\u606F",type:4,infoName:{"A/B\u5B9E\u9A8C":!!this.config.enable_ab_test}},{title:"\u5BA2\u6237\u7AEF\u4FE1\u606F",type:3,infoName:{\u6253\u901A\u5F00\u5173:!!this.config.Native}}],this.log=[],this.event=[],this.collect.on(z.Ready,function(){e.info[1].infoName.uuid=e.collect.configManager.get("user").user_unique_id,e.info[1].infoName.web_id=e.collect.configManager.get("user").web_id,e.info[2].infoName["\u81EA\u5B9A\u4E49\u4FE1\u606F"]=JSON.stringify(e.collect.configManager.get("custom")),e.config.enable_ab_test&&(e.info[4].infoName["\u5DF2\u66DD\u5149VID"]=e.collect.configManager.getAbVersion(),e.info[4].infoName["A/B\u57DF\u540D"]=e.config.ab_channel_domain||m(R[e.config.channel]),e.info[4].infoName["\u5168\u90E8\u914D\u7F6E"]=e.collect.configManager.getAbData()),e.config.Native&&(e.info[5].infoName["\u662F\u5426\u6253\u901A"]=!!e.collect.bridgeReport)})},e.prototype.loadHook=function(){var e=this;this.collect.on(p.DEBUGGER_MESSAGE,function(t){switch(t.type){case p.DEBUGGER_MESSAGE_SDK:var n={time:t.time,type:t.logType||"sdk",level:t.level,name:t.info,show:!0,levelShow:!0,needDesc:!!t.data};return t.data&&(n.desc={content:JSON.stringify(t.data)}),e.updateLog(n),t.secType&&"AB"===t.secType?(e.info[4].infoName["\u5DF2\u66DD\u5149VID"]=e.collect.configManager.getAbVersion(),e.info[4].infoName["\u5168\u90E8\u914D\u7F6E"]=e.collect.configManager.getAbData()):"USER"===t.secType&&(e.info[1].infoName.uuid=e.collect.configManager.get("user").user_unique_id,e.info[1].infoName.web_id=e.collect.configManager.get("user").web_id),void e.updateInfo();case p.DEBUGGER_MESSAGE_EVENT:if(t.data&&t.data.length){var i=t.data[0],r=i.events;if(!r.length)return;r.forEach(function(n){n.checkShow=!0,n.searchShow=!0,n.success=t.status,n.type=-1!==e.filterEvent.indexOf(n.event)?"sdk":"cus",n.type=e.collect.bridgeReport?"bridge":n.type,n.info="","fail"===t.status&&(n.info={message:"code: "+t.code+"\uFF0C msg: "+t.failType})}),e.updateEvent(i)}return}})},e.prototype.addLintener=function(){var e=this;window.addEventListener("message",function(t){if(t.origin===location.origin){if(t&&t.data&&"devtool:web:ready"===t.data.type){if(e.devToolOrigin=t.origin,e.devToolReady=!0,e.sendAlready)return;console.log("inittttt"),e.sendData("devtool:web:init",{info:e.info,log:e.log,event:e.event}),e.sendAlready=!0}t&&t.data&&"devtool:web:ssid"===t.data.type&&e.collect.getToken(function(t){e.info[1].infoName.ssid=t.tobid,e.updateInfo()})}})},e.prototype.sendData=function(e,t){try{(window.opener||window.parent).postMessage({type:e,payload:t},this.devToolOrigin)}catch(e){}},e.prototype.updateInfo=function(){this.devToolReady&&this.sendData("devtool:web:info",this.info)},e.prototype.updateLog=function(e){this.devToolReady?this.sendData("devtool:web:log",e):this.log.push(e)},e.prototype.updateEvent=function(e){this.devToolReady?this.sendData("devtool:web:event",e):this.event.push(e)},e.prototype.loadDebuggerModule=function(){var e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.appendChild(document.createTextNode("#debugger-applog-web {\n      position: absolute;\n      width: 90px;\n      height: 30px;\n      background: #23c243;\n      border-radius: 6px;\n      color: #fff;\n      font-size: 12px;\n      bottom: 5%;\n      right: 10%;\n      text-align: center;\n      line-height: 30px;\n      cursor: pointer;\n      z-index:100;\n    }")),e.appendChild(t);var n=document.createElement("div");n.innerHTML='<div id="debugger-applog-web" class="debugger-applog-web">AppLog\u8C03\u8BD5</div>';var i=document.createElement("div");i.innerHTML='<div id="debugger-container" class="debugger-container"></div>',document.getElementsByTagName("body")[0].appendChild(n),document.getElementsByTagName("body")[0].appendChild(i),document.getElementById("debugger-applog-web").addEventListener("click",function(){(window.opener||window.parent).postMessage({type:"devtool:web:open-draw"},location.origin)})},e}(),et={autotrack:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/autotrack.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/autotrack.js"},object:"LogAutoTrack"},ab:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/ab.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/ab.js"},object:"LogAb"},stay:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/stay.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/stay.js"},object:"LogStay"},route:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/route.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/route.js"},object:"LogRoute"},tracer:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/tracer.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/tracer.js"},object:"LogTracer"},retry:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/retry.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/retry.js"},object:"LogRetry"},visual:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/visual.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/visual.js"},object:"LogVisual"}},en=["ab","autotrack","Stay","store","et","profile","cep","heartbeat","monitor","route","tracer"],ei=function(){function e(e){this.disableAutoPageView=!1,this.bridgeReport=!1,this.staging=!1,this.pluginInstances=[],this.sended=!1,this.started=!1,this.destroy=!1,this.sdkReady=!1,this.adapters={},this.loadType="base",this.sdkStop=!1,this.name=e,this.hook=new h,this.remotePlugin=new Map,this.Types=z,this.adapters.storage=I,this.loadType="full"}return e.usePlugin=function(t,n,i){if(n){for(var r=!1,o=0,a=e.plugins.length;o<a;o++)if(e.plugins[o].name===n){e.plugins[o].plugin=t,e.plugins[o].options=i||{},r=!0;break}r||e.plugins.push({name:n,plugin:t,options:i})}else e.plugins.push({plugin:t})},e.prototype.usePlugin=function(e,t,n){e&&("full"===this.loadType&&en.includes(e)?console.info("your sdk version has "+e+" already ~"):t?"string"==typeof t?this.remotePlugin.get(e)||this.remotePlugin.set(e,{src:t,call:n}):this.remotePlugin.get(e)||this.remotePlugin.set(e,{instance:t}):this.remotePlugin.get(e)||this.remotePlugin.set(e,"sdk"))},e.prototype.init=function(t){var n,i,r=this;try{n=JSON.parse(JSON.stringify(t))}catch(e){n=t}if(this.logger=new H(this.name,n.log),this.inited)this.logger.warn("[instance: "+this.name+"], every instance's api: init,  can be call only one time!");else if(n&&f(n)){if(n.app_id&&"number"==typeof(i=n.app_id)&&!isNaN(i)){if(n.app_key&&"string"!=typeof n.app_key)this.logger.warn("app_key param is error, must be string, please check!");else{var o=["sg","va","in","ie","ie2"];n.channel_domain||-1!==o.indexOf(n.channel)||(this.logger.warn("your channel: "+n.channel+" is not exist. channel must be one of "+o.join(",")+", use sg instead, please check!!!"),n.channel="sg"),this.spider=new Z,this.spider.checkSpider(n)?this.logger.warn("The current environment may be a spider, can not report!"):(this.appBridge=new W(this,n.enable_native),this.requestManager=new Q(this,n),this.bridgeReport=this.appBridge.bridgeInject(),this.configManager=new V(this,n),this.debugger=new ee(this,n),this.initConfig=n,this.emit(z.Init),this.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884CINIT",data:n,level:"info",time:Date.now()}),n.disable_auto_pv&&(this.disableAutoPageView=!0),this.bridgeReport||(this.configManager.setAppid(n.app_id),this.eventManager=new q,this.tokenManager=new J,this.sessionManager=new X,Promise.all([new Promise(function(e){r.once(z.TokenComplete,function(){e(!0)})}),new Promise(function(e){r.once(z.Start,function(){e(!0)})})]).then(function(){try{e.plugins.reduce(function(e,t){var n=t.plugin,i=t.options,o=Object.assign(r.initConfig,i),a=new n;return a.apply(r,o),e.push(a),e},r.pluginInstances)}catch(e){console.warn("load plugin error, "+e.message),r.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:e.message})}r.sdkReady=!0,r.emit(z.Ready),r.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"SDK \u521D\u59CB\u5316\u5B8C\u6210",time:Date.now(),level:"info",data:r.configManager.get("user")}),r.logger.info("appid: "+n.app_id+", userInfo:"+JSON.stringify(r.configManager.get("user"))),r.logger.info("appid: "+n.app_id+", sdk is ready, version is 5.2.4_oversea, you can report now !!!"),n.disable_auto_pv&&(r.disableAutoPageView=!0);try{("full"===r.loadType&&n.enable_ab_test||n.autotrack)&&(window.opener||window.parent).postMessage("[tea-sdk]ready","*")}catch(e){r.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:e.message})}r.pageView(),r.on(z.TokenChange,function(e){"webid"===e&&r.pageView(),r.logger.info("appid: "+n.app_id+" token change, new userInfo:"+JSON.stringify(r.configManager.get("user"))),r.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"SDK \u8BBE\u7F6E\u4E86\u7528\u6237\u4FE1\u606F",time:Date.now(),secType:"USER",level:"info",data:r.configManager.get("user")})}),r.on(z.TokenReset,function(){r.logger.info("appid: "+n.app_id+" token reset, new userInfo:"+JSON.stringify(r.configManager.get("user"))),r.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"SDK \u91CD\u7F6E\u4E86\u7528\u6237\u4FE1\u606F",time:Date.now(),secType:"USER",level:"info",data:r.configManager.get("user")})}),r.on(z.RouteChange,function(e){e.init||n.disable_route_report||r.pageView()})}),this.tokenManager.apply(this,n),this.eventManager.apply(this,n),this.sessionManager.apply(this,n)),this.inited=!0)}}else this.logger.warn("app_id param is error, must be number, please check!")}else this.logger.warn("init params error,please check")},e.prototype.config=function(e){if(this.inited){if(e&&f(e)){var t;try{t=JSON.parse(JSON.stringify(t))}catch(n){t=e}if(this.bridgeReport)this.appBridge.setConfig(t);else{t._staging_flag&&1===t._staging_flag&&(this.staging=!0),t.disable_auto_pv&&(this.disableAutoPageView=!0,delete t.disable_auto_pv);var n=r({},t);if(this.initConfig&&this.initConfig.configPersist){var i=this.configManager.getStore();i&&(n=Object.assign(i,t)),this.configManager.setStore(t)}n.web_id,n.user_unique_id;var o=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>t.indexOf(i)&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)0>t.indexOf(i[r])&&(n[i[r]]=e[i[r]])}return n}(n,["web_id","user_unique_id"]);n.hasOwnProperty("web_id")&&this.emit(z.ConfigWebId,n.web_id),n.hasOwnProperty("user_unique_id")&&this.emit(z.ConfigUuid,n.user_unique_id),this.configManager.set(o),this.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884CCONFIG",level:"info",time:Date.now(),data:n})}}else console.warn("config params is error, please check")}else console.warn("config must be use after function init")},e.prototype.setDomain=function(e){this.configManager&&this.configManager.setDomain(e),this.emit(z.ConfigDomain)},e.prototype.getConfig=function(e){return this.configManager.get(e)},e.prototype.send=function(){this.start()},e.prototype.start=function(){this.inited&&!this.sended&&(this.sended=!0,this.emit(z.Start),this.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884CSTART",level:"info",time:Date.now()}),this.bridgeReport&&(this.pageView(),this.emit(z.Ready)))},e.prototype.event=function(e,t){var n=this;try{var i=[];if(Array.isArray(e))e.forEach(function(e){var t=n.processEvent(e[0],e[1]||{});t&&i.push(t)});else{var r=this.processEvent(e,t);if(!r)return;i.push(r)}this.bridgeReport?i.forEach(function(e){var t=e.event,i=e.params;n.appBridge.onEventV3(t,JSON.stringify(i))}):i.length&&(this.emit(z.Event,i),this.emit(z.SessionResetTime))}catch(e){this.logger.warn("something error, please check"),this.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:e.message})}},e.prototype.beconEvent=function(e,t){if(Array.isArray(e))this.logger.warn("beconEvent not support batch report, please check");else{var n=[],i=this.processEvent(e,t||{});i&&(n.push(i),n.length&&(this.emit(z.BeconEvent,n),this.emit(z.SessionResetTime)))}},e.prototype.beaconEvent=function(e,t){this.beconEvent(e,t)},e.prototype.processEvent=function(e,t){void 0===t&&(t={});try{if(!e)return console.warn("eventName is null\uFF0C please check"),null;var n=e;/^event\./.test(e)&&(n=e.slice(6));var i=t;"object"!=typeof i&&(i={}),i.profile?delete i.profile:i.event_index=g();var r=void 0;return i.local_ms?(r=i.local_ms,delete i.local_ms):r=+new Date,{event:n,params:i,local_time_ms:r,is_bav:this.initConfig&&this.initConfig.autotrack?1:0}}catch(n){return this.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:n.message}),{event:e,params:t}}},e.prototype.filterEvent=function(e){this.eventFilter=e},e.prototype.on=function(e,t){this.hook.on(e,t)},e.prototype.once=function(e,t){this.hook.once(e,t)},e.prototype.off=function(e,t){this.hook.off(e,t)},e.prototype.emit=function(e,t,n){this.hook.emit(e,t,n)},e.prototype.set=function(e){this.hook.set(e)},e.prototype.stop=function(){this.sdkStop=!0},e.prototype.reStart=function(){this.sdkStop=!1},e.prototype.pageView=function(){this.disableAutoPageView||this.predefinePageView()},e.prototype.predefinePageView=function(e){if(void 0===e&&(e={}),this.inited){var t={title:document.title||location.pathname,url:location.href,url_path:location.pathname,time:Date.now(),referrer:window.document.referrer,$is_first_time:""+(this.configManager&&this.configManager.is_first_time||!1)},n=r(r({},t),e);this.event("predefine_pageview",n)}else console.warn("predefinePageView should call after init")},e.prototype.clearEventCache=function(){this.emit(z.CleanEvents)},e.prototype.setWebId=function(e){this.config({web_id:""+e})},e.prototype.setNativeAppId=function(e){this.bridgeReport&&this.appBridge.setNativeAppId(e)},e.prototype.getSessionId=function(){return Y()},e.prototype.setSessionId=function(e){this.emit(z.SessionReset,e)},e.prototype.resetStayDuration=function(e,t,n){this.emit(z.ResetStay,{url_path:e,title:t,url:n},z.Stay)},e.prototype.resetStayParams=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=""),void 0===n&&(n=""),this.emit(z.SetStay,{url_path:e,title:t,url:n},z.Stay)},e.prototype.getToken=function(e,t){var n=this;if(this.inited){var i=!1,o=function(t){if(!i){i=!0;var o=n.configManager.get().user;return t&&(o.tobid=t,o["diss".split("").reverse().join("")]=t),e(r({},o))}},a=function(){n.tokenManager.getTobId().then(function(e){o(e)})};this.sdkReady?a():(t&&setTimeout(function(){o()},t),this.on(z.Ready,function(){a()}))}else console.warn("predefinePageView should call after init")},e.prototype.profileSet=function(e){this.bridgeReport?this.appBridge.profileSet(JSON.stringify(e)):this.emit(z.ProfileSet,e,z.Profile),this.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884CprofileSet",level:"info",time:Date.now(),data:e})},e.prototype.profileSetOnce=function(e){this.bridgeReport?this.appBridge.profileSetOnce(JSON.stringify(e)):this.emit(z.ProfileSetOnce,e,z.Profile),this.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884CprofileSetOnce",level:"info",time:Date.now(),data:e})},e.prototype.profileIncrement=function(e){this.bridgeReport?this.appBridge.profileIncrement(JSON.stringify(e)):this.emit(z.ProfileIncrement,e,z.Profile),this.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884CprofileIncrement",level:"info",time:Date.now(),data:e})},e.prototype.profileUnset=function(e){this.bridgeReport?this.appBridge.profileUnset(e):this.emit(z.ProfileUnset,e,z.Profile),this.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884CprofileUnset",level:"info",time:Date.now(),data:e})},e.prototype.profileAppend=function(e){this.bridgeReport?this.appBridge.profileAppend(JSON.stringify(e)):this.emit(z.ProfileAppend,e,z.Profile),this.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884CprofileAppend",level:"info",time:Date.now(),data:e})},e.prototype.setExternalAbVersion=function(e){this.emit(z.AbExternalVersion,"string"==typeof e&&e?(""+e).trim():null,z.Ab)},e.prototype.getVar=function(e,t,n,i){this.emit(z.AbVar,{name:e,defaultValue:t,callback:n,uuid:i},z.Ab)},e.prototype.getABconfig=function(e,t){this.emit(z.AbConfig,{params:e,callback:t},z.Ab)},e.prototype.getAbSdkVersion=function(){return this.configManager.getAbVersion()},e.prototype.onAbSdkVersionChange=function(e){var t=this;return this.emit(z.AbVersionChangeOn,e,z.Ab),function(){t.emit(z.AbVersionChangeOff,e,z.Ab)}},e.prototype.offAbSdkVersionChange=function(e){this.emit(z.AbVersionChangeOff,e,z.Ab)},e.prototype.openOverlayer=function(){this.emit(z.AbOpenLayer,"",z.Ab)},e.prototype.closeOverlayer=function(){this.emit(z.AbCloseLayer,"",z.Ab)},e.prototype.getAllVars=function(e){this.emit(z.AbAllVars,e,z.Ab)},e.prototype.destoryInstace=function(){this.destroy||(this.destroy=!0,this.off(z.TokenComplete),this.emit(z.DestoryInstance))},e.prototype.destroyInstance=function(){this.destroy||(this.destroy=!0,this.off(z.TokenComplete),this.emit(z.DestoryInstance))},e.plugins=[],e}(),er="__rangers_ab_style__";(ev=j||(j={}))[ev.Var=0]="Var",ev[ev.All=1]="All";var eo=function(){function e(){this.fetchStatus="no",this.refreshFetchStatus="no",this.versions=[],this.extVersions=[],this.mulilinkVersions=[],this.enable_multilink=!1,this.enable_ab_visual=!1,this.editMode=!1,this.callbacks=[],this.data={},this.changeListener=new Map,this.readyStatus=!1,this.exposureCache=[]}return e.prototype.apply=function(e,t){var n=this;if(this.collect=e,this.config=t,this.config.enable_ab_test){var i=t.enable_multilink,r=t.ab_channel_domain,o=t.enable_ab_visual,a=t.ab_cross,s=t.ab_cookie_domain,c=t.ab_timeout,l=R[t.channel||"sg"]||R.sg,u=r||m(l),d=e.adapters.storage;this.cacheStorgae=new d(!1),this.timeout=c||3e3,this.enable_multilink=i,this.enable_ab_visual=o,this.abKey="__tea_sdk_ab_version_"+t.app_id,this.ab_cross=a,this.ab_cookie_domain=s||"",this.fetchUrl=u+"/service/2/abtest_config/",this.reportUrl=this.collect.configManager.getUrl("event"),this.exposureLimit=t.exposure_limit||20,this.ab_batch_time=t.ab_batch_time||500,this.ab_user_mode=t.ab_user_mode||"user_unique_id";var p=this.collect.Types;this.types=p,this.collect.on(p.TokenChange,function(e){"uuid"===e&&n.readyStatus&&(n.clearCache(),n.fetchAB())}),this.collect.on(p.AbVar,function(e){var t=e.name,i=e.defaultValue,r=e.callback;n.getVar(t,i,r)}),this.collect.on(p.AbAllVars,function(e){n.getAllVars(e)}),this.collect.on(p.AbConfig,function(e){var t=e.params,i=e.callback;n.getABconfig(t,i)}),this.collect.on(p.AbExternalVersion,function(e){n.setExternalAbVersion(e)}),this.collect.on(p.AbOpenLayer,function(){n.openOverlayer()}),this.collect.on(p.AbCloseLayer,function(){n.closeOverlayer()}),this.collect.on(p.AbVersionChangeOn,function(e){n.changeListener.set(e,e)}),this.collect.on(p.AbVersionChangeOff,function(e){n.changeListener.get(e)&&n.changeListener.delete(e)}),this.loadMode(),(this.enable_ab_visual||this.enable_multilink)&&this.openOverlayer(this.config.multilink_timeout_ms||500),this.checkLocal(),this.ready("ab"),this.readyStatus||(this.fetchAB(),this.readyStatus=!0),this.collect.emit(p.AbReady)}},e.prototype.ready=function(e){var t=this;if(this.collect.set(e),this.collect.hook._hooksCache.hasOwnProperty(e)){var n=this.collect.hook._hooksCache[e];if(!Object.keys(n).length)return;var i=function(e){n[e].length&&n[e].forEach(function(n){t.collect.hook.emit(e,n)})};for(var r in n)i(r)}},e.prototype.loadMode=function(){var e=function(){try{return JSON.parse(atob(window.name))||void 0}catch(e){return}}(),t="";if(e){var n=e.scenario,i=e.href;n?(this.editMode=!0,t=n):i&&(-1!==i.indexOf("datatester")||-1!==i.indexOf("visual-editor"))&&(this.editMode=!0,t="visual-editor")}this.enable_ab_visual&&"visual-editor"===t&&this.collect.destoryInstace()},e.prototype.checkLocal=function(){var e=this.getABCache(),t=e.ab_version,n=e.ab_ext_version,i=e.ab_version_multilink,r=(e.data,this.checkFromUrl());r?this.mulilinkVersions.push(r):this.mulilinkVersions=i||[],this.extVersions=n||[],this.versions=t||[];var o=this.versions.concat(this.extVersions);this.enable_multilink&&(o=o.concat(this.mulilinkVersions))},e.prototype.checkFromUrl=function(){var e=w(window.location.href);return e&&e.vid?e.vid:""},e.prototype.updateVersions=function(){var e=this.extVersions.length?this.versions.concat(this.extVersions):this.versions;this.enable_multilink&&(e=e.concat(this.mulilinkVersions)),this.configVersions(e.join(",")),this.updateABCache(),this.changeListener.size>0&&this.changeListener.forEach(function(t){"function"==typeof t&&t(e)})},e.prototype.configVersions=function(e){this.collect.configManager.setAbVersion(e)},e.prototype.getVar=function(e,t,n,i){if(!e)throw Error("variable must not be empty");if(void 0===t)throw Error("variable no default value");if("function"!=typeof n)throw Error("callback must be a function");var r={name:e,defaultValue:t,callback:n,type:j.Var};"complete"===this.fetchStatus&&"complete"===this.refreshFetchStatus?this.getRealVar(r,e,i):this.callbacks.push(r)},e.prototype.setAbUuid=function(e,t){this.collect.configManager.setAbUuidCache(e,t)},e.prototype.getRealVar=function(e,t,n){var i=e.name,r=e.defaultValue,o=e.callback,a=this.data;if(a){if(f(a[i])){var s=a[i].vid;return"$ab_url"===t?this.mulilinkVersions.includes(s)||this.mulilinkVersions.push(s):this.versions.includes(s)||this.versions.push(s),this.setAbUuid(s,n),this.updateVersions(),this.fechEvent(s,t,r),o(a[i].val),void this.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,secType:"AB",info:"SDK \u66DD\u5149\u4E86\u5B9E\u9A8C"+i,level:"info",time:Date.now(),data:a[i]})}this.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,secType:"AB",info:"SDK \u8C03\u7528getVar",level:"info",time:Date.now(),data:r}),o(r)}else o(r)},e.prototype.getAllVars=function(e){if("function"!=typeof e)throw Error("callback must be a function");var t={callback:e,type:j.All};"complete"===this.fetchStatus&&"complete"===this.refreshFetchStatus?this.getRealAllVars(t):this.callbacks.push(t)},e.prototype.getRealAllVars=function(e){(0,e.callback)(this.data?JSON.parse(JSON.stringify(this.data)):{}),this.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,secType:"AB",info:"SDK \u8C03\u7528getAllVars",level:"info",time:Date.now(),data:this.data})},e.prototype.fechEvent=function(e,t,n){try{if(this.config.disable_track_event||!e)return;var i=this.collect.configManager.get(),r=i.header,o=i.user,a=this.getABCache(),s=o[this.ab_user_mode]||o.user_unique_id;if(a&&a.uuid&&a.uuid!==s)return;var c={event:"abtest_exposure",ab_sdk_version:""+e,params:JSON.stringify({app_id:this.config.appId,ab_url:"$ab_url"===t?n:window.location.href,data:this.data}),local_time_ms:Date.now()};r.custom=JSON.stringify(r.custom),this.reportExposure({events:[c],user:o,header:r},t)}catch(e){this.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:e.message})}},e.prototype.reportExposure=function(e,t){var n=this;this.exposureCache.push(e),this.reportTimeout&&clearTimeout(this.reportTimeout),this.exposureCache.length>=this.exposureLimit?this.report(t):this.reportTimeout=setTimeout(function(){n.report(t),clearTimeout(n.reportTimeout)},this.ab_batch_time)},e.prototype.report=function(e){var t=this;this.collect.requestManager.useRequest({url:this.reportUrl,data:this.exposureCache,timeout:2e4,useBeacon:"$ab_url"===e}),this.exposureCache.forEach(function(e){t.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_EVENT,info:"\u57CB\u70B9\u4E0A\u62A5\u6210\u529F",time:Date.now(),data:[e],code:200,status:"success"})}),this.exposureCache=[]},e.prototype.setExternalAbVersion=function(e){this.extVersions=[e],this.updateVersions()},e.prototype.getABconfig=function(e,t){var n=Object.keys(e);n&&n.length&&this.collect.configManager.set(e),this.fetchAB(t)},e.prototype.get=function(e){return this.cacheStorgae.getItem(e)},e.prototype.set=function(e,t){this.cacheStorgae.setItem(e,t),this.collect.configManager.setAbCache(t),this.collect.event("abtest_cache",{env_uuid:this.collect.configManager.get("user").user_unique_id||"",cache:JSON.stringify(t)})},e.prototype.getABCache=function(e){var t={ab_version:[],ab_ext_version:[],ab_version_multilink:[],data:null,timestamp:+new Date,uuid:""};return t=this.get(this.abKey)||t,e?t[e]:t},e.prototype.updateABCache=function(){var e=this.getABCache();e.ab_version_multilink=this.mulilinkVersions,e.ab_ext_version=this.extVersions,e.ab_version=this.versions,e.timestamp=Date.now(),this.set(this.abKey,e)},e.prototype.setAbCache=function(e){var t=this.getABCache();t.data=this.data,t.uuid=e,t.timestamp=Date.now(),this.set(this.abKey,t)},e.prototype.clearCache=function(){this.refreshFetchStatus="ing",this.data={},this.extVersions=[],this.mulilinkVersions=[],this.versions=[],this.collect.configManager.clearAbCache()},e.prototype.openOverlayer=function(e){var t=this;if(function(){if(!document.getElementById(er)){var e="body { opacity: 0 !important; }",t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.id=er,n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),t.appendChild(n)}}(),e)var n=setTimeout(function(){t.closeOverlayer(),clearTimeout(n)},e)},e.prototype.closeOverlayer=function(){var e;(e=document.getElementById(er))&&e.parentElement.removeChild(e)},e.prototype.fetchComplete=function(e,t){var n=this;try{if(e&&"[object Object]"==Object.prototype.toString.call(e)){this.data=e,this.setAbCache(t);var i=[];Object.keys(e).forEach(function(t){var n=e[t].vid;n&&i.push(n)}),this.versions=this.versions.filter(function(e){return i.includes(e)});var r=e.$ab_url,o=e.$ab_modification;if(o&&o.val&&this.enable_ab_visual){if(this.collect.destroy)return}else if(r&&this.enable_multilink){this.mulilinkVersions=this.mulilinkVersions.filter(function(e){return i.includes(e)});var a=r.val,s=r.vid;a&&s&&this.getVar("$ab_url",a,function(){n.editMode||(a!==window.location.href?setTimeout(function(){if(!n.collect.destroy){var e=""+a;e=-1===e.indexOf("http")?"https://"+e:e,b(e).host!==location.host?e=e+"&vid="+s:window.history.replaceState("","",e),window.location.href=e}},100):n.closeOverlayer())})}this.updateVersions()}else this.closeOverlayer();this.callbacks.forEach(function(e){return n[e.type===j.Var?"getRealVar":"getRealAllVars"](e,"")}),this.callbacks=[]}catch(e){}},e.prototype.fetchAB=function(e){var t=this,n=this.collect.configManager.get(),i={header:r(r(r({aid:this.config.app_id},n.user||{}),n.header||{}),{ab_sdk_version:this.collect.configManager.getAbVersion(),ab_url:window.location.href})},o=n.user[this.ab_user_mode]||n.user.user_unique_id;this.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"SDK \u53D1\u8D77AB\u5B9E\u9A8C\u8BF7\u6C42",level:"info",logType:"fetch",time:Date.now(),data:i}),this.collect.requestManager.useRequest({url:this.fetchUrl,data:i,success:function(n){t.fetchStatus="complete",t.refreshFetchStatus="complete";var i=n.data;"success"===n.message?(t.fetchComplete(i,o),e&&e(i)):(t.fetchComplete(null,o),e&&e(null)),t.collect.emit(t.types.AbComplete,i),t.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,secType:"AB",info:"AB\u5B9E\u9A8C\u8BF7\u6C42\u6210\u529F",level:"info",logType:"fetch",time:Date.now(),data:i})},fail:function(){t.fetchStatus="complete",t.refreshFetchStatus="complete",t.fetchComplete(null,o),t.collect.emit(t.types.AbTimeout),e&&e(null),t.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,secType:"AB",info:"AB\u5B9E\u9A8C\u8BF7\u6C42\u7F51\u7EDC\u5F02\u5E38",level:"error",logType:"fetch",time:Date.now()})},timeout:this.timeout})},e.prototype.filterUrl=function(e){try{var t="";-1!==e.indexOf("&multilink=true")?t="&multilink=true[\0-\xff]*":-1!==e.indexOf("?multilink=true")&&(t="\\?multilink=true[\0-\xff]*");var n=RegExp(t,"g");e=e.replace(n,"")}catch(e){}return e},e}(),ea=function(){function e(){}return e.prototype.apply=function(e,t){var n=this;if(t.event_verify_url){if("string"==typeof t.event_verify_url){if(this.url=t.event_verify_url+"/v1/list_test",this.url){var i=e.Types;e.on(i.SubmitBefore,function(t){e.requestManager.useBeacon({url:n.url,data:t})})}}else console.log("please use correct et_test url")}},e}(),es=function(){function e(e,t){this.maxDuration=432e5,this.aliveDTime=6e4,this.options={aliveName:"predefine_page_alive",params:{}},this.focusState=!0,this.collect=e,this.config=t,this.pageStartTime=Date.now(),this.sessionStartTime=this.pageStartTime,this.timerHandler=null,f(t.enable_stay_duration)&&(this.options=Object.assign(this.options,t.enable_stay_duration)),this.hard=this.options.mode&&"hard"===this.options.mode,this.focusState=document.hasFocus()}return e.prototype.setParams=function(e,t,n){this.set_path=e,this.set_url=n,this.set_title=t},e.prototype.enable=function(e,t,n){this.url_path=e,this.url=n,this.title=t,this.disableCallback=this.enablePageAlive(),this.hard&&(this.removeMode=this.hardMode())},e.prototype.disable=function(){this.disableCallback(),this.pageStartTime=Date.now()},e.prototype.sendEvent=function(e,t){void 0===t&&(t=!1);var n=t?this.aliveDTime:Date.now()-this.sessionStartTime;n<0||n>this.aliveDTime||Date.now()-this.pageStartTime>this.maxDuration||t&&"hidden"===document.visibilityState||this.hard&&!this.focusState||(this.collect.beconEvent(this.options.aliveName,r({url_path:this.getParams("url_path"),title:this.getParams("title"),url:this.getParams("url"),duration:n,is_support_visibility_change:y(),startTime:this.sessionStartTime,hidden:document.visibilityState,leave:e,mode:this.hard?"hard":"normal",focusState:this.focusState},this.options.params)),this.sessionStartTime=Date.now())},e.prototype.getParams=function(e){switch(e){case"url_path":return this.set_path||this.url_path||location.pathname;case"title":return this.set_title||this.title||document.title||location.pathname;case"url":return this.set_url||this.url||location.href}},e.prototype.setUpTimer=function(){var e=this;return this.timerHandler&&clearInterval(this.timerHandler),setInterval(function(){Date.now()-e.sessionStartTime>e.aliveDTime&&e.sendEvent(!1,!0)},1e3)},e.prototype.visibilitychange=function(){"hidden"===document.visibilityState?this.timerHandler&&(clearInterval(this.timerHandler),this.sendEvent(!1)):"visible"===document.visibilityState&&(this.sessionStartTime=Date.now(),this.timerHandler=this.setUpTimer())},e.prototype.beforeunload=function(){document.hidden||this.sendEvent(!0)},e.prototype.enablePageAlive=function(){var e=this;this.timerHandler=this.setUpTimer();var t=this.visibilitychange.bind(this),n=this.beforeunload.bind(this);return document.addEventListener("visibilitychange",t),_(n),function(){e.beforeunload(),document.removeEventListener("visibilitychange",t),window.removeEventListener("beforeunload",n),window.removeEventListener("pagehide",n)}},e.prototype.hardMode=function(){var e=this,t=function(){e.timerHandler&&(clearInterval(e.timerHandler),e.sendEvent(!1)),e.focusState=!1},n=function(){e.focusState=!0,e.sessionStartTime=Date.now(),e.timerHandler=e.setUpTimer()};return window.addEventListener("blur",t),window.addEventListener("focus",n),function(){window.removeEventListener("blur",t),window.removeEventListener("focus",n)}},e}(),ec=function(){function e(e,t){var n=this;this.maxDuration=432e5,this.aliveDTime=6e4,this.options={closeName:"predefine_page_close",params:{}},this.focusState=!0,this.visibilitychange=function(){"hidden"===document.visibilityState?n.activeEndTime=Date.now():"visible"===document.visibilityState&&(n.activeEndTime&&(n.totalTime+=n.activeEndTime-n.activeStartTime,n.activeTimes+=1),n.activeEndTime=void 0,n.activeStartTime=Date.now())},this.beforeunload=function(){if(n.totalTime+=(n.activeEndTime||Date.now())-n.activeStartTime,n.config.autotrack)try{window.sessionStorage.setItem("_tea_cache_duration",JSON.stringify({duration:n.totalTime,page_title:document.title||location.pathname}))}catch(e){}n.sendEventPageClose()},this.collect=e,this.config=t,this.maxDuration=t.maxDuration||864e5,this.pageStartTime=Date.now(),f(t.enable_stay_duration)&&(this.options=Object.assign(this.options,t.enable_stay_duration)),this.hard=this.options.mode&&"hard"===this.options.mode,this.focusState=document.hasFocus(),this.resetData()}return e.prototype.setParams=function(e,t,n){this.set_path=e,this.set_url=n,this.set_title=t},e.prototype.resetParams=function(e,t,n){this.url_path=e,this.url=n,this.title=t},e.prototype.enable=function(e,t,n){this.url_path=e,this.url=n,this.title=t,this.disableCallback=this.enablePageClose(),this.hard&&(this.removeMode=this.hardMode())},e.prototype.disable=function(){this.disableCallback()},e.prototype.resetData=function(){this.activeStartTime=void 0===this.activeStartTime?this.pageStartTime:Date.now(),this.activeEndTime=void 0,this.activeTimes=1,this.totalTime=0,this.resetParams(location.pathname,document.title,location.href)},e.prototype.sendEventPageClose=function(){var e=Date.now()-this.pageStartTime;this.totalTime<0||e<0||this.totalTime>=this.maxDuration||this.hard&&!this.focusState||(this.collect.beconEvent(this.options.closeName,r({url_path:this.getParams("url_path"),title:this.getParams("title"),url:this.getParams("url"),active_times:this.activeTimes,duration:this.totalTime,total_duration:e,is_support_visibility_change:y(),mode:this.hard?"hard":"normal",focusState:this.focusState},this.options.params)),this.pageStartTime=Date.now(),this.resetData())},e.prototype.getParams=function(e){switch(e){case"url_path":return this.set_path||this.url_path||location.pathname;case"title":return this.set_title||this.title||document.title||location.pathname;case"url":return this.set_url||this.url||location.href}},e.prototype.enablePageClose=function(){var e=this,t=this.visibilitychange.bind(this),n=this.beforeunload.bind(this);return document.addEventListener("visibilitychange",t),_(n),function(){e.beforeunload(),document.removeEventListener("visibilitychange",t),window.removeEventListener("beforeunload",n),window.removeEventListener("pagehide",n)}},e.prototype.hardMode=function(){var e=this,t=function(){e.focusState=!1},n=function(){e.focusState=!0};return window.addEventListener("blur",t),window.addEventListener("focus",n),function(){window.removeEventListener("blur",t),window.removeEventListener("focus",n)}},e}(),el=function(){function e(){}return e.prototype.apply=function(e,t){var n=this;if(this.collect=e,this.config=t,this.config.enable_stay_duration){this.title=document.title||location.pathname,this.url=location.href,this.url_path=location.pathname,this.pageAlive=new es(e,t),this.pageClose=new ec(e,t);var i=this.collect.Types;this.collect.on(i.ResetStay,function(e){var t=e.url_path,i=e.title,r=e.url;n.resetStayDuration(t,i,r)}),this.collect.on(i.RouteChange,function(e){e.init||t.disable_route_report||n.resetStayDuration()}),this.collect.on(i.SetStay,function(e){var t=e.url_path,i=e.title,r=e.url;n.setStayParmas(t,i,r)}),this.enable(this.url_path,this.title,this.url),this.ready(i.Stay),this.collect.emit(i.StayReady)}},e.prototype.ready=function(e){var t=this;if(this.collect.set(e),this.collect.hook._hooksCache.hasOwnProperty(e)){var n=this.collect.hook._hooksCache[e];if(!Object.keys(n).length)return;var i=function(e){n[e].length&&n[e].forEach(function(n){t.collect.hook.emit(e,n)})};for(var r in n)i(r)}},e.prototype.enable=function(e,t,n){this.pageAlive.enable(e,t,n),this.pageClose.enable(e,t,n)},e.prototype.disable=function(){this.pageAlive.disable(),this.pageClose.disable()},e.prototype.setStayParmas=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=""),void 0===n&&(n=""),this.pageAlive.setParams(e,t,n),this.pageClose.setParams(e,t,n),this.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884C resetStayParams",level:"info",time:Date.now(),data:{url_path:e,title:t,url:n}})},e.prototype.reset=function(e,t,n){this.disable(),this.enable(e,t,n)},e.prototype.resetStayDuration=function(e,t,n){this.reset(e,t,n),this.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884C resetStayDuration",level:"info",time:Date.now(),data:{url_path:e,title:t,url:n}})},e}(),eu=function(){function e(){var e=this;this.setInterval=function(){var t,n,i,r;e.clearIntervalFunc=(t=function(){e.isSessionhasEvent&&e.endCurrentSession()},n=e.sessionInterval,void 0===t&&(t=function(){}),void 0===n&&(n=1e3),r=Date.now()+n,i=window.setTimeout(function e(){var o=Date.now()-r;t(),r+=n,i=window.setTimeout(e,Math.max(0,n-o))},n),function(){window.clearTimeout(i)})},this.clearInterval=function(){e.clearIntervalFunc&&e.clearIntervalFunc()}}return e.prototype.apply=function(e,t){var n=this;if(this.collect=e,!t.disable_heartbeat){this.sessionInterval=6e4,this.startTime=0,this.lastTime=0,this.setInterval();var i=this.collect.Types;this.collect.on(i.SessionReset,function(){n.process()})}},e.prototype.endCurrentSession=function(){this.collect.event("_be_active",{start_time:this.startTime,end_time:this.lastTime,url:window.location.href,referrer:window.document.referrer,title:document.title||location.pathname}),this.isSessionhasEvent=!1,this.startTime=0},e.prototype.process=function(){this.isSessionhasEvent||(this.isSessionhasEvent=!0,this.startTime=+new Date);var e=this.lastTime||+new Date;this.lastTime=+new Date,this.lastTime-e>this.sessionInterval&&(this.clearInterval(),this.endCurrentSession(),this.setInterval())},e}(),ed=function(){function e(){}return e.prototype.apply=function(e,t){var n=this;if(this.collect=e,this.config=t,!this.config.channel_domain&&!t.disable_track_event&&!t.disable_sdk_monitor){this.url=e.configManager.getUrl("event");var i=this.collect.Types;this.collect.on(i.Ready,function(){n.sdkOnload()}),this.collect.on(i.SubmitError,function(e){var t=e.type,i=e.eventData,r=e.errorCode;"f_data"===t&&n.sdkError(i,r)})}},e.prototype.sdkOnload=function(){var e=this;try{var t=this.collect.configManager.get(),n=t.header,i=t.user,r=n.app_id,o=n.app_name,a=n.sdk_version,s=i.web_id,c={events:[{event:"onload",params:JSON.stringify({app_id:r,app_name:o||"",sdk_version:a,sdk_type:"npm",sdk_config:this.config,sdk_desc:"TOC_OVERSEA"}),local_time_ms:Date.now()}],user:{user_unique_id:s},header:{}};setTimeout(function(){e.collect.requestManager.useRequest({url:e.url,data:[c],timeout:3e4,app_key:"566f58151b0ed37e",forceXhr:!0})},16)}catch(e){}},e.prototype.sdkError=function(e,t){var n=this;try{var i=e[0],r=i.user,o=i.header,a=[];e.forEach(function(e){e.events.forEach(function(e){a.push(e)})});var s={events:a.map(function(e){return{event:"on_error",params:JSON.stringify({error_code:t,app_id:o.app_id,app_name:o.app_name||"",error_event:e.event,sdk_version:o.sdk_version,local_time_ms:e.local_time_ms,tea_event_index:Date.now(),params:e.params,header:JSON.stringify(o),user:JSON.stringify(r)}),local_time_ms:Date.now()}}),user:{user_unique_id:r.user_unique_id},header:{}};setTimeout(function(){n.collect.requestManager.useRequest({url:n.url,data:[s],timeout:3e4,app_key:"566f58151b0ed37e",forceXhr:!0})},16)}catch(e){}},e}();function ep(e,t){if(void 0===t&&(t="list"),!e)return!1;if(t&&"list"===t){if(["LI","TR","DL"].includes(e.nodeName)||e.dataset&&e.dataset.hasOwnProperty("teaIdx")||e.hasAttribute&&e.hasAttribute("data-tea-idx"))return!0}else if(["A","BUTTON"].includes(e.nodeName)||e.dataset&&e.dataset.hasOwnProperty("teaContainer")||e.hasAttribute&&e.hasAttribute("data-tea-container"))return!0;return!1}function eh(e){for(var t=e;t&&!ep(t,"container");){if("HTML"===t.nodeName||"BODY"===t.nodeName)return e;t=t.parentElement}return t||e}function ef(e){var t="";return 3===e.nodeType?t=e.textContent.trim():e.dataset&&e.dataset.hasOwnProperty("teaTitle")||e.hasAttribute("ata-tea-title")?t=e.getAttribute("data-tea-title"):e.hasAttribute("title")?t=e.getAttribute("title"):"INPUT"===e.nodeName&&["button","submit"].includes(e.getAttribute("type"))?t=e.getAttribute("value"):"IMG"===e.nodeName&&e.getAttribute("alt")&&(t=e.getAttribute("alt")),t.slice(0,200)}var ev,eg,em=function(e,t){return e.hasAttribute?e.hasAttribute(t):e.attributes?!(!e.attributes[t]||!e.attributes[t].specified):void 0},e_=function(e,t){if("string"==typeof t)return em(e,t);if(v(t)){for(var n=!1,i=0;i<t.length;i++)if(em(e,t[i])){n=!0;break}return n}},ey=function(){function e(e,t,n){var i=this;this.statistics=!1,this.pageView=!1,this.clickEvent=function(e){var t,n;t=e.target,n=i.options,!(1!==t.nodeType||!n.svg&&function(e){if("svg"===e.tagName.toLowerCase())return!0;for(var t=e.parentElement,n=!1;t;)"svg"===t.tagName.toLowerCase()?(t=null,n=!0):t=t.parentElement;return n}(t)||["HTML","BODY"].includes(t.tagName.toUpperCase()))&&"none"!==t.style.display&&(ep(t,"container")||function(e){if(e.children.length){var t=e.children;return![].slice.call(t).some(function(e){return e.children.length>0})}return!0}(t)||n.svg)&&i.eventHandel({eventType:"dom",eventName:"click"},e)},this.changeEvent=function(e){i.eventHandel({eventType:"dom",eventName:"change"},e)},this.submitEvent=function(e){i.eventHandel({eventType:"dom",eventName:"submit"},e)},this.getPageViewEvent=function(e,t){t&&"pushState"===t&&i.eventHandel({eventType:"dom",eventName:"beat"},r({beat_type:0},e)),i.eventHandel({eventType:"dom",eventName:"page_view"},e)},this.getPageLoadEvent=function(e){i.eventHandel({eventType:"dom",eventName:"page_statistics"},{lcp:e})},this.config=n.getConfig().eventConfig,this.collect=t,this.options=e,this.beatTime=e.beat}return e.prototype.init=function(e){this.eventHandel=e;var t=this.config.mode;this.addListener(t)},e.prototype.addListener=function(e){var t=this;if("proxy-capturing"===e){if(this.config.click&&window.document.addEventListener("click",this.clickEvent,!0),this.config.change&&window.document.addEventListener("change",this.changeEvent,!0),this.config.submit&&window.document.addEventListener("submit",this.submitEvent,!0),this.config.pv){this.collect.on("route-change",function(e){var n=e.config,i=e.name;t.getPageViewEvent(n,i),t.pageView=!0});var n=setTimeout(function(){t.pageView||(t.getPageViewEvent(t.getDefaultConfig()),t.pageView=!0,clearTimeout(n))},2e3)}if(this.config.beat){try{"complete"===document.readyState?this.beatEvent(this.beatTime):window.addEventListener("load",function(){t.beatEvent(t.beatTime)});var i=0,r=null;window.addEventListener("scroll",function(){clearTimeout(r),r=setTimeout(o,500),i=document.documentElement.scrollTop||document.body.scrollTop});var o=function(){(document.documentElement.scrollTop||document.body.scrollTop)==i&&t.eventHandel({eventType:"dom",eventName:"beat"},{beat_type:1})}}catch(e){}try{var a=window.performance&&window.performance.getEntriesByType("paint");a&&a.length?(new PerformanceObserver(function(e){var n=e.getEntries(),i=n[n.length-1],r=i.renderTime||i.loadTime;t.statistics||(t.getPageLoadEvent(r),t.statistics=!0)}).observe({entryTypes:["largest-contentful-paint"]}),setTimeout(function(){t.statistics||(t.getPageLoadEvent(a[0].startTime||0),t.statistics=!0)},2e3)):this.getPageLoadEvent(0)}catch(e){this.getPageLoadEvent(0)}}}},e.prototype.removeListener=function(){window.document.removeEventListener("click",this.clickEvent,!0),window.document.removeEventListener("change",this.changeEvent,!0),window.document.removeEventListener("submit",this.submitEvent,!0)},e.prototype.beatEvent=function(e){var t,n=this;try{this.eventHandel({eventType:"dom",eventName:"beat"},{beat_type:3}),this.beatTime&&(t=setInterval(function(){n.eventHandel({eventType:"dom",eventName:"beat"},{beat_type:2})},e)),_(function(){n.eventHandel({eventType:"dom",eventName:"beat",eventSend:"becon"},{beat_type:0}),n.beatTime&&clearInterval(t)})}catch(e){}},e.prototype.getDefaultConfig=function(){return{is_html:1,url:location.href,referrer:document.referrer,page_key:location.href,refer_page_key:document.referrer,page_title:document.title||location.pathname,page_manual_key:"",refer_page_manual_key:"",refer_page_title:"",page_path:location.pathname,page_host:location.host}},e}(),eb={eventConfig:{mode:"proxy-capturing",submit:!1,click:!0,change:!1,pv:!0,beat:!0,hashTag:!1,impr:!1},scoutConfig:{mode:"xpath"}},ew=function(){function e(e,t){this.config=e,this.config.eventConfig=Object.assign(this.config.eventConfig,t)}return e.prototype.getConfig=function(){return this.config},e.prototype.setConfig=function(e){return this.config=e},e}(),eE=function(e,t,n,i,o){return r(r({event:e},function(e,t,n,i){var r,o,a,s,c,l,u,d,p,h,f={},g=function(e){if(e){var t=e.getBoundingClientRect(),n=t.width,i=t.height;return{left:t.left,top:t.top,element_width:n,element_height:i}}}(t),m=(void 0===(r=e)&&(r={}),void 0===(o=g)&&(o={}),a=r.clientX,s=r.clientY,{touch_x:Math.floor(a-(c=o.left)>=0?a-c:0),touch_y:Math.floor(s-(l=o.top)>=0?s-l:0)}),_=g.element_width,y=g.element_height,b=m.touch_x,w=m.touch_y,E=function(e){for(var t=[];null!==e.parentElement;)t.push(e),e=e.parentElement;var n=[],i=[];return t.forEach(function(e){var t=function(e){if(null===e)return{str:"",index:0};var t=0,n=e.parentElement;if(n)for(var i=n.children,r=0;r<i.length&&i[r]!==e;r++)i[r].nodeName===e.nodeName&&t++;return{str:[e.nodeName.toLowerCase(),ep(e,"list")?"[]":""].join(""),index:t}}(e),r=t.str,o=t.index;n.unshift(r),i.unshift(o)}),{element_path:"/"+n.join("/"),positions:i}}(t),S=E.element_path,k=E.positions,x=(u=eh(t),d=[],function e(t){var n=ef(t);if(n&&-1===d.indexOf(n)&&d.push(n),t.childNodes.length>0)for(var i=t.childNodes,r=0;r<i.length;r++)8!==i[r].nodeType&&e(i[r])}(u),d),A=window.performance.timing.navigationStart,C=Date.now()-A,I=k.map(function(e){return""+e}),O=null;if(window.TEAVisualEditor&&window.TEAVisualEditor.getOriginXpath&&(O=window.TEAVisualEditor.getOriginXpath({xpath:S,positions:I})),f.element_path=O&&O.xpath||S,f.positions=O&&O.positions||I,i&&!i.text&&(f.texts=x,f.element_title=(p=eh(t),h="",function e(t){var n=ef(t);if(n&&(h+=n),t.childNodes.length>0)for(var i=t.childNodes,r=0;r<i.length;r++)3===i[r].nodeType&&e(i[r])}(p),h)),f.element_id=t.getAttribute("id")||"",f.element_class_name=t.getAttribute("class")||"",f.element_type=t.nodeType,f.element_width=Math.floor(_),f.element_height=Math.floor(y),f.touch_x=b,f.touch_y=w,f.page_manual_key="",f.elememt_manual_key="",f.since_page_start_ms=C,f.page_start_ms=A,f.page_path=location.pathname,f.page_host=location.host,n.track_attr&&e_(t,n.track_attr)){var D=function(e,t){var n={};if("string"==typeof t)em(e,t)&&(n.attrs=e.getAttribute(t));else if(v(t))for(var i=0;i<t.length;i++)em(e,t[i])&&(n[t[i]]=e.getAttribute(t[i]));return n}(t,n.track_attr);for(var R in D)f[R]=D[R]}var N=eh(t);return"A"===N.tagName&&(f.href=N.getAttribute("href")),"IMG"===t.tagName&&(f.src=t.getAttribute("src")),f}(t,n,i,o)),{is_html:1,page_key:window.location.href,page_title:document.title})},eS=function(){function e(e,t){this.ignore={text:!0},this.initConfig=e,this.options=t,this.eventName=t&&"tea"===t.custom?{click:"__bav_click",page:"__bav_page",beat:"__bav_beat",static:"__bav_page_statistics",exposure:"__bav_page_exposure"}:{click:"bav2b_click",page:"bav2b_page",beat:"bav2b_beat",static:"bav2b_page_statistics",exposure:"bav2b_exposure"},t&&!0===t.text&&(this.ignore.text=!1),t&&t.exposure&&t.exposure.eventName&&(this.eventName.exposure=t.exposure.eventName)}return e.prototype.handleEvent=function(e,t){try{if(function(e){for(var t=e;t&&t.parentNode;){if(t.hasAttribute("data-tea-ignore"))return!0;if("HTML"===t.nodeName||"body"===t.nodeName)break;t=t.parentNode}return!1}(e.target))return null;var n="bav2b_click";switch(t){case"click":return n=this.eventName.click,eE(n,e,e.target,this.options,this.ignore);case"exposure":return n=this.eventName.exposure,eE(n,e,e.target,this.options,this.ignore);case"change":return r(r({},eE(n="bav2b_change",e,e.target,this.options)),function(e,t){try{if("bav2b_change"===e)return t.hasAttribute("data-tea-track")?{value:t.value}:{}}catch(e){return{}}}(n,e.target));case"submit":return eE(n="bav2b_submit",e,e.target,this.options)}}catch(e){return console.error(e),null}},e.prototype.handleViewEvent=function(e){e.event=this.eventName.page,e.page_title=document.title,e.page_total_width=window.innerWidth,e.page_total_height=window.innerHeight;try{var t=window.sessionStorage.getItem("_tea_cache_duration");if(t){var n=JSON.parse(t);e.refer_page_duration_ms=n?n.duration:""}e.scroll_width=document.documentElement.scrollLeft?document.documentElement.scrollLeft+window.innerWidth:window.innerWidth,e.scroll_height=document.documentElement.scrollTop?document.documentElement.scrollTop+window.innerHeight:window.innerHeight,e.page_start_ms=window.performance.timing.navigationStart}catch(e){console.log("page event error "+JSON.stringify(e))}return e},e.prototype.handleStatisticsEvent=function(e){var t={};t.event=this.eventName.static,t.is_html=1,t.page_key=location.href,t.refer_page_key=document.referrer||"",t.page_title=document.title,t.page_manual_key=this.initConfig.autotrack.page_manual_key||"",t.refer_page_manual_key="";try{var n=e.lcp,i=window.performance.timing,r=i.loadEventEnd-i.navigationStart;t.page_init_cost_ms=parseInt(n||(r>0?r:0)),t.page_start_ms=i.navigationStart}catch(e){console.log("page_statistics event error "+JSON.stringify(e))}return t},e.prototype.handleBeadtEvent=function(e){e.event=this.eventName.beat,e.page_key=window.location.href,e.is_html=1,e.page_title=document.title,e.page_manual_key=this.initConfig.autotrack.page_manual_key||"";try{e.page_viewport_width=window.innerWidth,e.page_viewport_height=window.innerHeight,e.page_total_width=document.documentElement.scrollWidth,e.page_total_height=document.documentElement.scrollHeight,e.scroll_width=document.documentElement.scrollLeft+window.innerWidth,e.scroll_height=document.documentElement.scrollTop+window.innerHeight,e.since_page_start_ms=Date.now()-window.performance.timing.navigationStart,e.page_start_ms=window.performance.timing.navigationStart}catch(e){console.log("beat event error "+JSON.stringify(e))}return e},e}(),ek=function(){function e(e){this.collect=e,this.eventNameList=["report_click_event","report_change_event","report_submit_event","report_exposure_event","report_page_view_event","report_page_statistics_event","report_beat_event"]}return e.prototype.send=function(e,t){var n=e.eventSend,i=t.event;delete t.event,n&&"becon"===n?this.collect.beconEvent(i,t):this.collect.event(i,t)},e.prototype.get=function(e,t){fetch(e,Object.assign({headers:{"content-type":"application/json"},method:"GET"},t))},e.prototype.post=function(e,t){fetch(e,Object.assign({headers:{"content-type":"application/json"},method:"POST"},t))},e}(),ex=function(){function e(e){this._instance=null,this._intersection=e,this.init()}return e.prototype.init=function(){var e=this;this._instance=new MutationObserver(function(t){t.forEach(function(t){"attributes"===t.type&&e.attributeChangeObserve(t),"childList"===t.type&&e.modifyNodeObserve(t)})}),this._instance.observe(document.body,{childList:!0,attributes:!0,subtree:!0,attributeOldValue:!1})},e.prototype.attributeChangeObserve=function(e){e.target.hasAttribute("data-exposure")?this.exposureAdd(e,"mutation"):this.exposureRemove(e)},e.prototype.modifyNodeObserve=function(e){var t=this;Array.prototype.forEach.call(e.addedNodes,function(e){1===e.nodeType&&e.hasAttribute("data-exposure")&&t.exposureAdd(e,"intersect"),t.mapChild(e,t.exposureAdd)}),Array.prototype.forEach.call(e.removedNodes,function(e){1===e.nodeType&&e.hasAttribute("data-exposure")&&t.exposureRemove(e),t.mapChild(e,t.exposureRemove)})},e.prototype.mapChild=function(e,t){var n=this;1===e.nodeType&&e.children.length&&Array.prototype.forEach.call(e.children,function(e){1===e.nodeType&&e.hasAttribute("data-exposure")&&t(e),n.mapChild(e,t)})},e.prototype.exposureAdd=function(e,t){this._intersection.exposureAdd(e,t)},e.prototype.exposureRemove=function(e){this._intersection.exposureRemove(e)},e._exposure_observer=null,e}(),eT=function(){function e(t,n){this.count=1,this.instance=this.buildObserver(),this.observeMap=e._observer_map,t.autotrack.exposure.ratio?this.Ratio=t.autotrack.exposure.ratio:0===t.autotrack.exposure.ratio?this.Ratio=0:this.Ratio=.5,this.EventHandle=n}return e.prototype.buildObserver=function(){var t=this;if(!e._observer_instance)return IntersectionObserver&&(e._observer_instance=new IntersectionObserver(function(e){e.forEach(function(e){t.observeMap.get(e.target._observeId)&&t.exposureEvent(e)})},{threshold:[.01,.25,.5,.75,1]})),e._observer_instance},e.prototype.exposureAdd=function(e,t){var n=e;"mutation"===t&&(n=e.target);var i=n._observeId;if(i||this.observeMap.has(i)){if(!1===n.visible){var r=n.getBoundingClientRect(),o=r.top,a=r.left,s=r.right,c=r.bottom;o>=0&&c<=window.innerHeight&&a>=0&&s<=window.innerWidth&&(n.visible=!0,this.EventHandle({eventType:"dom",eventName:"exposure"},e))}}else n._observeId=this.count,n.visible=!1,this.observeMap.set(this.count,n),this.observe(n),this.count++},e.prototype.exposureRemove=function(e){this.observeMap.has(e._observeId)&&(this.observeMap.delete(e._observeId),this.unobserve(e))},e.prototype.exposureEvent=function(e){e.intersectionRatio>=this.Ratio&&e.isIntersecting?"0"!==e.target.style.opacity&&"hidden"!==e.target.style.visibility&&!0!==e.target.visible&&(e.target.visible=!0,this.EventHandle({eventType:"dom",eventName:"exposure"},e)):e.target.visible=!1},e.prototype.observe=function(e){this.instance.observe(e)},e.prototype.unobserve=function(e){this.instance.unobserve(e)},e._observer_instance=null,e._observer_map=new Map,e}(),eA=function(){function e(e,t){e.autotrack&&e.autotrack.exposure&&(this._intersection=new eT(e,t),this._observer=new ex(this._intersection),this.initObserver())}return e.prototype.initObserver=function(){var e=this;Array.prototype.forEach.call(document.querySelectorAll("[data-exposure]"),function(t){e._intersection.exposureAdd(t,"intersect")})},e}(),eC={hashTag:!1,impr:!1},eI=function(){function e(){}return e.prototype.apply=function(e,t){if(this.autoTrackStart=!1,this.collect=e,this.config=t,t.autotrack){var n=e.Types;t.autotrack&&t.autotrack.collect_url&&!t.autotrack.collect_url()||(this.ready(n.Autotrack),this.collect.emit(n.AutotrackReady))}},e.prototype.ready=function(e){this.collect.set(e);var t=this.config.autotrack;t=Object.assign(eC,t="object"==typeof t?t:{}),this.destroyed=!1,this.options=t,this.Config=new ew(eb,this.options),this.Exposure=new eA(this.config,this.handle.bind(this)),this.Listener=new ey(t,this.collect,this.Config),this.EventHandle=new eS(this.config,t),this.Request=new ek(this.collect),this.autoTrackStart=!0,this.init()},e.prototype.init=function(){this.Listener.init(this.handle.bind(this)),"base"===this.collect.loadType&&(window.opener||window.parent).postMessage("[tea-sdk]ready","*")},e.prototype.handle=function(e,t){"dom"===e.eventType&&this.handleDom(e,t)},e.prototype.handleDom=function(e,t){try{var n=e.eventName;if("click"===n||"exposure"===n||"change"===n||"submit"===n){var i=this.EventHandle.handleEvent(t,n);null!==i&&this.Request.send({eventType:"custom",eventName:"report_"+n+"_event",extra:{methods:"GET"}},i)}else if("page_view"===n||"page_statistics"===n){var r=void 0;r="page_view"===n?this.EventHandle.handleViewEvent(t):this.EventHandle.handleStatisticsEvent(t),this.Request.send({eventType:"custom",eventName:"report_${eventName}_event",extra:{methods:"GET"}},r)}else if("beat"===n){var o=this.EventHandle.handleBeadtEvent(t),a=e.eventSend;this.Request.send({eventType:"custom",eventName:"report_${eventName}_event",extra:{methods:"GET"},eventSend:a},o)}}catch(e){console.log("handel dom event error "+JSON.stringify(e))}},e.prototype.destroy=function(){if(!this.autoTrackStart)return console.warn("engine is undefined, make sure you have called autoTrack.start()");this.autoTrackStart=!1,this.Listener.removeListener()},e}();(i=eg||(eg={})).Net="net",i.FailNet="f_net",i.FailData="f_data";var eO={pv:["predefine_pageview"],sdk:["_be_active","predefine_page_alive","predefine_page_close","__profile_set","__profile_set_once","__profile_increment","__profile_unset","__profile_append"],autotrack:["bav2b_click","bav2b_page","bav2b_beat","bav2b_page_statistics","__bav_click","__bav_page","__bav_beat","__bav_page_statistics"]},eD=function(){function e(){}return e.prototype.apply=function(e,t){var n=this;if(this.ready=t.app_id&&t.enable_tracer&&!t.disable_track_event,this.ready){this.limit={pv:1,sdk:3,autotrack:3,log:3},this.errorCode={f_net:0,f_data:0},this.tracerCache=new Map,this.collect=e,this.appid=t.app_id,this.reportUrl=e.configManager.getUrl("event");var i=this.collect.Types;e.adapters.fetch,this.collect.on(i.Event,function(e){v(e)?e.forEach(function(e){n.addCount("log")}):n.addCount("log")}),this.collect.on(i.SubmitError,function(e){var t=e.type,i=e.eventDate,r=e.errorCode,o=e.response;n.addErrorCount(i,t,r,o)}),this.listener(),this.collect.emit(i.TracerReady)}},e.prototype.addCount=function(e,t,n){void 0===t&&(t="net"),void 0===n&&(n=1);try{this.tracerCache||(this.tracerCache=new Map);var i=void 0;if(this.tracerCache.has(e))(r=this.tracerCache.get(e)).has(t)?(i=r.get(t).params.count,i++,r.set(t,this.processTracer(i,e,t))):(i=n,r.set(t,this.processTracer(n,e,t)));else{var r=new Map;i=n,r.set(t,this.processTracer(n,e,t)),this.tracerCache.set(e,r)}"net"===t&&i>=this.limit[e]&&this.report(!1)}catch(e){console.log(e)}},e.prototype.addErrorCount=function(e,t,n,i){var r=this;try{if(e&&e.length){var o=e[0].events;o&&o.length&&("f_data"===t?(i&&i.hasOwnProperty("sc")?this.addCount("log",t,o.length-i.sc):this.addCount("log",t,o.length),this.errorCode[t]=n):o.forEach(function(e){var i="log";for(var o in eO)if(-1!==eO[o].indexOf(e.event)){i=o;break}r.addCount(i,t,1),r.errorCode[t]=n}))}}catch(e){}},e.prototype.report=function(e){if(this.tracerCache){var t=[];this.tracerCache.forEach(function(e){console.log(e),e.forEach(function(e){t.push(e)})}),t&&t.length&&this.sendTracer(t,e)}},e.prototype.sendTracer=function(e,t){try{var n=this.collect.eventManager.merge(e);this.collect.requestManager.useRequest({url:this.reportUrl,data:n,useBeacon:t}),this.tracerCache=null}catch(e){}},e.prototype.processTracer=function(e,t,n){try{var i={count:e,state:n,key:t,params_for_special:"applog_trace",aid:this.appid,platform:"web",_staging_flag:1,sdk_version:"5.2.4_oversea"};"f_net"!==n&&"f_data"!==n||(i.errorCode=this.errorCode[n]);var r=this.collect.processEvent("applog_trace",i);if(r&&r.event)return delete r.is_bav,r}catch(e){console.warn("something error")}},e.prototype.listener=function(){var e=this;document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&e.leavePage()}),_(function(){e.leavePage()})},e.prototype.leavePage=function(){this.report(!0)},e}(),eR="undefined"!=typeof window?(window.LogPluginObject||(window.LogPluginObject={}),window.LogPluginObject):null,eN=function(){function e(){}return e.prototype.apply=function(e,t){this._plugin={},this.config=t,this.collect=e,this.channel=t.channel||"cn",this.loadExtend()},e.prototype.loadExtend=function(){var e=this;try{this.collect.remotePlugin.forEach(function(t,n){if("sdk"===t){if(et.hasOwnProperty(n)){var i=et[n].object,r=""+et[n].src[e.channel];e.exist(n,i,r)}else console.warn("your "+n+" is not exist\uFF0Cplease check plugin name")}else"object"==typeof t&&(t.src?e.exist(n,t.call,t.src):e.process(n,t.instance,"INSTANCE"))})}catch(e){this.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:e.message}),console.log("load extend error")}},e.prototype.exist=function(e,t,n){var i=this;eR[t]?(this.process(e,eR[t]),console.log("\u5DF2\u6709"+e+"\u63D2\u4EF6\uFF0C\u907F\u514D\u91CD\u590D\u52A0\u8F7D~")):this.loadPlugin(e,n,function(){i.process(e,eR[t]),console.log(" %c %s %s %s","color: yellow; background-color: black;","\u2013","load plugin:"+e+" success","-")},function(){console.log(" %c %s %s %s","color: red; background-color: yellow;","\u2013","load plugin:"+e+" error","-")})},e.prototype.process=function(e,t,n){try{if(n){var i=new t;i.apply&&i.apply(this.collect,this.config),console.log("excude "+e+" success")}else t&&t(this.collect,this.config)}catch(t){this.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:t.message}),console.log("excude "+e+" error, message:"+t.message)}},e.prototype.loadPlugin=function(e,t,n,i){var r=this;try{var o=document.createElement("script");o.src=t,this._plugin[e]||(this._plugin[e]=[]),this._plugin[e].push(n),o.onerror=function(){i(t)},o.onload=function(){r._plugin[e].forEach(function(e){e()})},document.getElementsByTagName("head")[0].appendChild(o)}catch(e){this.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:e.message})}},e}(),eM=function(){function e(){this.autotrack=!1,this.spa=!1,this.cache={},this.allowHash=!1}return e.prototype.apply=function(e,t){if(t.spa||t.autotrack){var n=e.Types;this.collect=e,this.config=t,this.appid=t.app_id,this.allowHash=t.allow_hash,this.fncArray=new Map,this.setKey(),this.setLocation(),this.hack(),this.init(),this.listener(),e.emit(n.RouteReady)}},e.prototype.setKey=function(){var e=this.collect.adapters.storage;this.storage=new e(!1),this.cache_key="__tea_cache_refer_"+this.appid,this.cache={refer_key:"",refer_title:document.title||location.pathname,refer_manual_key:"",routeChange:!1},this.config.autotrack&&"object"==typeof this.config.autotrack&&this.config.autotrack.page_manual_key&&(this.cache.refer_manual_key=this.config.autotrack.page_manual_key),this.storage.setItem(this.cache_key,this.cache)},e.prototype.hack=function(){var e=this,t=window.history.pushState;history.pushState=function(n){for(var i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];"function"==typeof history.onpushstate&&history.onpushstate({state:n});var a=t.call.apply(t,o([history,n],i));if(e.collect.sdkStop||e.collect.destroy)return a;if(!(e.lastLocation===location.href||e.config.disable_spa_query&&e.pathEquel())){var s=e.getPopStateChangeEventData();return e.setReferCache(e.lastLocation),e.lastLocation=location.href,e.sendPv(s,"pushState"),a}};var n=history.replaceState;history.replaceState=function(t){for(var i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];"function"==typeof history.onreplacestate&&history.onreplacestate({state:t});var a=n.call.apply(n,o([history,t],i));if(e.collect.sdkStop||e.collect.destroy)return a;if(!(e.lastLocation===location.href||e.config.disable_spa_query&&e.pathEquel())){var s=e.getPopStateChangeEventData();return e.setReferCache(e.lastLocation),e.lastLocation=location.href,e.sendPv(s),a}}},e.prototype.setLocation=function(){"undefined"!=typeof window&&(this.lastLocation=window.location.href)},e.prototype.getLocation=function(){return this.lastLocation},e.prototype.pathEquel=function(){try{return new URL(this.lastLocation).origin+new URL(this.lastLocation).pathname===new URL(location.href).origin+new URL(location.href).pathname}catch(e){return!1}},e.prototype.init=function(){var e=this.getPopStateChangeEventData();this.collect.emit("route-change",{config:e,init:!0})},e.prototype.listener=function(){var e=this;window.addEventListener("hashchange",function(t){if(!e.collect.sdkStop&&!e.collect.destroy&&e.lastLocation!==window.location.href&&(!e.config.disable_spa_query||!e.pathEquel())&&e.allowHash){e.setReferCache(e.lastLocation),e.lastLocation=window.location.href;var n=e.getPopStateChangeEventData();e.sendPv(n)}}),window.addEventListener("popstate",function(t){if(!e.collect.sdkStop&&!e.collect.destroy&&!(e.lastLocation===window.location.href||e.config.disable_spa_query&&e.pathEquel())){e.setReferCache(e.lastLocation),e.lastLocation=window.location.href;var n=e.getPopStateChangeEventData();e.sendPv(n)}})},e.prototype.getPopStateChangeEventData=function(){var e=this.pageConfig();return e.is_back=0,e},e.prototype.pageConfig=function(){try{var e=this.storage.getItem(this.cache_key)||{},t=!1,n=this.storage.getItem("__tea_cache_first_"+this.appid);return t=!n||1!=n,{is_html:1,url:location.href,referrer:this.handleRefer(),page_key:location.href,refer_page_key:this.handleRefer(),page_title:document.title||location.pathname,page_manual_key:this.config.autotrack&&this.config.autotrack.page_manual_key||"",refer_page_manual_key:e&&e.refer_manual_key||"",refer_page_title:e&&e.refer_title||"",page_path:location.pathname,page_host:location.host,is_first_time:""+t}}catch(e){return this.collect.emit(p.DEBUGGER_MESSAGE,{type:p.DEBUGGER_MESSAGE_SDK,info:"\u53D1\u751F\u4E86\u5F02\u5E38",level:"error",time:Date.now(),data:e.message}),{}}},e.prototype.sendPv=function(e,t){this.collect.emit("route-change",{config:e,init:!1})},e.prototype.handleRefer=function(){var e="";try{var t=this.storage.getItem()||{};e=t.routeChange?t.refer_key:this.collect.configManager.get("referrer")}catch(t){e=document.referrer}return e},e.prototype.setReferCache=function(e){var t=this.storage.getItem(this.cache_key)||{};t.refer_key=e,t.routeChange=!0,this.storage.setItem(this.cache_key,t)},e}();ei.usePlugin(eN,"extend"),ei.usePlugin(eD,"tracer"),ei.usePlugin(eo,"ab"),ei.usePlugin(el,"stay"),ei.usePlugin(eI,"autotrack"),ei.usePlugin(ea,"et"),ei.usePlugin(eu,"heartbeat"),ei.usePlugin(ed,"monitor"),ei.usePlugin(eM,"route"),ei.usePlugin(eD,"tracer");var eL=new ei("default"),eP=ei;let ej=eL},33717:function(e,t,n){"use strict";n.d(t,{a:function(){return S},f:function(){return k}});var i=n(386859),r=n(595607),o=n(64367),a=n(528694),s=n(312745),c=n(640595),l=n(405359),u=n(290749),d=n(126689),p=n(743477),h=n(296554),f=n(117589),v=n(399501),g=n(676533);n(907028);var m=n(331951),_=n(61585),y=n(687413),b=function(){function e(e){this.pasteTimes=0,this.t="",this.n=e}var t=e.prototype;return e.isBlob=function(e){var t=e.types,n=e.files,i=1===t.length&&n&&n.length,e=2===t.length&&t.includes("text/plain")&&t.includes("Files"),n=2===t.length&&t.includes("text/html")&&t.includes("Files"),t=p.Xh.safari&&t.includes("Files")&&t.includes("text/uri-list");return i||e||n||t},t.i=function(e,t,n){var r=!1;(n=void 0===n?{}:n).canPrevent&&(t.preventDefault=function(){r=!0}),n.pickKey&&(o=function(e,t){return t&&(e[n.pickKey]=t),e});var o=this.n.pluginManager.call(e,t,o);return(0,i.b)((0,i.b)({},o),{defaultPrevented:r})},t.onPaste=function(t){var n=t.clipboardData;if(n){var o=this.n,a=new g.y(t,t.target),c=null,l=this.n.clipboard.dataHelper,u=l.getCustomData(n,d.iC);this.t=l.getCustomData(n,d.K6);var p,h=/data-editor-unique-id="([0-9a-zA-Z]+)"/;u?(c=(0,m.CX)(u))&&(p=c.editorUniqueId):l.getTypes(n).includes("text/html")&&h.test(l.getData(n,"text/html"))&&(p=h.exec(l.getData(n,"text/html"))[1]),(h=this.t&&this.t===o.businessKey)||o.log('[Paste][onPaste] Copy from different business "'+this.t+'"'),(h=h||o.clipboard.canInternalPasteWhitelist.includes(this.t))||!this.t||console.warn('if want to accept the internal clipboard data from "'+this.t+'",\n        you can config it into the editor.canInternalPasteWhitelist '+o.clipboard.canInternalPasteWhitelist),this.r(p);try{this.n.triggerEditorEvent(v.r.PASTE,a)}catch(e){o.error({e:e,message:"[Paste][onPaste][Warning] call paste event failed.",level:r.W.ERROR})}if(!a.isDefaultPrevented()){if(n={text:l.getData(n,"text/plain"),types:l.getTypes(n),files:e.isBlob(n)?n.files:void 0,fromBusinessKey:this.t},c&&h){var f=c.deltas;return this.s(t,new s.D(f),(0,i.b)((0,i.b)({},n),{isInternalPaste:!0}))}c=(h=this.a(t)).node,f=h.defaultPrevented,h=h.clipboardHasElement,f||(h=this.deserialize((0,i.b)({node:c},n),h),o.log("[Paste][onPaste] paste node is:",c),this.s(t,h,(0,i.b)((0,i.b)({},n),{isInternalPaste:!1})))}}},t.r=function(e){e===this.n.editorUniqueId?this.pasteTimes++:(this.n.clipboard.from=null,this.pasteTimes=0)},t.getPasteInfo=function(){return{pasteFrom:this.n.clipboard.from,pasteTimes:this.pasteTimes}},t.a=function(e){var t=e.clipboardData,n=t.types,i=t.files,r=this.n.clipboard.dataHelper,o=r.getData(e.clipboardData,"text/html"),a=r.getData(e.clipboardData,"text/plain"),t=o,r=(new DOMParser).parseFromString(t,"text/html").body,o=!!r.firstElementChild;return A(r),i={UNSAFE_HTML:t,node:r,text:a,files:i},e=this.i("UNSAFE_editorNormalizePasteNode",{types:n,data:i,event:e},{canPrevent:!0}),{node:i.node,defaultPrevented:e.defaultPrevented,clipboardHasElement:o}},t.s=function(e,t,n){e.stopImmediatePropagation(),e.preventDefault();var a=this.n,s=a.selection.getSelection(),l=s.start,u=l.zoneId,d=l.line,l=null===(m=a.getContentState().getZoneState(u))||void 0===m?void 0:m.getLine(d);if(l){var p,h,g,m=Object.keys(t.deltas);m[0]!==o.S&&1===m.length&&(g=t.get(m[0]),t=t.replace(m[0],g.create((0,i.b)((0,i.b)({},g),{zoneId:o.S})))),t.get(o.S)||((h=null,Object.keys((p=t).deltas).forEach(function(e){var t,e=p.get(e);e instanceof c.I&&!h&&(t=!1,e.forEach(function(e){(null===(e=e.attributes)||void 0===e?void 0:e.zoneId)&&!h&&(t=!0)}),t&&(h=e.zoneId))}),g=h)?(_=t.get(g),t=t.replace(g,_.create((0,i.b)((0,i.b)({},_),{zoneId:o.S})))):console.warn("can not find container zone when paste, debug info:",Object.keys(t.deltas).join("|")));var _=t.get(o.S);u!==o.S&&_&&t.replace(o.S,new c.I({zoneId:u,ops:_.ops}));var y=t.get(u);if(k(y,"\n")&&(_=y.reduce(function(e,t,n){return n===y.ops.length-1&&t.insert?e.insert(t.insert.slice(0,-1),t.attributes):e.push(t)},new c.I({zoneId:u})),t.replace(u,_)),e={deltaSet:t,zoneId:u,lineState:l,event:e,isInternalPaste:n.isInternalPaste},!this.i("editorWillPaste",e,{canPrevent:!0,pickKey:"deltaSet"}).defaultPrevented){e=(0,f.N)(s,l,e.deltaSet),a.log("[Paste][applyPaste] paste apply delta:",e),a.getContentState().apply(e,{type:"applyPaste"});try{a.call(v.r.DID_PASTE,{deltaSet:e,UNSAFE_text:n.text,isInternalPaste:n.isInternalPaste})}catch(e){a.error({e:e,level:r.W.ERROR,message:"[Paste][applyPaste] "+e.message})}}}else a.error({message:"[Paste][applyPaste][Warning] can't get lineState! zone: "+u+" line: "+d,level:r.W.ERROR})},t.deserialize=function(e,t){var n,i,r,o,a=e.node,l=e.html,u=e.text;return"files"in e&&e.files?this.o(e.files,e.types):a&&(a.hasChildNodes()||t)?this.n.getFg("useOptimizeDeserializer")?this.l(a):this.c(a):null!=(l=(l=l&&(n=l,o="<\\/([^>]+)>",i=RegExp((r="<([^>\\/]+)>")+"\\n+"+r,"g"),r=RegExp(o+"\\n+"+r,"g"),o=RegExp(o+"\\n+"+o,"g"),n.replace(i,"<$1><$2>").replace(r,"</$1><$2>").replace(o,"</$1></$2>")))?(new DOMParser).parseFromString(l,"text/html"):null)&&l.body&&l.body.hasChildNodes()?(A(l.body),this.n.getFg("useOptimizeDeserializer")?this.l(l.body):this.c(l.body)):u?this._(u):(new s.D).concat(new c.I)},t.c=function(e){var t=this;if(!e.childNodes.length){var n=(new s.D).concat(new c.I);return this.i("deserialize",{node:e,zoneId:o.S,deltaSet:n,types:["text/html"],fromBusinessKey:this.t},{pickKey:"deltaSet"}).deltaSet}return n=Array.from(e.childNodes).reduce(function(e,n){return t.c(n).compose(e,!0,!1)},new s.D),this.i("deserialize",{node:e,zoneId:o.S,deltaSet:n,types:["text/html"],fromBusinessKey:this.t},{pickKey:"deltaSet"}).deltaSet},t.l=function(e){var t,n=this,i=e.childNodes;return 0===i.length?t=(new s.D).concat(new c.I):1===i.length?t=this.l(e.childNodes[0]):1<i.length&&(t=Array.from(e.childNodes).reduce(function(e,t){var i=n.l(t);return i.forEach(function(t){try{var o=t.zoneId,a=e.get(o);a?0<t.ops.length&&t.ops.forEach(function(e){(0,s.i)(e)||(0,s.b)(e)?console.warn('Editor-kit: "delete"retain" op is not allow during the pasting phase, will be skip'):a.ops.push(e)}):e.add(t.create(t))}catch(t){n.n.error({err:t,message:"[Paste][traverseV2][Warning] deserialize traverseV2 failed.",level:r.W.ERROR}),i.compose(e,!0,!1)}}),e},new s.D)),this.i("deserialize",{node:e,zoneId:o.S,deltaSet:t,types:["text/html"],fromBusinessKey:this.t,useOptimizeDeserializer:!0},{pickKey:"deltaSet"}).deltaSet},t._=function(e){var t=(new s.D).compose(new c.I);return this.i("deserialize",{text:e,zoneId:o.S,deltaSet:t,types:["text/plain"],fromBusinessKey:this.t},{pickKey:"deltaSet"}).deltaSet},t.o=function(e,t){var n=(new s.D).compose(new c.I);return this.i("deserialize",{files:e,zoneId:o.S,deltaSet:n,types:t,fromBusinessKey:this.t},{pickKey:"deltaSet"}).deltaSet},e}(),w=function(){function e(e){this.n=e}var t=e.prototype;return t.onCopy=function(e,t){var n=this.n;return n.copyable?this.u(e,t):(n.call(d.HY),e.preventDefault(),void e.stopImmediatePropagation())},t.onCut=function(e,t){var n=this.n;return n.copyable?n.isEditable()?this.u(e,t,!0):void 0:(n.call(d.HY),e.preventDefault(),void e.stopImmediatePropagation())},t.slice=function(e){var t=this.n,n=e.start,i=e.end,e=t.getContentState().getZoneState(n.zoneId),t=new s.D;return e&&e&&n.zoneId===i.zoneId&&(i=new c.I({zoneId:n.zoneId,ops:I(e,n,i)}),t.add(n.zoneId,i)),t},t.p=function(e){if(e.isCollapsed())return e;var t=e.start,n=t.zoneId,i=t.line,t=t.offset,n=this.n.getContentState().getZoneState(n),i=null===(i=null==n?void 0:n.getLine(i))||void 0===i?void 0:i.getLineMarker();return i&&t===i&&(e.start.offset-=i),e},t.u=function(e,t,n){void 0===n&&(n=!1);var r,o,a=this.n;t=t||this.p(a.selection.getSelection());var c,l,u,h,f,m=[];this.n.pluginManager.call("shouldPreventCopy",{e:e,html:""},function(e,t){return m.push(t),e}),m.includes(!0)||(p.Xh.isAndroid&&a.isEditable()&&a.selection.updateBrowserSelection(),f=new g.y(e,e.target),a.triggerEditorEvent(e.type,f),f.isDefaultPrevented()||(e.preventDefault(),e.stopImmediatePropagation(),c={deltaSet:h=this.slice(t),range:t,customCopyDatas:[]},this.d(c),l={zoneId:(t=c.range).start.zoneId,deltaSet:h=c.deltaSet,node:null,customCopyDatas:c.customCopyDatas},a.clipboard.from=n?v.r.CUT:v.r.COPY,a.clipboard.resetPasteTimes(),this.serialize(l),u=Array.from(l.node.childNodes).reduce(function(e,t){return e+function e(t){if(t instanceof Text)return t.textContent;if(!(t instanceof Element))return"";var n="";return t.childNodes.forEach(function(t){n+=e(t)}),t.getAttribute(d.mX)&&(n+="\n"),n}(t)},"").slice(0,-1),p.Xh.windows&&(u=u.replace(/\n/g,"\r\n")),f=(0,i.b)((0,i.b)({},l),{text:u}),this.v(f),c=f.node,l=f.customCopyDatas,u=f.text,h=f.deltaSet,f=e.clipboardData||window.clipboardData,e=a.clipboard.dataHelper,c&&0<c.childElementCount&&e.setData(f,{text:u,html:(r=c,(o=document.createElement("div")).appendChild(r),o.innerHTML).replace(/<(?:img|iframe)[^>]*(data-no-request-)src=[^>]*>/g,function(e,t){return e.replace(t,"")})}),0!==l.length&&e.setCustomData(f,l),(0,s.p)(h)||(e.setCustomData(f,[{key:d.iC,data:JSON.stringify({deltas:h.deltas,editorUniqueId:this.n.editorUniqueId})}]),e.setCustomData(f,[{key:d.K6,data:a.businessKey}])),!0===n&&(a.triggerEditorEvent(v.r.WILL_DELETE_FROM_CUT).shouldPrevent||(t=(n=t||a.selection.getSelection()).start,n=n.end,a.getContentState().deleteText({start:t,end:n},{type:"handleCut"})))))},t.serialize=function(e){var t=this,n=e.deltaSet,r=e.zoneId,o=n.get(r);if(!o)return console.warn("[copy]: zoneDelta  miss, zoneId: "+r),e;var a=document.createDocumentFragment();return o.eachLine(function(n,i,c){var p=document.createDocumentFragment(),h=t.n.modulesContainer.get(_.h.ZoneState),f=t.n.getContentState(),f=f.getZoneState(r)||new h(r,n,f.schema),f={lineState:new y.V(n,f),index:c,callHookFrom:"serialize"};t.n.callAll("_editorLineStateWillRender",f),f.lineState.getOps().forEach(function(i){var r;(0,s.d)(i)&&!(0,l.eV)(i)&&(r=i.insert.replace(/\n/g,"")||"",r=document.createTextNode(r),i=t.h(Object.assign(e,{type:u.T.LEAF,node:r,op:i,lineDelta:n})),p.appendChild(i.node))}),(f=document.createElement("div")).style.whiteSpace="pre-wrap",i=t.h(Object.assign(e,{type:u.T.LINE,node:p,lineNode:f,lineAttributes:i,lineDelta:n})),f.appendChild(i.node),f.dataset.zoneId=o.zoneId,f.dataset.lineIndex=String(c),f.setAttribute(d.mX,"true"),a.appendChild(f)}),n=this.h(function(e,t){var n,r,o=e.type,a=e.node,s=e.lineAttributes,c=t.tagAttribute,l=t.wrapNodesInfo,s=s&&s[c],c=t.wrapTag||d.c5[c]||s;if(o===u.T.LINE&&s&&(a instanceof Element||((s=document.createElement("div")).appendChild(a),a=s),c&&!l&&(l=[{tag:c}]),a.setAttribute(d.fF,JSON.stringify((0,i.e)(l,x(a))))),o===u.T.ROOT){var p=[],o=Array.from(a.querySelectorAll("["+d.mX+"]"));try{for(var h=(0,i.c)(o),f=h.next();!f.done;f=h.next())!function(e){var t=e.querySelectorAll("["+d.fF+"]")[0];if(!t)return p=[];var n=x(t);if(n.length){t.removeAttribute(d.fF);var r=[],o=document.createElement(n[0].tag);n.reduce(function(e,a,s){var c,l,u,d=a.tag,h=a.style,f=a.attributes,a=a.split,v=document.createElement(d);if(h)try{for(var g=(c=void 0,(0,i.c)(Object.entries(h))),m=g.next();!m.done;m=g.next()){var _=(0,i._)(m.value,2),y=_[0],b=_[1];v.style[y]=b}}catch(e){c={error:e}}finally{try{m&&!m.done&&(l=g.return)&&l.call(g)}finally{if(c)throw c.error}}if(f)try{for(var w=(k=void 0,(0,i.c)(Object.entries(f))),E=w.next();!E.done;E=w.next()){var S=(0,i._)(E.value,2),y=S[0],b=S[1];v.setAttribute(y,b)}}catch(e){k={error:e}}finally{try{E&&!E.done&&(u=w.return)&&u.call(w)}finally{if(k)throw k.error}}var k=p[s];return!a&&k&&k.tagName.toLowerCase()===d.toLowerCase()?!(v=k).getAttribute("start")&&null!=f&&f.start&&v.setAttribute("start",f.start):p=[],r.push(v),0===s?o=v:e.appendChild(v),s===n.length-1&&v.appendChild(t),v},o),p=r,e.parentNode.insertBefore(o,e),e.hasChildNodes()||e.parentNode.removeChild(e)}}(f.value)}catch(e){n={error:e}}finally{try{f&&!f.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}}return Object.assign(e,{node:a})}(Object.assign(e,{type:u.T.ROOT,node:a}),{tagAttribute:""})),Object.assign(e,{node:n.node})},t.h=function(e){return this.n.pluginManager.call("serialize",e,function(t){return e=t}),e},t.d=function(e){return this.n.pluginManager.call("editorWillCopy",e)},t.v=function(e){return this.n.pluginManager.call("editorWillSetClipboard",e)},(0,i.a)([a.W],e.prototype,"onCopy",null),(0,i.a)([a.W],e.prototype,"onCut",null),(0,i.a)([a.W],e.prototype,"slice",null),e}(),E=(0,r.K)(function(e){this.editor.error(e)})(r.W.ERROR),S=function(){function e(e,t){this.from=null,this.canInternalPasteWhitelist=[],this.n=e,this.dataHelper=new h.Z(t),this.f=new b(e),this.m=new w(e)}var t=e.prototype;return t.deserialize=function(e,t){return this.f.deserialize(e,t)},t.serialize=function(e){return this.m.serialize(e)},t.onCopy=function(e){return this.m.onCopy(e)},t.onPaste=function(e){this.f.onPaste(e)},t.slice=function(e){return this.m.slice(e)},t.onCut=function(e){return this.m.onCut(e)},t.resetPasteTimes=function(){this.f.pasteTimes=0},t.getPasteInfo=function(){return this.f.getPasteInfo()},t.setCanInternalPasteWhitelist=function(e){this.canInternalPasteWhitelist=e},t.setDataToClipboard=function(e){var t=e.data,n=e.type;t&&t.html&&(e=(0,i.b)((0,i.b)({},t),{type:n}),this.n.callAll("beforeSetDataToClipboard",e),this.from=n,this.resetPasteTimes(),this.dataHelper.setDataWithoutEvent(Object.assign({},t,{html:this.S(e.html)})))},t.copyRange=function(e){this.y(e,"copy")},t.cutRange=function(e){this.y(e,"cut")},t.y=function(e,t){function n(n){if(i.n){switch(n.stopPropagation(),n.stopImmediatePropagation(),t){case"copy":i.m.onCopy(n,e);break;case"cut":i.m.onCut(n,e)}n.preventDefault()}}var i=this,r=this.n,o=document.createElement("textarea"),r=p.Xh.isIPad?r.getOuterContainer():document.body;r.appendChild(o),o.addEventListener(t,n),o.style.position="fixed",o.style.left="-10000000px",o.value=" ",o.focus(),o.select(),document.execCommand(t),o.removeEventListener(t,n),r.removeChild(o)},t.S=function(e){return e?((e=$((new DOMParser).parseFromString(e,"text/html").body)).children().first().attr("data-editor-unique-id",this.n.editorUniqueId),e.html()):e},(0,i.a)([E],e.prototype,"deserialize",null),(0,i.a)([E],e.prototype,"serialize",null),(0,i.a)([E],e.prototype,"onCopy",null),(0,i.a)([E],e.prototype,"onPaste",null),(0,i.a)([E],e.prototype,"onCut",null),(0,i.a)([E],e.prototype,"setDataToClipboard",null),(0,i.a)([E],e.prototype,"copyRange",null),(0,i.a)([E],e.prototype,"cutRange",null),e}();function k(e,t){for(var n="",i=e.ops.length-1;0<=i&&n.length<t.length;--i){var r=e.ops[i];if("string"!=typeof r.insert)break;n=r.insert+n}return n.slice(-1*t.length)===t}function x(e){var t=[];try{t=JSON.parse(e.getAttribute(d.fF)||"[]")}catch(e){t=[]}return t}function A(e){try{Array.from(e.querySelectorAll("style")).forEach(function(t){var n,i;t.textContent&&/\}?(\S+)\s*{[\s\S]*?white-space\s*:\s*pre[\s\S]*?}/.test(t.textContent)&&(!(n=/\}?(\S+)\s*{[\s\S]*?white-space\s*:\s*pre[\s\S]*?}/.exec(t.textContent.replace(/<!--[\s\S]*?-->/,"")))||(t=/white-space\s*:\s*pre.*?(?=;| |})/.exec(n[0]))&&(i=t[0].split(":")[1],Array.from(e.querySelectorAll(n[1])).forEach(function(e){e instanceof HTMLElement&&(e.style.whiteSpace=i.trim())})))})}catch(e){console.error(e)}var t=["."+d.Z6,".ignore-dom","style","script"];Array.from(e.querySelectorAll(t.join(","))).forEach(function(e){e.innerHTML=""}),Array.from(e.childNodes).forEach(function(e){var t;e.nodeType!==Node.TEXT_NODE&&e.nodeType!==Node.ELEMENT_NODE&&null!==(t=e.parentNode)&&void 0!==t&&t.removeChild(e)})}var C=function(e,t,n){var r=[],o=0;return e.getOps().forEach(function(e){var a,c,l;null!=e&&e.insert&&"string"==typeof e.insert&&(a=(0,s.a)(e),o<=n&&t<=o+a&&(c=Math.max(0,t-o))<(l=Math.min(a,n-o))&&r.push({insert:e.insert.slice(c,l),attributes:(0,i.b)({},e.attributes)}),o+=a)}),r},I=function(e,t,n){for(var r=[],o=Math.max(0,t.line),a=Math.min(n.line,e.length()-1),s=o;s<=a;s++){var c=e.getLine(s);t.line===a?r.push.apply(r,(0,i.e)(C(c,t.offset,n.offset))):s===o?r.push.apply(r,(0,i.e)(C(c,t.offset,c.length()))):s===a?r.push.apply(r,(0,i.e)(C(c,0,n.offset))):r.push.apply(r,(0,i.e)(C(c,0,c.length())))}return r}},483677:function(e,t,n){"use strict";n.d(t,{y:function(){return r}});var i=n(190595),r=function(e){function t(t){var n=e.call(this)||this;return n.props=t,n}return(0,i.c)(t,e),t.prototype.render=function(){return null},t}(function(){function e(){}var t=e.prototype;return t.componentDidMount=function(){},t.componentDidUpdate=function(e){},t.componentWillUnmount=function(){},t.shouldComponentForceUpdate=function(e,t){return!1},t.componentWillReceiveProps=function(e){},e}());r.prototype.isXComponent=!0},465186:function(e,t,n){"use strict";n.d(t,{w:()=>d});let i=n("563489"),r=n("397014"),o=n("895753"),a=n("680842"),s=n("882614"),c=n("254341"),l=n("789771");var u,d=((u={})[i.HY]=function(){},u[i.ZC]=r.n,u[i.xv]=o.R,u[i.BG]=a.g,u[i.Ul]=s.jU,u[i.Ol]=s.kT,u[i.Li]=s.Zb,u[i.A]=c.J,u[i.Br]=function(e){var t=document.createElement("br");return(0,l.T)(t,e),t},u)},595607:function(e,t,n){"use strict";var i,r;function o(e){return function(t){return function(n,i,r){var o=r.value;r.value=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];try{return o.apply(this,n)}catch(n){e?e.call(this,{e:n,level:t,message:n.message}):console.error(n)}}}}}n.d(t,{K:function(){return o},W:function(){return i}}),(r=i||(i={}))[r.FATAL=0]="FATAL",r[r.ERROR=1]="ERROR"},783137:function(e,t,n){"use strict";function i(e,t){return e.reduce(function(e,n){var i=t(n);return e[i]||(e[i]=[]),e[i].push(n),e},{})}n.d(t,{v:function(){return i}})},550271:function(e,t,n){"use strict";n.d(t,{d:function(){return r}});var i=RegExp("[\\u200d\ud800-\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\u1ab0-\\u1aff\\u1dc0-\\u1dff\\ufe0e\\ufe0f]");function r(e){return i.test(e)}},522127:function(e,t,n){"use strict";n.d(t,{v:function(){return o}});var i=n(985406),r=Symbol.isConcatSpreadable;function o(e){return Array.isArray(e)||(0,i.O)(e)||!!(e&&e[r])}},922821:function(e,t,n){"use strict";var i,r;n.d(t,{o:function(){return i}}),(r=i||(i={}))[r.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",r[r.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",r[r.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",r[r.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",r[r.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",r[r.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",r[r.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",r[r.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",r[r.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",r[r.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",r[r.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",r[r.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",r[r.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",r[r.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",r[r.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",r[r.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",r[r.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",r[r.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",r[r.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",r[r.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",r[r.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",r[r.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",r[r.INVALID_TAG=23]="INVALID_TAG",r[r.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",r[r.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",r[r.UNCLOSED_TAG=27]="UNCLOSED_TAG"},146679:function(e,t,n){"use strict";n.d(t,{T:function(){return r}});var i=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function r(e){var t={};return e.replace(i,function(e){var n=e.length;switch(e[0]){case"G":t.era=4===n?"long":5===n?"narrow":"short";break;case"y":t.year=2===n?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":t.month=["numeric","2-digit","short","long","narrow"][n-1];break;case"w":case"W":throw RangeError("`w/W` (week) patterns are not supported");case"d":t.day=["numeric","2-digit"][n-1];break;case"D":case"F":case"g":throw RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":t.weekday=4===n?"short":5===n?"narrow":"short";break;case"e":if(n<4)throw RangeError("`e..eee` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"c":if(n<4)throw RangeError("`c..ccc` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"a":t.hour12=!0;break;case"b":case"B":throw RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":t.hourCycle="h12",t.hour=["numeric","2-digit"][n-1];break;case"H":t.hourCycle="h23",t.hour=["numeric","2-digit"][n-1];break;case"K":t.hourCycle="h11",t.hour=["numeric","2-digit"][n-1];break;case"k":t.hourCycle="h24",t.hour=["numeric","2-digit"][n-1];break;case"j":case"J":case"C":throw RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":t.minute=["numeric","2-digit"][n-1];break;case"s":t.second=["numeric","2-digit"][n-1];break;case"S":case"A":throw RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":t.timeZoneName=n<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""}),t}},62290:function(e,t,n){"use strict";n.d(t,{r:function(){return i}});var i=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i},434716:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var i=function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=/^\s*\[\[__starling_(\d+)_(.*)__\]\]\s*$/;"undefined"!=typeof window&&(window.__STARLING_INCONTEXT_GLOBAL__HOOK__=i({},window.__STARLING_INCONTEXT_GLOBAL__HOOK__||{payload:{}}));var o={name:"inContext",type:"postProcessor",process:function(e,t,n,i){if(!(window&&document.getElementById("INCONTEXT-KEY-MATCH"))||n.__STARLING_INCONTEXT_FLAG__)return e;window.__STARLING_INCONTEXT_GLOBAL_I18N__||(window.__STARLING_INCONTEXT_GLOBAL_I18N__=i),delete n.keySeparator,delete n.lngs;var o=0;if(t=t.toString(),r.test(t)){var a=t.match(r);a[0];var s=a[1],c=a[2];o=s,t=c}if(r.test(e)){var a=e.match(r);a[0];var s=a[1],c=a[2];e=c}if(window.__STARLING_INCONTEXT_GLOBAL__HOOK__.payload[t]){var l=window.__STARLING_INCONTEXT_GLOBAL__HOOK__.payload[t].findIndex(function(e){return JSON.stringify(e.options)===JSON.stringify(n)});l>-1?(window.__STARLING_INCONTEXT_GLOBAL__HOOK__.payload[t][l].default=e,o=l):o=window.__STARLING_INCONTEXT_GLOBAL__HOOK__.payload[t].push({options:n,default:e})-1}else window.__STARLING_INCONTEXT_GLOBAL__HOOK__.payload[t]=[{options:n,default:e}],o=0;return"[[__starling_"+o+"_"+t+"__]]"}}},663482:function(e,t,n){"use strict";n.d(t,{T:function(){return function e(t){for(var n=arguments.length,a=Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];if(!a.length)return t;var c=a.shift();if(o(t)&&o(c))for(var l in c)o(c[l])?(t[l]||Object.assign(t,(0,i._)({},l,{})),e(t[l],c[l])):Object.assign(t,(0,i._)({},l,c[l]));return e.apply(void 0,[t].concat((0,r._)(a)))}}});var i=n(610511),r=n(5553);function o(e){return e&&"object"==typeof e&&!Array.isArray(e)}},920522:function(e,t,n){"use strict";n.d(t,{P3:function(){return i.ZP},Qb:function(){return r.Z}});var i=n(950243),r=n(472238)},331245:function(){},670064:function(){},384918:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});let i={settings:"settings-PzR126",form:"form-Wg545Y",action:"action-jcSisl"}},167424:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});let i={buttons:"buttons-yaE8y_",buttonTitle:"buttonTitle-k0vBda"}},326978:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});let i={"tiktok-who-can-view":"tiktok-who-can-view-ORXEHN",tiktokWhoCanView:"tiktok-who-can-view-ORXEHN","tiktok-who-can-view-select":"tiktok-who-can-view-select-T0_OmQ",tiktokWhoCanViewSelect:"tiktok-who-can-view-select-T0_OmQ","tiktok-who-can-view-select-option":"tiktok-who-can-view-select-option-ecB7_6",tiktokWhoCanViewSelectOption:"tiktok-who-can-view-select-option-ecB7_6","tiktok-who-can-view-select-option-title":"tiktok-who-can-view-select-option-title-ci9NsB",tiktokWhoCanViewSelectOptionTitle:"tiktok-who-can-view-select-option-title-ci9NsB","tiktok-who-can-view-select-option-content":"tiktok-who-can-view-select-option-content-sWMjsm",tiktokWhoCanViewSelectOptionContent:"tiktok-who-can-view-select-option-content-sWMjsm","tiktok-allow-users-to":"tiktok-allow-users-to-C5oU6E",tiktokAllowUsersTo:"tiktok-allow-users-to-C5oU6E","tiktok-allow-users-to-item":"tiktok-allow-users-to-item-jA5We7",tiktokAllowUsersToItem:"tiktok-allow-users-to-item-jA5We7","lv-checkbox-text":"lv-checkbox-text-oJxgGT",lvCheckboxText:"lv-checkbox-text-oJxgGT","ins-share-to-feed":"ins-share-to-feed-lsMQ68",insShareToFeed:"ins-share-to-feed-lsMQ68","tiktok-disclose-video-content":"tiktok-disclose-video-content-de99V2",tiktokDiscloseVideoContent:"tiktok-disclose-video-content-de99V2","ins-audio-rename-label":"ins-audio-rename-label-oobF4y",insAudioRenameLabel:"ins-audio-rename-label-oobF4y","ins-share-to-feed-label":"ins-share-to-feed-label-sttfjA",insShareToFeedLabel:"ins-share-to-feed-label-sttfjA","tiktok-disclose-video-content-label":"tiktok-disclose-video-content-label-ZHBsJU",tiktokDiscloseVideoContentLabel:"tiktok-disclose-video-content-label-ZHBsJU","ins-share-to-feed-switch":"ins-share-to-feed-switch-gWHS8N",insShareToFeedSwitch:"ins-share-to-feed-switch-gWHS8N","tiktok-disclose-video-content-switch":"tiktok-disclose-video-content-switch-EMdwCZ",tiktokDiscloseVideoContentSwitch:"tiktok-disclose-video-content-switch-EMdwCZ","ins-audio-rename":"ins-audio-rename-S8_cGz",insAudioRename:"ins-audio-rename-S8_cGz","disclose-video-content-alert":"disclose-video-content-alert-bhTvlg",discloseVideoContentAlert:"disclose-video-content-alert-bhTvlg","disclose-video-content-alert-icon":"disclose-video-content-alert-icon-QfZMlq",discloseVideoContentAlertIcon:"disclose-video-content-alert-icon-QfZMlq","disclose-video-content-alert-text":"disclose-video-content-alert-text-idyI5B",discloseVideoContentAlertText:"disclose-video-content-alert-text-idyI5B","disclose-video-content-tip":"disclose-video-content-tip-smm0aN",discloseVideoContentTip:"disclose-video-content-tip-smm0aN","disclose-video-content-setting":"disclose-video-content-setting-Tsm7Jl",discloseVideoContentSetting:"disclose-video-content-setting-Tsm7Jl","disclose-video-content-setting-label":"disclose-video-content-setting-label-Bfm9aU",discloseVideoContentSettingLabel:"disclose-video-content-setting-label-Bfm9aU","disclose-video-content-setting-left":"disclose-video-content-setting-left-oRVCvc",discloseVideoContentSettingLeft:"disclose-video-content-setting-left-oRVCvc","disclose-video-content-setting-desc":"disclose-video-content-setting-desc-TzUdKB",discloseVideoContentSettingDesc:"disclose-video-content-setting-desc-TzUdKB","disclose-video-content-policy":"disclose-video-content-policy-ksDciX",discloseVideoContentPolicy:"disclose-video-content-policy-ksDciX","disclose-video-content-policy-link":"disclose-video-content-policy-link-eeFxZ4",discloseVideoContentPolicyLink:"disclose-video-content-policy-link-eeFxZ4",tiktokResult:"tiktokResult-ldVKrI",resultContainer:"resultContainer-r6YCM1",tiktokResultButton:"tiktokResultButton-AveCHl",shareButton:"shareButton-gu6jkz"}},575914:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});let i={uploadLayer:"uploadLayer-vQIJgZ",uploadLayerContainer:"uploadLayerContainer-UIpim3",title:"title-gfVk3w",description:"description-dA_ntr",uploadButton:"uploadButton-Tc20UD",arrow:"arrow-jiWn1J"}},619962:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});let i={"icon-btn":"icon-btn-CH6nrN",iconBtn:"icon-btn-CH6nrN","icon-btn__disabled":"icon-btn__disabled-Oc2WmH",iconBtnDisabled:"icon-btn__disabled-Oc2WmH","icon-btn-menu":"icon-btn-menu-e41PzQ",iconBtnMenu:"icon-btn-menu-e41PzQ","icon-btn-menu-item":"icon-btn-menu-item-I5NT8T",iconBtnMenuItem:"icon-btn-menu-item-I5NT8T","dislike-btn-menu":"dislike-btn-menu-z4iuNG",dislikeBtnMenu:"dislike-btn-menu-z4iuNG","dislike-menu-inner-wrapper":"dislike-menu-inner-wrapper-s8jiqC",dislikeMenuInnerWrapper:"dislike-menu-inner-wrapper-s8jiqC","menu-divider":"menu-divider-zLT_Nl",menuDivider:"menu-divider-zLT_Nl"}},780562:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});let i={"material-export-modal-container":"material-export-modal-container-b_OC8c",materialExportModalContainer:"material-export-modal-container-b_OC8c","material-export-modal-title":"material-export-modal-title-ENR_rB",materialExportModalTitle:"material-export-modal-title-ENR_rB","close-icon":"close-icon-VWPD7R",closeIcon:"close-icon-VWPD7R","material-export-modal-content":"material-export-modal-content-axFcTl",materialExportModalContent:"material-export-modal-content-axFcTl","material-export-modal-content-cover":"material-export-modal-content-cover-P9YNnb",materialExportModalContentCover:"material-export-modal-content-cover-P9YNnb","material-export-modal-content-cover-wrapper":"material-export-modal-content-cover-wrapper-e3uWth",materialExportModalContentCoverWrapper:"material-export-modal-content-cover-wrapper-e3uWth","cover-wrapper":"cover-wrapper-YzUCaU",coverWrapper:"cover-wrapper-YzUCaU",duration:"duration-lPVW4Y","material-export-modal-content-form":"material-export-modal-content-form-Cc3r8J",materialExportModalContentForm:"material-export-modal-content-form-Cc3r8J","lv-input":"lv-input-NIaF9_",lvInput:"lv-input-NIaF9_","material-export-modal-footer":"material-export-modal-footer-PjR6rd",materialExportModalFooter:"material-export-modal-footer-PjR6rd","material-export-modal-footer-tips":"material-export-modal-footer-tips-BsywX_",materialExportModalFooterTips:"material-export-modal-footer-tips-BsywX_","material-export-modal-footer-btns":"material-export-modal-footer-btns-MHK1xT",materialExportModalFooterBtns:"material-export-modal-footer-btns-MHK1xT"}},874991:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});let i={stApp:"stApp-lZYRvJ"}},865211:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});let i={"placeholder-container":"placeholder-container-VFakjH",placeholderContainer:"placeholder-container-VFakjH"}},119342:function(){},752054:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},917400:function(e,t,n){var i;i=function(e){return e.pad.ZeroPadding={pad:function(e,t){var n=4*t;e.clamp(),e.sigBytes+=n-(e.sigBytes%n||n)},unpad:function(e){for(var t=e.words,n=e.sigBytes-1,n=e.sigBytes-1;n>=0;n--)if(t[n>>>2]>>>24-n%4*8&255){e.sigBytes=n+1;break}}},e.pad.ZeroPadding},e.exports=i(n(359302),n(967272))},74056:function(e,t,n){var i;i=function(e){return(/** @preserve
	(c) 2012 by Cdric Mesnil. All rights reserved.

	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	*/function(t){var n=e.lib,i=n.WordArray,r=n.Hasher,o=e.algo,a=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),s=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),c=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),l=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),u=i.create([0,1518500249,1859775393,2400959708,2840853838]),d=i.create([1352829926,1548603684,1836072691,2053994217,0]),p=o.RIPEMD160=r.extend({_doReset:function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n,i,r,o,p,f,v,g,m,_,y,b,w,E,S,k,x,A,C,I=0;I<16;I++){var O=t+I,D=e[O];e[O]=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360}var R=this._hash.words,N=u.words,M=d.words,L=a.words,P=s.words,j=c.words,z=l.words;E=m=R[0],S=_=R[1],k=y=R[2],x=b=R[3],A=w=R[4];for(var I=0;I<80;I+=1)C=m+e[t+L[I]]|0,I<16?C+=(_^y^b)+N[0]:I<32?C+=((n=_)&y|~n&b)+N[1]:I<48?C+=((_|~y)^b)+N[2]:I<64?C+=(i=_,r=y,(i&(o=b)|r&~o)+N[3]):C+=(_^(y|~b))+N[4],C|=0,C=(C=h(C,j[I]))+w|0,m=w,w=b,b=h(y,10),y=_,_=C,C=E+e[t+P[I]]|0,I<16?C+=(S^(k|~x))+M[0]:I<32?C+=(p=S,f=k,(p&(v=x)|f&~v)+M[1]):I<48?C+=((S|~k)^x)+M[2]:I<64?C+=((g=S)&k|~g&x)+M[3]:C+=(S^k^x)+M[4],C|=0,C=(C=h(C,z[I]))+A|0,E=A,A=x,x=h(k,10),k=S,S=C;C=R[1]+y+x|0,R[1]=R[2]+b+A|0,R[2]=R[3]+w+E|0,R[3]=R[4]+m+S|0,R[4]=R[0]+_+k|0,R[0]=C},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;t[i>>>5]|=128<<24-i%32,t[(i+64>>>9<<4)+14]=(n<<8|n>>>24)&16711935|(n<<24|n>>>8)&4278255360,e.sigBytes=(t.length+1)*4,this._process();for(var r=this._hash,o=r.words,a=0;a<5;a++){var s=o[a];o[a]=(s<<8|s>>>24)&16711935|(s<<24|s>>>8)&4278255360}return r},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}});function h(e,t){return e<<t|e>>>32-t}e.RIPEMD160=r._createHelper(p),e.HmacRIPEMD160=r._createHmacHelper(p)}(Math),e.RIPEMD160)},e.exports=i(n(359302))},817120:function(e,t,n){var i;i=function(e){var t,n,i,r;return t=e.lib.WordArray,i=(n=e.algo).SHA256,r=n.SHA224=i.extend({_doReset:function(){this._hash=new t.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=i._doFinalize.call(this);return e.sigBytes-=4,e}}),e.SHA224=i._createHelper(r),e.HmacSHA224=i._createHmacHelper(r),e.SHA224},e.exports=i(n(359302),n(167674))},167674:function(e,t,n){var i;i=function(e){var t,n,i,r,o,a,s,c,l;return t=Math,i=(n=e.lib).WordArray,r=n.Hasher,o=e.algo,a=[],s=[],function(){function e(e){return(e-(0|e))*4294967296|0}for(var n=2,i=0;i<64;)(function(e){for(var n=t.sqrt(e),i=2;i<=n;i++)if(!(e%i))return!1;return!0})(n)&&(i<8&&(a[i]=e(t.pow(n,.5))),s[i]=e(t.pow(n,1/3)),i++),n++}(),c=[],l=o.SHA256=r.extend({_doReset:function(){this._hash=new i.init(a.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,i=n[0],r=n[1],o=n[2],a=n[3],l=n[4],u=n[5],d=n[6],p=n[7],h=0;h<64;h++){if(h<16)c[h]=0|e[t+h];else{var f=c[h-15],v=(f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3,g=c[h-2],m=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;c[h]=v+c[h-7]+m+c[h-16]}var _=l&u^~l&d,y=i&r^i&o^r&o,b=(i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22),w=p+((l<<26|l>>>6)^(l<<21|l>>>11)^(l<<7|l>>>25))+_+s[h]+c[h],E=b+y;p=d,d=u,u=l,l=a+w|0,a=o,o=r,r=i,i=w+E|0}n[0]=n[0]+i|0,n[1]=n[1]+r|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+l|0,n[5]=n[5]+u|0,n[6]=n[6]+d|0,n[7]=n[7]+p|0},_doFinalize:function(){var e=this._data,n=e.words,i=8*this._nDataBytes,r=8*e.sigBytes;return n[r>>>5]|=128<<24-r%32,n[(r+64>>>9<<4)+14]=t.floor(i/4294967296),n[(r+64>>>9<<4)+15]=i,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}}),e.SHA256=r._createHelper(l),e.HmacSHA256=r._createHmacHelper(l),e.SHA256},e.exports=i(n(359302))},267824:function(e,t,n){var i;i=function(e){var t,n,i,r,o,a;return n=(t=e.x64).Word,i=t.WordArray,o=(r=e.algo).SHA512,a=r.SHA384=o.extend({_doReset:function(){this._hash=new i.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},_doFinalize:function(){var e=o._doFinalize.call(this);return e.sigBytes-=16,e}}),e.SHA384=o._createHelper(a),e.HmacSHA384=o._createHmacHelper(a),e.SHA384},e.exports=i(n(359302),n(80640),n(638402))},638402:function(e,t,n){var i;i=function(e){return function(){var t=e.lib.Hasher,n=e.x64,i=n.Word,r=n.WordArray,o=e.algo;function a(){return i.create.apply(i,arguments)}var s=[a(1116352408,3609767458),a(1899447441,602891725),a(3049323471,3964484399),a(3921009573,2173295548),a(961987163,4081628472),a(1508970993,3053834265),a(2453635748,2937671579),a(2870763221,3664609560),a(3624381080,2734883394),a(310598401,1164996542),a(607225278,1323610764),a(1426881987,3590304994),a(1925078388,4068182383),a(2162078206,991336113),a(2614888103,633803317),a(3248222580,3479774868),a(3835390401,2666613458),a(4022224774,944711139),a(264347078,2341262773),a(604807628,2007800933),a(770255983,1495990901),a(1249150122,1856431235),a(1555081692,3175218132),a(1996064986,2198950837),a(2554220882,3999719339),a(2821834349,766784016),a(2952996808,2566594879),a(3210313671,3203337956),a(3336571891,1034457026),a(3584528711,2466948901),a(113926993,3758326383),a(338241895,168717936),a(666307205,1188179964),a(773529912,1546045734),a(1294757372,1522805485),a(1396182291,2643833823),a(1695183700,2343527390),a(1986661051,1014477480),a(2177026350,1206759142),a(2456956037,344077627),a(2730485921,1290863460),a(2820302411,3158454273),a(3259730800,3505952657),a(3345764771,106217008),a(3516065817,3606008344),a(3600352804,1432725776),a(4094571909,1467031594),a(275423344,851169720),a(430227734,3100823752),a(506948616,1363258195),a(659060556,3750685593),a(883997877,3785050280),a(958139571,3318307427),a(1322822218,3812723403),a(1537002063,2003034995),a(1747873779,3602036899),a(1955562222,1575990012),a(2024104815,1125592928),a(2227730452,2716904306),a(2361852424,442776044),a(2428436474,593698344),a(2756734187,3733110249),a(3204031479,2999351573),a(3329325298,3815920427),a(3391569614,3928383900),a(3515267271,566280711),a(3940187606,3454069534),a(4118630271,4000239992),a(116418474,1914138554),a(174292421,2731055270),a(289380356,3203993006),a(460393269,320620315),a(685471733,587496836),a(852142971,1086792851),a(1017036298,365543100),a(1126000580,2618297676),a(1288033470,3409855158),a(1501505948,4234509866),a(1607167915,987167468),a(1816402316,1246189591)],c=[];!function(){for(var e=0;e<80;e++)c[e]=a()}();var l=o.SHA512=t.extend({_doReset:function(){this._hash=new r.init([new i.init(1779033703,4089235720),new i.init(3144134277,2227873595),new i.init(1013904242,4271175723),new i.init(2773480762,1595750129),new i.init(1359893119,2917565137),new i.init(2600822924,725511199),new i.init(528734635,4215389547),new i.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var n=this._hash.words,i=n[0],r=n[1],o=n[2],a=n[3],l=n[4],u=n[5],d=n[6],p=n[7],h=i.high,f=i.low,v=r.high,g=r.low,m=o.high,_=o.low,y=a.high,b=a.low,w=l.high,E=l.low,S=u.high,k=u.low,x=d.high,A=d.low,C=p.high,I=p.low,O=h,D=f,R=v,N=g,M=m,L=_,P=y,j=b,z=w,B=E,G=S,U=k,F=x,V=A,H=C,Z=I,W=0;W<80;W++){var q,K,J=c[W];if(W<16)K=J.high=0|e[t+2*W],q=J.low=0|e[t+2*W+1];else{var Y=c[W-15],X=Y.high,Q=Y.low,ee=(X>>>1|Q<<31)^(X>>>8|Q<<24)^X>>>7,et=(Q>>>1|X<<31)^(Q>>>8|X<<24)^(Q>>>7|X<<25),en=c[W-2],ei=en.high,er=en.low,eo=(ei>>>19|er<<13)^(ei<<3|er>>>29)^ei>>>6,ea=(er>>>19|ei<<13)^(er<<3|ei>>>29)^(er>>>6|ei<<26),es=c[W-7],ec=es.high,el=es.low,eu=c[W-16],ed=eu.high,ep=eu.low;K=ee+ec+((q=et+el)>>>0<et>>>0?1:0),q+=ea,K=K+eo+(q>>>0<ea>>>0?1:0),q+=ep,K=K+ed+(q>>>0<ep>>>0?1:0),J.high=K,J.low=q}var eh=z&G^~z&F,ef=B&U^~B&V,ev=O&R^O&M^R&M,eg=D&N^D&L^N&L,em=(O>>>28|D<<4)^(O<<30|D>>>2)^(O<<25|D>>>7),e_=(D>>>28|O<<4)^(D<<30|O>>>2)^(D<<25|O>>>7),ey=(z>>>14|B<<18)^(z>>>18|B<<14)^(z<<23|B>>>9),eb=(B>>>14|z<<18)^(B>>>18|z<<14)^(B<<23|z>>>9),ew=s[W],eE=ew.high,eS=ew.low,ek=Z+eb,ex=H+ey+(ek>>>0<Z>>>0?1:0),ek=ek+ef,ex=ex+eh+(ek>>>0<ef>>>0?1:0),ek=ek+eS,ex=ex+eE+(ek>>>0<eS>>>0?1:0),ek=ek+q,ex=ex+K+(ek>>>0<q>>>0?1:0),eT=e_+eg,eA=em+ev+(eT>>>0<e_>>>0?1:0);H=F,Z=V,F=G,V=U,G=z,U=B,z=P+ex+((B=j+ek|0)>>>0<j>>>0?1:0)|0,P=M,j=L,M=R,L=N,R=O,N=D,O=ex+eA+((D=ek+eT|0)>>>0<ek>>>0?1:0)|0}f=i.low=f+D,i.high=h+O+(f>>>0<D>>>0?1:0),g=r.low=g+N,r.high=v+R+(g>>>0<N>>>0?1:0),_=o.low=_+L,o.high=m+M+(_>>>0<L>>>0?1:0),b=a.low=b+j,a.high=y+P+(b>>>0<j>>>0?1:0),E=l.low=E+B,l.high=w+z+(E>>>0<B>>>0?1:0),k=u.low=k+U,u.high=S+G+(k>>>0<U>>>0?1:0),A=d.low=A+V,d.high=x+F+(A>>>0<V>>>0?1:0),I=p.low=I+Z,p.high=C+H+(I>>>0<Z>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;return t[i>>>5]|=128<<24-i%32,t[(i+128>>>10<<5)+30]=Math.floor(n/4294967296),t[(i+128>>>10<<5)+31]=n,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=t.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});e.SHA512=t._createHelper(l),e.HmacSHA512=t._createHmacHelper(l)}(),e.SHA512},e.exports=i(n(359302),n(80640))},769026:function(e,t,n){"use strict";n.d(t,{Xi:function(){return o},_2:function(){return r},qo:function(){return i}});var i=function(e){for(var t=Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t},r=function(e){return Array.isArray(e)?e:[e]},o=function(e){return Array.isArray(e)?e[0]:e}},445049:function(e,t,n){"use strict";n.d(t,{H:function(){return a}});var i=n(470922),r=n(740492),o=n(286354),a=function(e,t,n){var a=e.map(function(e){return e.node}),s=(0,i.vA)(a.filter(function(e){var t,i=null===(t=(0,o.pY)(e))||void 0===t?void 0:t.autofocus;return e.autofocus||void 0!==i&&"false"!==i||n.indexOf(e)>=0}));return s&&s.length?(0,r.a)(s):(0,r.a)((0,i.vA)(t))}},66657:function(e,t,n){"use strict";n.d(t,{z:function(){return i}});var i=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"]},818398:function(e,t,n){var i=n(770019).stringify,r=n(588967);e.exports=function(e){return{parse:r(e),stringify:i}},e.exports.parse=r(),e.exports.stringify=i},935141:function(e){"use strict";function t(){this._types=Object.create(null),this._extensions=Object.create(null);for(let e=0;e<arguments.length;e++)this.define(arguments[e]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}t.prototype.define=function(e,t){for(let n in e){let i=e[n].map(function(e){return e.toLowerCase()});n=n.toLowerCase();for(let e=0;e<i.length;e++){let r=i[e];if("*"!==r[0]){if(!t&&r in this._types)throw Error('Attempt to change mapping for "'+r+'" extension from "'+this._types[r]+'" to "'+n+'". Pass `force=true` to allow this, otherwise remove "'+r+'" from the list of extensions for "'+n+'".');this._types[r]=n}}if(t||!this._extensions[n]){let e=i[0];this._extensions[n]="*"!==e[0]?e:e.substr(1)}}},t.prototype.getType=function(e){let t=(e=String(e)).replace(/^.*[/\\]/,"").toLowerCase(),n=t.replace(/^.*\./,"").toLowerCase(),i=t.length<e.length;return(n.length<t.length-1||!i)&&this._types[n]||null},t.prototype.getExtension=function(e){return(e=/^\s*([^;\s]*)/.test(e)&&RegExp.$1)&&this._extensions[e.toLowerCase()]||null},e.exports=t},234998:function(e,t,n){"use strict";var i=Array.prototype.slice,r=n(915944),o=Object.keys,a=o?function(e){return o(e)}:n(776132),s=Object.keys;a.shim=function(){return Object.keys?!function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)&&(Object.keys=function(e){return r(e)?s(i.call(e)):s(e)}):Object.keys=a,Object.keys||a},e.exports=a},389738:function(e,t,n){"use strict";n.d(t,{g:function(){return r}});var i=n(218571),r={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},o=function(e){var t=e.children;return i.createElement(i.Fragment,null,i.createElement("div",{key:"guard-first","data-focus-guard":!0,"data-focus-auto-guard":!0,style:r}),t,t&&i.createElement("div",{key:"guard-last","data-focus-guard":!0,"data-focus-auto-guard":!0,style:r}))};o.propTypes={},o.defaultProps={children:null}},234512:function(e,t,n){"use strict";n.d(t,{Q:function(){return i}});var i=function(e){return e.scrollTop}},974517:function(e,t,n){"use strict";function i(e){return"/"===e.charAt(0)}function r(e,t){for(var n=t,i=n+1,r=e.length;i<r;n+=1,i+=1)e[n]=e[i];e.pop()}n.d(t,{Z:function(){return o}});let o=function(e,t){void 0===t&&(t="");var n,o=e&&e.split("/")||[],a=t&&t.split("/")||[],s=e&&i(e),c=t&&i(t),l=s||c;if(e&&i(e)?a=o:o.length&&(a.pop(),a=a.concat(o)),!a.length)return"/";if(a.length){var u=a[a.length-1];n="."===u||".."===u||""===u}else n=!1;for(var d=0,p=a.length;p>=0;p--){var h=a[p];"."===h?r(a,p):".."===h?(r(a,p),d++):d&&(r(a,p),d--)}if(!l)for(;d--;d)a.unshift("..");!l||""===a[0]||a[0]&&i(a[0])||a.unshift("");var f=a.join("/");return n&&"/"!==f.substr(-1)&&(f+="/"),f}},301876:function(e,t,n){"use strict";n.d(t,{Hp:function(){return g},Lv:function(){return p}});var i=n(789786),r=n(882314),o=n(527194),a=n(201834),s=n(620652),c=n(567250),l=n(767392),u=n(637466),d=n(642045),p=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,(0,o.Nn)(t)&&t.add(n)):n.destination=y,n}return(0,i.ZT)(t,e),t.create=function(e,t,n){return new g(e,t,n)},t.prototype.next=function(e){this.isStopped?_((0,l.JM)(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?_((0,l.A)(e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?_(l.TQ,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(o.w0),h=Function.prototype.bind;function f(e,t){return h.call(e,t)}var v=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){m(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){m(e)}else m(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){m(e)}},e}(),g=function(e){function t(t,n,i){var o,s,c=e.call(this)||this;return(0,r.m)(t)||!t?o={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=i?i:void 0}:c&&a.v.useDeprecatedNextContext?((s=Object.create(t)).unsubscribe=function(){return c.unsubscribe()},o={next:t.next&&f(t.next,s),error:t.error&&f(t.error,s),complete:t.complete&&f(t.complete,s)}):o=t,c.destination=new v(o),c}return(0,i.ZT)(t,e),t}(p);function m(e){a.v.useDeprecatedSynchronousErrorHandling?(0,d.O)(e):(0,s.h)(e)}function _(e,t){var n=a.v.onStoppedNotification;n&&u.z.setTimeout(function(){return n(e,t)})}var y={closed:!0,next:c.Z,error:function(e){throw e},complete:c.Z}},227299:function(e,t,n){"use strict";function i(e,t,n,i,r){void 0===i&&(i=0),void 0===r&&(r=!1);var o=t.schedule(function(){n(),r?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(o),!r)return o}n.d(t,{f:function(){return i}})},659418:function(e,t,n){"use strict";var i=n(258138),r=n(680482),o=n(626464),a=n(346009),s=n(549080),c=n(88370),l=n(569379),u=n(654011),d=n(744327),p=n(845208),h=n(583531),f=n(246513),v=p("String.prototype.indexOf"),g=h("%RegExp%"),m="flags"in g.prototype,_=function(e,t){var n,i="flags"in t?r(t,"flags"):c(u(t));return n=m&&"string"==typeof i?new e(t,i):e===g?new e(t.source,i):new e(t,i),{flags:i,matcher:n}},y=d(function(e){if("Object"!==l(this))throw new f('"this" value must be an Object');var t=c(e),n=_(a(this,g),this),u=n.flags,d=n.matcher;return o(d,"lastIndex",s(r(this,"lastIndex")),!0),i(d,t,v(u,"g")>-1,v(u,"u")>-1)},"[Symbol.matchAll]",!0);e.exports=y},865038:function(e,t,n){"use strict";var i=n(83913),r=n(831015);e.exports=function(){var e=r();return i(String.prototype,{trim:e},{trim:function(){return String.prototype.trim!==e}}),e}},921304:function(e,t,n){"use strict";n.d(t,{q:()=>c});let i=n("218571");function r(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}let o=n("778704");var a="undefined"!=typeof window?i.useLayoutEffect:i.useEffect,s=new WeakMap;function c(e,t){var n=(0,o.W)(t||null,function(t){return e.forEach(function(e){return r(e,t)})});return a(function(){var t=s.get(n);if(t){var i=new Set(t),o=new Set(e),a=n.current;i.forEach(function(e){o.has(e)||r(e,null)}),o.forEach(function(e){i.has(e)||r(e,a)})}s.set(n,e)},[e]),n}},782106:function(e,t,n){"use strict";n.d(t,{j:function(){return o}});var i=n(826637),r=n(923428),o=(0,i.Zj)((0,i.Zj)({},r.K),{},{STREAM_PARSED:"core.streamparsed",NO_AUDIO_TRACK:"core.noaudiotrack",SUBTITLE_SEGMENTS:"core.subtitlesegments",SUBTITLE_PLAYLIST:"core.subtitleplaylist",SEI_PAYLOAD_TIME:"core.seipayloadtime"})},471734:function(e,t,n){"use strict";n.d(t,{r:function(){return a}});var i=n(11065),r=n(923428);n(733730);var o=function(){function e(t){(0,i.PA)(this,e),(0,i._x)(this,"encodeType",""),(0,i._x)(this,"audioCodec",""),(0,i._x)(this,"videoCodec",""),(0,i._x)(this,"domain",""),(0,i._x)(this,"fps",0),(0,i._x)(this,"bitrate",0),(0,i._x)(this,"width",0),(0,i._x)(this,"height",0),(0,i._x)(this,"samplerate",0),(0,i._x)(this,"channelCount",0),(0,i._x)(this,"gop",0),(0,i._x)(this,"_bitsAccumulateSize",0),(0,i._x)(this,"_bitsAccumulateDuration",0),this._timescale=t}return(0,i.qH)(e,[{key:"getStats",value:function(){return{encodeType:this.encodeType,audioCodec:this.audioCodec,videoCodec:this.videoCodec,domain:this.domain,fps:this.fps,bitrate:this.bitrate,width:this.width,height:this.height,samplerate:this.samplerate,channelCount:this.channelCount,gop:this.gop}}},{key:"setEncodeType",value:function(e){this.encodeType=e}},{key:"setFpsFromScriptData",value:function(e){var t,n=e.data,i=null==n?void 0:null===(t=n.onMetaData)||void 0===t?void 0:t.framerate;i&&i>0&&i<100&&(this.fps=i)}},{key:"setVideoMeta",value:function(e){if(this.width=e.width,this.height=e.height,this.videoCodec=e.codec,this.encodeType=e.codecType,e.fpsNum&&e.fpsDen){var t=e.fpsNum/e.fpsDen;t>0&&t<100&&(this.fps=t)}}},{key:"setAudioMeta",value:function(e){this.audioCodec=e.codec,this.samplerate=e.sampleRate,this.channelCount=e.channelCount}},{key:"setDomain",value:function(e){this.domain=e.split("/").slice(2,3)[0]}},{key:"updateBitrate",value:function(e){var t=this;if((!this.fps||this.fps>=100)&&e.length){var n=e.reduce(function(e,t){return e+t.duration},0)/e.length;this.fps=Math.round(this._timescale/n)}e.forEach(function(e){1===e.gopId&&t.gop++,t._bitsAccumulateDuration+=e.duration/(t._timescale/1e3),t._bitsAccumulateSize+=e.units.reduce(function(e,t){return e+t.length},0),t._bitsAccumulateDuration>=1e3&&(t.bitrate=8*t._bitsAccumulateSize,t._bitsAccumulateDuration=0,t._bitsAccumulateSize=0)})}}]),e}(),a=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;(0,i.PA)(this,e),(0,i._x)(this,"_core",null),(0,i._x)(this,"_samples",[]),this._core=t,this._timescale=n,this._stats=new o(n),this._bindEvents()}return(0,i.qH)(e,[{key:"getStats",value:function(){var e,t,n,r,o,a,s,c=(null===(e=this._core)||void 0===e?void 0:e.media)||{},l=c.currentTime,u=c.decodeFps;return(0,i.Zj)((0,i.Zj)({},this._stats.getStats()),{},{downloadSpeed:(null===(t=this._core)||void 0===t?void 0:null===(n=t.speedInfo)||void 0===n?void 0:n.call(t).speed)||0,avgSpeed:(null===(r=this._core)||void 0===r?void 0:null===(o=r.speedInfo)||void 0===o?void 0:o.call(r).avgSpeed)||0,currentTime:void 0===l?0:l,bufferEnd:(null===(a=this._core)||void 0===a?void 0:null===(s=a.bufferInfo())||void 0===s?void 0:s.remaining)||0,decodeFps:void 0===u?0:u})}},{key:"_bindEvents",value:function(){var e=this;this._core.on(r.K.DEMUXED_TRACK,function(t){var n=t.videoTrack;return e._stats.updateBitrate(n.samples)}),this._core.on(r.K.FLV_SCRIPT_DATA,function(t){e._stats.setFpsFromScriptData(t)}),this._core.on(r.K.METADATA_PARSED,function(t){"video"===t.type?e._stats.setVideoMeta(t.track):e._stats.setAudioMeta(t.track)}),this._core.on(r.K.TTFB,function(t){e._stats.setDomain(t.responseUrl)})}},{key:"reset",value:function(){this._samples=[],this._stats=new o(this._timescale)}}]),e}()},7518:function(e,t,n){"use strict";n.d(t,{V:function(){return a}});var i=n(949024),r=n(597398),o=n(434706),a=function(){function e(){(0,i.PA)(this,e)}return(0,i.qH)(e,null,[{key:"parseHEVCDecoderConfigurationRecord",value:function(t){var n,i,o,a,s,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(t.length<23)){c=c||{};for(var l=(3&t[21])+1,u=[],d=[],p=[],h=23,f=t[22],v=0;v<f;v++){o=63&t[h],a=t[h+1]<<8|t[h+2],h+=3;for(var g=0;g<a;g++)if(s=t[h]<<8|t[h+1],h+=2,s){switch(o){case 32:var m=t.subarray(h,h+s);n||(n=e.parseVPS(r.l.removeEPB(m),c)),p.push(m);break;case 33:var _=t.subarray(h,h+s);i||(i=e.parseSPS(r.l.removeEPB(_),c)),u.push(_);break;case 34:d.push(t.subarray(h,h+s))}h+=s}}return{hvcC:c,sps:i,spsArr:u,ppsArr:d,vpsArr:p,nalUnitSize:l}}}},{key:"parseVPS",value:function(t,n){n=n||{};var i=new o.S(t);i.readUByte(),i.readUByte(),i.readBits(12);var r=i.readBits(3);return n.numTemporalLayers=Math.max(n.numTemporalLayers||0,r+1),i.readBits(17),e._parseProfileTierLevel(i,r,n),n}},{key:"parseSPS",value:function(t){var n,i,r,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s=s||{};var c=new o.S(t);c.readUByte(),c.readUByte(),c.readBits(4);var l=c.readBits(3);s.numTemporalLayers=Math.max(l+1,s.numTemporalLayers||0),s.temporalIdNested=c.readBits(1),e._parseProfileTierLevel(c,l,s),c.readUEG();var u=s.chromaFormatIdc=c.readUEG(),d=420;u<=3&&(d=[0,420,422,444][u]);var p=0;3===u&&(p=c.readBits(1));var h=c.readUEG(),f=c.readUEG(),v=c.readBits(1);if(1===v&&(n=c.readUEG(),i=c.readUEG(),r=c.readUEG(),a=c.readUEG()),s.bitDepthLumaMinus8=c.readUEG(),s.bitDepthChromaMinus8=c.readUEG(),1===v){var g=(1===u||2===u)&&0===p?2:1,m=1===u&&0===p?2:1;h-=g*(i+n),f-=m*(a+r)}return{codec:"hev1.1.6.L93.B0",width:h,height:f,chromaFormat:d,hvcC:s}}},{key:"_parseProfileTierLevel",value:function(e,t,n){var i=n.generalTierFlag||0;n.generalProfileSpace=e.readBits(2),n.generalTierFlag=Math.max(e.readBits(1),i),n.generalProfileIdc=Math.max(e.readBits(5),n.generalProfileIdc||0),n.generalProfileCompatibilityFlags=e.readBits(32),n.generalConstraintIndicatorFlags=[e.readBits(8),e.readBits(8),e.readBits(8),e.readBits(8),e.readBits(8),e.readBits(8)];var r=e.readBits(8);i<n.generalTierFlag?n.generalLevelIdc=r:n.generalLevelIdc=Math.max(r,n.generalLevelIdc||0);for(var o=[],a=[],s=0;s<t;s++)o[s]=e.readBits(1),a[s]=e.readBits(1);t>0&&e.readBits((8-t)*2);for(var c=0;c<t;c++)0!==o[c]&&(e.readBits(2),e.readBits(1),e.readBits(5),e.readBits(16),e.readBits(16),e.readBits(4),e.readBits(16),e.readBits(16),e.readBits(12)),0!==a[c]&&e.readBits(8)}}]),e}()},744091:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var i=n(949024),r=function(){function e(){(0,i.PA)(this,e),this.buffer=new Uint8Array(0)}return(0,i.qH)(e,[{key:"write",value:function(){for(var e=this,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];n.forEach(function(t){t?e.buffer=function(e){for(var t=0,n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];i.forEach(function(e){t+=e.length});var o=new e(t),a=0;return i.forEach(function(e){o.set(e,a),a+=e.length}),o}(Uint8Array,e.buffer,t):window.console.warn(t)})}}],[{key:"writeUint16",value:function(e){return new Uint8Array([e>>8&255,255&e])}},{key:"writeUint32",value:function(e){return new Uint8Array([e>>24,e>>16&255,e>>8&255,255&e])}}]),e}()},169330:function(e,t,n){"use strict";function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=new Uint8Array((t=t.filter(Boolean)).reduce(function(e,t){return e+t.byteLength},0)),r=0;return t.forEach(function(e){i.set(e,r),r+=e.byteLength}),i}function r(e){if(!Array.isArray(e)){for(var t=[],n="",i=0;i<e.length;i++)i%2&&t.push(parseInt(e[i-1]+e[i],16));return t}return e.map(function(e){return parseInt(e,16)})}n.d(t,{Qc:function(){return r},gJ:function(){return i}})},508386:function(e,t,n){"use strict";n.d(t,{AE:function(){return d},BL:function(){return m},Le:function(){return k},OU:function(){return h},Q8:function(){return u},RN:function(){return A},Sl:function(){return E},Tn:function(){return x},XA:function(){return p},aT:function(){return w},al:function(){return g},bf:function(){return c},e4:function(){return b},f0:function(){return y},lW:function(){return f},lj:function(){return v},o$:function(){return l},sT:function(){return _},vU:function(){return S},yC:function(){return function e(t,n,c,l,p,h){void 0===h&&(h=!1);var f=(0,i.CR)(h?[[],p]:(0,s.uK)(p,function(e){return e.type===o.f0}),2),v=f[0],g=f[1],m=v.length?(0,s.dt)(c,l,v,n):c,_=h?[c]:void 0;return[(0,s.xH)(g.map(function(c){switch(c.type){case o.OU:return{type:o.OU,_event:(0,s.g5)(c.event)};case o.lW:var p,f,v,g,y=function(e,t,n,r){var o,a={_event:n},c=(0,s.g5)((0,s.mf)(e.event)?e.event(t,n.data,a):e.event);if((0,s.HD)(e.delay)){var l=r&&r[e.delay];o=(0,s.mf)(l)?l(t,n.data,a):l}else o=(0,s.mf)(e.delay)?e.delay(t,n.data,a):e.delay;var u=(0,s.mf)(e.to)?e.to(t,n.data,a):e.to;return(0,i.pi)((0,i.pi)({},e),{to:u,_event:c,event:c.data,delay:o})}(c,m,l,t.options.delays);return a.M||(0,s.ZK)(!(0,s.HD)(c.delay)||"number"==typeof y.delay,"No delay reference for delay expression '".concat(c.delay,"' was found on machine '").concat(t.id,"'")),y;case o.cM:return f=m,(0,i.pi)((0,i.pi)({},c),{value:(0,s.HD)(c.expr)?c.expr:c.expr(f,l.data,{_event:l})});case o.RN:var b=null===(p=c.conds.find(function(e){var i=(0,s.Qi)(e.cond,t.options.guards);return!i||(0,s.vx)(t,i,m,l,n)}))||void 0===p?void 0:p.actions;if(!b)return[];var w=(0,i.CR)(e(t,n,m,l,d((0,s.qo)(b),t.options.actions),h),2),E=w[0];return m=w[1],null==_||_.push(m),E;case o.Le:var b=c.get(m,l.data);if(!b)return[];var S=(0,i.CR)(e(t,n,m,l,d((0,s.qo)(b),t.options.actions),h),2),k=S[0];return m=S[1],null==_||_.push(m),k;case o.sT:return v=m,g=(0,s.mf)(c.activity)?c.activity(v,l.data):c.activity,{type:r.M.Stop,activity:"string"==typeof g?{id:g}:g};case o.f0:m=(0,s.dt)(m,l,[c],n),null==_||_.push(m);break;default:var x=u(c,t.options.actions),A=x.exec;if(A&&_){var C=_.length-1;x=(0,i.pi)((0,i.pi)({},x),{exec:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];A.apply(void 0,(0,i.ev)([_[C]],(0,i.CR)(t),!1))}})}return x}}).filter(function(e){return!!e})),m]}}});var i=n(188389),r=n(47212),o=n(84775),a=n(110242),s=n(404382),c=(0,s.g5)({type:o.S1});function l(e,t){return t&&t[e]||void 0}function u(e,t){var n;if((0,s.HD)(e)||"number"==typeof e){var r=l(e,t);n=(0,s.mf)(r)?{type:e,exec:r}:r||{type:e,exec:void 0}}else if((0,s.mf)(e))n={type:e.name||e.toString(),exec:e};else{var r=l(e.type,t);if((0,s.mf)(r))n=(0,i.pi)((0,i.pi)({},e),{exec:r});else if(r){var o=r.type||e.type;n=(0,i.pi)((0,i.pi)((0,i.pi)({},r),e),{type:o})}else n=e}return n}var d=function(e,t){return e?((0,s.kJ)(e)?e:[e]).map(function(e){return u(e,t)}):[]};function p(e){var t=u(e);return(0,i.pi)((0,i.pi)({id:(0,s.HD)(e)?e:t.id},t),{type:t.type})}function h(e){return(0,s.HD)(e)?{type:o.OU,event:e}:f(e,{to:r.K.Internal})}function f(e,t){return{to:t?t.to:void 0,type:o.lW,event:(0,s.mf)(e)?e:(0,s._v)(e),delay:t?t.delay:void 0,id:t&&void 0!==t.id?t.id:(0,s.mf)(e)?e.name:(0,s.x6)(e)}}function v(e,t){return f(e,(0,i.pi)((0,i.pi)({},t),{to:r.K.Parent}))}var g=function(e){return{type:o.al,sendId:e}};function m(e){var t=p(e);return{type:r.M.Start,activity:t,exec:void 0}}function _(e){var t=(0,s.mf)(e)?e:p(e);return{type:r.M.Stop,activity:t,exec:void 0}}var y=function(e){return{type:o.f0,assignment:e}};function b(e,t){return"".concat(r.M.After,"(").concat(e,")").concat(t?"#".concat(t):"")}function w(e,t){var n="".concat(r.M.DoneState,".").concat(e),i={type:n,data:t};return i.toString=function(){return n},i}function E(e,t){var n="".concat(r.M.DoneInvoke,".").concat(e),i={type:n,data:t};return i.toString=function(){return n},i}function S(e,t){var n="".concat(r.M.ErrorPlatform,".").concat(e),i={type:n,data:t};return i.toString=function(){return n},i}function k(e){return{type:r.M.Pure,get:e}}function x(e,t){return f(function(e,t){return t},(0,i.pi)((0,i.pi)({},t),{to:e}))}function A(e){return{type:r.M.Choose,conds:e}}},527548:function(e,t,n){"use strict";n.d(t,{TV:function(){return o},iS:function(){return i},qP:function(){return r},rt:function(){return a}});var i=".",r={},o="xstate.guard",a=""},408835:function(e,t,n){"use strict";n.d(t,{Cs:function(){return w},TM:function(){return r},kJ:function(){return E}});var i,r,o=n(188389),a=n(47212),s=n(84775),c=n(110242),l=n(404382),u=n(508386),d=n(463387),p=n(158064),h=n(853459),f=n(884135),v=n(551078),g=n(150055),m=n(857570),_=n(986159),y={sync:!1,autoForward:!1};(i=r||(r={}))[i.NotStarted=0]="NotStarted",i[i.Running=1]="Running",i[i.Stopped=2]="Stopped";var b=function(){function e(t,n){var i=this;void 0===n&&(n=e.defaultOptions),this.machine=t,this.scheduler=new v.b,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this.status=r.NotStarted,this.children=new Map,this.forwardTo=new Set,this.init=this.start,this.send=function(e,t){if((0,l.kJ)(e))return i.batch(e),i.state;var n=(0,l.g5)((0,l._v)(e,t));if(i.status===r.Stopped)return c.M||(0,l.ZK)(!1,'Event "'.concat(n.name,'" was sent to stopped service "').concat(i.machine.id,'". This service has already reached its final state, and will not transition.\nEvent: ').concat(JSON.stringify(n.data))),i.state;if(i.status!==r.Running&&!i.options.deferEvents)throw Error('Event "'.concat(n.name,'" was sent to uninitialized service "').concat(i.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.\nEvent: ').concat(JSON.stringify(n.data)));return i.scheduler.schedule(function(){i.forward(n);var e=i.nextState(n);i.update(e,n)}),i._state},this.sendTo=function(e,t){var n=i.parent&&(t===a.K.Parent||i.parent.id===t),r=n?i.parent:(0,l.HD)(t)?i.children.get(t)||g.i.get(t):(0,l.Bc)(t)?t:void 0;if(!r){if(!n)throw Error("Unable to send event to child '".concat(t,"' from service '").concat(i.id,"'."));c.M||(0,l.ZK)(!1,"Service '".concat(i.id,"' has no parent: unable to send event ").concat(e.type));return}"machine"in r?r.send((0,o.pi)((0,o.pi)({},e),{name:e.name===s.vU?"".concat((0,u.vU)(i.id)):e.name,origin:i.sessionId})):r.send(e.data)};var d=(0,o.pi)((0,o.pi)({},e.defaultOptions),n),p=d.clock,h=d.logger,f=d.parent,m=d.id,_=void 0!==m?m:t.id;this.id=_,this.logger=h,this.clock=p,this.parent=f,this.options=d,this.scheduler=new v.b({deferEvents:this.options.deferEvents}),this.sessionId=g.i.bookId()}return Object.defineProperty(e.prototype,"initialState",{get:function(){var e=this;return this._initialState?this._initialState:(0,d.J)(this,function(){return e._initialState=e.machine.initialState,e._initialState})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return c.M||(0,l.ZK)(this.status!==r.NotStarted,"Attempted to read state from uninitialized service '".concat(this.id,"'. Make sure the service is started first.")),this._state},enumerable:!1,configurable:!0}),e.prototype.execute=function(e,t){var n,i;try{for(var r=(0,o.XA)(e.actions),a=r.next();!a.done;a=r.next()){var s=a.value;this.exec(s,e,t)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},e.prototype.update=function(e,t){var n,i,r,a,s,c,d,p,f=this;if(e._sessionid=this.sessionId,this._state=e,this.options.execute&&this.execute(this.state),this.children.forEach(function(e){f.state.children[e.id]=e}),this.devTools&&this.devTools.send(t.data,e),e.event)try{for(var v=(0,o.XA)(this.eventListeners),g=v.next();!g.done;g=v.next()){var m=g.value;m(e.event)}}catch(e){n={error:e}}finally{try{g&&!g.done&&(i=v.return)&&i.call(v)}finally{if(n)throw n.error}}try{for(var _=(0,o.XA)(this.listeners),y=_.next();!y.done;y=_.next()){var m=y.value;m(e,e.event)}}catch(e){r={error:e}}finally{try{y&&!y.done&&(a=_.return)&&a.call(_)}finally{if(r)throw r.error}}try{for(var b=(0,o.XA)(this.contextListeners),w=b.next();!w.done;w=b.next())(0,w.value)(this.state.context,this.state.history?this.state.history.context:void 0)}catch(e){s={error:e}}finally{try{w&&!w.done&&(c=b.return)&&c.call(b)}finally{if(s)throw s.error}}var E=(0,h.Ij)(e.configuration||[],this.machine);if(this.state.configuration&&E){var S=e.configuration.find(function(e){return"final"===e.type&&e.parent===f.machine}),k=S&&S.doneData?(0,l.QX)(S.doneData,e.context,t):void 0;try{for(var x=(0,o.XA)(this.doneListeners),A=x.next();!A.done;A=x.next()){var m=A.value;m((0,u.Sl)(this.id,k))}}catch(e){d={error:e}}finally{try{A&&!A.done&&(p=x.return)&&p.call(x)}finally{if(d)throw d.error}}this.stop()}},e.prototype.onTransition=function(e){return this.listeners.add(e),this.status===r.Running&&e(this.state,this.state.event),this},e.prototype.subscribe=function(e,t,n){var i,o=this;if(!e)return{unsubscribe:function(){}};var a=n;return"function"==typeof e?i=e:(i=e.next.bind(e),a=e.complete.bind(e)),this.listeners.add(i),this.status===r.Running&&i(this.state),a&&this.onDone(a),{unsubscribe:function(){i&&o.listeners.delete(i),a&&o.doneListeners.delete(a)}}},e.prototype.onEvent=function(e){return this.eventListeners.add(e),this},e.prototype.onSend=function(e){return this.sendListeners.add(e),this},e.prototype.onChange=function(e){return this.contextListeners.add(e),this},e.prototype.onStop=function(e){return this.stopListeners.add(e),this},e.prototype.onDone=function(e){return this.doneListeners.add(e),this},e.prototype.off=function(e){return this.listeners.delete(e),this.eventListeners.delete(e),this.sendListeners.delete(e),this.stopListeners.delete(e),this.doneListeners.delete(e),this.contextListeners.delete(e),this},e.prototype.start=function(e){var t=this;if(this.status===r.Running)return this;g.i.register(this.sessionId,this),this.initialized=!0,this.status=r.Running;var n=void 0===e?this.initialState:(0,d.J)(this,function(){return(0,f.TL)(e)?t.machine.resolveState(e):t.machine.resolveState(f.ZM.from(e,t.machine.context))});return this.options.devTools&&this.attachDev(),this.scheduler.initialize(function(){t.update(n,u.bf)}),this},e.prototype.stop=function(){var e,t,n,i,a,s,c,u,d,p,h=this;try{for(var f=(0,o.XA)(this.listeners),v=f.next();!v.done;v=f.next()){var m=v.value;this.listeners.delete(m)}}catch(t){e={error:t}}finally{try{v&&!v.done&&(t=f.return)&&t.call(f)}finally{if(e)throw e.error}}try{for(var _=(0,o.XA)(this.stopListeners),y=_.next();!y.done;y=_.next()){var m=y.value;m(),this.stopListeners.delete(m)}}catch(e){n={error:e}}finally{try{y&&!y.done&&(i=_.return)&&i.call(_)}finally{if(n)throw n.error}}try{for(var b=(0,o.XA)(this.contextListeners),w=b.next();!w.done;w=b.next()){var m=w.value;this.contextListeners.delete(m)}}catch(e){a={error:e}}finally{try{w&&!w.done&&(s=b.return)&&s.call(b)}finally{if(a)throw a.error}}try{for(var E=(0,o.XA)(this.doneListeners),S=E.next();!S.done;S=E.next()){var m=S.value;this.doneListeners.delete(m)}}catch(e){c={error:e}}finally{try{S&&!S.done&&(u=E.return)&&u.call(E)}finally{if(c)throw c.error}}if(!this.initialized)return this;(0,o.ev)([],(0,o.CR)(this.state.configuration),!1).sort(function(e,t){return t.order-e.order}).forEach(function(e){var t,n;try{for(var i=(0,o.XA)(e.definition.exit),r=i.next();!r.done;r=i.next()){var a=r.value;h.exec(a,h.state)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}),this.children.forEach(function(e){(0,l.mf)(e.stop)&&e.stop()});try{for(var k=(0,o.XA)(Object.keys(this.delayedEventsMap)),x=k.next();!x.done;x=k.next()){var A=x.value;this.clock.clearTimeout(this.delayedEventsMap[A])}}catch(e){d={error:e}}finally{try{x&&!x.done&&(p=k.return)&&p.call(k)}finally{if(d)throw d.error}}return this.scheduler.clear(),this.initialized=!1,this.status=r.Stopped,g.i.free(this.sessionId),this},e.prototype.batch=function(e){var t=this;if(this.status===r.NotStarted&&this.options.deferEvents)c.M||(0,l.ZK)(!1,"".concat(e.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'" and are deferred. Make sure .start() is called for this service.\nEvent: ').concat(JSON.stringify(event)));else if(this.status!==r.Running)throw Error("".concat(e.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.'));this.scheduler.schedule(function(){var n,i,r=t.state,a=!1,s=[];try{for(var c=(0,o.XA)(e),u=c.next();!u.done;u=c.next()){var p=u.value;!function(e){var n=(0,l.g5)(e);t.forward(n),r=(0,d.J)(t,function(){return t.machine.transition(r,n)}),s.push.apply(s,(0,o.ev)([],(0,o.CR)(r.actions.map(function(e){return(0,f.j1)(e,r)})),!1)),a=a||!!r.changed}(p)}}catch(e){n={error:e}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}r.changed=a,r.actions=s,t.update(r,(0,l.g5)(e[e.length-1]))})},e.prototype.sender=function(e){return this.send.bind(this,e)},e.prototype.nextState=function(e){var t=this,n=(0,l.g5)(e);if(0===n.name.indexOf(s.Mg)&&!this.state.nextEvents.some(function(e){return 0===e.indexOf(s.Mg)}))throw n.data.data;return(0,d.J)(this,function(){return t.machine.transition(t.state,n)})},e.prototype.forward=function(e){var t,n;try{for(var i=(0,o.XA)(this.forwardTo),r=i.next();!r.done;r=i.next()){var a=r.value,s=this.children.get(a);if(!s)throw Error("Unable to forward event '".concat(e,"' from interpreter '").concat(this.id,"' to nonexistant child '").concat(a,"'."));s.send(e)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e.prototype.defer=function(e){var t=this;this.delayedEventsMap[e.id]=this.clock.setTimeout(function(){e.to?t.sendTo(e._event,e.to):t.send(e._event)},e.delay)},e.prototype.cancel=function(e){this.clock.clearTimeout(this.delayedEventsMap[e]),delete this.delayedEventsMap[e]},e.prototype.exec=function(e,t,n){void 0===n&&(n=this.machine.options.actions);var i=t.context,o=t._event,d=e.exec||(0,u.o$)(e.type,n),p=(0,l.mf)(d)?d:d?d.exec:e.exec;if(p)try{return p(i,o.data,{action:e,state:this.state,_event:o})}catch(e){throw this.parent&&this.parent.send({type:"xstate.error",data:e}),e}switch(e.type){case s.lW:if("number"==typeof e.delay){this.defer(e);break}e.to?this.sendTo(e._event,e.to):this.send(e._event);break;case s.al:this.cancel(e.sendId);break;case s.BL:if(this.status!==r.Running)break;var h=e.activity;if(!this.state.activities[h.id||h.type])break;if(h.type===a.M.Invoke){var f=(0,l.j)(h.src),v=this.machine.options.services?this.machine.options.services[f.type]:void 0,g=h.id,m=h.data;c.M||(0,l.ZK)(!("forward"in h),"`forward` property is deprecated (found in invocation of '".concat(h.src,"' in in machine '").concat(this.machine.id,"'). ")+"Please use `autoForward` instead.");var _="autoForward"in h?h.autoForward:!!h.forward;if(!v){c.M||(0,l.ZK)(!1,"No service found for invocation '".concat(h.src,"' in machine '").concat(this.machine.id,"'."));return}var y=m?(0,l.QX)(m,i,o):void 0;if("string"==typeof v)return;var b=(0,l.mf)(v)?v(i,o.data,{data:y,src:f,meta:h.meta}):v;if(!b)return;var w=void 0;(0,l.O4)(b)&&(b=y?b.withContext(y):b,w={autoForward:_}),this.spawn(b,g,w)}else this.spawnActivity(h);break;case s.sT:this.stopChild(e.activity.id);break;case s.cM:var E=e.label,S=e.value;E?this.logger(E,S):this.logger(S);break;default:c.M||(0,l.ZK)(!1,"No implementation found for action type '".concat(e.type,"'"))}},e.prototype.removeChild=function(e){var t;this.children.delete(e),this.forwardTo.delete(e),null===(t=this.state)||void 0===t||delete t.children[e]},e.prototype.stopChild=function(e){var t=this.children.get(e);t&&(this.removeChild(e),(0,l.mf)(t.stop)&&t.stop())},e.prototype.spawn=function(e,t,n){if((0,l.y8)(e))return this.spawnPromise(Promise.resolve(e),t);if((0,l.mf)(e))return this.spawnCallback(e,t);if((0,p.f3)(e))return this.spawnActor(e,t);if((0,l.bi)(e))return this.spawnObservable(e,t);if((0,l.O4)(e))return this.spawnMachine(e,(0,o.pi)((0,o.pi)({},n),{id:t}));if((0,l.HV)(e))return this.spawnBehavior(e,t);throw Error('Unable to spawn entity "'.concat(t,'" of type "').concat(typeof e,'".'))},e.prototype.spawnMachine=function(t,n){var i=this;void 0===n&&(n={});var r=new e(t,(0,o.pi)((0,o.pi)({},this.options),{parent:this,id:n.id||t.id})),a=(0,o.pi)((0,o.pi)({},y),n);return a.sync&&r.onTransition(function(e){i.send(s.Vx,{state:e,id:r.id})}),this.children.set(r.id,r),a.autoForward&&this.forwardTo.add(r.id),r.onDone(function(e){i.removeChild(r.id),i.send((0,l.g5)(e,{origin:r.id}))}).start(),r},e.prototype.spawnBehavior=function(e,t){var n=(0,_.Y)(e,{id:t,parent:this});return this.children.set(t,n),n},e.prototype.spawnPromise=function(e,t){var n,i,r=this,o=!1;e.then(function(e){o||(i=e,r.removeChild(t),r.send((0,l.g5)((0,u.Sl)(t,e),{origin:t})))},function(e){if(!o){r.removeChild(t);var n=(0,u.vU)(t,e);try{r.send((0,l.g5)(n,{origin:t}))}catch(i){(0,l.v4)(e,i,t),r.devTools&&r.devTools.send(n,r.state),r.machine.strict&&r.stop()}}});var a=((n={id:t,send:function(){},subscribe:function(t,n,i){var r=(0,l.zM)(t,n,i),o=!1;return e.then(function(e){!o&&(r.next(e),o||r.complete())},function(e){o||r.error(e)}),{unsubscribe:function(){return o=!0}}},stop:function(){o=!0},toJSON:function(){return{id:t}},getSnapshot:function(){return i}})[l.L$]=function(){return this},n);return this.children.set(t,a),a},e.prototype.spawnCallback=function(e,t){var n,i,r,o=this,a=!1,s=new Set,c=new Set;try{r=e(function(e){i=e,c.forEach(function(t){return t(e)}),a||o.send((0,l.g5)(e,{origin:t}))},function(e){s.add(e)})}catch(e){this.send((0,u.vU)(t,e))}if((0,l.y8)(r))return this.spawnPromise(r,t);var d=((n={id:t,send:function(e){return s.forEach(function(t){return t(e)})},subscribe:function(e){var t=(0,l.zM)(e);return c.add(t.next),{unsubscribe:function(){c.delete(t.next)}}},stop:function(){a=!0,(0,l.mf)(r)&&r()},toJSON:function(){return{id:t}},getSnapshot:function(){return i}})[l.L$]=function(){return this},n);return this.children.set(t,d),d},e.prototype.spawnObservable=function(e,t){var n,i,r=this,o=e.subscribe(function(e){i=e,r.send((0,l.g5)(e,{origin:t}))},function(e){r.removeChild(t),r.send((0,l.g5)((0,u.vU)(t,e),{origin:t}))},function(){r.removeChild(t),r.send((0,l.g5)((0,u.Sl)(t),{origin:t}))}),a=((n={id:t,send:function(){},subscribe:function(t,n,i){return e.subscribe(t,n,i)},stop:function(){return o.unsubscribe()},getSnapshot:function(){return i},toJSON:function(){return{id:t}}})[l.L$]=function(){return this},n);return this.children.set(t,a),a},e.prototype.spawnActor=function(e,t){return this.children.set(t,e),e},e.prototype.spawnActivity=function(e){var t=this.machine.options&&this.machine.options.activities?this.machine.options.activities[e.type]:void 0;if(!t){c.M||(0,l.ZK)(!1,"No implementation found for activity '".concat(e.type,"'"));return}var n=t(this.state.context,e);this.spawnEffect(e.id,n)},e.prototype.spawnEffect=function(e,t){var n;this.children.set(e,((n={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:t||void 0,getSnapshot:function(){},toJSON:function(){return{id:e}}})[l.L$]=function(){return this},n))},e.prototype.attachDev=function(){var e=(0,m.R)();if(this.options.devTools&&e){if(e.__REDUX_DEVTOOLS_EXTENSION__){var t="object"==typeof this.options.devTools?this.options.devTools:void 0;this.devTools=e.__REDUX_DEVTOOLS_EXTENSION__.connect((0,o.pi)((0,o.pi)({name:this.id,autoPause:!0,stateSanitizer:function(e){return{value:e.value,context:e.context,actions:e.actions}}},t),{features:(0,o.pi)({jump:!1,skip:!1},t?t.features:void 0)}),this.machine),this.devTools.init(this.state)}(0,m.g)(this)}},e.prototype.toJSON=function(){return{id:this.id}},e.prototype[l.L$]=function(){return this},e.prototype.getSnapshot=function(){return this.status===r.NotStarted?this.initialState:this._state},e.defaultOptions={execute:!0,deferEvents:!0,clock:{setTimeout:function(e,t){return setTimeout(e,t)},clearTimeout:function(e){return clearTimeout(e)}},logger:("undefined"!=typeof self?self:n.g).console.log.bind(console),devTools:!1},e.interpret=E,e}();function w(e,t){var n=(0,l.HD)(t)?(0,o.pi)((0,o.pi)({},y),{name:t}):(0,o.pi)((0,o.pi)((0,o.pi)({},y),{name:(0,l.EL)()}),t);return(0,d.F)(function(t){if(!c.M){var i=(0,l.O4)(e)||(0,l.mf)(e);(0,l.ZK)(!!t||i,'Attempted to spawn an Actor (ID: "'.concat((0,l.O4)(e)?e.id:"undefined",'") outside of a service. This will have no effect.'))}return t?t.spawn(e,n.name,n):(0,p.Xg)(e,n.name)})}function E(e,t){return new b(e,t)}},463387:function(e,t,n){"use strict";n.d(t,{F:function(){return o},J:function(){return r}});var i=[],r=function(e,t){i.push(e);var n=t(e);return i.pop(),n},o=function(e){return e(i[i.length-1])}},244781:function(e,t,n){"use strict";e.exports=n.p+"static/image/loading_fast.32a9730d.webp"},103436:function(e,t,n){"use strict";n.d(t,{r:function(){return a}});var i=n(69984),r=n(764112),o=n(772322);n(218571);var a=e=>(0,o.jsxs)("svg",(0,r._)((0,i._)({xmlns:"http://www.w3.org/2000/svg",width:90,height:90,fill:"none",viewBox:"0 0 90 90"},e),{children:[(0,o.jsx)("path",{fill:"url(#failed-server_svg__a)",fillOpacity:.4,d:"M23.794 55.77a7.47 7.47 0 0 1 0-7.47L36.29 26.654a7.47 7.47 0 0 1 6.47-3.735h24.995a7.47 7.47 0 0 1 6.47 3.735L86.722 48.3a7.47 7.47 0 0 1 0 7.47L74.225 77.417a7.47 7.47 0 0 1-6.47 3.736H42.76a7.47 7.47 0 0 1-6.47-3.736z"}),(0,o.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"m61.645 67.574 10.051-17.409a8.72 8.72 0 0 0 0-8.716l-10.051-17.41a8.72 8.72 0 0 0-7.549-4.358H33.994a8.72 8.72 0 0 0-7.549 4.358L16.394 41.45a8.72 8.72 0 0 0 0 8.716l10.051 17.41a8.72 8.72 0 0 0 7.549 4.358h20.102a8.72 8.72 0 0 0 7.549-4.359m15.443-14.296a14.94 14.94 0 0 0 0-14.942l-10.051-17.41a14.94 14.94 0 0 0-12.94-7.47H33.993a14.94 14.94 0 0 0-12.94 7.47l-10.052 17.41a14.94 14.94 0 0 0 0 14.942l10.051 17.41a14.94 14.94 0 0 0 12.94 7.47h20.103a14.94 14.94 0 0 0 12.941-7.47zM39.29 30.86a4.76 4.76 0 1 1 9.51 0l-.85 18.688a3.91 3.91 0 0 1-7.81 0zm4.755 36.117a4.98 4.98 0 1 1 0-9.962 4.98 4.98 0 0 1 0 9.962",clipRule:"evenodd"}),(0,o.jsx)("defs",{children:(0,o.jsxs)("linearGradient",{id:"failed-server_svg__a",x1:43.351,x2:43.351,y1:85.374,y2:18.085,gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#A799FF"}),(0,o.jsx)("stop",{offset:1,stopColor:"#91BEFB"})]})})]}))},125830:function(e,t,n){"use strict";n.d(t,{r:function(){return a}});var i=n(69984),r=n(764112),o=n(772322);n(218571);var a=e=>(0,o.jsx)("svg",(0,r._)((0,i._)({xmlns:"http://www.w3.org/2000/svg",width:24,height:25,fill:"none",viewBox:"0 0 24 25"},e),{children:(0,o.jsx)("path",{fill:"#6461FF",fillRule:"evenodd",d:"M4 4.8a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-12a2 2 0 0 0-2-2zm11.332 11.207h.44a3.229 3.229 0 0 0 0-6.457h-3.496l1.02 2.153h2.475a1.075 1.075 0 0 1 0 2.15h-1.458zM5 16.011 8.012 9.55h2.391l3.21 6.46h-2.405L9.23 12.033 7.376 16.01z",clipRule:"evenodd"})}))},854600:function(e,t,n){"use strict";n.d(t,{r:function(){return a}});var i=n(69984),r=n(764112),o=n(772322);n(218571);var a=e=>(0,o.jsxs)("svg",(0,r._)((0,i._)({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,fill:"none",viewBox:"0 0 32 32"},e),{children:[(0,o.jsx)("path",{fill:"#000",fillOpacity:.01,d:"M0 0h32v32H0z"}),(0,o.jsxs)("g",{fill:"currentColor",children:[(0,o.jsx)("path",{fillRule:"evenodd",d:"M6.667 8h18.666v9.334H28V8.001a2.667 2.667 0 0 0-2.667-2.667H6.667A2.667 2.667 0 0 0 4 8.001v16a2.667 2.667 0 0 0 2.667 2.666h9.965v-2.666h-.002v-4a5.333 5.333 0 0 0-5.334-5.334h-4.63zm0 9.334v6.667h7.296v-4a2.667 2.667 0 0 0-2.667-2.667z",clipRule:"evenodd"}),(0,o.jsx)("path",{d:"M21.702 20h2.282l2.69 8H23.86l-1.1-3.271L21.52 28h-2.852zM30.667 20H28v8h2.667zM19.333 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4"})]})]}))},816048:function(e,t,n){"use strict";n.d(t,{r:function(){return a}});var i=n(69984),r=n(764112),o=n(772322);n(218571);var a=e=>(0,o.jsx)("svg",(0,r._)((0,i._)({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none",viewBox:"0 0 20 20"},e),{children:(0,o.jsx)("path",{fill:"#fff",d:"M7.614 3.02a1.55 1.55 0 0 1 1.339-.77H10c.856 0 1.55.694 1.55 1.55v3.1h4.65c.856 0 1.55.694 1.55 1.55v2.044q0 .28-.099.545l-1.849 4.93a1.55 1.55 0 0 1-1.451 1.007H5.35V6.9zM3.8 6.9a1.55 1.55 0 0 0-1.55 1.55v6.976c0 .856.694 1.55 1.55 1.55h.388V6.9z"})}))},794757:function(e,t,n){"use strict";n.d(t,{r:function(){return a}});var i=n(69984),r=n(764112),o=n(772322);n(218571);var a=e=>(0,o.jsx)("svg",(0,r._)((0,i._)({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none",viewBox:"0 0 20 20"},e),{children:(0,o.jsx)("path",{fill:"#fff",d:"M8.392 14.425q.008.112.008.226a3.1 3.1 0 1 1-1.55-2.686V6.17A1.55 1.55 0 0 1 8 4.673l6.975-1.87a1.55 1.55 0 0 1 1.951 1.498v8.56l-.009.002q.01.117.01.238a3.1 3.1 0 1 1-1.55-2.686v-5.84L8.4 6.396v8.028z"})}))},483497:function(e,t,n){"use strict";var i=n(772322);n(284700);var r=n(676635),o=n(167224),a=n(131856),s=(0,r.s)();(0,a.Z)(s,()=>(0,o.s)((0,i.jsx)(s,{}),"root"))},539099:function(e,t,n){"use strict";n.d(t,{S:function(){return l}});var i=n(900268),r=n(107024),o=n(779753),a=n(831246),s=n(226134);function c(e,t){return{userId:t.uid,hasLogin:e,region:t.region}}function l(e){e.invokeFunction(e=>{var t=e.get(a.D),n=e.get(o.S),l=e.get(s.w);(0,r.V)(l),l.setCustomParams({language:n.currentLocale}),l.setConfig({language:n.currentLocale}),t.hasLogin?l.setConfig(c(t.hasLogin,t.userProfile)):(0,i.V)(t.onDidLogin)(()=>{l.setConfig(c(t.hasLogin,t.userProfile))})})}},112450:function(e,t,n){"use strict";n.d(t,{D:function(){return d}});var i=n(461228),r=n(123951),o=n(91933),a=n(691716),s=n(555177),c=n(710799),l={baseURL:"/lv/v1",method:"POST",headers:{loc:o.yM.CHANNEL,lan:r.ZP.language||o.yM.LAN,pf:o.yM.APP_PF,appvr:o.yM.VERSION,tdid:"","sign-ver":1,"app-sdk-version":o.yM.APP_SDK_VERSION},params:{}},u=a.ZP.createAxios(l);u.interceptors.request.use(e=>{var{pf:t,appvr:n,tdid:i}=l.headers;return Object.assign(e.headers,(0,c.O)({url:"".concat(e.baseURL).concat(e.url),pf:t,appvr:n,tdid:i})),e}),u.interceptors.response.use(e=>{if(200!==e.status)return Promise.reject(e);var t=e.data;return"0"===t.ret?Promise.resolve(t.data):Promise.reject(e)}),(0,s.Z)(u,{retries:5,resetTimeout:!0,retryDelay:1e3,isRetry:()=>!0});var d={getCareerQuestionnaire:()=>(0,i._)(function*(){return u({url:"/persona/get_questionnaire",method:"POST"})})(),submitCareerQuestionnaire:e=>(0,i._)(function*(){return u({url:"/persona/submit_questionnaire",method:"POST",data:e})})()}},762848:function(e,t,n){"use strict";n.d(t,{E:function(){return g}});var i,r,o=n(461228),a=n(69984),s=n(764112),c=n(123951),l=n(91933),u=n(691716),d=n(673941),p=n(710799),h=n(722169),f={baseURL:"/cc/v1/workspace",method:"POST",headers:{loc:l.yM.CHANNEL,lan:c.ZP.language||l.yM.LAN,pf:l.yM.APP_PF,appvr:l.yM.VERSION,tdid:"","sign-ver":1,"app-sdk-version":l.yM.APP_SDK_VERSION}},v=u.ZP.createAxios(f);v.interceptors.request.use(e=>{var{pf:t,appvr:n,tdid:i}=f.headers;return Object.assign(e.headers,(0,p.O)({url:"".concat(e.baseURL).concat(e.url),pf:t,appvr:n,tdid:i})),e}),(0,d.Z)(v),v.interceptors.response.use(e=>{if(200!==e.status)return Promise.reject(e);var t=e.data;return"0"===t.ret?Promise.resolve(t):Promise.reject(e)});var g={getUserWorkSpace:e=>(0,o._)(function*(){return yield v({url:"/get_user_workspaces",data:e})})(),createWorkspace:e=>(0,o._)(function*(){return yield v({url:"/create_workspace",data:e})})(),checkCreateWorkspace:()=>(0,o._)(function*(){return yield v({url:"check_create_workspace"})})(),getWorkspaceMember:e=>(0,o._)(function*(){return yield v({url:"/get_member",data:e})})(),getAllWorkspaceMember:e=>(0,o._)(function*(){var t,n,i,r,o,c,l=[];do(null==(i=yield v({url:"/get_member",data:{count:50,cursor:(null==i?void 0:null===(r=i.data)||void 0===r?void 0:r.next_cursor)||"0",workspace_id:e.workspace_id}}))?void 0:null===(c=i.data)||void 0===c?void 0:null===(o=c.member_list)||void 0===o?void 0:o.length)&&(l=(0,h.uniqBy)(l.concat(i.data.member_list),"uid"));while(null==i?void 0:null===(t=i.data)||void 0===t?void 0:t.has_more);return(0,s._)((0,a._)({},i),{data:{member_list:l,member_cnt:(null==i?void 0:null===(n=i.data)||void 0===n?void 0:n.member_cnt)||0}})})(),mGetWorkspaceUserInfo:e=>(0,o._)(function*(){return yield v({url:"/mget_workspace_user_info",data:e})})(),quitWorkspace:e=>(0,o._)(function*(){return yield v({url:"/quit_user",data:e})})(),mGetWorkspaceInfo:e=>(0,o._)(function*(){return yield v({url:"/mget_workspace_info",data:e})})(),getWorkspaceInfoEverPhotoToken:e=>(0,o._)(function*(){return yield v({url:"/get_ever_photo_token",data:e})})(),getInvitationLink:e=>(0,o._)(function*(){return yield v({url:"/get_invitation_link",data:e})})(),setWorkspaceUser:e=>(0,o._)(function*(){return yield v({url:"/set_user",data:e})})(),removeWorkspaceUser:e=>(0,o._)(function*(){return yield v({url:"/remove_user",data:e})})(),updateUserInfo:e=>(0,o._)(function*(){return yield v({url:"/update_user_info",data:e})})(),updateWorkspaceInfo:e=>(0,o._)(function*(){return yield v({url:"/update_workspace_info",data:e})})(),joinWorkspace:e=>(0,o._)(function*(){return yield v({url:"/join_workspace",data:e})})(),getWorkspaceInfoByInvitationLink:e=>(0,o._)(function*(){return yield v({url:"/get_workspace_info_by_invitation_link",data:e})})(),mGetWorkspaceEverphotoUserInfo:e=>(0,o._)(function*(){return yield v({url:"/mget_workspace_ever_photo_user_info",data:e})})(),recentWorkspaceFileOpen:(e,t)=>(0,o._)(function*(){var n;return yield v({url:"/recent_file_list",data:e,params:{needCache:null===(n=null==t?void 0:t.needCache)||void 0===n||n}})})(),syncWorkspaceInfoFileOpen:e=>(0,o._)(function*(){return yield v({url:"/sync_file_open_time",data:e})})(),refreshUserWorkspaceInvitationLink:e=>(0,o._)(function*(){return yield v({url:"/refresh_invitation_link",data:e})})(),updateUserWorkspaceInvitationLinkStatus:e=>(0,o._)(function*(){return yield v({url:"/update_invitation_link_status",data:e})})(),workspaceDirectionalInvited:e=>(0,o._)(function*(){return yield v({url:"/email_directional_invited_v2",data:e})})(),getWorkspaceFileEditOwner:e=>(0,o._)(function*(){return yield v({url:"/get_file_edit_owner",data:e})})(),updateWorkspaceFileEditOwner:e=>(0,o._)(function*(){return yield v({url:"/update_file_edit_owner",data:e})})(),mgetWorkspaceFileOpenTime:e=>(0,o._)(function*(){return yield v({url:"/mget_file_open_time",data:(0,s._)((0,a._)({},e),{workspace_id:e.workspace_id||"0"})})})(),getWorkspaceUploadLinkInfo:e=>(0,o._)(function*(){return yield v({url:"/get_upload_link_info",data:e})})(),syncWorkspaceFile:e=>(0,o._)(function*(){return yield v({url:"/sync_file_everphoto",data:e})})(),syncFileEverphotoState:e=>(0,o._)(function*(){return yield v({url:"/sync_file_everphoto_state",data:e})})(),workspaceSensitiveWord:e=>(0,o._)(function*(){return yield v({url:"/sensitive_word",data:e})})(),updateUserWorkspaceUploadLink:e=>(0,o._)(function*(){return yield v({url:"/update_workspace_upload_link",data:e})})(),getUserWorkspaceUploadLink:e=>(0,o._)(function*(){return yield v({url:"/get_workspace_upload_link",data:e})})(),getAllEverPhotoUser:()=>(0,o._)(function*(){return yield v({url:"get_all_everphoto_user"})})(),notifyUploadLink:e=>(0,o._)(function*(){return yield v({url:"upload_link_notify",data:e})})(),getOnboardSample:e=>(0,o._)(function*(){return yield v({url:"/list_onboard_sample",data:e})})(),createOnboardDraft:e=>(0,o._)(function*(){return yield v({url:"/create_onboard_draft",data:e})})(),checkWorkspaceMember:e=>(0,o._)(function*(){var{data:t}=yield v({url:"/member/check",data:{workspace_id:e}});return{isInWorkspace:t.is_in_workspace}})(),joinSpace:e=>(0,o._)(function*(){var t,n,i,r,o,a,s={join_workspace_type:e.joinWorkspaceType,invite_link_param:{invitation_link:null===(t=e.inviteLinkParam)||void 0===t?void 0:t.invitationLink,invite_from:null===(n=e.inviteLinkParam)||void 0===n?void 0:n.inviteFrom},application_param:{workspace_id:null===(i=e.applicationParam)||void 0===i?void 0:i.workspaceId,source_type:null===(r=e.applicationParam)||void 0===r?void 0:r.sourceType,reason:null===(o=e.applicationParam)||void 0===o?void 0:o.reason,file_id:null===(a=e.applicationParam)||void 0===a?void 0:a.fileId}},{data:c}=yield v({url:"/join_workspace_with_apply",data:s});return{status:c.status,applicationId:c.application_id,workspaceInfo:c.workspace_info}})(),dealApplication:e=>(0,o._)(function*(){return yield v({url:"/applications/update",data:{id:e.id,status:e.status}})})(),getApplicationList:e=>(0,o._)(function*(){var t,{data:n}=yield v({url:"/applications/list",data:{application_ids:e.applicationIds,need_detail:e.needDetail}});return{applications:null===(t=n.applications)||void 0===t?void 0:t.map(e=>{var{has_approve_permission:t,application:n}=e;return{hasApprovePermission:t,application:{id:null==n?void 0:n.id,userId:null==n?void 0:n.user_id,workspaceId:null==n?void 0:n.workspace_id,status:null==n?void 0:n.status,reason:null==n?void 0:n.reason,userName:null==n?void 0:n.user_name,approverId:null==n?void 0:n.approver_id,approverName:null==n?void 0:n.approver_name,roleType:null==n?void 0:n.role_type,workspaceName:null==n?void 0:n.workspace_name,createdAt:null==n?void 0:n.created_at,timeoutAt:null==n?void 0:n.timeout_at}}})}})(),getInvitationActivityStatus:e=>(0,o._)(function*(){return yield v({url:"/get_invitation_activity_status",data:{workspace_id:e}})})(),joinInvitationActivity:e=>(0,o._)(function*(){return yield v({url:"/join_invitation_activity",data:{id:e}})})(),GetWorkspaceInfoExternal:e=>(0,o._)(function*(){return yield v({url:"/get_workspace_info_external",data:e})})()};(i=r||(r={}))[i.NOT_WORKSPACE_MEMBER=2316]="NOT_WORKSPACE_MEMBER",i[i.NOT_WORKSPACE_PERMISSION=2317]="NOT_WORKSPACE_PERMISSION"},563360:function(e,t,n){"use strict";n.d(t,{G:function(){return I}});var i=n(69984),r=n(764112),o=n(772322);n(349601),n(822289),n(733501),n(529114);var a=n(781494),s=n(5622),c=n(921195),l=n(595051),u=n(218571),d=n(124337),p=n(523319),h=n(282893),f=n(793676),v=n(958418),g=n(659179),m=n(161422),_=n(123951),y=n(554487),b=n(198202),w=n(158065),E=n(208282),S=n(420412),k=n(623794),x=n(363650),A=n(993291),C=e=>{var t,n,d,p,v,{isSupportExpand:w,expandModal:x,renderService:A,onCancel:C,handlePureTransitionRenderSuccess:I}=e,O=(0,u.useRef)(),D=new b.z,R=(0,u.useRef)(!1),[N,M]=(0,h.L)(A),L=(0,f.v)(A,e=>e.context.renderProgress),P=(0,f.v)(A,e=>e.context.exportType)===m.tM.IMAGE,[j,z]=(0,u.useState)(L),B={tool_type:(null===(t=N.context.reportExtra)||void 0===t?void 0:t.toolType)||(0,k.t)(null===(n=N.context.fileInfo)||void 0===n?void 0:n.asset).tool_type,enter_from:(null===(d=N.context.reportExtra)||void 0===d?void 0:d.enterFrom)||"first_page",resolution:"-"===N.context.fileInfo.resolution?void 0:N.context.fileInfo.resolution,size:"Calculating..."===N.context.fileInfo.size?void 0:Math.round(Number(N.context.fileInfo.size)/1024/1024*100)/100,format:N.context.fileInfo.format,video_duration:Math.round(Number(N.context.fileInfo.duration)/1e3),from_page:null===(p=N.context.reportExtra)||void 0===p?void 0:p.fromPage,current_page:null===(v=N.context.reportExtra)||void 0===v?void 0:v.currentPage},G=N.matches("open.renderFailed.fallSpace"),U=()=>{D.report((0,r._)((0,i._)({},B),{action:"export_retry"})),M("RETRY_RENDER")};return(0,u.useEffect)(()=>{if(100===L&&N.matches("open.rendering")&&I(),z(L),N.matches("open.renderSuccess")){var e;null===(e=O.current)||void 0===e||e.close(),z(100)}},[N,L]),(0,o.jsxs)("div",{className:S.Z.renderInToolPageProcessContainer,children:[(0,o.jsx)("div",{className:S.Z.renderInToolPageInfoText,children:N.matches("open.rendering")?(0,o.jsx)(o.Fragment,{children:P?_.oc.t("web_smartcutout_toast_image_exporting",{},"Your Image is exporting"):_.oc.t("web_tool_exporting",{},"Your video is exporting")}):N.matches("open.renderFailed")||N.matches("open.renderFailed.fallSpace")||N.matches("open.renderSuccess.requestFailed")?(0,o.jsx)(o.Fragment,{children:_.oc.t("web_tool_Failed_to_export",{},"Failed to export")}):N.matches("open.renderSuccess.requesting")?(0,o.jsx)(o.Fragment,{children:_.oc.t("web_tool_video_ready",{},"Your video is ready")}):(0,o.jsx)(o.Fragment,{})}),(0,o.jsx)("div",{className:S.Z.renderInToolPageFileName,children:N.context.fileInfo.fileName}),(0,o.jsx)("div",{style:{display:"flex",width:"100%",marginTop:8,background:"var(--lvv-color-bg-5)",height:12,borderRadius:6},children:(0,o.jsx)("div",{style:{height:12,width:"".concat(j<3?3:j,"%"),background:["open.rendering","open.renderSuccess.requesting"].some(N.matches)?"var(--lvv-color-secondary-green)":"var(--lvv-color-secondary-fushsia)",borderRadius:6}})}),(0,o.jsx)("div",{style:{marginTop:12,marginBottom:12},children:N.matches("open.rendering")?(0,o.jsx)("div",{className:S.Z.renderInToolPageExportingText,children:_.oc.t("web_tool_ExportingX%",{placeholder0:String(j)},"Exporting{placeholder0}%")}):N.matches("open.renderFailed")||N.matches("open.renderSuccess.requestFailed")?(0,o.jsxs)("div",{className:S.Z.renderInToolPageExportingText,style:{display:"flex",alignItems:"center",color:"var(--lvv-color-secondary-fushsia)"},children:[(0,o.jsx)(g.kgx,{style:{marginRight:4}}),_.oc.t("web_tool_Couldn\u2019t_export_X%",{placeholder0:String(j)},"Couldn\u2019t export, {placeholder0}%")]}):G?(0,o.jsxs)("div",{className:S.Z.renderInToolPageExportingText,style:{display:"flex",alignItems:"center",color:"var(--lvv-color-secondary-fushsia)"},children:[(0,o.jsx)(g.kgx,{style:{marginRight:4}}),_.oc.t("web_tool_Couldn\u2019t_export_cloud",{},"Couldn\u2019t export, Cloud space ran out.")]}):N.matches("open.renderSuccess.requesting")?(0,o.jsxs)("div",{className:S.Z.renderInToolPageExportingText,style:{display:"flex",alignItems:"center"},children:[(0,o.jsx)(c.Z,{webp:!0,style:{marginRight:4}}),_.oc.t("web_tool_Loading_source",{},"Loading source")]}):(0,o.jsx)(o.Fragment,{})}),G&&(0,o.jsx)("div",{style:{marginBottom:12,color:"var(--lvv-color-text-tertiary)",whiteSpace:"initial"},children:_.oc.t("web_cloud_storage_full2",{"text-href":e=>(0,o.jsx)("span",{style:{color:"var(--lvv-color-main-default)",cursor:"pointer"},onClick:U,children:e})},"Cloud space ran out. Upgrade to expand storage or manage in Cloud and <text-href>try again</text-href>.")}),(0,o.jsxs)("div",{style:{display:"flex",flexDirection:"row-reverse"},children:[(N.matches("open.rendering")||N.matches("open.renderSuccess.Requesting"))&&(0,o.jsx)(l.Z,{onClick:()=>{D.report((0,r._)((0,i._)({},B),{action:"export_cancel"})),O.current=s.Z.confirm({icon:null,title:_.oc.t("web_tool_Cancel_exporting",{},"Cancel exporting?"),content:_.oc.t("web_tool_Cancel_exporting_notice",{},"If you cancel exporting, your video will not be saved in Cloud."),okText:"Cancel exporting",onOk:()=>{M("CANCEL_RENDER"),null==C||C(),D.report((0,r._)((0,i._)({},B),{action:"export_cancel_confirm"}))},cancelText:"Keep exporting",onCancel:()=>{D.report((0,r._)((0,i._)({},B),{action:"export_cancel_continue"}))}})},children:_.oc.t("web_tool_cancel",{},"Cancel")}),N.matches("open.renderFailed")&&!G&&(0,o.jsx)(l.Z,{type:"primary",onClick:U,children:_.oc.t("web_tool_Retry",{},"Retry")}),G&&(0,o.jsxs)(o.Fragment,{children:[w&&(0,o.jsx)(l.Z,{style:{marginRight:12},type:"primary",onClick:()=>{var e,t;D.report((0,r._)((0,i._)({},B),{action:"upgrade"})),null==x||x.show({type:"CAPACITY_BUY",reporterParams:{enterFrom:"export_panel",currentPage:"smart_tool_page",tool_type:null===(t=N.context)||void 0===t?void 0:null===(e=t.reportExtra)||void 0===e?void 0:e.toolType,pageFrom:y.K1.spaceLimitUpgrade},onCurrentShowPayStatus:(e,t)=>{"success"!==e||R.current||(R.current=!0,setTimeout(()=>{M({type:"RETRY_RENDER"}),a.Z.info(_.oc.t("web_cloud_add_success5"))},3e3)),t&&(R.current=!1)}})},children:_.oc.t("web_add_tool_upgrade",{},"Upgrade")}),(0,o.jsx)(l.Z,{onClick:()=>{window.open(E.l.WORKSPACE.CHILD.MY_CLOUD.PATH),D.report((0,r._)((0,i._)({},B),{action:"cloud"}))},style:{marginRight:8},children:_.oc.t("web_Manage_in_Cloud",{},"Manage in Cloud")})]})]})]})},I=e=>{var t,n,a,s,c,l,u,f,g,m,_,y,E,S,I,O,D,R,N,M,L,P,j,z,B,G,U,F,V,H,Z,W,q,K,J,Y,X,Q,ee,et,en,ei,er,eo,ea,es,ec,el,{backToEdit:eu,backToResult:ed,makeNewOne:ep,spaceInfo:eh,choosePageSlot:ef,showBackToResult:ev,onCancel:eg,cookieConsent:em,isForBusiness:e_,eventParams:ey,isShopify:eb}=e;(0,v.d)(em),(0,w.Cj)().disable();var ew=null===(t=(0,d.H7)())||void 0===t?void 0:t.expandInstanceInfo,eE=null===(n=(0,d.H7)())||void 0===n?void 0:n.getService("renderService"),eS=null===(a=(0,d.H7)())||void 0===a?void 0:a.getService("shareService"),[ek,ex]=(0,h.L)(eE),{openModalType:eT}=ek.context,eA=new b.z,eC={tool_type:(null===(s=ek.context.reportExtra)||void 0===s?void 0:s.toolType)||(0,k.t)(null===(c=ek.context.fileInfo)||void 0===c?void 0:c.asset).tool_type,enter_from:(null===(l=ek.context.reportExtra)||void 0===l?void 0:l.enterFrom)||"first_page",resolution:ek.context.fileInfo.resolution,size:"Calculating..."===ek.context.fileInfo.size?void 0:Math.round(Number(ek.context.fileInfo.size)/1024/1024*100)/100,format:ek.context.fileInfo.format,video_duration:Math.round(Number(ek.context.fileInfo.duration)/1e3),from_page:null===(u=ek.context.reportExtra)||void 0===u?void 0:u.fromPage,current_page:null===(f=ek.context.reportExtra)||void 0===f?void 0:f.currentPage};return(0,o.jsxs)(o.Fragment,{children:[["open.rendering","open.renderFailed","open.renderSuccess.requesting","open.fallSpace","open.renderSuccess.requestFailed"].some(ek.matches)&&(0,o.jsx)(C,{renderService:eE,onCancel:()=>{null==eg||eg(),eE.send("CLOSE"),eS.send("INIT_SERVICE")},isSupportExpand:null==ew?void 0:ew.isSupportExpand,expandModal:null==ew?void 0:ew.expandModal,handlePureTransitionRenderSuccess:()=>{ex("PURE_TRANSITION_RENDER_SUCCESS")}}),["open.renderSuccess.requestSuccess","open.renderSuccess.requestImgSuccess"].some(ek.matches)&&(0,o.jsx)("div",{className:"lv-share-video-toolPage-main",style:{paddingTop:32,borderLeft:"1px solid var(--lvv-color-line-2)",width:400},children:(0,o.jsx)(p.Ss,{expandModalInstance:null==ew?void 0:ew.expandModal,isShowVipEquityCard:!!(null===(y=ek.context)||void 0===y?void 0:null===(_=y.fileInfo)||void 0===_?void 0:null===(m=_.asset)||void 0===m?void 0:null===(g=m.meta)||void 0===g?void 0:g.disableDownload),eventParams:ey,spaceInfo:null!=eh?eh:{},backToEdit:()=>{eA.report((0,r._)((0,i._)({},eC),{action:"back_edit"})),null==eu||eu(),eE.send("CLOSE"),eS.send("INIT_SERVICE")},backToResult:()=>{eA.report((0,r._)((0,i._)({},eC),{action:"back_edit"})),null==ed||ed(),eE.send("CLOSE"),eS.send("INIT_SERVICE")},makeNewOne:()=>{eA.report((0,r._)((0,i._)({},eC),{action:"make_new"})),null==ep||ep()},showBackToResult:ev,choosePageSlot:ef,reportExtra:{currentPage:null===(S=(0,d.H7)())||void 0===S?void 0:null===(E=S.extraData)||void 0===E?void 0:E.currentPage,enterFrom:null===(O=(0,d.H7)())||void 0===O?void 0:null===(I=O.extraData)||void 0===I?void 0:I.enterFrom,toolType:null===(D=ek.context.reportExtra)||void 0===D?void 0:D.toolType},fileInfo:{asset:null!==(et=null==ek?void 0:null===(N=ek.context)||void 0===N?void 0:null===(R=N.fileInfo)||void 0===R?void 0:R.asset)&&void 0!==et?et:{},format:null!==(en=null==ek?void 0:null===(L=ek.context)||void 0===L?void 0:null===(M=L.fileInfo)||void 0===M?void 0:M.format)&&void 0!==en?en:"",downloadUrl:null!==(ei=null==ek?void 0:null===(j=ek.context)||void 0===j?void 0:null===(P=j.fileInfo)||void 0===P?void 0:P.downloadUrl)&&void 0!==ei?ei:"",fileName:null!==(er=null==ek?void 0:null===(B=ek.context)||void 0===B?void 0:null===(z=B.fileInfo)||void 0===z?void 0:z.fileName)&&void 0!==er?er:"",fileId:null!==(eo=null==ek?void 0:null===(G=ek.context)||void 0===G?void 0:G.fileId)&&void 0!==eo?eo:"",fileSize:"".concat(null!==(ea=null==ek?void 0:null===(F=ek.context)||void 0===F?void 0:null===(U=F.fileInfo)||void 0===U?void 0:U.size)&&void 0!==ea?ea:""),fileType:x.Tv.FilmVideo,resolution:null!==(es=null===(H=ek.context)||void 0===H?void 0:null===(V=H.fileInfo)||void 0===V?void 0:V.resolution)&&void 0!==es?es:"",duration:null!==(ec=null==ek?void 0:null===(W=ek.context)||void 0===W?void 0:null===(Z=W.fileInfo)||void 0===Z?void 0:Z.duration)&&void 0!==ec?ec:0,videoId:null==ek?void 0:null===(K=ek.context)||void 0===K?void 0:null===(q=K.fileInfo)||void 0===q?void 0:q.videoId,coverImg:null==ek?void 0:null===(Y=ek.context)||void 0===Y?void 0:null===(J=Y.fileInfo)||void 0===J?void 0:J.coverImg},page:"tool",isForBusiness:e_,isShopify:eb,openModalType:eT,shareServiceProp:eS,extraData:null===(X=(0,d.H7)())||void 0===X?void 0:X.extraData,openType:(0,A.F_)(null!==(el=null===(ee=(0,d.H7)())||void 0===ee?void 0:null===(Q=ee.extraData)||void 0===Q?void 0:Q.currentPage)&&void 0!==el?el:"")})})]})}},547030:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var i=n(772322);n(349601);var r=n(781494),o=n(218571),a=n(282893),s=n(793676),c=n(454078),l=n(123688);n(790836);var u=n(697513),d=n(121277),p=n(165991),h=n(123951),f=n(29219);let v=e=>{var{toLogIn:t}=e,n=(0,c.t)(),[v]=(0,a.L)(n),{appId:g}=v.context,m=v.context.emailSignInRef,[,_]=(0,a.L)(m),y=(0,s.v)(m,e=>e.context.step)||l.GH.FillInEmail,b=(0,s.v)(m,e=>e.context.email),w=(0,s.v)(m,e=>e.context.resendEmailCodeCountDown),E=new URLSearchParams(location.search),S=E.get("showType")||"email";return(0,o.useEffect)(()=>{switch(S){case"email":_("TO_SEND_RESET_EMAIL_INFO");break;case"password":var e=E.get("email"),n=E.get("code");e&&n&&(_({type:"SAVE_PWD_CODE",code:n,email:e}),_({type:"TO_RESET_PASSWORD",func:()=>{r.Z.warning(h.oc.t("link_lose_efficacy")),g&&(0,f.x)(g)?setTimeout(()=>{location.href=globalThis.xssNamespace["lvweb/smart-tools"].filterUrl(location.origin,null,{logType:"js.href/src",mode:"black",reportOnly:"all"})},1e3):t()}}))}},[S]),(0,i.jsxs)("div",{className:"lv_forget_pwd_panel",children:[y===l.GH.FillInEmail?(0,i.jsx)(u.Z,{send:_,email:b,toLogIn:t}):null,y===l.GH.ResendEmail?(0,i.jsx)(d.Z,{email:b,send:_,resendEmailCodeCountDown:w,toLogIn:t,onBackClick:()=>{_({type:"TO_SEND_RESET_EMAIL_INFO"})}}):null,y===l.GH.ResetPwd?(0,i.jsx)(p.Z,{appId:g,email:b,send:_,toLogIn:t}):null]})}},81555:function(e,t,n){"use strict";n.d(t,{U:function(){return h}});var i=n(461228),r=n(772322);n(349601);var o=n(781494),a=n(218571),s=n(124337),c=n(793676),l=n(523972),u=n(465712),d=n(958418),p=n(123951),h=e=>{var t,{cookieConsent:n}=e;(0,d.d)(n);var h=null===(t=(0,s.H7)())||void 0===t?void 0:t.getService("renderService"),f=(0,a.useRef)(!1),v=(0,c.v)(h,e=>null==e?void 0:e.matches("open.renderSuccess.requestImgSuccess")),g=(0,c.v)(h,e=>{var t;return null==e?void 0:null===(t=e.context)||void 0===t?void 0:t.everCloudSpaceInstance}),m=(0,c.v)(h,e=>{var t;return null==e?void 0:null===(t=e.context)||void 0===t?void 0:t.fileId});return(0,a.useEffect)(()=>{var e;(e=(0,i._)(function*(){if(v&&!f.current){f.current=!0;try{if((yield g.downloadAssetUrlV2({ids:[m]})).length)throw Error("get DownloadAssetUrl failure, not link to download")}catch(e){o.Z.error(p.ZP.t("file_failed_to_download",{},"file download failed"))}}}),function(){return e.apply(this,arguments)})()},[v]),v?(0,r.jsx)(u.h,{renderService:h}):(0,r.jsx)(l.n,{renderService:h})}},937661:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var i=n(772322);n(445175),n(529114);var r=n(429907),o=n(595051),a=n(218571),s=n(152155),c=n.n(s),l=n(123951),u=n(123688),d=n(437069);n(417410);let p=e=>{var{resendEmailCodeCountDown:t,email:n,onBack:s,send:p}=e,[h,f]=(0,a.useState)(""),v=(0,a.useMemo)(()=>{var e=void 0===t?u.tF:t;return l.oc.t("web_signin_desc_send_code",{number0:e},"You can resend the link in {number0} seconds.").replace(/\d+/,e=>'<span class="lv_new_forget_pwd_panel-count-down-num">'.concat(e,"</span>"))},[t]);return(0,i.jsxs)("div",{className:"lv_new_forget_pwd_panel-resend",children:[(0,i.jsx)(d.Z,{onClick:s,text:l.oc.t("web_accounts_title_forgot_password",{},"Forget Password")}),(0,i.jsx)("div",{className:"lv_new_forget_pwd_panel-title lv_new_forget_pwd_panel-title-reset",children:l.oc.t("web_signin_title_reset_password",{},"Reset password")}),(0,i.jsx)("div",{className:"lv_new_forget_pwd_panel-description lv_new_forget_pwd_panel-description-reset",children:l.oc.t("web_signin_desc_reset_password",{},"We\u2019ll email you a link to reset your password.")}),(0,i.jsxs)("div",{className:"lv_new_forget_pwd_panel-resend-footer-container",children:[(0,i.jsx)(r.Z,{value:n,onChange:e=>{p({type:"SAVE_EMAIL",email:e}),e&&!u.s9.test(e)?f(l.oc.t("web_signin_error_text_invalid_email",{},"Enter a valid email")):f("")},className:c()("lv_new_forget_pwd_panel-input lv_new_forget_pwd_panel-input-reset lv_new_sign_in_panel_wide-input",{"lv_new_sign_in_panel_wide-input-warn":""!==h}),placeholder:l.oc.t("web_signin_placeholder_enter_email_reset",{},"Enter email")}),""!==h?(0,i.jsx)("div",{className:"lv_new_forget_pwd_panel-warn",children:h}):null,0!==t?(0,i.jsx)("div",{className:"lv_new_forget_pwd_panel-resend-btn-container",children:(0,i.jsx)(o.Z,{disabled:!0,type:"primary",className:"lv_new_sign_in_panel_wide-primary-button",children:(0,i.jsx)("div",{className:"lv_new_forget_pwd_panel-count-down",dangerouslySetInnerHTML:{__html:globalThis.xssNamespace["lvweb/smart-tools"]._filterXSS(v,null,{logType:"react.dangerouslySetInnerHTML",mode:"black",reportOnly:"all",block:!0})}})})}):(0,i.jsx)("div",{className:"lv_new_forget_pwd_panel-resend-btn-container",children:(0,i.jsx)(o.Z,{className:"lv_new_sign_in_panel_wide-primary-button",type:"primary",onClick:()=>{p("RESEND")},children:l.oc.t("web_signin_button_resend_code_email",{action0:e=>(0,i.jsx)("span",{className:c()("lv_new_forget_pwd_panel-resend-button"),children:e})},"Resend email")})})]})]})}},720197:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var i=n(772322);n(529114),n(445175);var r=n(595051),o=n(429907),a=n(218571),s=n(152155),c=n.n(s),l=n(659179),u=n(123951);n(709866);let d=e=>{var{defaultEmail:t,defaultPassword:n,disableButton:s=!1}=e,[d,p]=(0,a.useState)(t||""),[h,f]=(0,a.useState)(n||""),[v,g]=(0,a.useState)(!1),m=(0,a.useRef)(null),_=(0,a.useRef)(null),y=t=>{var n;p(t),null===(n=e.onEmailChange)||void 0===n||n.call(e,t,_)},b=t=>{var n;f(t),null===(n=e.onPasswordChange)||void 0===n||n.call(e,t)};(0,a.useEffect)(()=>{y(d),b(h)},[]);var w=()=>{e.onSignIn(d,h)},{emailWarn:E,passwordWarn:S,confirmText:k,loading:x}=e;return(0,a.useEffect)(()=>{setTimeout(()=>{m.current.dom.setSelectionRange(h.length,h.length)})},[v]),(0,i.jsx)("div",{className:"lv_new_sign_in_panel_wide-content",children:(0,i.jsxs)("div",{className:"lv_new_sign_in_panel_wide-form",children:[(0,i.jsxs)("div",{style:{marginBottom:28},children:[(0,i.jsxs)("div",{className:c()("lv_new_sign_in_panel_wide-form-email"),children:[(0,i.jsx)(o.Z,{autoComplete:"on",className:c()("lv_new_sign_in_panel_wide-input",{"lv_new_sign_in_panel_wide-input-warn ":""!==E},{"lv_new_sign_in_panel_wide-warn-hide":!E.length}),value:d,placeholder:u.oc.t("web_signin_placeholder_enter_email",{},"Enter email"),onChange:y,onBlur:()=>{var t;null===(t=e.onEmailBlur)||void 0===t||t.call(e)},onPressEnter:()=>{var e,t;null===(t=m.current)||void 0===t||null===(e=t.focus)||void 0===e||e.call(t)},ref:_}),""!==E?(0,i.jsx)("div",{className:"lv_new_sign_in_panel_wide-warn",children:E}):null]}),(0,i.jsxs)("div",{className:c()("lv_new_sign_in_panel_wide-form-password",{"lv_new_sign_in_panel_wide-form-password-warn":""!==S}),children:[(0,i.jsx)(o.Z,{ref:m,type:v?"text":"password",className:"lv_new_sign_in_panel_wide-input-without-default",value:h,placeholder:u.oc.t("web_signin_placeholder_enter_password",{},"Enter password"),onChange:b,onBlur:()=>{var t;null===(t=e.onPasswordBlur)||void 0===t||t.call(e)},onPressEnter:w,suffix:v?(0,i.jsx)(l.bEM,{onClick:()=>{g(!1)}}):(0,i.jsx)(l.lLW,{onClick:()=>{g(!0)}})}),(0,i.jsx)("div",{className:c()(["lv_new_sign_in_panel_wide-warn"],{"lv_new_sign_in_panel_wide-warn-hide":!S.length}),children:null!=S?S:""})]})]}),(0,i.jsx)(r.Z,{className:"lv_new_sign_in_panel_wide-sign-in-button lv_new_sign_in_panel_wide-primary-button",type:"primary",size:"large",onClick:w,loading:x,disabled:s,children:k})]})})}},102644:function(e,t,n){"use strict";n.d(t,{AD:function(){return i}});var i={AD_PLATFORM_ID:"ad_platform_id",GOOGLE_SEM:"googleadwords_int",BING_SEM:"bingads_int",PII_GOOGLE_SEM:"google sem",PII_BING_SEM:"bing sem",PII_DIRECT:"direct"};i.GOOGLE_SEM,i.PII_GOOGLE_SEM,i.BING_SEM,i.PII_BING_SEM,i.PII_DIRECT},740496:function(e,t,n){"use strict";n.d(t,{P:function(){return r},k:function(){return i}});var i={SEND_CODE_ERROR_CODE:{SENDING_FREQUENTLY:1206,EMAIL_ERROR:1044},REGISTER_ERROR_CODE:{CODE_WRONG:1704,CODE_EXPIRED:1703,LINKED_EMAIL:1023},LOGIN_ERROR_CODE:{PASSWORD_WRONG:1009,USER_NOT_EXITE:1011,USER_ACCOUNT_CANCEL:1075}},r={NO_LOGIN:1015}},709291:function(e,t,n){"use strict";n.d(t,{IH:function(){return v},aR:function(){return _}});var i,r,o=n(461228),a=n(69984),s=n(806061),c=n(736951),l=n(539),u=n(31202),d=n(283659),p=n(256151),{COOKIE_CONSENT_PROMPT_CONFIG:h}=l.g;(i=r||(r={}))[i.Unknown=0]="Unknown",i[i.Accpet=1]="Accpet",i[i.Decline=2]="Decline";var f={status:0,settings:{firstPartyAnalytics:!1,GoogleAnalytics:!1},updatedTime:0};function v(){var e=e=>{var t=Date.now()-Number(e.updatedTime);u.I.setString(h,JSON.stringify(e),Date.now()+(34128e6-t))},t=d.m.getJson(h);if(t)u.I.getJson(h)||e(t),d.m.removeItem(h);else{var n=u.I.getJson(h);n&&!d.m.getString("re-expires")&&(e(n),d.m.setString("re-expires","1"))}}function g(){return v(),u.I.getJson(h)||f}class m extends p.kH{getUserInfo(){return{device_id:window.GATEWAY_INJECTED_WEB_ID||"",current_region:window.__locationCountryCode||"",carrier_region:window.__locationCountryCode||""}}}var _=(0,s.C)({id:"cookiesConsentPromptMachine",initial:"loading",context:(0,a._)({},g()),states:{loading:{invoke:{id:"fetchFromCMP",src:globalThis.xssNamespace["lvweb/smart-tools"].filterUrl((0,o._)(function*(){try{var e=yield p.ZP.init({domain:"https://feed-api.capcut.com",appId:3006,bid:"capcut_web",entityKeys:["data-cookie-google-analytics","data-cookie-google-ads"],mode:p.AR.DEV,region:p.yp.SG,debug:!0,modules:{info:new m,thirdParties:[new p.Qb(p.P3,["data-cookie-google-analytics","data-cookie-google-ads"],p.yy.AND)]},plugins:[],api:{consent:{fetch:()=>({version:"v1"})}},storageType:p.Z1.localStorage,fetchDataAtInit:!1});console.log("consent init",e);var t=yield p.ZP.fetch();console.log("consent fetch",t);var n=p.ZP.getConsentEntities(["data-cookie-google-analytics","data-cookie-google-ads"]);if(console.log("consent fetch entities",n),0===n.length)return;var i=p.ZP.getConsentRecords(["data-cookie-google-analytics","data-cookie-google-ads"]);if(console.log("consent fetch records",i),2===n.length&&2!==i.length){console.warn("consent remove local",n),u.I.removeItem(h);return}}catch(e){console.error(e)}}),null,{logType:"js.href/src",mode:"black",reportOnly:"all"}),onDone:{target:"showOrClose",actions:["retrievePersistentConfig"]}}},showOrClose:{always:[{target:"show",cond:"shouldShowPrompt"},{target:"close",cond:"didUserAccpetOrDecline"}]},show:{entry:["resetConfig"],invoke:{id:"listeningUserAction",src:"listeningUserAction"},on:{ACCPET:{target:"close",actions:["accpetAllCookies","persistConfig"]},DECLINE:{target:"close",actions:["accpetEssentialCookies","persistConfig"]},DONE:{target:"close",actions:["retrievePersistentConfig"]}}},close:{}},on:{TOGGLE_SETTING:{actions:["toggleSetting","persistConfig"]}}},{services:{listeningUserAction:()=>e=>{function t(t){t.storageArea===localStorage&&t.key===h&&e("DONE")}return"undefined"!=typeof window&&window.addEventListener("storage",t),()=>{window.removeEventListener("storage",t)}}},actions:{resetConfig:(0,c.f0)(()=>f),accpetAllCookies:(0,c.f0)(()=>({status:1,settings:{firstPartyAnalytics:!0,GoogleAnalytics:!0},updatedTime:Date.now()})),accpetEssentialCookies:(0,c.f0)(()=>({status:2,settings:{firstPartyAnalytics:!1,GoogleAnalytics:!1},updatedTime:Date.now()})),toggleSetting:(0,c.f0)((e,t)=>{var{settings:n}=e;return{status:1,settings:(0,a._)({},n,t.settings),updatedTime:Date.now()}}),persistConfig:e=>{u.I.setString(h,JSON.stringify(e),Number(e.updatedTime)+Number(34128e6)),e.settings.GoogleAnalytics?p.ZP.updateConsentRecords(["data-cookie-google-analytics","data-cookie-google-ads"],p.lg.APPROVE,"approve").then(e=>{console.log("mhtest",e)}):p.ZP.updateConsentRecords(["data-cookie-google-analytics","data-cookie-google-ads"],p.lg.REJECT,"reject").then(e=>{console.log("mhtest",e)})},retrievePersistentConfig:(0,c.f0)(g)},guards:{shouldShowPrompt:e=>{var{status:t,updatedTime:n}=e,i=Date.now()-n>34128e6;return 0===t||i},didUserAccpetOrDecline:e=>{var{status:t,updatedTime:n}=e,i=[1,2].some(e=>e===t),r=Date.now()-n<=34128e6;return i&&r}}})},222248:function(e,t,n){"use strict";function i(e,t){try{var n=JSON.parse(null!=e?e:"{}");if("0"!==n.ret&&0!==n.status_code&&0!==n.code&&0!==n.e&&(!n.BaseResp||0!==n.BaseResp.StatusCode)&&"success"!==n.message){var i=n.log_id||t&&t.response&&t.response.headers&&t.response.headers["x-tt-logid"]||"",r=(n.message||n.errmsg||"").slice(0,50);return{ret:(n.ret||n.BaseResp&&n.BaseResp.StatusCode||n.status_code||n.code||n.e||"").toString(),msg:r.toString(),logId:i.toString()}}}catch(e){}return!1}n.d(t,{I:function(){return i}})},734333:function(e,t,n){"use strict";n.d(t,{bc:function(){return x}});var i,r,o=n(461228),a=n(69984),s=n(574451),c=n(772322);n(822289),n(529114);var l=n(5622),u=n(595051);n(218571);var d=n(41723),p=n.n(d),h=n(123951),f=n(245761),v=n(984452),g=n(194066),m=n(555725),_=n(968507),y=n(682478),b=n(134680),w=n(915014),E=n(646865),S=n(7583);function k(){return(k=(0,o._)(function*(){try{var{data:e}=yield g.i.getBanStatus();if(!e)return null;return{ban:e.ban||!1,deleteTime:1e3*(e.delete_time||0),dueTime:1e3*(e.due_time||0)}}catch(e){return null}})).apply(this,arguments)}n(302892),(i=r||(r={}))[i.under13=0]="under13",i[i.under18=1]="under18";class x{start(e){this.userInfo=null==e?void 0:e.userInfo,this.quebecAgeGateBand.start(e),this.ageNormalBan.start({userInfo:this.userInfo}),this.ageDeviceBan.start()}startLoopCheckBanStatus(){return(0,o._)(function*(){var e=yield function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6e4;return new Promise(t=>{var n=()=>{(function(){return k.apply(this,arguments)})().then(i=>{(null==i?void 0:i.ban)?t(i):setTimeout(n,e)})};n()})}();if(e){var{deleteTime:t,dueTime:n}=e;if(t<=Date.now()){S.h.logout(),S.O.logout();return}var i=p()(t).format("MMM D, YYYY"),r=p()(n).format("MMM D, YYYY");l.Z.warning({title:h.ZP.t("pc_birthday_info_remove_account_title",{string0:i},"Your account will be removed on {string0}"),content:h.ZP.t("pc_birthday_info_remove_account_desc",{string0:i,string1:r},"Your account was banned and will be deleted on {string0} because it looks like you don't meet the age requirement to use CapCut. If this is a mistake, you can appeal on App before {string1}."),closable:!1,escToExit:!1,maskClosable:!1,maskStyle:{zIndex:99999999},wrapStyle:{zIndex:99999999},okText:h.ZP.t("log_out",{},"Log out"),onOk:()=>{S.h.logout(),S.O.logout()}}),new f.J().report()}})()}destroy(){this.quebecAgeGateBand.destroy()}setIsAgeBanned(e){this.isAgeBanned=e}goAppealPage(){this.userInfo&&!this.verifyTicket&&window.open((0,m.G3)("/appeal-age-restriction",{uid:this.userInfo.uid,verify_ticket:this.verifyTicket}),"_blank")}openAppealModal(e){var{title:t=h.ZP.t("dre_account_title_capcut_not_available_age_reason",{},"Can\u2019t access"),okText:n=h.ZP.t("web_quebec_users_button_appel_age_restriction",{},"Appel age restriction"),onLogout:i}=e,r=(0,s._)(e,["title","okText","onLogout"]);this.isAgeBanned||(this.setIsAgeBanned(!0),l.Z.warning((0,a._)({title:t,maskClosable:!1,closable:!1,escToExit:!1,backspaceToExit:!1,autoFocus:!1,footer:(0,c.jsx)("div",{className:"lv-modal-footer",children:!!i&&(0,c.jsx)(u.Z,{type:"secondary",onClick:i,children:h.ZP.t("web_sign_out",{},"Sign out")})})},r)))}openBusinessAppealModal(e){var t=(0,c.jsxs)("div",{className:"lv-modal-footer",children:[(0,c.jsx)(u.Z,{type:"secondary",onClick:e.onRedirect,children:h.ZP.t("commercepro_signin_age_limit_button",{},"Go to CapCut")}),(0,c.jsx)(u.Z,{type:"primary",onClick:e.onLogout,children:h.ZP.t("web_sign_out",{},"Sign out")})]}),n=(0,c.jsx)("div",{className:"lv-modal-footer",children:(0,c.jsx)(u.Z,{type:"primary",onClick:e.onLogout,children:h.ZP.t("web_sign_out",{},"Sign out")})});this.openAppealModal({title:e.title,okText:e.okText,content:e.content,className:"businessLoginAgeUnderLimit",wrapClassName:"businessLoginAgeUnderLimitWrapper",maskStyle:{zIndex:2e3,backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},wrapStyle:{zIndex:2e3},footer:0===e.type?n:t})}openBirthdayFillModal(e){return l.Z.info((0,a._)({maskClosable:!1,closable:!1,escToExit:!1,backspaceToExit:!1,autoFocus:!1,focusLock:!0,className:"age-gate-birthday-detail-modal-content",wrapClassName:"age-gate-birthday-detail-modal",content:(0,c.jsx)(E.o,(0,a._)({},null==e?void 0:e.birthdayFillProps)),footer:null,title:null,icon:null},null==e?void 0:e.modalProps))}checkBirthday(e,t){var n,i,r,o;return(0,v.Ig)(e,t,null!==(o=null===(r=(0,w.KC)())||void 0===r?void 0:null===(i=r.Subdivisions)||void 0===i?void 0:null===(n=i.map)||void 0===n?void 0:n.call(i,e=>e.GeoNameID))&&void 0!==o?o:[])}constructor(){this.isAgeBanned=!1,this.quebecAgeGateBand=new _.T({ageGateChecker:this}),this.ageDeviceBan=new y.M,this.ageNormalBan=new b.m({ageGateChecker:this})}}},237823:function(e,t,n){"use strict";n.d(t,{Jn:function(){return o},Vb:function(){return a},wQ:function(){return r}});var i=n(460198),r="0.0.1",o="14.0.0",a={GetAICutout:{hostNameType:i.b_.Default,url:"/lv/v1/editor/image/saliency_seg"},GetAICutoutWithBrush:{hostNameType:i.b_.Default,url:"/lv/v1/editor/image/interactive_matting"},GetAICutoutToAutoSelection:{hostNameType:i.b_.Default,url:"/api/biz/v1/image/entity_seg"},GetAIBackground:{hostNameType:i.b_.Default,url:"/lv/v1/editor/image/gen_background"},ApplyAutoLayout:{hostNameType:i.b_.Default,url:"/lv/v1/editor/plane/resize/auto"},GetAutoLayoutDimensions:{url:"https://sf16-muse-va.ibytedtos.com/obj/ies-fe-bee-maliva/bee_prod/biz_149/bee_prod_149_bee_publish_854.json",HostNameType:i.b_.Default},AIChangeStickerColor:{HostNameType:i.b_.Default,url:"/lv/v1/editor/color/change_sticker_color"},T2DTemplateLists:{hostNameType:i.b_.Default,url:"/lv/v1/editor/plane/intelligence/query_recommend_template"},T2DTemplateDetails:{hostNameType:i.b_.Default,url:"/lv/v1/editor/plane/intelligence/fill_render"},ImageEmbedResource:{hostNameType:i.b_.Default,url:"/lv/v1/editor/image/embed_resource"},IdentifyPerson:{hostNameType:i.b_.Default,url:"/lv/v1/editor/human_detection"}}},141548:function(e,t,n){"use strict";n.d(t,{s:function(){return r}});var i=n(460198),r={GetBatchPresetResources:{hostNameType:i.b_.Default,url:"/lv/v1/intelligence/preset_resource_list"},SyncAsset:{hostNameType:i.b_.Default,url:"/lv/v1/ever_photo/batch_sync_asset"},SyncAssetStatus:{hostNameType:i.b_.Default,url:"/lv/v1/ever_photo/batch_get_sync_state"}}},645241:function(e,t,n){"use strict";var i;n.d(t,{Y:function(){return i}}),(i||(i={})).USER_SPACE_SIZE_CHANGE="USER_SPACE_SIZE_CHANGE"},957657:function(e,t,n){"use strict";n.d(t,{M:function(){return c}});var i=n(461228),r=n(282560),o=n(117785),a=n(747890),s=n(640712);class c extends r.bF{get type(){return r.Gk.CLUSTER_FILM}get id(){var e;return this.entryId||(null===(e=this.entry)||void 0===e?void 0:e.entry_id)}get notOnlyId(){return this._sourceData.cluster_id}get name(){var e;return(null===(e=this._lastAsset)||void 0===e?void 0:e.name)||""}get duration(){var e;return null===(e=this._lastAsset)||void 0===e?void 0:e.duration}get size(){var e;return null===(e=this._lastAsset)||void 0===e?void 0:e.size}get sizeStr(){var e;return null===(e=this._lastAsset)||void 0===e?void 0:e.sizeStr}get author(){var e;return null===(e=this.entry)||void 0===e?void 0:e.owner_id}get updatedAt(){var e,t;return(null===(t=this._sourceData)||void 0===t?void 0:null===(e=t.entry)||void 0===e?void 0:e.access_at_ts)*1e3}get relation(){var e;return null===(e=this._sourceData._relation)||void 0===e?void 0:e.map(e=>"".concat(e))}get meta(){var e;return null===(e=this._sourceData)||void 0===e?void 0:e._meta}get assetCount(){return this._sourceData.n_asset}get asset(){return this._sourceData.assets||[]}get lastAssetId(){var e,t,n=this.asset[this.asset.length-1],i=s.iH.sortArrayByRelation({exists:this.asset,relation:null!==(e=this.relation)&&void 0!==e?e:[]});return null!==(t=i[i.length-1])&&void 0!==t?t:n}get bindId(){return this._sourceData.bind_id}updateLastAsset(e){this._lastAsset=e}get draftName(){var e,t,n;return null!==(n=this._draftName)&&void 0!==n?n:null===(t=this.meta)||void 0===t?void 0:null===(e=t.draft)||void 0===e?void 0:e.name}get lastAsset(){return this._lastAsset}tryGetDraftName(){var e=this;return(0,i._)(function*(){if(!e.bindId)return e._draftName=null===(r=e.meta)||void 0===r?void 0:null===(i=r.draft)||void 0===i?void 0:i.name,e._draftName;try{var t,n,i,r,o,a,c,l=yield s.iH.getPackageByKey(e.bindId);return e._draftName=null!==(c=null==l?void 0:l.name)&&void 0!==c?c:null===(a=e.meta)||void 0===a?void 0:null===(o=a.draft)||void 0===o?void 0:o.name,e._draftName}catch(i){return null===(n=e.meta)||void 0===n?void 0:null===(t=n.draft)||void 0===t?void 0:t.name}})()}get permission(){var e,t;return s.iH.isGroupSdk?null!==(t=null===(e=this.entry)||void 0===e?void 0:e.permission)&&void 0!==t?t:o.y3.PUBLIC:o.y3.PERSONAL}get isPublic(){return this.permission===o.y3.PUBLIC}get isPersonal(){return this.permission===o.y3.PERSONAL}get owner(){var e,t;return(null===(t=this._sourceData._meta)||void 0===t?void 0:null===(e=t.uploadSource)||void 0===e?void 0:e.owner)||""}get entryId(){return this._sourceData.entry_id}get entry(){return this._sourceData.entry}get createdAt(){var e,t;return(null===(t=this._sourceData)||void 0===t?void 0:null===(e=t.entry)||void 0===e?void 0:e.created_at_ts)*1e3}constructor({cluster:e,lastAsset:t}){var n=(0,a.Wg)({obj:e,serializeKey:"meta",targetKey:"_meta"});super(n=(0,a.Wg)({obj:n,serializeKey:"relation",targetKey:"_relation"})),this._lastAsset=t,this.tryGetDraftName()}}},179977:function(e,t,n){"use strict";n.d(t,{q:function(){return r}});var i=n(722169);class r{addParams(e){this.data=(0,i.merge)({},this.data,e)}get reportData(){return{event:this.event,data:this.data}}addProcessParams(e){this.process=(0,i.merge)({},this.process,e)}get reportProcess(){return{event:this.progressEvent,data:this.process}}constructor(){this.event="evercloud_sdk_init_timer",this.data={},this.progressEvent="evercloud_sdk_init_process",this.process={}}}},828592:function(e,t,n){"use strict";n.d(t,{s:function(){return l}});var i=n(461228),r=n(69984),o=n(764112),a=n(364731),s=n(640712),c=n(461133);class l extends a.K{done(){return new Promise((e,t)=>{this.result&&this.result.status&&("success"===this.result.status?e(this.result):t(this.result)),this.finishListenQueue.push([e,t])})}cancel(){var e=this;return(0,i._)(function*(){var t,n;return e.result.status="cancel",null===(n=e.result)||void 0===n||null===(t=n.data)||void 0===t||t.forEach((t,n)=>{if(t===c.iY.UNTRANSCODE){var i,r;null===(r=e.result)||void 0===r||null===(i=r.data)||void 0===i||i.set(n,c.iY.CANCEL)}}),yield e.sdk.sdk.cancel_image_transcode_info_loop({listeners:e.target.map(e=>(0,o._)((0,r._)({},e),{transcode_type:c.py[e.resolution]})),cancel_all:0})})()}destroy(){super.destroy(),clearTimeout(this._triggerTimer),this.finishListenQueue=[],this.sdk.eventBus.removeListener(s.zW.ImageTranscodeInfoEndPull,this.onTranscodeDoneHandler)}_triggerGetUpdates(){this._triggerTimer=setTimeout(()=>{this.sdk.throttlingGetUpdatesTrigger({throttle:this._triggerTimes}),this._triggerTimer=void 0,this._triggerGetUpdates()},this._triggerTimes)}_onTranscodeDoneHandler(e){var t,n,i;if(e.timeout){null===(t=this.result.data)||void 0===t||t.forEach((e,t)=>{if(e===c.iY.UNTRANSCODE){var n;null===(n=this.result.data)||void 0===n||n.set(t,c.iY.TIMEOUT),this.finishedFlag+=1}}),null===(n=this.onProcess)||void 0===n||n.call(this,this.result),this.result.status="error",this.onFinishHandler();return}for(var r of e.infos)i=this,function(e){var t,n,r=!1,{transcode_type:o,assets:a,failed_list:s}=e,l=c.hn[o];null==a||a.forEach(e=>{var t,n,o,a,s,u,d,p,h="".concat(l,"_").concat(e.id),f="".concat(l,"_").concat(e.md5);(null===(n=i.result)||void 0===n?void 0:null===(t=n.data)||void 0===t?void 0:t.get(h))===c.iY.UNTRANSCODE&&(null===(u=i.result)||void 0===u||null===(s=u.data)||void 0===s||s.set(h,c.iY.SUCCESS),i.finishedFlag+=1,r=!0),(null===(a=i.result)||void 0===a?void 0:null===(o=a.data)||void 0===o?void 0:o.get(f))===c.iY.UNTRANSCODE&&(null===(p=i.result)||void 0===p||null===(d=p.data)||void 0===d||d.set(f,c.iY.SUCCESS),i.finishedFlag+=1,r=!0)}),null==s||s.forEach(e=>{var t,n,o,a,s,u,d,p,h="".concat(l,"_").concat(e.asset_id),f="".concat(l,"_").concat(e.md5);(null===(n=i.result)||void 0===n?void 0:null===(t=n.data)||void 0===t?void 0:t.get(h))===c.iY.UNTRANSCODE&&(null===(u=i.result)||void 0===u||null===(s=u.data)||void 0===s||s.set(h,c.iY.FAILED),i.finishedFlag+=1,r=!0),(null===(a=i.result)||void 0===a?void 0:null===(o=a.data)||void 0===o?void 0:o.get(f))===c.iY.UNTRANSCODE&&(null===(p=i.result)||void 0===p||null===(d=p.data)||void 0===d||d.set(f,c.iY.FAILED),i.finishedFlag+=1,r=!0)}),r&&(null===(n=i.onProcess)||void 0===n||n.call(i,i.result)),(null===(t=i.result.data)||void 0===t?void 0:t.size)===i.finishedFlag&&(i.result.status="success",i.onFinishHandler())}(r)}onFinishHandler(){var e,t;for(var n of this.finishListenQueue)(null===(t=this.result)||void 0===t?void 0:t.status)==="success"?n[0](this.result):n[1](this.result);null===(e=this.onFinish)||void 0===e||e.call(this,this.result),this.destroy()}constructor(e,t){super("unknow",t),this.result={data:new Map},this.finishedFlag=0,this.finishListenQueue=[],this._triggerTimes=3e3,this.target=e,e.forEach(e=>{var t,n;null===(t=e.ids)||void 0===t||t.forEach(t=>{var n,i;null===(i=this.result)||void 0===i||null===(n=i.data)||void 0===n||n.set("".concat(e.resolution,"_").concat(t),c.iY.UNTRANSCODE)}),null===(n=e.md5s)||void 0===n||n.forEach(t=>{var n,i;null===(i=this.result)||void 0===i||null===(n=i.data)||void 0===n||n.set("".concat(e.resolution,"_").concat(t),c.iY.UNTRANSCODE)})}),this._triggerGetUpdates(),this.onTranscodeDoneHandler=this._onTranscodeDoneHandler.bind(this),this.sdk.eventBus.addListener(s.zW.ImageTranscodeInfoEndPull,this.onTranscodeDoneHandler)}}},849437:function(){"use strict";var e,t;(t=e||(e={}))[t.CREATED=0]="CREATED",t[t.CANCELED=1]="CANCELED",t[t.UPLOADED=2]="UPLOADED",t[t.DELETED=3]="DELETED"},608230:function(e,t,n){"use strict";function i(e){var t=document.createElement("a");t.download="",t.target="_blank",t.href=globalThis.xssNamespace["lvweb/smart-tools"].filterUrl(e,null,{logType:"js.href/src",mode:"black",reportOnly:"all"}),t.style.display="none",t.click()}function r(e){var t=document.createElement("iframe");t.src=globalThis.xssNamespace["lvweb/smart-tools"].filterUrl(e,null,{logType:"js.href/src",mode:"black",reportOnly:"all"}),t.style.display="none",document.body.appendChild(t)}n.d(t,{$:function(){return i},B:function(){return r}})},187139:function(){"use strict";var e,t;(t=e||(e={}))[t.UpdateDocumentAction=0]="UpdateDocumentAction",t[t.AddPageAction=100]="AddPageAction",t[t.MovePageAction=101]="MovePageAction",t[t.RemovePageAction=102]="RemovePageAction",t[t.ResizePageAction=103]="ResizePageAction",t[t.AddLayerAction=200]="AddLayerAction",t[t.UpdateLayerAction=201]="UpdateLayerAction",t[t.DeleteLayerAction=202]="DeleteLayerAction",t[t.GroupLayerAction=203]="GroupLayerAction",t[t.UngroupLayerAction=204]="UngroupLayerAction",t[t.InsertTextTemplateAction=300]="InsertTextTemplateAction",t[t.ApplyTemplateAction=301]="ApplyTemplateAction",t[t.MultiAction=400]="MultiAction"},423327:function(){"use strict";var e,t;(t=e||(e={})).VERTICAL="vertical",t.HORIZONTAL="horizontal"},567035:function(){"use strict";var e,t;(t=e||(e={})).NONE="none",t.COLOR="color",t.IMAGE="image"},704626:function(e,t,n){"use strict";n.d(t,{z:function(){return r}});var i=n(658742);class r{get onEvicted(){return this._onEvicted||(this._onEvicted=new i.Q),this._onEvicted.event}get(e){var t=this._cache.get(e);return t&&(this._cache.delete(e),this._cache.set(e,t)),t}put(e,t){if(this._cache.has(e))this._cache.delete(e);else if(this._cache.size>=this._capacity){var n,i=this._cache.keys().next().value,r=this._onEvicted?this._cache.get(i):null;this._cache.delete(i),null===(n=this._onEvicted)||void 0===n||n.fire(i,r)}this._cache.set(e,t)}remove(e){this._cache.get(e)&&this._cache.delete(e)}size(){return this._cache.size}clear(){this._cache.clear()}constructor(e){this._capacity=e,this._cache=new Map}}},719265:function(e,t,n){"use strict";n.d(t,{G:function(){return i}});var i=Object.freeze({dispose(){}})},392174:function(e,t,n){"use strict";function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(t<<5)-t+e|0}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t=i(149417,t);for(var n=0,r=e.length;n<r;n++)t=i(e.charCodeAt(n),t);return t}n.d(t,{Cv:function(){return r}}),n(978279)},604911:function(e,t,n){"use strict";n.d(t,{_:function(){return r}});var i=n(658742);class r{bootstrap(){this._timer=setTimeout(this._tick,this._interval)}stop(){this._timer&&clearTimeout(this._timer)}constructor(e=3e4){this._interval=e,this._onTick=new i.Q,this._tick=()=>{this._onTick.fire(),this._timer=setTimeout(this._tick,this._interval)},this.onTick=this._onTick.event}}},970260:function(e,t,n){"use strict";var i,r;n.d(t,{U:function(){return i}}),(r=i||(i={}))[r.Master=0]="Master",r[r.Slave=1]="Slave"},555827:function(e,t,n){"use strict";n.d(t,{MI:function(){return o},qk:function(){return a},tF:function(){return s},wO:function(){return c}});var i=n(461228);function r(){var{searchParams:e}=new URL(window.location.href);return!!e.get("debug")}function o(){var{searchParams:e}=new URL(window.location.href),t=e.get("__keep_uploading__");return r()&&"1"===t}function a(){var{searchParams:e}=new URL(window.location.href),t=e.get("__keep_uploading__");return r()&&"2"===t}function s(){var{searchParams:e}=new URL(window.location.href),t=e.get("__keep_uploading__");return r()&&"3"===t}function c(){return l.apply(this,arguments)}function l(){return(l=(0,i._)(function*(){yield new Promise(()=>{})})).apply(this,arguments)}},525479:function(e,t,n){"use strict";n.d(t,{T:function(){return a},i:function(){return s}});var i=n(807283),r=e=>{var{payinPayoutHelper:t,workspaceId:n,reporterParams:i,payScene:r,onOk:o,onCancel:a}=e;t.addListenNotEnoughModalOK(o),t.addListenNotEnoughModalCancel(a),t.showSpaceNotEnoughModal({workspaceId:n,payScene:r,reporterParams:i})},o=e=>{var{payinPayoutHelper:t,workspaceId:n,payScene:i,uploadFileList:r=[],onOk:o,onCancel:a}=e;t.addListenNotEnoughModalOK(o),t.addListenNotEnoughModalCancel(a),t.showPayUploadFullSpaceModal({workspaceId:n,payScene:i,uploadFileList:r})},a=e=>{var{payinPayoutHelper:t,workspaceId:n,payScene:i,pageFrom:r,isUpgrade:o,onPaySuccess:a,onPayFailed:s,reporterParams:c}=e;t.addListenPaySuccess(a),t.addListenPayFailed(s),t.showExpandModal({workspaceId:n,payScene:i,pageFrom:r,isUpgrade:o,reporterParams:c})},s=e=>{var{payinPayoutHelper:t,workspaceId:n,payScene:a,uploadFileList:s,reporterParams:c,onOk:l,onCancel:u,onPaySuccess:d,onPayFailed:p}=e;(t.addListenPaySuccess(d),t.addListenPayFailed(p),!0==!!(a===i.Mm.UPLOAD&&(null==s?void 0:s.length)))?o({payinPayoutHelper:t,workspaceId:n,payScene:a,uploadFileList:s,reporterParams:c,onOk:()=>{null==l||l(),t.triggerOnNotEnoughModalOK({workspaceId:n,payScene:a})},onCancel:()=>{null==u||u(),t.triggerOnNotEnoughModalCancel({workspaceId:n,payScene:a})}}):r({payinPayoutHelper:t,workspaceId:n,payScene:a,reporterParams:c,onOk:()=>{null==l||l(),t.triggerOnNotEnoughModalOK({workspaceId:n,payScene:a})},onCancel:()=>{null==u||u(),t.triggerOnNotEnoughModalCancel({workspaceId:n,payScene:a})}})}},270816:function(e,t,n){"use strict";n.d(t,{g:()=>C});let i=n("963730"),r=n("374341"),o=n("665257"),a=n("879565"),s=n("88685"),c=n("674679"),l=n("899069"),u=n("543544"),d=n("361617"),p=n("428271"),h=n("452994"),f=n("649183"),v=n("426338"),g=n("776938"),m=n("620874"),_=n("241424"),y=n("210441"),b=n("461228"),w=n("789786"),E=n("577729"),S=n("37011"),k=n("831246"),x=n("287067");class A extends E.JT{getIsBindShopify(){if(void 0!==this._isBindShopify)return Promise.resolve(this._isBindShopify);var e,t=this;return new Promise((e=(0,b._)(function*(e){t._account.hasLogin?e((yield t._getIsBindShopify())):t._account.onDidLogin((0,b._)(function*(){e((yield t._getIsBindShopify()))}))}),function(t){return e.apply(this,arguments)}))}_getIsBindShopify(){var e=this;return(0,b._)(function*(){var{isBind:t}=yield e._ShopifyDataService.getIsBindShopify();return e._isBindShopify=t,t})()}constructor(e,t){super(),this._account=e,this._instantiationService=t,this._ShopifyDataService=this._instantiationService.createInstance(x.q)}}A=(0,w.gn)([(0,w.fM)(0,k.D),(0,w.fM)(1,S.T),(0,w.w6)("design:type",Function),(0,w.w6)("design:paramtypes",[void 0===k.D?Object:k.D,void 0===S.T?Object:S.T])],A);var C=(e,t)=>{e.register(r.j,o.G),e.register(f.H,v.u),e.register(a.c,new i.M(s.e,[t])),e.register(c.i,l.hv),e.register(u.t,d.C),e.register(g.uJ,g.Vl),e.register(m.p,_.X),e.register(p.E,new i.M(h.R,[t])),e.register(y.i,A)}},931310:function(e,t,n){"use strict";n(125886)},658655:function(e,t,n){"use strict";n.d(t,{c:()=>A});let i=n("461228"),r=n("69984"),o=n("764112"),a=n("789786"),s=n("577729"),c=n("524291"),l=n("883002"),u=n("733760"),d=n("5313"),p=n("285348"),h=n("810381"),f=n("123951"),v=n("722169"),g=n("565624"),m=n("983266"),_=n("370905"),y=n("427893"),b=n("285112"),w=n("551503"),E=n("348873"),S=n("254845");var k=e=>{switch(e.type){case p.NS.TikTok:return(0,o._)((0,r._)({},e),{logo:_});case p.NS.TikTokShopSeller:case p.NS.TikTokShopAffiliate:return(0,o._)((0,r._)({},e),{logo:y});case p.NS.Shopify:return(0,o._)((0,r._)({},e),{logo:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAdWSURBVHgBzVlpcBRFFP66J5uYhKyRQIhRSNSIEYGACioq5IAkXuVR5VmKB1paQlBKPH5QClLqH1REl6NKywOPKi8QKQxnQnFoQTyQoPHCAAFBEgi5Ntnd6fb1hmxlszOTPWaRb2uqZ97r7u3X/d7r168ZbMDcVZelDEnLeFqAPwHIs3qx3hgM55w7ij5rQ5zAECOWbb1pmM/nWQ6JiQysWjL5sRBsv8blK1JirASaOWQd4/yrduF4e3bR142wETEJ8NaGkgymaVXUzSgp2RMziisXKbqruvQNSDazpx4J8jtjGE5vtR6kXDuraGUzbAJHLODaq/7BM0ztGfziqvL5avCMY6EAK1I0mqV3SIrpJOSIROl+FTYiagFcVeUPMMbuB2fzZhSuXe6nbS6bKiHn0JAXPD5p7ayKospqEmYvSXDp9OJ1i0mA1+j9oSVV5YWwCVEJ8Km8XSN1eIFe66dPqpwbYAjMUzTdzeYHaEzuJhUapV59vPMlspUOHWImTcArL389pXLaouLxiAFRCdBY3fIIFblCYnYP7c1NZfcoGo143szrv2npoZNhN5P+pyzdVF6SiKT5REgm2q00Ac+RMGVen2/LNFdhOaJEVAKQZ3mWnrqK4rVf9NA0hruhVqSo8j31/W7VLek0y9NIpSYpwXQmN1A5A6GOI9HrEWseXjTxNkSBiL3QWxtLJzLONlPTB3sGu6zmphRfq6edaCtIvG3U6Y2kNuOp9xSrvk60CtT92RX45py/QwIflDq17v5e+N6sakuPlYAIQct/t79hmmO1KpduuG6E3uqr6OZKUg3cKrsrRgwhxLSTf9JdaPw3Kj6xahO5CnFcRgNs8LZ4n3dtKjuoa2KPhHgMcYDQvWP6qxPWCih9bpedEziT5CYxzj9BTFYg7uCZ/dUwFUAN2g33XfR6Z4d0j1eeROLUQkp5aX91TAVol+5tNOgR/o+YI6aoMbS/CoZDq6oqTPgFSV5EgMSEVDjPyMLA1FzanDmE1NHW1YgjLb9CF8Zd9fVCRtASZOa7M7ccNeMbrkCtdFzBw5z17PTRGJ97L7KcI8jthXb3c8NKbP1zKaIFQ0I2FZEJoGlahhTWGp+UMACTL34GORnWkUBD80+IBVIXE6jYZcY3tgGJi2CBAUmDccvYBaQyQ2D551Lg8IlfEAtoT7Mci9k+YGk8JRc/3e/gFf45UYtObwtiAdPYOVZ8EwFYnlmDvMxJOIf03gjy5K8Hh0iAWMEECqz4hipESz/IrMHI7BtCaHsbt2PXgS/9M66gvFF2+ig0tu1FrBBSWi618QowYxvQuMPvdXqjtfMIKmtfDAxeoaXzMOoOrycB/oINcD7oKjVV6RAB3t5eNpC0wGlUOT0ltJ8uXzviDa67R5vy+hLcXcy0skM7I4SWQRvXsIExHar6hceLC814PJTATHWuo+tYCI3Rrnvj6BcxjjazeIFzldEw4fUlkAGb+l2l72YqowS478r3w3KvkYKSAdlmvFAj5uZ+V7nI3Q0rzNhIo8HfOW4ZLsqajHAQboxI9UxdaagKSWm6XAq7KLZp7jhoyld2UpI/G8OHFMM2MAydK+caesxQFQLLgAW6fG1Ytes5ijLrrKrh6rzH/BGqHaATsla/sHqYEc9AKpmPftDWdRRf/PAkdtQvN62T7HAiP2sK7AJLwDVG9CABFm+54XwqHAgTNfUfYfXPc0z5mWmW2hgRdI8wtM0gAegMkoMIsf9YDfYcWm3IG5A0CHaBUjmGmhEkgBBe0w1DYdCACwzpR1p+Q7xBx9vzjehBAmgWLlQdYO643IXifAqlk4Pdcu6gKwzbdHiOwS4IIQ2NODgatTjIDE7rXpz8rBL/09T+N+3MTaQmmTgr1bBvUq/vYSNyZ39Qmrpg6rqgnbRvOG26jeZmBM9yRup5/scMrZ3/Yl/TTtiJprYONb6gGD3YBmBuxM7ksxEJfjrwOdxe2y5i/PC52cS+tIAAi9Zc56Qt23RKt/yxmGL+PQgHO+s/xO6Dq2A3NM5DDDmgQolONly3yASpQG7Fj09R6Hw5Rp17M7LPHElhQ3KAL/wH+FrU7PsYDcdjy0SYQRqc1QMC6F49LKet/L56FFLJz6twwSe64PY0w6d3Is4ISfb2NmLL9IUR2inzpp5TBxni5gM2wKR1+uJ0AAV1gx94vTC9Ny0ggM7Edrq8cPkvq+lyGqcpHAnyqt7fARWqKFq3koqVPd/L1k8epjscl1CKu4Csh87JMofugwvIU9kTI0cJj1cGhQGm6fVHp2zYT4V6vulNX7KtdKTPgzwOPoZBFtD54VwSbiyxNMQJXG1RnH1P4cR2OoMHbe+2Zf5dG0snkKPOoR5HQ6eHiaHqFt+qTQul1381SK/TxAgaaA0ltb51cOzQJV9jdtkX16sLdcvThs4xmjokcfJyOhtD/3gena1zggRg8NGt/07KiO9waPw7r6at/2DGxqZw/uN/uXtxraVMWxLLO3FcL/i93lefnOTbvOTxrccRBf4DLyeUGsGUSHAAAAAASUVORK5CYII="});case p.NS.YouTube:return(0,o._)((0,r._)({},e),{logo:b});case p.NS.FacebookPage:return(0,o._)((0,r._)({},e),{logo:g});case p.NS.Instagram:return(0,o._)((0,r._)({},e),{logo:m});case p.NS.GoogleDrive:return(0,o._)((0,r._)({},e),{logo:w});case p.NS.Dropbox:return(0,o._)((0,r._)({},e),{logo:E});default:return(0,o._)((0,r._)({},e),{logo:""})}},x=e=>{switch(e.type){case p.NS.TikTok:return(0,o._)((0,r._)({},e),{title:()=>f.ZP.t("cc_ecom_link_account_tiktok",{},"TikTok")});case p.NS.TikTokShopAffiliate:return(0,o._)((0,r._)({},e),{title:()=>f.ZP.t("cc4b_biz_product_autho_ttshop_affiliate",{},"TikTok Shop Affiliate")});case p.NS.TikTokShopSeller:return(0,o._)((0,r._)({},e),{title:()=>f.ZP.t("cc4b_biz_product_autho_ttshop_seller",{},"TikTok Shop Seller")});case p.NS.Shopify:return(0,o._)((0,r._)({},e),{title:()=>f.ZP.t("cc_ecom_link_account_shopify",{},"Shopify")});case p.NS.YouTube:return(0,o._)((0,r._)({},e),{title:()=>f.ZP.t("cc_ecom_link_account_youtube",{},"Youtube")});case p.NS.FacebookPage:return(0,o._)((0,r._)({},e),{title:()=>f.ZP.t("cc_ecom_link_account_facebook",{},"Facebook")});case p.NS.Instagram:return(0,o._)((0,r._)({},e),{title:()=>f.ZP.t("cc_ecom_link_account_ins",{},"Instagram")});case p.NS.Dropbox:return(0,o._)((0,r._)({},e),{title:()=>f.ZP.t("cc_ecom_link_account_dropbox",{},"Dropbox")});case p.NS.GoogleDrive:return(0,o._)((0,r._)({},e),{title:()=>f.ZP.t("cc_ecom_link_account_google_drive",{},"Google Drive")});default:return e}};class A extends s.JT{get shopifyAccounts(){var e,t;return(null!==(t=null===(e=this.observableData.eCommerceAccounts.filter(e=>e.type===p.NS.Shopify)[0])||void 0===e?void 0:e.children)&&void 0!==t?t:[]).filter(e=>e.status===u.tD.Linked)}get supportedLinkedAccounts(){return this.observableData.mediaAccounts.filter(e=>e.isSupported).map(e=>e.children).flat().filter(Boolean).filter(e=>e.status===u.tD.Linked)}_init(){var e=this;return(0,i._)(function*(){yield e._updateAccounts()})()}update(){var e=this;return(0,i._)(function*(){e._businessAuthorizationService.updateContext(),yield e._updateAccounts()})()}_updateAccounts(){var e=this;return(0,i._)(function*(){var t=yield e.getAccounts(),n=t.filter(e=>e.group===u.bk.Media).map(x).map(k),i=t.filter(e=>e.group===u.bk.ECommerce).map(x).map(k),r=t.filter(e=>e.group===u.bk.CloudStorage).map(x).map(k),o=e._businessAuthorizationService.getGroupMaxCount(),a=o.find(e=>"media"===e.group),s=o.find(e=>"shop"===e.group),c=o.find(e=>"cloudDisk"===e.group);(0,S.z)(()=>{e.observableData.mediaAccounts=n,e.observableData.eCommerceAccounts=i,e.observableData.cloudStorageAccounts=r,a&&(e.observableData.mediaGroup=a),s&&(e.observableData.eCommerceGroup=s),c&&(e.observableData.cloudStorageGroup=c)})})()}getAccounts(e){var t=this;return(0,i._)(function*(){yield t._businessAuthorizationService.initialize();var e=t._businessAuthorizationService.getAccounts();return t._businessAuthorizationService.getAllPlatform().map(t=>{var{type:n}=t,i=e.filter(e=>e.type===n);return(0,o._)((0,r._)({},t),{children:[...(0,v.uniqBy)(i,"id")]})})})()}getAllAccounts(){var e=this._businessAuthorizationService.getAllPlatform(),t=this._businessAuthorizationService.getAccounts();return{mediaAccounts:e.filter(e=>e.group===u.bk.Media).map(x).map(k).map(e=>(0,o._)((0,r._)({},e),{children:t.filter(t=>t.type===e.type)})),eCommerceAccounts:e.filter(e=>e.group===u.bk.ECommerce).map(x).map(k).map(e=>(0,o._)((0,r._)({},e),{children:t.filter(t=>t.type===e.type)})),cloudStorageAccounts:e.filter(e=>e.group===u.bk.CloudStorage).map(x).map(k).map(e=>(0,o._)((0,r._)({},e),{children:t.filter(t=>t.type===e.type)}))}}requestAuth(e,t){var n=this;return(0,i._)(function*(){var{span:i}=(0,c.VL)(e,"request_auth");yield n._businessAuthorizationService.initialize();var r=n._businessAuthorizationService.requestAuth(e,t);i.end();var o=yield r;if(o.ok)return o.value===u.Tv.AuthorizationStatusSuccess?n._reportService.reportDevEvent("request_auth",{code:"0",type:"".concat(t)}):n._reportService.reportDevEvent("request_auth",{code:"".concat(o.code),err_msg:o.value,type:"".concat(t)}),o.value;throw n._reportService.reportDevEvent("request_auth",{code:"".concat(o.code),err_msg:o.msg,type:"".concat(t)}),Error(o.msg)})()}withdrawAuth(e,t){var n=this;return(0,i._)(function*(){yield n._businessAuthorizationService.initialize();var i=yield n._businessAuthorizationService.withdrawAuth(e,t);if(i.ok&&i.value===u.tD.Unlinked)return n._reportService.reportDevEvent("withdraw_auth",{code:"0"}),i.value;throw n._reportService.reportDevEvent("withdraw_auth",{code:"".concat(i.code),err_msg:i.msg}),Error(i.msg)})()}getSupportedMediaPlatform(){return this._businessAuthorizationService.getSupportedPlatform().filter(e=>e.group===u.bk.Media&&e.isSupported).map(x).map(k)}constructor(e,t){super(),this._businessAuthorizationService=e,this._reportService=t,this.observableData=(0,S.LO)({mediaAccounts:[],eCommerceAccounts:[],cloudStorageAccounts:[],mediaGroup:{group:"media",maxCount:-1},eCommerceGroup:{group:"shop",maxCount:-1},cloudStorageGroup:{group:"cloudDisk",maxCount:-1}}),this._register(this._businessAuthorizationService.onChangeAccount(()=>{this._updateAccounts()})),(0,S.rC)(this,{shopifyAccounts:S.Fl}),this._init()}}(0,a.gn)([(0,l.lI)("withdraw_auth"),(0,a.w6)("design:type",Function),(0,a.w6)("design:paramtypes",["undefined"==typeof Context?Object:Context,String]),(0,a.w6)("design:returntype",Promise)],A.prototype,"withdrawAuth",null),A=(0,a.gn)([(0,a.fM)(0,d._),(0,a.fM)(1,h.m),(0,a.w6)("design:type",Function),(0,a.w6)("design:paramtypes",[void 0===d._?Object:d._,void 0===h.m?Object:h.m])],A)},565141:function(e,t,n){"use strict";n.d(t,{o:()=>E});let i=n("772322");n("459360"),n("308423"),n("387346");let r=n("401725"),o=n("393755"),a=n("221489"),s=n("123951"),c=n("164079"),l=n("218571"),u=n("659179"),d=n("832406"),p=n("105789"),h=n.n(p),f=n("145193"),v=n("441468"),g=n("161405");n("644715");var m=e=>{var{underwayList:t=[],failList:n=[],successList:r=[],onCancel:o,onDelete:a,onOpenDetail:c,onClickItem:l,hideDropdown:u}=e,d=t.length+n.length;return(0,i.jsx)("div",{className:h()("Lv_Task-list"),children:(0,i.jsxs)("div",{className:"Lv_Task-list-wrapper",children:[0===d&&0===r.length&&(0,i.jsx)(g.H,{text:s.ZP.t("web_material_text_no_files_being",{},"Your synced files will appear here.")}),d>0&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"Lv_Task-list-header",children:s.ZP.t("videos_in_progress",{placeholder0:d},"{placeholder0} videos in progress")}),[...t,...n].map(e=>{var{id:t,status:n,videoName:r,progress:s,coverUrl:c}=e,d=n===f.h.Underway?v.HM:v.DR;return(0,i.jsx)(d,{taskId:t,videoName:r,progress:s,coverUrl:c,onCancel:n===f.h.Underway?o:void 0,onDelete:n===f.h.Fail?a:void 0,hideDropdown:u,onClickItem:l},t)})]}),r.length>0&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:h()("Lv_Task-list-header",{"header-completed":d>0}),children:s.ZP.t("completed_tasks",{},"Completed tasks")}),r.slice(0,5).map(e=>{var{id:t,videoName:n,progress:r,coverUrl:o,size:a,type:s,endTime:d,isActionAreaHidden:p}=e;return(0,i.jsx)(v.Oj,{taskId:t,videoName:n,progress:r,coverUrl:o,size:a,type:s,endTime:d,onOpenDetail:c,hideDropdown:u,onClickItem:l,isActionAreaHidden:p},t)})]}),r.length>=5&&(0,i.jsx)("div",{className:"Lv_Task-list-footer-tip",children:s.ZP.t("lastest_completed_displayed",{},"Only the latest 5 completed tasks are displayed here.")})]})})};let _=n("955736"),y=n("652900"),b=n("999993");n("932178");var{TabPane:w}=o.Z,E=e=>{var t,{tasks:n=[],isShowIconAnimation:p=!1,spaceSize:h="-4px",layoutSize:v="40px",onCancel:g,onDelete:E,onOpenDetail:S,onClickItem:k}=e,{[f.h.Underway]:x=[],[f.h.Success]:A=[],[f.h.Fail]:C=[]}=(0,c.Z)(n,e=>e.status),I=x.length,O=C.length,[D,R]=(0,l.useState)(!1),N=e=>{R(e)};return(0,i.jsx)(r.Z,{content:s.oc.t("web_taskbar",{},"Task bar"),children:(0,i.jsx)(a.Z,{droplist:(t=()=>{N(!1)},(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(o.Z,{destroyOnHide:!1,defaultActiveTab:"1",className:"Lv_Task-tabs",style:{transform:"translate(-16px,".concat(h,")")},children:(0,i.jsx)(w,{title:"".concat(s.oc.t("web_task_bar_text_export",{},"Export")," ").concat(I?"(".concat(I,")"):""),children:(0,i.jsx)(m,{underwayList:x,successList:A,failList:C,onCancel:g,onDelete:E,onOpenDetail:S,onClickItem:k,hideDropdown:t})},"1")})})),position:"bottom",trigger:"click",focusLock:!0,popupVisible:D,onVisibleChange:N,children:(0,i.jsxs)("div",{className:"Lv_Task-wrapper",id:"LvTaskWrapperTitleBarExportTask",style:{width:v,height:v},children:[(0,i.jsxs)(i.Fragment,{children:[0===O&&I>0&&(0,i.jsx)("div",{className:"Lv_Task-icon-tips count",children:I}),O>0&&(0,i.jsx)("div",{className:"Lv_Task-icon-tips icon",children:(0,i.jsx)(u.r7G,{})})]}),I>0?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"Lv_Task-processing dark",children:(0,i.jsx)(d.Lottie,{style:{display:"flex",width:"21px",height:"21px"},config:{loop:!0,animationData:y}})}),(0,i.jsx)("div",{className:"Lv_Task-processing light",children:(0,i.jsx)(d.Lottie,{style:{display:"flex",width:"21px",height:"21px"},config:{loop:!0,animationData:b}})})]}):p?(0,i.jsx)("div",{className:"Lv_Task-icon",children:(0,i.jsx)(d.Lottie,{style:{display:"flex"},config:{loop:!0,animationData:_}})}):(0,i.jsx)("div",{className:"Lv_Task-static-icon",children:(0,i.jsx)(u.Tnb,{size:24})})]})})})}},752781:function(e,t,n){"use strict";n(598048),n(361843),n(477346)},179419:function(e,t,n){"use strict";n.d(t,{c:function(){return c}});var i=n(772322);n(873221);var r=n(911169);n(218571);var o=n(824769),a=n(858930),s=n(285348),c=(0,n(193320).Pi)(e=>{var{publishHashTagManager:t,formValue:n,dispatch:c}=e,{selectedAccounts:l,title:u}=n;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(r.Z.Item,{layout:"vertical",children:(0,i.jsx)(a.VN,{authType:s.NS.FacebookPage,accountId:l[0],value:u,onChange:e=>{c({type:o.lH.update,data:{title:e}})},publishHashTagManager:t})})})})},457559:function(e,t,n){"use strict";var i,r;n.d(t,{Y:function(){return i}}),(r=i||(i={})).OnCreated="onCreated",r.Auto="auto",r.Manual="manual"},763385:function(e,t,n){"use strict";n.d(t,{_:function(){return s}});var i=n(789786),r=n(254845),o=n(151626),a=n(962604);class s extends o.g{get inactiveKeys(){return Array.from(this._inactiveKeys)}get hasUnsynced(){return this._getCopyFormList().some(e=>!(0,a.j)(this.formData,e.formData,this.inactiveKeys))}setInactiveKeys(e){this._inactiveKeys.clear(),e.forEach(e=>{this._inactiveKeys.add(e)}),this._updateVersion()}syncToAll(){this._getCopyFormList().forEach(e=>{e.syncFromTemplate()})}constructor(e){var{getInitialForm:t,getInitialMeta:n,getCopyFormList:i,validate:o}=e;super({getInitialForm:t,getInitialMeta:n,validate:o}),this._inactiveKeys=new Set,this._getCopyFormList=i,(0,r.rC)(this)}}(0,i.gn)([r.LO],s.prototype,"_inactiveKeys",void 0),(0,i.gn)([r.Fl,(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[]),(0,i.w6)("design:returntype",void 0)],s.prototype,"inactiveKeys",null),(0,i.gn)([r.Fl,(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[]),(0,i.w6)("design:returntype",void 0)],s.prototype,"hasUnsynced",null),(0,i.gn)([r.aD,(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[Array]),(0,i.w6)("design:returntype",void 0)],s.prototype,"setInactiveKeys",null),(0,i.gn)([r.aD,(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[]),(0,i.w6)("design:returntype",void 0)],s.prototype,"syncToAll",null)},26305:function(e,t,n){"use strict";n.d(t,{N:function(){return s}});var i=n(789786),r=n(5313),o=n(254845),a=n(192894);class s{_renewMediaAccouts(){this._list=this._businessAuthorizationService.getAccounts().filter(e=>a._b.includes(e.type))}get list(){return this._list}getAccountsByType(e){return this._list.filter(t=>t.type===e)}getAccountById(e,t){return this._list.find(n=>n.id===e&&(!t||n.type===t))}constructor(e){this._businessAuthorizationService=e,this._list=[],this._renewMediaAccouts(),this._businessAuthorizationService.onChangeAccount(()=>{this._renewMediaAccouts()})}}(0,i.gn)([o.LO,(0,i.w6)("design:type",Array)],s.prototype,"_list",void 0),(0,i.gn)([o.aD,(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[]),(0,i.w6)("design:returntype",void 0)],s.prototype,"_renewMediaAccouts",null),(0,i.gn)([o.Fl,(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[]),(0,i.w6)("design:returntype",Array)],s.prototype,"list",null),s=(0,i.gn)([(0,i.fM)(0,r._),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[void 0===r._?Object:r._])],s)},796241:function(e,t,n){"use strict";n.d(t,{Q:function(){return r}});var i=n(127844);function r(e,t){var{authType:n,account:r}=(0,i.hQ)(e);return Array.from(t.formSuite.values()).find(e=>e.formData.authType===n&&e.formData.selectedAccounts[0]===r)}},127844:function(e,t,n){"use strict";n.d(t,{Hz:function(){return a},Mp:function(){return r},hQ:function(){return o}});var i="______";function r(e){return"".concat(e.authType).concat(i).concat(e.account)}function o(e){var[t,n]=e.split(i);return{authType:Number(t),account:n}}var a="TEMPLATE".concat(i,"TEMPLATE")},717003:function(e,t,n){"use strict";n.d(t,{x:function(){return i.x}});var i=n(608275)},593285:function(e,t,n){"use strict";function i(e,t){var n=!1,i=[];return t.forEach(t=>{var r=e[t];(null==r?void 0:r.validate)||(n=!0,i.push(t))}),{validateStatus:n,validateFail:i}}n.d(t,{o:function(){return i}})},982016:function(e,t,n){"use strict";n.d(t,{x:function(){return a}});var i=n(968331),r=n(722169);class o{getEventParams(){return(0,r.mapKeys)(this._params,(e,t)=>(0,r.snakeCase)(t))}constructor(e){this._params=e,this.eventName="schedule_post_product_add_status"}}function a(e,t){(0,i.K)(e,o,[t])}},176758:function(e,t,n){"use strict";n.d(t,{Z:()=>I});let i=n("69984"),r=n("764112"),o=n("574451"),a=n("772322");n("459360"),n("387346");let s=n("401725"),c=n("221489"),l=n("218571"),u=n("105789"),d=n.n(u),p=n("429188"),h=n("123951"),f=n("565523"),v=n("980014"),g=n("64367"),m=n("461644"),_=n("195894"),y=n("950544"),b=n("405859"),w=n("909599"),E=n("853904"),S=n("288648"),k=n("527117"),x=n("784185");var A=e=>(0,a.jsxs)("svg",(0,r._)((0,i._)({xmlns:"http://www.w3.org/2000/svg",width:28,height:28,fill:"none",viewBox:"0 0 28 28"},e),{children:[(0,a.jsx)("rect",{width:27,height:27,x:.5,y:.5,stroke:"url(#start-hover_svg__a)",rx:5.5}),(0,a.jsx)("defs",{children:(0,a.jsxs)("linearGradient",{id:"start-hover_svg__a",x1:0,x2:28,y1:14,y2:14,gradientUnits:"userSpaceOnUse",children:[(0,a.jsx)("stop",{stopColor:"#04BCE1"}),(0,a.jsx)("stop",{offset:1,stopColor:"#7357FF"})]})})]}));let C=n("631322"),I=(0,p.Pi)(e=>{var{className:t}=e,n=(0,o._)(e,["className"]),u=(0,f.G)(b.J),p=(0,f.G)(w.Y),I=(0,f.G)(m.t),{textEditorManager:O}=u,{editor:D}=O,{aiWriterManager:R}=p,{loading:N,isSelecting:M}=R,[L,P]=(0,l.useState)(!1),[j,z]=(0,l.useState)(!0),[B,G]=(0,l.useState)(!1),U=(0,l.useRef)(!1);function F(){var e=(0,_.d$)(D,y.Lv,"true");(0,v.Y2)(e);var t=D.selection.getSelection(),n=t.toPosition(),i=D.getContentState().getZoneState(g.S).getLine(t.end.line);return{selectionData:{start:n.start,len:n.len},content:i.getText()}}function V(e){(0,S.h)(I,{action:e,optionsCnt:j?4:3,selectTextCnt:F().content.length,menuFrom:"button"})}function H(e){if(L){var t;null==n||null===(t=n.onClick)||void 0===t||t.call(n,e)}else G(!0),U.current=!0,V("show")}function Z(){var{isEmpty:e,showWriteShorter:t}=R.handleAIWriterButtonMouseEnter();P(e),z(t)}function W(){B||R.handleAIWriterButtonMouseLeave()}var q=(0,l.useMemo)(()=>(0,a.jsxs)("div",(0,r._)((0,i._)({},n),{className:d()(t,"star-button-lLs_n2"),onClick:H,onMouseEnter:Z,onMouseLeave:W,children:[(0,a.jsx)(x.r,{className:"icon-FG4qR9"}),(0,a.jsx)(A,{className:"icon-hover-a_9N6B"}),(0,a.jsx)(C.r,{className:"iconSvgElement-h_lyjQ"})]})),[t,n]);return N||M?null:(0,a.jsx)(c.Z,{droplist:(0,a.jsx)(E.o,{options:{showWriteShorter:j},onRewrite:function(){G(!1);var e=F();R.checkText(e.content,k.jD.Rewrite)?(R.handleRewrite(e),V("rewrite")):R.handleAIWriterButtonMouseLeave()},onWriteShorter:function(){G(!1);var e=F();R.checkText(e.content,k.jD.Rewrite)?(R.handleWriterShorter(e),V("write_shorter")):R.handleAIWriterButtonMouseLeave()},onWriteLonger:function(){G(!1);var e=F();R.checkText(e.content,k.jD.Rewrite)?(R.handleWriterLonger(e),V("write_longer")):R.handleAIWriterButtonMouseLeave()},onGenerate:function(){var e;G(!1),null==n||null===(e=n.onGenerate)||void 0===e||e.call(n),V("generate")},onClickOutside:()=>{if(U.current){U.current=!1;return}V("close"),G(!1),R.handleAIWriterButtonMouseLeave()}}),popupVisible:B,triggerProps:{popupAlign:{bottom:14}},children:(0,a.jsx)(s.Z,{className:"tooltip-container-dhLnpj",content:h.oc.t("web_ai_writer_hover_use_ai_writer",{string0:(0,a.jsx)("span",{className:"key-wrapper-p9zoa6",children:"/"})},"AI writer {string0}"),position:"bottom",triggerProps:{popupAlign:{bottom:14}},children:q})})})},231576:function(e,t,n){"use strict";n.d(t,{F:function(){return D}});var i,r=n(461228),o=n(69984),a=n(764112),s=n(772322);n(459360),n(349601);var c=n(982465),l=n(47525),u=n(466496),d=n(604641),p=n(401725),h=n(781494),f=n(218571),v=n(123951),g=n(247130),m=n(105789),_=n.n(m),y=n(429188),b=n(565523),w=n(744152),E=n(164837),S=n(318593),k=n(405859),x=n(909599),A=n(625592),C=n(861208),I=n(583741),O=n(498607),D=(0,y.Pi)(e=>{var t,n,m,y,D,R,{editor:N,onDiscard:M,onConfirm:L,onReWrite:P}=e,j=navigator.platform.toLowerCase().includes("mac"),z=(0,I.B)(),B=(0,b.G)(k.J),G=(0,b.G)(x.Y),{pageLifeCycle:U,textEditorManager:F}=B,{smartWriterManager:V,aiToolBarManager:H}=G,{smartWriterTrackerData:Z,smartWriterResults:W,smartWriterResultIndex:q,undoStack:K,redoStack:J}=V,Y=V.type===w.ZU.Oral,{current:X,isLike:Q,isDisLike:ee}=H,et=U===E.jp.AiProcessing,[en,ei]=(0,f.useState)(!1),er=(0,f.useMemo)(()=>[{key:"web_smart_tools_text_fit_topic",value:"fit_my_topic"},{key:"web_smart_tools_text_accurate_expression",value:"accurate_expression"},{key:"web_smart_tools_text_clear_logic",value:"clear_logic"},{key:"web_smart_tools_text_fluent",value:"fluent_language_and_smooth_text"}],[]),eo=(0,f.useMemo)(()=>[{key:"web_smart_tools_text_no_related",value:"not_related_to_my_topic"},{key:"web_smart_tools_text_faw_logic",value:"flawed_logic"},{key:"web_smart_tools_text_wrong_information",value:"wrong_information"},{key:"web_smart_tools_text_unprofessional",value:"unprofessional_content"}],[]);function ea(e){(0,C.G)(z,(0,a._)((0,o._)({},e),{aiWriterResultBarType:"generate",aiWriterTemplateName:Z.ai_writer_template_name,smartScriptId:Z.smart_script_id,scriptRequestId:Z.script_request_id,promptTextCnt:Z.prompt_text_cnt,promptTextDetail:Z.prompt_text_detail,promptSource:Z.prompt_source,number:X+1,scriptId:W[X].scriptId}))}function es(){var e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];!et&&(V.saveAPartialSmartWriterTrackData(),L(),e&&ea({action:"adopt"}))}function ec(e){var t,n=X+e;et||n<0||n>=W.length||(V.undoStack.push(V.smartWriterResultIndex),V.smartWriterResultIndex=n,H.current=n,P(null===(t=W[n])||void 0===t?void 0:t.value),e<0?ea({action:"previous"}):ea({action:"next"}))}function el(e){Q?(H.setLike(!1),ea({action:"unlike"})):(H.setLike(!0),H.setDislike(!1),ea({action:"like",likeReason:e}))}function eu(e){ee?(H.setDislike(!1),ea({action:"remove_dislike"})):(H.setLike(!1),H.setDislike(!0),ea({action:"dislike",dislikeReason:e}))}(0,u.default)("left",()=>{ec(-1)}),(0,u.default)("right",()=>{ec(1)}),(0,u.default)(j?"meta.z":"ctrl.z",e=>{if(e.preventDefault(),0!==K.length){var t,n=K.pop();V.redoStack.push(V.smartWriterResultIndex),V.smartWriterResultIndex=n,H.current=n,P(null===(t=W[n])||void 0===t?void 0:t.value)}},{exact:!0}),(0,u.default)(j?"meta.shift.z":"ctrl.shift.z",e=>{if(e.preventDefault(),0!==J.length){var t,n=J.pop();V.smartWriterResultIndex=n,H.current=n,P(null===(t=W[n])||void 0===t?void 0:t.value)}},{exact:!0});var ed=(0,d.default)(void 0,()=>{ea({action:"close"}),es(!1)});return(0,l.default)(()=>{N.setEditable(!1),ea({action:"show"})}),(0,c.default)(()=>{N.setEditable(!0),H.destroy(),en?V.resetResult():V.destroy()}),(0,s.jsxs)("div",{ref:ed,className:O.Z.tool_bar,children:[(0,s.jsxs)("div",{className:_()(O.Z.edit_prompt,O.Z.button,{[O.Z.button__disabled]:et}),onClick:function(){et||(M(),requestAnimationFrame(()=>{var{mainEditorDeltaSnapshot:e}=F;e&&(F.setTriggerFrom("edit_prompt"),N.getContentState().setContent(e),F.setMainEditorDeltaSnapshot(null))}),ei(!0),ea({action:"edit_prompt"}))},children:[(0,s.jsx)(S.r,{className:O.Z.button_icon}),(0,s.jsx)("span",{children:v.oc.t("web_ai_writer_btn_edit_prompt",{},"Edit prompt")})]}),(0,s.jsx)("div",{className:O.Z.divider}),(0,s.jsxs)("div",{className:_()(O.Z.actions,{[O.Z.actions__disabled]:et}),children:[(0,s.jsx)(A.m,{isActive:Q,disabled:et,className:_()(O.Z.like_btn,O.Z.button,{[O.Z.button__disabled]:et}),dropListConfig:er,onLike:el,toolTipPosition:"top",dropListPosition:"top",onRemoveLike:()=>el("")}),(0,s.jsx)(A.B,{isActive:ee,disabled:et,className:_()(O.Z.dislike_btn,O.Z.button,{[O.Z.button__disabled]:et}),dropListConfig:eo,toolTipPosition:"top",dropListPosition:"top",onDislike:eu,onClickReport:e=>{i=X,ea({action:"dislike",dislikeReason:e})},onRemoveDislike:()=>eu(""),reporterParams:{data:{type:"text",prompt_text:Y?V.oralValue:null==V?void 0:null===(n=V.adValues)||void 0===n?void 0:null===(t=n.join)||void 0===t?void 0:t.call(n,","),gen_text:null===(m=V.smartWriterResults[X])||void 0===m?void 0:m.value},onOk:()=>{X!==i||et||(i=void 0,setTimeout((0,r._)(function*(){var e;X+1>=W.length&&(yield V.fetchResults("loadMore")),V.deleteSingleScript(X),P(null===(e=W[X])||void 0===e?void 0:e.value),h.Z.success(v.oc.t("web_s2v_report_title_report_submitted",{},"Thanks for reporting"))}),0))},reportParams:{current_page:"smart_tool_page",tool_type:"text_to_video",aigc_content_id:null===(y=V.smartWriterResults[X])||void 0===y?void 0:y.scriptId}}})]}),(0,s.jsx)("div",{className:O.Z.divider}),(D=et||0===q,R=et||q+1>=W.length,(0,s.jsxs)("div",{className:_()(O.Z.paginator,{[O.Z.paginator__disabled]:et}),children:[(0,s.jsx)(p.Z,{content:v.oc.t("web_ai_writer_btn_previous",{},"Previous"),disabled:D,children:(0,s.jsx)(g.ZEK,{className:_()(O.Z.button,{[O.Z.button__disabled]:D},O.Z.paginator_button),onClick:()=>{ec(-1)}})}),(0,s.jsx)("span",{className:O.Z.paginator_text,children:"".concat(q+1," / ").concat(W.length)}),(0,s.jsx)(p.Z,{content:v.oc.t("web_ai_writer_btn_next",{},"Next"),disabled:R,children:(0,s.jsx)(g.U8A,{className:_()(O.Z.button,{[O.Z.button__disabled]:R},O.Z.paginator_button),onClick:()=>{ec(1)}})})]})),(0,s.jsx)("div",{className:O.Z.divider}),(0,s.jsxs)("div",{className:O.Z.button_group,children:[(0,s.jsx)(p.Z,{content:v.oc.t("web_smart_tools_button_delete_script",{},"Delete"),disabled:et,children:(0,s.jsx)("div",{className:_()(O.Z.button,{[O.Z.button__disabled]:et}),children:(0,s.jsx)(g.x8P,{className:O.Z.button_icon,onClick:function(){et||(M(),ea({action:"delete"}))}})})}),(0,s.jsx)(p.Z,{content:v.oc.t("web_ai_writer_btn",{},"Use"),disabled:et,children:(0,s.jsx)("div",{className:_()(O.Z.button,{[O.Z.button__disabled]:et}),children:(0,s.jsx)(g.JrY,{className:O.Z.button_icon,onClick:()=>es()})})})]})]})})},492618:function(e,t,n){"use strict";n.d(t,{y:()=>L});let i=n("69984"),r=n("764112"),o=n("772322");n("822289");let a=n("5622"),s=n("218571"),c=n("429188"),l=n("105789"),u=n.n(l),d=n("626173"),p=n("813727"),h=n("247130"),f=n("565523"),v=n("909599"),g=n("405859"),m=n("164837"),_=n("583741"),y=n("754764"),b=n("515824"),w=n("202659"),E=n("297857"),S=n("744152"),k=n("854600"),x=n("672597"),A=n("134729");var C=e=>{var{icon:t,title:n,content:i,active:r,onClick:a}=e;return(0,o.jsx)("div",{className:u()(A.Z.item,{[A.Z.item__active]:r}),onClick:a,children:(0,o.jsxs)("div",{className:A.Z.children,children:[t,(0,o.jsx)("div",{className:A.Z.title,children:n}),(0,o.jsx)("div",{className:A.Z.content,children:i})]})})},I=(0,c.Pi)(()=>{var{i18n:e}=(0,p.$)(),t=[{id:S.xt.AI,icon:(0,o.jsx)(k.r,{className:A.Z.icon}),title:e.t("web_textvideo_text_intelligent_clip_matching",{},"Smart generation"),content:e.t("web_textvideo_text_intelligent_generation",{},"CapCut will generate a video with materials suitable for the script.")},{id:S.xt.Manual,icon:(0,o.jsx)(x.r,{className:A.Z.icon}),title:e.t("web_textvideo_text_upload_local_clips",{},"Custom generation"),content:e.t("web_textvideo_add_your_clips",{},"You can add media to match the script yourself.")}],{aiGenerateType:n,setAiGenerateType:a}=(0,f.G)(v.Y);return(0,o.jsx)("div",{className:A.Z.container,children:t.map(e=>(0,o.jsx)(C,(0,r._)((0,i._)({active:n===e.id},e),{onClick:()=>{a(e.id)}}),e.title))})});let O=n("893734"),D=n("301331");var R=e=>{var{title:t,onClick:n}=e;return(0,o.jsxs)("div",{className:D.Z.header,children:[(0,o.jsx)("div",{className:D.Z.header_title,children:t}),(0,o.jsx)("div",{className:D.Z.header_icon,onClick:n,children:(0,o.jsx)(h.x8P,{})})]})},N=e=>{var{onClick:t}=e,{i18n:n}=(0,p.$)(),{ttsManager:i}=(0,f.G)(v.Y),r=""===i.generateTTSVal.name;return(0,o.jsx)("div",{className:D.Z.footer,children:(0,o.jsx)(y.v,{className:D.Z.submit,onClick:t,disabled:r,children:n.t("web_autocut_button_generate",{},"Generate")})})},M=(0,c.Pi)(e=>{var{appendAfterCloseFn:t}=e,{i18n:n}=(0,p.$)(),a=(0,f.G)(v.Y),{aiWriterTrackDataManager:c}=a,l=(0,f.G)(g.J),h=(0,_.B)(),{pageLifeCycle:y}=l,{queryErrorCode:S,isGenerationNetworkError:k}=a;(0,s.useEffect)(()=>()=>{a.resetAIGenerateV2()},[]),(0,s.useEffect)(()=>{(0,b.v)(h,{action:"show"})},[]);var x=y===m.jp.GenerateFailed,A=x&&!k,C=y===m.jp.Generating;return(0,o.jsxs)("div",{className:u()(D.Z.container,"ai-video-modal-wrapper",{[D.Z["show-form"]]:!C&&!x}),children:[(0,o.jsx)(R,{title:n.t("web_textvideo_button_generate_video",{},"Generate video"),onClick:function(){a.setAiGeneratePopupVisible(!1),t(a.handleCancelGenerate),(0,b.v)(h,{action:"close"})}}),(0,o.jsxs)("div",{className:u()(D.Z.main),children:[(0,o.jsx)("div",{className:D.Z.form,children:(0,o.jsx)(E.x,{children:(0,o.jsx)(I,{})})}),(0,o.jsx)("div",{className:u()(D.Z.processing,{[D.Z["show-fail"]]:x}),children:(0,o.jsx)(O.Z,{status:A?"failedServer":x?"failed":"loading",errorCode:S,onCancel:()=>{(0,w.z)(h,{action:"generate_cancel"}),a.setAiGeneratePopupVisible(!1),t(a.handleCancelGenerate)},onRetry:()=>{var{trackData:e}=a,{trackData:t}=c;(0,w.z)(h,{action:"retry"}),(0,b.v)(h,(0,r._)((0,i._)({action:"retry"},(0,d.Z)(e,["materialSource","aspectRatio","tone","toneSource","toneGender","aiWriterTemplateName"])),{textCnt:a.aiScriptText.length||0,aspectRatioSource:e.text_to_video_aspect_ratio_source,textToVideoGenerateTimes:t.text_to_video_generate_times,textToVideoRewriteTimes:t.text_to_video_rewrite_times,textToVideoShorterTimes:t.text_to_video_shorter_times,textToVideoLongerTimes:t.text_to_video_longer_times})),a.handleRetryGenerate()},onBackToEdit:()=>{a.setAiGeneratePopupVisible(!1),t(a.handleBackToEdit)}})})]}),(0,o.jsx)(N,{onClick:()=>{var{trackData:e}=a,{trackData:t}=c;(0,b.v)(h,(0,r._)((0,i._)({action:"generate"},(0,d.Z)(e,["materialSource","aspectRatio","tone","toneSource","toneGender","aiWriterTemplateName"])),{textCnt:a.aiScriptText.length||0,aspectRatioSource:e.text_to_video_aspect_ratio_source,textToVideoGenerateTimes:t.text_to_video_generate_times,textToVideoRewriteTimes:t.text_to_video_rewrite_times,textToVideoShorterTimes:t.text_to_video_shorter_times,textToVideoLongerTimes:t.text_to_video_longer_times})),a.handleStartGenerate()}})]})}),L=(0,c.Pi)(()=>{var{aiGeneratePopupVisible:e}=(0,f.G)(v.Y),t=(0,s.useRef)([]);return(0,o.jsx)(a.Z,{visible:e,className:u()(D.Z.modal,"ai-video-wrapper"),closeIcon:null,title:null,footer:null,unmountOnExit:!0,focusLock:!1,afterClose:()=>{t.current.forEach(e=>e()),t.current=[]},children:(0,o.jsx)(M,{appendAfterCloseFn:e=>{t.current.push(e)}})})})},864898:function(e,t,n){"use strict";n.d(t,{v:function(){return m}});var i=n(772322),r=n(218571),o=n(429188),a=n(813727),s=n(386527),c=n(716913),l=n(105789),u=n.n(l),d=n(565523),p=n(909599),h=n(442426),f=n(917868),v=n(79802),g=n(51886),m=(0,o.Pi)((0,r.forwardRef)(e=>{var{onSubmit:t}=e,n=(0,d.G)(p.Y),{i18n:o}=(0,a.$)(),{smartWriterManager:l,promptSuggestionManager:m}=n,{templates:_,currentTemplate:y,formValues:b}=l,{visible:w,list:E}=m,[S,k]=(0,r.useState)(!1),x=(0,r.useRef)(null),A=(0,r.useRef)(null),C=_.find(e=>e.type===y);return(0,r.useEffect)(()=>{x.current&&requestAnimationFrame(()=>{x.current.focus(),x.current.selectionStart=x.current.value.length,x.current.selectionEnd=x.current.value.length})},[]),(0,i.jsxs)("div",{className:u()(g.Z.container,{[g.Z.container__break]:S}),children:[(0,i.jsx)(h.g,{textareaProps:{id:(0,v.s)(y,"value")},ref:x,className:u()(g.Z.textarea,g.Z.textarea__show_prompt_button),value:(0,c.Z)(b,[y,"value"],""),placeholder:o.t("web_textvideo_toast_enter_view_recommended",{},"Enter a prompt yourself or press \u201C/\u201D for prompts."),minLineHeight:20,maxLineHeight:80,maxLength:500,style:{lineHeight:"20px"},onBreak:e=>k(e),onChange:function(e){if(l.smartWriterTrackerData.prompt_source="input",!w&&"/"===e&&1===e.length){m.showPromptList({id:"value",bottom:A.current.getOffsetBottom(),input:"",category:C.type});return}w&&!/^\/+$/.test(e)&&E.length>0&&m.closePromptList(),(0,s.Z)(b,[y,"value"],e)},onSubmit:t}),(0,i.jsx)(f.b,{ref:A,id:"value",link:["value"],local:!0,className:g.Z.prompt_button})]})}))},559433:function(e,t,n){"use strict";n.d(t,{r:()=>o});let i=n("772322");n("188506");let r=n("948106");var o=(0,n("429188").Pi)(e=>{var{defaultWorkspace:t,workspaceList:n,onWorkspaceChange:o}=e;return(0,i.jsx)("div",{className:"space-selector-EOwcgr",children:(0,i.jsx)(r.Z,{onChange:o,defaultValue:t,children:null==n?void 0:n.map(e=>(0,i.jsx)(r.Z.Option,{value:e.workspace_id,children:e.name},e.workspace_id))})})})},524164:function(e,t,n){"use strict";n.d(t,{R:()=>b});let i=n("69984"),r=n("772322"),o=n("218571"),a=n("170883"),s=n("355997"),c=n("565523"),l=n("461644"),u=n("810381"),d=n("429188"),p=n("592693"),h=n("621002"),f=n("256755");n("733501");let v=n("921195"),g=n("123951"),m=n("211683");var _=(0,d.Pi)(e=>{var{playState:t,loading:n,showLoadingText:i}=e,{buffering:o}=t;return(0,r.jsx)("div",{className:m.Z["st-player-status"],children:(0,r.jsx)("div",{className:m.Z["st-player-status__center"],children:(o||n)&&(0,r.jsxs)("div",{className:m.Z["st-player-status__loading"],children:[(0,r.jsx)(v.Z,{}),i&&(0,r.jsx)("div",{className:m.Z["st-player-status_text"],children:g.oc.t("web_the_material_is_loading",{},"Loading...")})]})})})});let y=n("253874");var b=(0,d.Pi)(o.forwardRef((e,t)=>{var n,d,{loading:v,hideControls:g,showLoadingText:m,allowUpdate:b}=e,w=(0,c.G)(l.t),E=(0,c.G)(u.m),{rawSupportHls:S}=(0,p.g4)(E),k=e.needM3u8&&!S,x=!!(null===(n=e.playerConfig)||void 0===n?void 0:n.poster),{onStateUpdate:A,onPauseCallback:C,onPlayCallback:I,onTimeUpdateCallback:O}=e,D=(0,o.useMemo)(()=>"st-video-viewer-xgplayer-".concat((0,a.Z)()),[]),R=(0,o.useRef)(w.createInstance(h.u,{})),{playerState:N,playerInstance:M}=R.current;(0,o.useImperativeHandle)(t,()=>({play:()=>{R.current.playerInstance&&R.current.playerInstance.play()},pause:()=>{R.current.playerInstance&&R.current.playerInstance.pause()}}));var L=(0,o.useRef)(null),P=(0,o.useCallback)(()=>{R.current.initPlayer({playerConfig:(0,p.q2)(e.playerConfig||{},(0,i._)({id:D,plugins:[...k?[s.$]:[],...x?[y.Z]:[]]},k?{isLive:!1}:{})),options:e.options,onPauseCallback:C,onPlayCallback:I,onTimeUpdateCallback:O})},[D,e.options,e.playerConfig,k,x]);return(0,o.useEffect)(()=>{P()},[]),(0,o.useEffect)(()=>{b&&P()},[null==e?void 0:null===(d=e.playerConfig)||void 0===d?void 0:d.url]),(0,o.useLayoutEffect)(()=>{M&&(null==A||A({playerInstance:M,playerState:N}))},[A,M,N]),(0,r.jsxs)("div",{className:"st-video-viewer-m90n_o",ref:L,children:[(0,r.jsx)("div",{id:D}),(0,r.jsx)(_,{loading:v,showLoadingText:m,playState:N}),(0,r.jsx)("div",{className:"controller-OQTQVk",children:!g&&(0,r.jsx)(f.$,{player:M,playerState:N,isEmbed:!0,isFullScreen:N.isFullscreen,onSwitchFullscreen:()=>{(null==M?void 0:M.fullscreen)?null==M||M.exitFullscreen():null==M||M.getFullscreen(L.current)},options:e.controlsOptions})})]})}))},209640:function(e,t,n){"use strict";var i,r;n.d(t,{q:function(){return i}}),(r=i||(i={}))[r.Loading=0]="Loading",r[r.Success=1]="Success",r[r.Empty=2]="Empty",r[r.Error=3]="Error"},175162:function(e,t,n){"use strict";n.d(t,{L:function(){return u}});var i=n(789786),r=n(674683),o=n(199297),a=n(461644),s=n(831246),c=n(194927),l=n(731779);class u{getOrCreateThirdpartyHelper(e){return this._uploadMaterialFromThirdpartyManager.getOrCreateThirdpartyHelper(e.workspaceId,{pageEnterFrom:e.pageEnterFrom},e.uploadReportParams)}constructor(e,t,n,i,o){this._options=e,this._containerService=t,this._accountService=n,this._mainDraftService=i,this._payinPayoutService=o;var a,s,c=this._containerService.createInstance(l.l,{toolType:null===(a=this._options)||void 0===a?void 0:a.toolType,currentPage:null===(s=this._options)||void 0===s?void 0:s.currentPage});this._uploadMaterialFromThirdpartyManager=this._containerService.createInstance(r.R,{multiple:!0,currentPage:e.currentPage,toolType:e.toolType,accept:e.accept,countLimit:e.countLimit,maxUploadSize:null==e?void 0:e.maxUploadSize,validateMaxUploadSize:null==e?void 0:e.validateMaxUploadSize,onCreated:null==e?void 0:e.onCreated,onBeforeCreated:(null==e?void 0:e.onBeforeCreated)||(()=>null),payinPayoutHelper:c}),this._payinPayoutService.isSupportPay(this._mainDraftService.draftWorkspaceManager.workspaceId)}}u=(0,i.gn)([(0,i.fM)(1,a.t),(0,i.fM)(2,s.D),(0,i.fM)(3,c.n),(0,i.fM)(4,o.sX),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",["undefined"==typeof IUploadMaterialLifeCycle?Object:IUploadMaterialLifeCycle,void 0===a.t?Object:a.t,void 0===s.D?Object:s.D,void 0===c.n?Object:c.n,void 0===o.sX?Object:o.sX])],u)},394522:function(e,t,n){"use strict";n.d(t,{h:function(){return i},l:function(){return g}});var i,r=n(461228),o=n(69984),a=n(764112),s=n(789786),c=n(338775),l=n(254845),u=n(597646),d=n(976892),p=n(810381),h=n(248176),f=n(13617),v=n(543544);(i||(i={})).initOnTextToVideoService="TTSManager";class g{get ttsEffectItem(){if(this.generateTTSVal.voiceType)return this.ttsList.find(e=>e.tone.voiceType===this.generateTTSVal.voiceType)}get generateTTSVal(){return this._innerGetGenerateTTSVal().val}get generateTTSSource(){return this._innerGetGenerateTTSVal().source}restore(){this._persistanceService.restore(this,["_generateTTSVal"],{shouldRestore:!!this._capcutAccountService.userProfile.uid,storeId:this._storeId,uid:this._capcutAccountService.userProfile.uid}),this.fetchTTSList()}setGenerateTTSVal(e){this._generateTTSVal=e}setFilterOptions(e){this._filterOptions=e}fetchTTSToken(){var e=this;return(0,r._)(function*(){var[t,n]=(yield e._ttsDataService.getToken()).pair(),i={app_key:(null==n?void 0:n.appKey)||"",token:(null==n?void 0:n.token)||""};return(0,l.z)(()=>{e.ttsConfig=i}),i})()}_innerGetGenerateTTSVal(){if(this.ttsList.length&&this.historyTones[0]){var e,t,n,i=this.ttsList.find(e=>{var t;return(null===(t=e.tone)||void 0===t?void 0:t.voiceType)===this.historyTones[0]});i&&(t={voiceType:(null===(n=i.tone)||void 0===n?void 0:n.voiceType)||"",effectId:i.effectId,name:i.name})}if(this.ttsList.length){var r,o=this.ttsList.find(e=>"Charming Male"===e.name);o||(o=this.ttsList[0]),o&&(e={voiceType:(null===(r=o.tone)||void 0===r?void 0:r.voiceType)||"",effectId:o.effectId,name:o.name})}var a=this._generateTTSVal||t||e,s=2;return(null==a?void 0:a.voiceType)===(null==t?void 0:t.voiceType)&&(s=1),(null==a?void 0:a.voiceType)===(null==e?void 0:e.voiceType)&&(s=0),{val:a||{voiceType:"",effectId:"",name:""},source:s}}constructor(e,t,n,i,s,u){this._toneDataService=t,this._ttsDataService=n,this._reportService=i,this._capcutAccountService=s,this._persistanceService=u,this._generateTTSVal=null,this.historyTones=[],this.ttsList=[],this.ttsConfig={app_key:"",token:""},this._storeId="";var d,p=this;this.fetchTTSList=(d=(0,r._)(function*(e){var t="ttv_tts_list";if(!p.ttsList.length){var n,i,r=window.sessionStorage.getItem(t);try{p.ttsList=null===(i=JSON.parse(r||""))||void 0===i?void 0:i.filter(e=>e.tone)}catch(e){}}if(!(null==e?void 0:e.ignoreCache)&&p.ttsList.length)return p.ttsList;var[s,l]=(yield p._toneDataService.getTone({onlyCommercial:!1,category:"english"})).pair(),u=(null==l?void 0:l.value.list)||[];0===u.length&&p._reportService.reportDevError("fetch tts list error",Error("tts list is empty"));var d=f.Gs.map(e=>u.find(t=>t.name===e)).filter(Boolean).map(e=>{try{return(0,a._)((0,o._)({},e),{VoiceType:e.tone.voiceType})}catch(t){return p._reportService.reportDevError("fetch tts list error",Error("parse Extra failed")),e}});return p.ttsList=(0,c.Z)(d,"tone.voiceType"),(null===(n=p._filterOptions)||void 0===n?void 0:n.onlyCommerce)&&(p.ttsList=p.ttsList.filter(e=>e.isBusiness)),window.sessionStorage.setItem(t,JSON.stringify(p.ttsList)),p.ttsList}),function(e){return d.apply(this,arguments)}),(0,l.rC)(this),this._storeId=e}}(0,s.gn)([l.LO,(0,s.w6)("design:type",Object)],g.prototype,"_generateTTSVal",void 0),(0,s.gn)([l.LO,(0,s.w6)("design:type",Array)],g.prototype,"historyTones",void 0),(0,s.gn)([l.LO,(0,s.w6)("design:type",Array)],g.prototype,"ttsList",void 0),(0,s.gn)([l.Fl,(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[]),(0,s.w6)("design:returntype",void 0)],g.prototype,"generateTTSVal",null),(0,s.gn)([l.aD,(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[]),(0,s.w6)("design:returntype",void 0)],g.prototype,"restore",null),(0,s.gn)([l.aD,(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",["undefined"==typeof GenerateTTSValType?Object:GenerateTTSValType]),(0,s.w6)("design:returntype",void 0)],g.prototype,"setGenerateTTSVal",null),(0,s.gn)([l.aD,(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",["undefined"==typeof FilterOptions?Object:FilterOptions]),(0,s.w6)("design:returntype",void 0)],g.prototype,"setFilterOptions",null),g=(0,s.gn)([(0,s.fM)(1,u.T),(0,s.fM)(2,d.z),(0,s.fM)(3,p.m),(0,s.fM)(4,h.Gw),(0,s.fM)(5,v.t),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===i?Object:i,void 0===u.T?Object:u.T,void 0===d.z?Object:d.z,void 0===p.m?Object:p.m,void 0===h.Gw?Object:h.Gw,void 0===v.t?Object:v.t])],g)},288648:function(e,t,n){"use strict";n.d(t,{h:function(){return o}});var i=n(526599);class r{getEventParams(){return{action:this._params.action,options_cnt:this._params.optionsCnt,select_text_cnt:this._params.selectTextCnt,menu_from:this._params.menuFrom}}constructor(e){this._params=e,this.eventName="ai_writer_options_menu"}}function o(e,t){(0,i.K)(e,r,[t])}},34484:function(e,t,n){"use strict";n.d(t,{G:function(){return c}});var i=n(978232),r=n(399501),o=n(64367),a=n(472958),s=n(782301);class c extends i.S{get contentState(){return this.editor.getContentState()}get zoneState(){return this.contentState.getZoneState(o.S)}togglePlaceholderBySelection(e){var t,n=this.getIsLineSelection(e),i=this.editor.isEditable();if(n&&i){var r=e.end.line,o=null===(t=this.zoneState)||void 0===t?void 0:t.getLine(r);(null==o?void 0:o.isEmpty())?this.addPlaceholder(o):this.removePlaceholder(o)}}destroy(){this.editor.off(r.r.SELECTION_CHANGE,this.onSelectionChange),this.editor.off(r.r.COMPOSITION_START,this.onCompositionStart)}constructor(e,t){super(),this.editor=e,this.options=t,this.name="linePlaceholder",this.removePlaceholderBySel=e=>{if(this.getIsLineSelection(e)){var t,n=null===(t=this.zoneState)||void 0===t?void 0:t.getLine(e.end.line);this.removePlaceholder(n)}},this.onCompositionStart=()=>{var e=this.editor.selection.getSelection();this.removePlaceholderBySel(e)},this.onSelectionChange=e=>{this.removePreLinePlaceholder(e),this.toggleCurrentLineSelection(e)},this.removePreLinePlaceholder=e=>{var t=e.previous;this.removePlaceholderBySel(t)},this.toggleCurrentLineSelection=e=>{var t=e.current;this.togglePlaceholderBySelection(t)},this.addPlaceholder=e=>{var t,n,i,{firstLinePlaceholder:r,mainPlaceholder:o}=this.options;null==e||null===(t=e._node)||void 0===t||t.classList.add(a.Z.cc_editor_kit_ttv_line);var c=0===e.index?r:o;null==e||null===(n=e._node)||void 0===n||n.setAttribute("data-placeholder",c);var l=(0,s.m)(c),u=Math.floor(l/720);l>720&&e._node&&(null==e||null===(i=e._node)||void 0===i||i.classList.add(a.Z.cc_editor_kit_ttv_line_extra_margin),e._node.style.marginBottom="".concat(16+22*u,"px"))},this.removePlaceholder=e=>{var{_node:t}=e||{};t&&(t.removeAttribute("data-placeholder"),t.classList.remove(a.Z.cc_editor_kit_ttv_line),t.style.marginBottom="".concat(16,"px"))},this.getIsLineSelection=e=>e.start.line===e.end.line,this.editor.on(r.r.SELECTION_CHANGE,this.onSelectionChange),this.editor.on(r.r.COMPOSITION_START,this.onCompositionStart)}}c.KEY="linePlaceholder"},400324:function(e,t,n){"use strict";n.d(t,{_:function(){return o},f:function(){return a}});var i=n(658384),r=n(414203),o=e=>{var t=i.mb[(0,r.j)(e)]||"";return{current_page:"smart_tool_page",tool_type:t,from_tool_type:t}},a=()=>{var e={current_page:"smart_tool_page",enter_from:"first_page",from_page:"first_page"},t=new URLSearchParams(location.search);return t.get("__from_page")&&(e.from_page=t.get("__from_page")),t.get("pageFrom")&&(e.page_from=t.get("pageFrom")),t.get("from_page")&&(e.from_page=t.get("from_page")),t.get("enter_from")&&(e.enter_from=t.get("enter_from")),t.get("from_tool_type")&&(e.from_tool_type=t.get("from_tool_type")),e}},175028:function(e,t,n){"use strict";n.d(t,{C:function(){return o}});var i=n(658742),r=n(239534);class o{get enable(){return this._enable}constructor(){this._onEnableChange=new i.Q,this._enable=!1,this.onEnableChange=this._onEnableChange.event;var{firstPartyAnalytics:e}=r.g.getSettings();this._enable=e,r.g.onChange(e=>{this._enable=e.firstPartyAnalytics,this._onEnableChange.fire(this._enable)})}}},330810:function(e,t,n){"use strict";n.d(t,{T:function(){return l}});var i=n(461228),r=n(789786),o=n(963473),a=n(35681),s=n(516173),c=n(499982);class l{set(e,t,n){var r,c=this;return new Promise((r=(0,i._)(function*(i){try{var r=c._database.transaction(c._storeName,"readwrite",n);r.onabort=()=>{i((0,a.NB)(r.error))},r.onerror=()=>{i((0,a.NB)(r.error))},r.oncomplete=()=>{i((0,o.ly)())};var l=new s.m(r,c._storeName);yield l.set(e,t),r.commit&&r.commit()}catch(e){i((0,a.NB)(e))}}),function(e){return r.apply(this,arguments)}))}setMany(e,t){var n,r=this;return new Promise((n=(0,i._)(function*(n){try{var i=r._database.transaction(r._storeName,"readwrite",t);i.onabort=()=>{n((0,a.NB)(i.error))},i.onerror=()=>{n((0,a.NB)(i.error))},i.oncomplete=()=>{n((0,o.ly)())};var c=new s.m(i,r._storeName);yield c.setMany(e),i.commit&&i.commit()}catch(e){n((0,a.NB)(e))}}),function(e){return n.apply(this,arguments)}))}delete(e,t){var n,r=this;return new Promise((n=(0,i._)(function*(n){try{var i=r._database.transaction(r._storeName,"readwrite",t);i.onabort=()=>{n((0,a.E_)(i.error))},i.onerror=()=>{n((0,a.E_)(i.error))},i.oncomplete=()=>{n((0,o.ly)())};var c=new s.m(i,r._storeName);yield c.delete(e),i.commit&&i.commit()}catch(e){n((0,a.E_)(e))}}),function(e){return n.apply(this,arguments)}))}deleteMany(e,t){var n,r=this;return new Promise((n=(0,i._)(function*(n){try{var i=r._database.transaction(r._storeName,"readwrite",t);i.onabort=()=>{n((0,a.E_)(i.error))},i.onerror=()=>{n((0,a.E_)(i.error))},i.oncomplete=()=>{n((0,o.ly)())};var c=new s.m(i,r._storeName);yield c.deleteMany(e),i.commit&&i.commit()}catch(e){n((0,a.E_)(e))}}),function(e){return n.apply(this,arguments)}))}deleteByIndex(e,t,n){var r,c=this;return new Promise((r=(0,i._)(function*(i){try{var r=c._database.transaction(c._storeName,"readwrite",n);r.onabort=()=>{i((0,a.E_)(r.error))},r.onerror=()=>{i((0,a.E_)(r.error))},r.oncomplete=()=>{i((0,o.ly)())};var l=new s.m(r,c._storeName);yield l.deleteByIndex(e,t,null==n?void 0:n.range),r.commit&&r.commit()}catch(e){i((0,a.E_)(e))}}),function(e){return r.apply(this,arguments)}))}query(e,t){var n,r=this;return new Promise((n=(0,i._)(function*(n){try{var i=r._database.transaction(r._storeName,"readonly",t);i.onabort=()=>{n((0,a.vI)(i.error))},i.onerror=()=>{n((0,a.vI)(i.error))};var c=new s.m(i,r._storeName),l=yield c.query(e);i.commit&&i.commit(),n((0,o.oW)(l))}catch(e){n((0,a.vI)(e))}}),function(e){return n.apply(this,arguments)}))}queryMany(e,t){var n,r=this;return new Promise((n=(0,i._)(function*(n){try{var i=r._database.transaction(r._storeName,"readonly",t);i.onabort=()=>{n((0,a.vI)(i.error))},i.onerror=()=>{n((0,a.vI)(i.error))};var c=new s.m(i,r._storeName),l=yield c.queryMany(e);i.commit&&i.commit(),n((0,o.oW)(l))}catch(e){n((0,a.vI)(e))}}),function(e){return n.apply(this,arguments)}))}queryByIndex(e,t,n){var r,c=this;return new Promise((r=(0,i._)(function*(i){try{var r=c._database.transaction(c._storeName,"readonly",n);r.onabort=()=>{i((0,a.vI)(r.error))},r.onerror=()=>{i((0,a.vI)(r.error))};var l=new s.m(r,c._storeName),u=yield l.queryByIndex(e,t,null==n?void 0:n.range);r.commit&&r.commit(),i((0,o.oW)(u))}catch(e){i((0,a.vI)(e))}}),function(e){return r.apply(this,arguments)}))}queryByConditions(e,t){var n,r=this;return new Promise((n=(0,i._)(function*(n){try{var i=r._database.transaction(r._storeName,"readonly",t);i.onabort=()=>{n((0,a.vI)(i.error))},i.onerror=()=>{n((0,a.vI)(i.error))};var c=new s.m(i,r._storeName),l=yield c.queryByConditions(e);i.commit&&i.commit(),n((0,o.oW)(l))}catch(e){n((0,a.vI)(e))}}),function(e){return n.apply(this,arguments)}))}clear(e){var t,n=this;return new Promise((t=(0,i._)(function*(t){try{var i=n._database.transaction(n._storeName,"readwrite",e);i.onabort=()=>{t((0,a.ks)(i.error))},i.onerror=()=>{t((0,a.ks)(i.error))},i.oncomplete=()=>{t((0,o.ly)())};var r=new s.m(i,n._storeName);yield r.clear(),i.commit&&i.commit()}catch(e){t((0,a.ks)(e))}}),function(e){return t.apply(this,arguments)}))}reopenDatabase(){var e=this;return(0,i._)(function*(){try{return e._database=yield e._databasePool.getDatabase(e._database.name),(0,o.ly)()}catch(e){return(0,a.rM)(e)}})()}readyCleanup(){this._cleanupMgr.mark()}constructor(e,t,n,i){this._database=e,this._storeName=t,this._databasePool=n,this._cleanupMgr=i}}(0,r.gn)([c.T,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[String,"undefined"==typeof T?Object:T,"undefined"==typeof IDataBaseTransactionOptions?Object:IDataBaseTransactionOptions]),(0,r.w6)("design:returntype","undefined"==typeof Promise?Object:Promise)],l.prototype,"set",null),(0,r.gn)([c.T,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[Array,"undefined"==typeof IDataBaseTransactionOptions?Object:IDataBaseTransactionOptions]),(0,r.w6)("design:returntype","undefined"==typeof Promise?Object:Promise)],l.prototype,"setMany",null),(0,r.gn)([c.T,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[String,"undefined"==typeof IDataBaseTransactionOptions?Object:IDataBaseTransactionOptions]),(0,r.w6)("design:returntype","undefined"==typeof Promise?Object:Promise)],l.prototype,"delete",null),(0,r.gn)([c.T,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[Array,"undefined"==typeof IDataBaseTransactionOptions?Object:IDataBaseTransactionOptions]),(0,r.w6)("design:returntype","undefined"==typeof Promise?Object:Promise)],l.prototype,"deleteMany",null),(0,r.gn)([c.T,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[String,Object,Object]),(0,r.w6)("design:returntype","undefined"==typeof Promise?Object:Promise)],l.prototype,"deleteByIndex",null),(0,r.gn)([c.T,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[String,"undefined"==typeof IDataBaseTransactionOptions?Object:IDataBaseTransactionOptions]),(0,r.w6)("design:returntype","undefined"==typeof Promise?Object:Promise)],l.prototype,"query",null),(0,r.gn)([c.T,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[Array,"undefined"==typeof IDataBaseTransactionOptions?Object:IDataBaseTransactionOptions]),(0,r.w6)("design:returntype","undefined"==typeof Promise?Object:Promise)],l.prototype,"queryMany",null),(0,r.gn)([c.T,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[String,Object,Object]),(0,r.w6)("design:returntype","undefined"==typeof Promise?Object:Promise)],l.prototype,"queryByIndex",null),(0,r.gn)([c.T,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[Function,"undefined"==typeof IDataBaseTransactionOptions?Object:IDataBaseTransactionOptions]),(0,r.w6)("design:returntype","undefined"==typeof Promise?Object:Promise)],l.prototype,"queryByConditions",null),(0,r.gn)([c.T,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",["undefined"==typeof IDataBaseTransactionOptions?Object:IDataBaseTransactionOptions]),(0,r.w6)("design:returntype","undefined"==typeof Promise?Object:Promise)],l.prototype,"clear",null)},62460:function(e,t,n){"use strict";n.d(t,{H9:function(){return c},ec:function(){return u},f7:function(){return s},m5:function(){return a}});var i,r,o,a,s,c,l=n(30276);(i=a||(a={}))[i.NoCopy=4]="NoCopy",i[i.NoOccupation=8]="NoOccupation",i[i.Invisible=16]="Invisible",i[i.InvisibleNoOccupation=24]="InvisibleNoOccupation",(r=s||(s={})).Vod="vod",r.Normal="normal",(o=c||(c={}))[o.Unknown=1]="Unknown",o[o.Cancel=2]="Cancel",o[o.FolderNotExist=23001]="FolderNotExist",o[o.Insufficient=20113]="Insufficient",o[o.EncodingNotSupport=20209]="EncodingNotSupport",o[o.InvalidFormat=200206]="InvalidFormat",o[o.NotMatchExtFormat=20233]="NotMatchExtFormat",o[o.InvalidMaterialInformation=200204]="InvalidMaterialInformation",o[o.InvalidMaterialName=24001]="InvalidMaterialName";var u=(0,l.yh)("user-material-upload")},690964:function(e,t,n){"use strict";n.d(t,{L:function(){return o}});var i=n(461228),r=n(818351);class o{getFrame(e){var t=this;return(0,i._)(function*(){var n;yield t._sharedMutex.lock(),e=Math.min(e=Math.max(e,0),1e3*t._video.duration),t._video.currentTime=e/1e3,yield(n=t._video,new Promise(e=>{n.addEventListener("seeked",e,{once:!0})})),t._ctx.drawImage(t._video,0,0,t._video.videoWidth,t._video.videoHeight,0,0,t._canvas.width,t._canvas.height);try{return{timestamp:e,data:yield t._formatFunction(t._canvas,t._ctx)}}finally{t._sharedMutex.unLock()}})()}constructor(e,t,n,i){this._video=e,this._canvas=t,this._ctx=n,this._formatFunction=i,this._sharedMutex=new r.L}}},426338:function(e,t,n){"use strict";n.d(t,{u:function(){return p}});var i=n(461228),r=n(789786),o=n(577729),a=n(963473),s=n(37011),c=n(831081),l=n(398118),u=n(663534),d=n(576239);class p extends o.JT{createAiTask(e,t){var n=this;return(0,i._)(function*(){var i=yield n._aiToolRepository.createAiTask(e,t);return i.ok?(0,a.oW)(new u.z(n._aiToolRepository,i.value,{workspaceId:e.workspaceId,aiToolType:e.aiToolType,urlParams:t},l.dZ.SmartTool)):i})()}createGraphicAiTask(e,t){var n=this;return(0,i._)(function*(){var i=yield n._aiToolRepository.createGraphicAiTask(e,t);return i.ok?(0,a.oW)(new u.z(n._aiToolRepository,i.value,{workspaceId:e.workspaceId,aiToolType:e.aiToolType,urlParams:t},l.dZ.GraphEditor)):i})()}aiCheckPopup(){return this._aiToolRepository.aiCheckPopup()}aiConfirmPopup(){return this._aiToolRepository.aiConfirmPopup()}avCheckControllableArea(e){return this._aiToolRepository.avCheckControllableArea(e)}imageHighlightAnalyse(e){return this._aiToolRepository.imageHighlightAnalyse(e)}promptToText(e){return this._aiToolRepository.promptToText(e)}promptSug(e){return this._aiToolRepository.promptSug(e)}getTextToVideoPreset(){return this._aiToolRepository.getTextToVideoPreset()}generateVideo(e){return this._aiToolRepository.generateVideo(e)}syncPackageStatus(e){return this._aiToolRepository.syncPackageStatus(e)}createRenderTask(e){return this._aiToolRepository.createRenderTask(e)}getAudioSNR(e){return this._aiToolRepository.getAudioSNR(e)}cancelEditorTask(e){return this._aiToolRepository.cancelEditorTask(e)}createEditorTask(e){var t=this;return(0,i._)(function*(){var n=yield t._aiToolRepository.createEditorTask(e);if(n.ok){var i,r,o={tasks:null===(r=n.value)||void 0===r?void 0:null===(i=r.tasks)||void 0===i?void 0:i.map(t=>({id:t.id,bindId:t.bind_id,algoType:e.tasks[0].algoType,token:t.token})),canQueue:!0,enterFrom:e.enterFrom,workspaceId:e.workspaceId};return t._aiEditorTask?t._aiEditorTask.reStartPollingProgress(o.tasks):t._aiEditorTask=new d.O(t._aiToolRepository,n.value,o),(0,a.oW)(t._aiEditorTask)}return n})()}addIntelligentProduct(e){return this._aiToolRepository.addIntelligentProduct(e)}updateIntelligentProduct(e){return this._aiToolRepository.updateIntelligentProduct(e)}getIntelligentProductList(e){return this._aiToolRepository.getIntelligentProductList(e)}constructor(e){super(),this._instantiationService=e,this._aiEditorTask=void 0,this._aiToolRepository=this._instantiationService.createInstance(c.W)}}p=(0,r.gn)([(0,r.fM)(0,s.T),(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[void 0===s.T?Object:s.T])],p)},175233:function(e,t,n){"use strict";n.d(t,{i:function(){return i}});var i=e=>{var{audioAssetId:t,videoAssetId:n,captionAssetId:i}=e,r=[],o={};return t&&(o.audioAssetId=t,r.push(t)),n&&(o.videoAssetId=n,r.push(n)),i&&(o.captionAssetId=i,r.push(i)),o.assetIdList=r,o}},514567:function(e,t,n){"use strict";n.d(t,{e:function(){return r}});var i=n(980014);function r(e,t){for(var n of Object.keys(t))if(t[n]===e)return n;(0,i.ss)("no match resource type for panel ".concat(e))}},889650:function(e,t,n){"use strict";n.d(t,{ib:function(){return r},ky:function(){return o},yt:function(){return i}});class i{combineConfig(e){this._config=Object.assign({},this._config,e)}get config(){return this._config}set hasMore(e){this._hasMore=e}get hasMore(){return this._hasMore}set offset(e){this._offset=e}get offset(){return this._offset}set searchId(e){this._searchId=e}get searchId(){return this._searchId}set requestId(e){this._requestId=e}get requestId(){return this._requestId}set logId(e){this._logId=e}get logId(){return this._logId}constructor(e,t,n){this._config={},this.value=e,this._hasMore=t.hasMore,this._offset=t.offset,this._searchId=t.searchId,this._requestId=t.requestId,this._logId=t.logId,this.combineConfig(null!=n?n:{})}}function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{hasMore:!0,offset:0};return new i(t,n,e)}function o(e){return e instanceof i}},807542:function(e,t,n){"use strict";n.d(t,{d:function(){return i}});var i=(0,n(30276).yh)("publish-hash-tag-data-service")},963046:function(e,t,n){"use strict";n.d(t,{r:function(){return i}});var i=(0,n(30276).yh)("curve-speed-data-service")},892222:function(e,t,n){"use strict";n.d(t,{Q:function(){return i}});var i=(0,n(30276).yh)("draft-copy-data-service")},842550:function(e,t,n){"use strict";n.d(t,{o:function(){return a}});var i=n(69984),r=n(764112),o=n(808637);function a(e){var t;return(0,r._)((0,i._)({},e.data),{parameters:(0,o.D)(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.parameters)})}},939051:function(e,t,n){"use strict";var i,r;n.d(t,{a:function(){return i}}),(r=i||(i={})).Unknown="unknown",r.Preparing="Preparing",r.Prepared="Prepared",r.PrepareFailure="PrepareFailure",r.WaitingUpload="waitingUpload",r.Uploading="uploading",r.UploadFailure="uploadFailure",r.Uploaded="uploaded",r.Transcoding="transcoding",r.TranscodeFailure="transcodeFailure",r.Transcoded="transcoded",r.WaitForSync2UserMaterial="waitForSync2UserMaterial",r.Syncing2UserMaterial="syncing2UserMaterial",r.Synced2UserMaterial="synced2UserMaterial",r.Sync2UserMaterialFailure="sync2UserMaterialFailure",r.Success="Success"},376851:function(e,t,n){"use strict";function i(e,t){var n,i,r,o;return{url:(n=e||100,i=t||100,(r=document.createElement("canvas")).width=n,r.height=i,(o=r.getContext("2d")).fillStyle="#000000",o.fillRect(0,0,n,i),r.toDataURL()),key:"",isFromFallback:!0}}n.d(t,{i:function(){return i}})},328028:function(e,t,n){"use strict";n.d(t,{L:function(){return i}});class i{get isInSdkIframe(){return this._isInSdkIframe}constructor(e){var t,n,i,r,o,a,s;this.isDev=e.isDev,this.isProd=e.isProd,this.isBoe=null!==(t=e.isBoe)&&void 0!==t?t:!e.isProd,this.isInternal=e.isInternal,this.isAutoTest=function(){var{searchParams:e}=new URL(window.location.href);return!!e.get("is_auto_test")}(),this.isRealAutoTest=function(){var{searchParams:e}=new URL(window.location.href);return!!e.get("is_real_auto_test")}(),this.appVersion=null!==(n=e.appVersion)&&void 0!==n?n:"0.0.1",this.appId=null!==(i=null==e?void 0:e.appId)&&void 0!==i?i:0,this._isInSdkIframe=function(){var e,t,{searchParams:n}=new URL(window.location.href),i={clientId:null!==(e=n.get("client_id"))&&void 0!==e?e:"",appName:null!==(t=n.get("app_name"))&&void 0!==t?t:""};return"1"===n.get("embed_sdk")&&"plugin"===n.get("utm_campaign")&&!!i.clientId}(),this.host_env={cpu_cores:null===(o=navigator)||void 0===o?void 0:o.hardwareConcurrency,device_memory:null!==(s=null===(a=navigator)||void 0===a?void 0:a.deviceMemory)&&void 0!==s?s:-1},this.forceHighQuality=null!==(r=null==e?void 0:e.forceHighQuality)&&void 0!==r&&r}}},744578:function(e,t,n){"use strict";n.d(t,{b:function(){return c}});var i=n(789786),r=n(211928),o=n(980014),a=n(861479),s=n(250047);class c extends a.i{getContentResourceToken(){return this._getResourceTokenSync(this._createContentToken.bind(this),()=>this._contentResourceToken,e=>this._contentResourceToken=e)}_createContentToken(e){var t=this._getContentResourceKey(),n=this.getContentUrl(e);return(0,s.MZ)({key:t,url:n,md5:e.md5},this._downloadService)}_getContentResourceKey(){return"".concat(this.key,"_content")}getContentUrl(e){return e.package.urlList[0]}doFetch(){(0,o.ss)("not support do fetch single model")}constructor(e,t,n){super(e,t),this.key=e,this._downloadService=n}}c=(0,i.gn)([(0,i.fM)(2,r.tx),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",["undefined"==typeof IResourceKey?Object:IResourceKey,"undefined"==typeof IArithmeticModelMeta?Object:IArithmeticModelMeta,void 0===r.tx?Object:r.tx])],c)},701789:function(e,t,n){"use strict";n.d(t,{z:function(){return h}});var i=n(461228),r=n(69984),o=n(789786),a=n(211928),s=n(980014),c=n(466477),l=n(619398),u=n(27133),d=n(49978),p=n(806797);class h extends d.${getCover(e){return e.icon.urlList[0]}getContentUrl(e){return e.package.urlList[0]}doFetch(){var e=this;return(0,i._)(function*(){(0,s.Y2)(!(0,c.R)(e.value));var[t,n]=(yield e._autoBeautyDataService.batchGetAutoBeautyByIds({enterFrom:e._configurationService.editorCategory,ids:[e.value.resourceId],resourceType:l._g.AutoBeautyBody})).pair();if(t)throw Error("doFetch error-".concat(t.code,"-").concat(t.msg));var i=n.list[0];return(0,r._)({type:e.value.type},i)})()}constructor(e,t,n,i,r){super(e,t,n),this.key=e,this._downloadService=n,this._autoBeautyDataService=i,this._configurationService=r}}h=(0,o.gn)([(0,o.fM)(2,a.tx),(0,o.fM)(3,u.X),(0,o.fM)(4,p.Ui),(0,o.w6)("design:type",Function),(0,o.w6)("design:paramtypes",["undefined"==typeof IResourceKey?Object:IResourceKey,"undefined"==typeof IAutoBeautyBodyMeta?Object:IAutoBeautyBodyMeta,void 0===a.tx?Object:a.tx,void 0===u.X?Object:u.X,void 0===p.Ui?Object:p.Ui])],h)},314038:function(e,t,n){"use strict";n.d(t,{C:()=>g});let i=n("789786"),r=n("251164"),o=n("461228"),a=n("69984"),s=n("586342"),c=n("211928"),l=n("980014"),u=n("466477"),d=n("49978"),p=n("806797");class h extends d.${getCover(e){return e.icon.urlList[0]}getContentUrl(e){return e.package.urlList[0]}doFetch(){var e=this;return(0,o._)(function*(){(0,l.Y2)(!(0,u.R)(e.value));var[t,n]=(yield e._effectDataService.batchGetEffectsByIds({enterFrom:e._configurationService.editorCategory,ids:[e.value.resourceId],effectResourceType:e.value.type,source:e.value.source})).pair();if(t)throw Error("doFetch error-".concat(t.code,"-").concat(t.msg));return(0,a._)({type:e.value.type},n.list[0])})()}constructor(e,t,n,i,r){super(e,t,n),this.key=e,this._downloadService=n,this._effectDataService=i,this._configurationService=r}}h=(0,i.gn)([(0,i.fM)(2,c.tx),(0,i.fM)(3,s.s),(0,i.fM)(4,p.Ui),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",["undefined"==typeof IResourceKey?Object:IResourceKey,"undefined"==typeof IEffectMeta?Object:IEffectMeta,void 0===c.tx?Object:c.tx,void 0===s.s?Object:s.s,void 0===p.Ui?Object:p.Ui])],h);let f=n("963730"),v=n("37011");class g extends r.e{createResource(e,t){return this._instantiationService.createInstance(new f.M(h,[e,t]))}constructor(e){super(e),this._instantiationService=e}}g=(0,i.gn)([(0,i.fM)(0,v.T),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[void 0===v.T?Object:v.T])],g)},276665:function(e,t,n){"use strict";n.d(t,{W:function(){return f}});var i=n(461228),r=n(69984),o=n(789786),a=n(619398),s=n(456648),c=n(211928),l=n(980014),u=n(466477),d=n(806797),p=n(762134),h=n(250047);new TextDecoder("utf-8");class f extends p.B{getCover(e){return e.icon.urlList[0]}getContentUrl(e){return e.package.urlList[0]}getContentResourceToken(){return this._getResourceTokenSync(this._createContentToken.bind(this),()=>this._contentResourceToken,e=>this._contentResourceToken=e)}_createContentToken(e){var t=this._getContentResourceKey(),n=this.getContentUrl(e);return(0,h.T0)({key:t,url:n},this._downloadService)}_getContentResourceKey(){return"".concat(this.key,"_content")}doFetch(){var e=this;return(0,i._)(function*(){(0,l.Y2)(!(0,u.R)(e.value));var[t,n]=(yield e._imageFilterDataService.batchGetImageFiltersByIds({enterFrom:e._configurationService.editorCategory,list:[{ids:[e.value.resourceId],type:e._configurationService.resourcePanel[a._g.ImageEffect]}]})).pair();if(t)throw Error("doFetch error-".concat(t.code,"-").concat(t.msg));return(0,r._)({type:e.value.type},n.list[0])})()}constructor(e,t,n,i,r){super(e,t,n),this.key=e,this._downloadService=n,this._imageFilterDataService=i,this._configurationService=r}}f=(0,o.gn)([(0,o.fM)(2,c.tx),(0,o.fM)(3,s.q),(0,o.fM)(4,d.Ui),(0,o.w6)("design:type",Function),(0,o.w6)("design:paramtypes",["undefined"==typeof IResourceKey?Object:IResourceKey,"undefined"==typeof IImageFilterMeta?Object:IImageFilterMeta,void 0===c.tx?Object:c.tx,void 0===s.q?Object:s.q,void 0===d.Ui?Object:d.Ui])],f)},811383:function(e,t,n){"use strict";n.d(t,{s:function(){return c}});var i=n(789786),r=n(251164),o=n(610695),a=n(963730),s=n(37011);class c extends r.e{createResource(e,t){return this._instantiationService.createInstance(new a.M(o.J,[e,t]))}constructor(e){super(e),this._instantiationService=e}}c=(0,i.gn)([(0,i.fM)(0,s.T),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[void 0===s.T?Object:s.T])],c)},3006:function(e,t,n){"use strict";n.d(t,{m:function(){return c}});var i=n(789786),r=n(251164),o=n(920961),a=n(963730),s=n(37011);class c extends r.e{createResource(e,t){return this._instantiationService.createInstance(new a.M(o.h,[e,t]))}constructor(e){super(e),this._instantiationService=e}}c=(0,i.gn)([(0,i.fM)(0,s.T),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[void 0===s.T?Object:s.T])],c)},320698:function(e,t,n){"use strict";n.d(t,{x:function(){return a}});var i=n(461228),r=n(417597),o=["application/zip","application/x-7z-compressed","application/gzip","application/x-tar"];function a(e,t){return s.apply(this,arguments)}function s(){return(s=(0,i._)(function*(e,t){var n;if(o.includes((n=t.split(";")[0])?n.trim():"")){var i={},{entries:a}=yield(0,r.Ri)(e);for(var[s,c]of Object.entries(a))if(!(c.isDirectory||s.startsWith("__MACOSX")||s.includes(".DS_Store"))){var l=yield c.arrayBuffer();i[s.replaceAll("//","/")]={isDirectory:c.isDirectory,size:c.size,name:c.name,arrayBuffer:l}}return Promise.resolve(i)}return Promise.resolve(e)})).apply(this,arguments)}},820415:function(e,t,n){"use strict";n.d(t,{H:function(){return r}});var i=n(30276),r=n(466477).R;(0,i.yh)("user-audio-resource-service")},639670:function(e,t,n){"use strict";n.d(t,{C:function(){return p}});var i=n(789786),r=n(167154),o=n(977e3),a=n(211928),s=n(980014),c=n(466477),l=n(526149),u=n(455687),d=n(250047);class p extends u.Z{getFileUniqueId(){return(0,s.Y2)((0,c.R)(this.value),"resource is not ready yet! please ensure resource is ready before call this function."),this.value.sourceType===r.ov.EverCloud?this.value.assetId:this.value.vid}getUserFileResourceToken(){return this._getResourceTokenSync(this._createEncryptedUserFileResourceToken.bind(this),()=>this._userFileEncryptedResourceToken,e=>this._userFileEncryptedResourceToken=e)}_createEncryptedUserFileResourceToken(e){var t=this._getFileResourceKey(),n=this.getContentUrl(e),{decryptKey:i=""}=e;return(0,d.rW)({key:t,url:n,encryptType:o.PS.AES_CBC,shouldAutoDecrypt:!1,decryptKey:i},this._downloadService)}getContentUrl(e){return(0,s.ZB)(e.url,"un expect fullResource url"),e.url}_createContentToken(e){var t=this._getFileResourceKey(),n=this.getContentUrl(e),{decryptKey:i}=e;return i?(0,d.rW)({key:t,url:n,encryptType:o.PS.AES_CBC,shouldAutoDecrypt:!0,decryptKey:i},this._downloadService):(0,d.rW)({key:t,url:n},this._downloadService)}doFetch(){return new Promise(e=>{(0,s.Y2)(!(0,c.R)(this.value)),this.value.onProgress(e=>{Object.assign(this.value,e)}),this.value.onReady(t=>{Object.assign(this.value,t),(0,c.K)(this.value),(0,s.Y2)((0,l.H)(this.value)),e(this.value)})})}constructor(e,t,n){super(e,t,n),this.key=e,this._downloadService=n}}p=(0,i.gn)([(0,i.fM)(2,a.tx),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",["undefined"==typeof IResourceKey?Object:IResourceKey,"undefined"==typeof IUserFileMeta?Object:IUserFileMeta,void 0===a.tx?Object:a.tx])],p)},350845:function(e,t,n){"use strict";n.d(t,{o:function(){return c}});var i=n(789786),r=n(251164),o=n(645373),a=n(963730),s=n(37011);class c extends r.e{createResource(e,t){return this._instantiationService.createInstance(new a.M(o.L,[e,t]))}constructor(e){super(e),this._instantiationService=e}}c=(0,i.gn)([(0,i.fM)(0,s.T),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[void 0===s.T?Object:s.T])],c)},189619:function(e,t,n){"use strict";n.d(t,{g:function(){return r}});var i=n(211151),r={id:"resource-v2",version:1,tables:[i.d,i.z]}},513701:function(e,t,n){"use strict";var i=n(246513),r=n(122579),o=n(895801),a=n(884640),s=n(395842),c=n(943278),l=n(537322),u=n(376232),d=n(569379);e.exports=function(e,t,n){if("Object"!==d(e))throw new i("Assertion failed: Type(O) is not Object");if(!c(t))throw new i("Assertion failed: IsPropertyKey(P) is not true");var p=r(n)?n:u(n);if(!r(p))throw new i("Assertion failed: Desc is not a valid Property Descriptor");return o(s,l,a,e,t,p)}},122579:function(e,t,n){"use strict";var i=n(246513),r=n(719613),o={__proto__:null,"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};e.exports=function(e){if(!e||"object"!=typeof e)return!1;for(var t in e)if(r(e,t)&&!o[t])return!1;var n=r(e,"[[Value]]")||r(e,"[[Writable]]"),a=r(e,"[[Get]]")||r(e,"[[Set]]");if(n&&a)throw new i("Property Descriptors may not be both accessor and data descriptors");return!0}},540723:function(e,t,n){"use strict";n.d(t,{k:function(){return r}});var i=n(499845);function r(e,t,...n){if(void 0!==i&&void 0===t)throw Error("invariant requires an error message argument");if(!e){let e;if(void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let i=0;(e=Error(t.replace(/%s/g,function(){return n[i++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}},156940:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var i=n(535591);function r(e,t,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r)}i.Z.inherits(r,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:i.Z.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});let o=r.prototype,a={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{a[e]={value:e}}),Object.defineProperties(r,a),Object.defineProperty(o,"isAxiosError",{value:!0}),r.from=(e,t,n,a,s,c)=>{let l=Object.create(o);return i.Z.toFlatObject(e,l,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),r.call(l,e.message,t,n,a,s),l.cause=e,l.name=e.name,c&&Object.assign(l,c),l};let s=r},244215:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let i={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(i).forEach(([e,t])=>{i[t]=e});let r=i},252061:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});let i=function(e,t){let n;let i=Array(e=e||10),r=Array(e),o=0,a=0;return t=void 0!==t?t:1e3,function(s){let c=Date.now(),l=r[a];n||(n=c),i[o]=s,r[o]=c;let u=a,d=0;for(;u!==o;)d+=i[u++],u%=e;if((o=(o+1)%e)===a&&(a=(a+1)%e),c-n<t)return;let p=l&&c-l;return p?Math.round(1e3*d/p):void 0}}},368911:function(e,t,n){"use strict";n.d(t,{u:function(){return r}});var i=n(301097);function r(e=0,t){switch(t.type){case i.fu:case i.Rd:return e+1;case i.SG:case i.IS:return e-1;default:return e}}},647738:function(e,t,n){"use strict";n.d(t,{KX:function(){return b},Yw:function(){return y},m8:function(){return m}});var i=n(693520),r=n(187457),o=n(135611);class a{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){let n,i,r,o;if(0==this.eventCount)return null;let c=this.items.length;for(;;c--)if(this.items.get(c-1).selection){--c;break}t&&(i=(n=this.remapping(c,this.items.length)).maps.length);let l=e.tr,u=[],d=[];return this.items.forEach((e,t)=>{if(!e.step){n||(i=(n=this.remapping(c,t+1)).maps.length),i--,d.push(e);return}if(n){d.push(new s(e.map));let t=e.step.map(n.slice(i)),r;t&&l.maybeStep(t).doc&&(r=l.mapping.maps[l.mapping.maps.length-1],u.push(new s(r,void 0,void 0,u.length+d.length))),i--,r&&n.appendMap(r,i)}else l.maybeStep(e.step);if(e.selection)return r=n?e.selection.map(n.slice(i)):e.selection,o=new a(this.items.slice(0,c).append(d.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:o,transform:l,selection:r}}addTransform(e,t,n,i){var r,o;let c,u=[],d=this.eventCount,p=this.items,h=!i&&p.length?p.get(p.length-1):null;for(let n=0;n<e.steps.length;n++){let r=e.steps[n].invert(e.docs[n]),o=new s(e.mapping.maps[n],r,t),a;(a=h&&h.merge(o))&&(o=a,n?u.pop():p=p.slice(0,p.length-1)),u.push(o),t&&(d++,t=void 0),i||(h=o)}let f=d-n.depth;return f>l&&(r=p,o=f,r.forEach((e,t)=>{if(e.selection&&0==o--)return c=t,!1}),p=r.slice(c),d-=f),new a(p.append(u),d)}remapping(e,t){let n=new r.vs;return this.items.forEach((t,i)=>{let r=null!=t.mirrorOffset&&i-t.mirrorOffset>=e?n.maps.length-t.mirrorOffset:void 0;n.appendMap(t.map,r)},e,t),n}addMaps(e){return 0==this.eventCount?this:new a(this.items.append(e.map(e=>new s(e))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let n=[],i=Math.max(0,this.items.length-t),r=e.mapping,o=e.steps.length,c=this.eventCount;this.items.forEach(e=>{e.selection&&c--},i);let l=t;this.items.forEach(t=>{let i=r.getMirror(--l);if(null==i)return;o=Math.min(o,i);let a=r.maps[i];if(t.step){let o=e.steps[i].invert(e.docs[i]),u=t.selection&&t.selection.map(r.slice(l+1,i));u&&c++,n.push(new s(a,o,u))}else n.push(new s(a))},i);let u=[];for(let e=t;e<o;e++)u.push(new s(r.maps[e]));let d=new a(this.items.slice(0,i).append(u).append(n),c);return d.emptyItemCount()>500&&(d=d.compress(this.items.length-n.length)),d}emptyItemCount(){let e=0;return this.items.forEach(t=>{!t.step&&e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),n=t.maps.length,r=[],o=0;return this.items.forEach((i,a)=>{if(a>=e)r.push(i),i.selection&&o++;else if(i.step){let e=i.step.map(t.slice(n)),a=e&&e.getMap();if(n--,a&&t.appendMap(a,n),e){let c=i.selection&&i.selection.map(t.slice(n));c&&o++;let l=new s(a.invert(),e,c),u,d=r.length-1;(u=r.length&&r[d].merge(l))?r[d]=u:r.push(l)}}else i.map&&n--},this.items.length,0),new a(i.Z.from(r.reverse()),o)}}a.empty=new a(i.Z.empty,0);class s{constructor(e,t,n,i){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new s(t.getMap().invert(),t,this.selection)}}}class c{constructor(e,t,n,i,r){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=i,this.prevComposition=r}}let l=20;function u(e){let t=[];return e.forEach((e,n,i,r)=>t.push(i,r)),t}function d(e,t){if(!e)return null;let n=[];for(let i=0;i<e.length;i+=2){let r=t.map(e[i],1),o=t.map(e[i+1],-1);r<=o&&n.push(r,o)}return n}let p=!1,h=null;function f(e){let t=e.plugins;if(h!=t){p=!1,h=t;for(let e=0;e<t.length;e++)if(t[e].spec.historyPreserveItems){p=!0;break}}return p}let v=new o.H$("history"),g=new o.H$("closeHistory");function m(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new o.Sy({key:v,state:{init:()=>new c(a.empty,a.empty,null,0,-1),apply:(t,n,i)=>(function(e,t,n,i){let r=n.getMeta(v),o;if(r)return r.historyState;n.getMeta(g)&&(e=new c(e.done,e.undone,null,0,-1));let s=n.getMeta("appendedTransaction");if(0==n.steps.length)return e;if(s&&s.getMeta(v))return s.getMeta(v).redo?new c(e.done.addTransform(n,void 0,i,f(t)),e.undone,u(n.mapping.maps[n.steps.length-1]),e.prevTime,e.prevComposition):new c(e.done,e.undone.addTransform(n,void 0,i,f(t)),null,e.prevTime,e.prevComposition);if(!1===n.getMeta("addToHistory")||s&&!1===s.getMeta("addToHistory"))return(o=n.getMeta("rebased"))?new c(e.done.rebased(n,o),e.undone.rebased(n,o),d(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new c(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),d(e.prevRanges,n.mapping),e.prevTime,e.prevComposition);{let r=n.getMeta("composition"),o=0==e.prevTime||!s&&e.prevComposition!=r&&(e.prevTime<(n.time||0)-i.newGroupDelay||!function(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((e,i)=>{for(let r=0;r<t.length;r+=2)e<=t[r+1]&&i>=t[r]&&(n=!0)}),n}(n,e.prevRanges)),l=s?d(e.prevRanges,n.mapping):u(n.mapping.maps[n.steps.length-1]);return new c(e.done.addTransform(n,o?t.selection.getBookmark():void 0,i,f(t)),a.empty,l,n.time,null==r?e.prevComposition:r)}})(n,i,t,e)},config:e,props:{handleDOMEvents:{beforeinput(e,t){let n=t.inputType,i="historyUndo"==n?y:"historyRedo"==n?b:null;return!!i&&(t.preventDefault(),i(e.state,e.dispatch))}}}})}function _(e,t){return(n,i)=>{let r=v.getState(n);if(!r||0==(e?r.undone:r.done).eventCount)return!1;if(i){let o=function(e,t,n){let i=f(t),r=v.get(t).spec.config,o=(n?e.undone:e.done).popEvent(t,i);if(!o)return null;let a=o.selection.resolve(o.transform.doc),s=(n?e.done:e.undone).addTransform(o.transform,t.selection.getBookmark(),r,i),l=new c(n?s:o.remaining,n?o.remaining:s,null,0,-1);return o.transform.setSelection(a).setMeta(v,{redo:n,historyState:l})}(r,n,e);o&&i(t?o.scrollIntoView():o)}return!0}}let y=_(!1,!0),b=_(!0,!0);_(!1,!1),_(!0,!1)},787387:function(e,t,n){"use strict";n.d(t,{p:function(){return i}});class i{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get:()=>(console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null)})})}loadDataTransfer(e){if(e){let t={};Object.keys(this.config.exposeProperties).forEach(n=>{let i=this.config.exposeProperties[n];null!=i&&(t[n]={value:i(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,t)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,t){return t===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}},288:function(e,t,n){"use strict";n.d(t,{r:function(){return a}});var i=n(534760),r=n(218571),o=n(489805);function a(e,t,n){let[a,s]=(0,r.useState)(()=>t(e)),c=(0,r.useCallback)(()=>{let r=t(e);!i(a,r)&&(s(r),n&&n())},[a,e,n]);return(0,o.L)(c),[a,c]}},783222:function(e,t,n){"use strict";n.d(t,{N:function(){return a}});var i=n(540723),r=n(218571),o=n(287368);function a(){let{dragDropManager:e}=(0,r.useContext)(o.L);return(0,i.k)(null!=e,"Expected drag drop context"),e}},674848:function(e,t,n){"use strict";n.d(t,{b:function(){return o}});var i=n(540723),r=n(218571);function o(e){let{accept:t}=e;return(0,r.useMemo)(()=>((0,i.k)(null!=e.accept,"accept must be defined"),Array.isArray(t)?t:[t]),[t])}},396356:function(e,t,n){"use strict";n.d(t,{Y:function(){return a}});var i=n(457425),r=n(789801),o=n(250664);class a{get connectTarget(){return this.dropTarget}reconnect(){let e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();let t=this.dropTarget;if(this.handlerId){if(!t){this.lastConnectedDropTarget=t;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions))}}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!(0,i.w)(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=(0,o.p)({dropTarget:(e,t)=>{this.clearDropTarget(),this.dropTargetOptions=t,(0,r.d)(e)?this.dropTargetRef=e:this.dropTargetNode=e,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}},596528:function(e,t,n){"use strict";n.d(t,{AF:function(){return i},Cz:function(){return o},Xw:function(){return a},zd:function(){return r}});var i=348188,r={appId:348188,channel:"va",enableAbTest:!0,abChannelDomain:"https://vmweb-va.capcutapi.com",disableWebId:!1,disableAutoReportPv:!0,enableTTWid:!0,ttWidUnionHost:"https://ttwid-va.capcutapi.com",channelDomain:"https://mcs-va.capcutapi.com"},o={bid:"cc_web"},a={namespace:"WebClient"}},40240:function(){},308504:function(e){"use strict";e.exports=JSON.parse('{"v":"5.3.4","fr":60,"ip":0,"op":70,"w":80,"h":80,"nm":"loading_\u526A\u6620\u65B0LOGO_\u8F93\u51FA_w","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":3,"nm":"\u7A7A 1","sr":1,"ks":{"o":{"a":0,"k":0,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[40,40,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[7.6,7.6,100],"ix":6}},"ao":0,"ip":0,"op":70,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"\u5F62\u72B6\u56FE\u5C42 4","parent":1,"td":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[0,0,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[542,-334],[-442,182],[-434.64,294.042],[-428,317],[-403.003,318.91],[212.003,317.075],[237,317],[263.272,300.287],[283,270],[263,-65.063]],"c":false},"ix":2},"nm":"\u8DEF\u5F84 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[1,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":152,"ix":5},"lc":1,"lj":1,"ml":4,"ml2":{"a":0,"k":4,"ix":8},"nm":"\u63CF\u8FB9 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.453682005639,0.537254961799,0.526438993566,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"nm":"\u586B\u5145 1","mn":"ADBE Vector Graphic - Fill","hd":true},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53D8\u6362"}],"nm":"\u5F62\u72B6 1","np":3,"cix":2,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"n":["0p833_0p833_0p167_0p167"],"t":60,"s":[0],"e":[86]},{"t":90}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"n":["0p833_0p833_0p167_0p167"],"t":0,"s":[0],"e":[86]},{"t":30}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"\u4FEE\u526A\u8DEF\u5F84 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":-9,"op":70,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":1,"nm":"\u767D\u8272 \u7EAF\u8272 2","parent":1,"tt":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[0,0,0],"ix":2},"a":{"a":0,"k":[540,540,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"f","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0],[-68.43,0],[0,0],[0,61.351],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,61.351],[0,0],[64.891,0],[0,0],[0,0],[0,0],[0,0]],"v":[[1043.197,305.214],[1043.197,148.297],[36.803,674.5],[36.803,832.597],[146.527,931.703],[744.7,931.703],[854.424,832.597],[854.424,825.209],[776.555,784.224],[126.47,784.224]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"\u8499\u7248 1"}],"sw":1080,"sh":1080,"sc":"#ffffff","ip":0,"op":70,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"\u5F62\u72B6\u56FE\u5C42 3","parent":1,"td":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[0,0,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[283,62],[269,-253],[258.14,-289.956],[245.323,-307.636],[229,-317],[-392.01,-319.781],[-417,-316],[-431.668,-297.891],[-439.394,-274.056],[-436,-177],[554,339]],"c":false},"ix":2},"nm":"\u8DEF\u5F84 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[1,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":152,"ix":5},"lc":1,"lj":1,"ml":4,"ml2":{"a":0,"k":4,"ix":8},"nm":"\u63CF\u8FB9 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.453682005639,0.537254961799,0.526438993566,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"nm":"\u586B\u5145 1","mn":"ADBE Vector Graphic - Fill","hd":true},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53D8\u6362"}],"nm":"\u5F62\u72B6 1","np":3,"cix":2,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"n":["0p833_0p833_0p167_0p167"],"t":90,"s":[0],"e":[100]},{"t":120}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"n":["0p833_0p833_0p167_0p167"],"t":30,"s":[12],"e":[100]},{"t":60}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"\u4FEE\u526A\u8DEF\u5F84 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":30,"op":70,"st":119,"bm":0},{"ddd":0,"ind":5,"ty":1,"nm":"\u767D\u8272 \u7EAF\u8272 3","parent":1,"tt":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[0,0,0],"ix":2},"a":{"a":0,"k":[540,540,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"f","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[64.891,0],[0,0],[0,-62.531],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,-62.531],[0,0],[-68.43,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[452.103,464.491],[126.47,295.776],[774.196,295.776],[854.424,253.92],[854.424,248.582],[744.7,148.297],[146.527,148.297],[36.803,248.582],[36.803,406.679],[301.085,543.539],[854.424,831.418],[1043.197,931.703],[1043.197,772.426],[741.203,614.935]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"\u8499\u7248 1"}],"sw":1080,"sh":1080,"sc":"#ffffff","ip":30,"op":70,"st":119,"bm":0},{"ddd":0,"ind":6,"ty":4,"nm":"\u5F62\u72B6\u56FE\u5C42 2","parent":1,"td":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[0,0,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[542,-334],[-442,182],[-434.64,294.042],[-428,317],[-403.003,318.91],[212.003,317.075],[237,317],[263.272,300.287],[283,270],[263,-65.063]],"c":false},"ix":2},"nm":"\u8DEF\u5F84 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[1,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":152,"ix":5},"lc":1,"lj":1,"ml":4,"ml2":{"a":0,"k":4,"ix":8},"nm":"\u63CF\u8FB9 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.453682005639,0.537254961799,0.526438993566,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"nm":"\u586B\u5145 1","mn":"ADBE Vector Graphic - Fill","hd":true},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53D8\u6362"}],"nm":"\u5F62\u72B6 1","np":3,"cix":2,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"n":["0p833_0p833_0p167_0p167"],"t":-10,"s":[0],"e":[86]},{"t":20}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"n":["0p833_0p833_0p167_0p167"],"t":-70,"s":[0],"e":[86]},{"t":-40}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"\u4FEE\u526A\u8DEF\u5F84 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":21,"st":-70,"bm":0},{"ddd":0,"ind":7,"ty":1,"nm":"\u767D\u8272 \u7EAF\u8272 2","parent":1,"tt":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[0,0,0],"ix":2},"a":{"a":0,"k":[540,540,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"f","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0],[-68.43,0],[0,0],[0,61.351],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,61.351],[0,0],[64.891,0],[0,0],[0,0],[0,0],[0,0]],"v":[[1043.197,305.214],[1043.197,148.297],[36.803,674.5],[36.803,832.597],[146.527,931.703],[744.7,931.703],[854.424,832.597],[854.424,825.209],[776.555,784.224],[126.47,784.224]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"\u8499\u7248 1"}],"sw":1080,"sh":1080,"sc":"#ffffff","ip":0,"op":21,"st":-70,"bm":0},{"ddd":0,"ind":8,"ty":4,"nm":"\u5F62\u72B6\u56FE\u5C42 1","parent":1,"td":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[0,0,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[283,62],[269,-253],[258.14,-289.956],[245.323,-307.636],[229,-317],[-392.01,-319.781],[-417,-316],[-431.668,-297.891],[-439.394,-274.056],[-436,-177],[554,339]],"c":false},"ix":2},"nm":"\u8DEF\u5F84 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[1,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":152,"ix":5},"lc":1,"lj":1,"ml":4,"ml2":{"a":0,"k":4,"ix":8},"nm":"\u63CF\u8FB9 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.453682005639,0.537254961799,0.526438993566,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"nm":"\u586B\u5145 1","mn":"ADBE Vector Graphic - Fill","hd":true},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53D8\u6362"}],"nm":"\u5F62\u72B6 1","np":3,"cix":2,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"n":["0p833_0p833_0p167_0p167"],"t":20,"s":[0],"e":[100]},{"t":50}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"n":["0p833_0p833_0p167_0p167"],"t":-40,"s":[12],"e":[100]},{"t":-10}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"\u4FEE\u526A\u8DEF\u5F84 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":51,"st":49,"bm":0},{"ddd":0,"ind":9,"ty":1,"nm":"\u767D\u8272 \u7EAF\u8272 3","parent":1,"tt":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[0,0,0],"ix":2},"a":{"a":0,"k":[540,540,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"f","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[64.891,0],[0,0],[0,-62.531],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,-62.531],[0,0],[-68.43,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[452.103,464.491],[126.47,295.776],[774.196,295.776],[854.424,253.92],[854.424,248.582],[744.7,148.297],[146.527,148.297],[36.803,248.582],[36.803,406.679],[301.085,543.539],[854.424,831.418],[1043.197,931.703],[1043.197,772.426],[741.203,614.935]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"\u8499\u7248 1"}],"sw":1080,"sh":1080,"sc":"#ffffff","ip":0,"op":51,"st":49,"bm":0}],"markers":[]}')}}]);