/*!
* @ies/filter-xss v3.1.4
* (c) 2024
*/var e,t;e=this,t=function(e){"use strict";var t=function(){return(t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function n(e,t,n){if(n||2==arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var r=/[^a-zA-Z0-9\\_:.-]/gim,i=/</g,o=/>/g,s=/&#([a-zA-Z0-9]*);?/gim,a=/&quot;/g,l=/&colon;?/gim,c=/&newline;?/gim,u=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,d=/u\s*r\s*l\s*\(.*/gi,h=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,f=/"/g,p=function(e){return e.replace(i,"&lt;").replace(o,"&gt;")},v={indexOf:function(e,t){var n,r;for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return -1},forEach:function(e,t,n){var r,i;for(r=0,i=e.length;r<i;r++)t.call(n,e[r],r,e)},some:function(e,t,n){var r,i;for(r=0,i=e.length;r<i;r++)if(t.call(n,e[r],r,e))return!0;return!1},trim:function(e){return e.replace(/(^\s*)|(\s*$)/g,"")},includes:function(e,t){if("string"==typeof e)return -1!==e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return!0;return!1},spaceIndex:function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1},uniq:function(e){for(var t={},n=[],r=0;r<e.length;r++)t[e[r]]||(n.push(e[r]),t[e[r]]=!0);return n},from:function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t},keys:function(e){var t=[];for(var n in e)t.push(n);return t}};function g(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]?e.substr(1,e.length-2):e}function _(e){var t,n,r,i,o,s,a,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c="",u=0;for(e=function(e){e=e.replace(/rn/g,"n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?t+=String.fromCharCode(r>>6|192)+String.fromCharCode(63&r|128):t+=String.fromCharCode(r>>12|224)+String.fromCharCode(r>>6&63|128)+String.fromCharCode(63&r|128)}return t}(e);u<e.length;)i=(t=e.charCodeAt(u++))>>2,o=(3&t)<<4|(n=e.charCodeAt(u++))>>4,s=(15&n)<<2|(r=e.charCodeAt(u++))>>6,a=63&r,isNaN(n)?s=a=64:isNaN(r)&&(a=64),c=c+l.charAt(i)+l.charAt(o)+l.charAt(s)+l.charAt(a);return c}function m(e){var t,n,r,i,o,s,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l="",c=0;for(e=e.replace(/[^A-Za-z0-9+/=]/g,"");c<e.length;)t=a.indexOf(e.charAt(c++))<<2|(i=a.indexOf(e.charAt(c++)))>>4,n=(15&i)<<4|(o=a.indexOf(e.charAt(c++)))>>2,r=(3&o)<<6|(s=a.indexOf(e.charAt(c++))),l+=String.fromCharCode(t),64!==o&&(l+=String.fromCharCode(n)),64!==s&&(l+=String.fromCharCode(r));return function(e){for(var t="",n=0,r=0,i=0;n<e.length;)(r=e.charCodeAt(n))<128?(t+=String.fromCharCode(r),n++):r>191&&r<224?(t+=String.fromCharCode((31&r)<<6|63&e.charCodeAt(n+1)),n+=2):(t+=String.fromCharCode((15&r)<<12|(63&e.charCodeAt(n+1))<<6|63&e.charCodeAt(n+2)),n+=3);return t}(l)}function y(e,t,n){var r="",i=0,o=!1,s=!1,a=0,l=e.length,c="",u="";e:for(a=0;a<l;a++){var d=e.charAt(a);if(!1===o){if("<"===d){o=a;continue}}else if(!1===s){if("<"===d){r+=n(e.slice(i,a)),o=a,i=a;continue}if(">"===d||a===l-1){r+=n(e.slice(i,o)),c=function(e){var t,n=v.spaceIndex(e);return t=-1===n?e.slice(1,-1):e.slice(1,n+1),"/"===(t=v.trim(t).toLowerCase()).slice(0,1)&&(t=t.slice(1)),"/"===t.slice(-1)&&(t=t.slice(0,-1)),t}(u=e.slice(o,a+1)),r+=t(o,r.length,c,u,"</"===u.slice(0,2)),i=a+1,o=!1;continue}if('"'===d||"'"===d)for(var h=1,f=e.charAt(a-h);""===f.trim()||"="===f;){if("="===f){s=d;continue e}f=e.charAt(a-++h)}}else if(d===s){s=!1;continue}}return i<l&&(r+=n(e.substr(i))),r}function S(e,t){var n=0,i=0,o=[],s=!1,a=e.length;function l(e,n){if(!((e=(e=v.trim(e)).replace(r,"").toLowerCase()).length<1)){var i=t(e,n||"");i&&o.push(i)}}for(var c=0;c<a;c++){var u=e.charAt(c),d=void 0;if(!1!==s||"="!==u){if(!1===s||c!==i){if(/\s|\n|\t/.test(u)){if(e=e.replace(/\s|\n|\t/g," "),!1===s){if(-1===(d=function(e,t){for(;t<e.length;t++){var n=e[t];if(" "!==n)return"="===n?t:-1}return -1}(e,c))){l(v.trim(e.slice(n,c))),s=!1,n=c+1;continue}c=d-1;continue}if(-1===(d=function(e,t){for(;t>0;t--){var n=e[t];if(" "!==n)return"="===n?t:-1}return -1}(e,c-1))){l(s,g(v.trim(e.slice(n,c)))),s=!1,n=c+1;continue}}}else{if(-1===(d=e.indexOf(u,c+1)))break;l(s,v.trim(e.slice(i+1,d))),s=!1,n=(c=d)+1}}else s=e.slice(n,c),n=c+1,i='"'===e.charAt(n)||"'"===e.charAt(n)?n:function(e,t){for(;t<e.length;t++){var n=e[t];if(" "!==n)return"'"===n||'"'===n?t:-1}return -1}(e,c+1)}return n<e.length&&(!1===s?l(e.slice(n)):l(s,g(v.trim(e.slice(n))))),v.trim(o.join(" "))}function b(e,t,n){var r,i;if(n=function(e){for(var t="",n=0,r=e.length;n<r;n++)t+=32>e.charCodeAt(n)?" ":e.charAt(n);return v.trim(t)}(n.replace(a,'"').replace(s,function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))}).replace(l,":").replace(c," ")),"href"===t||"src"===t){if("#"===(n=v.trim(n)))return"#";if("http://"!==n.substr(0,7)&&"https://"!==n.substr(0,8)&&"mailto:"!==n.substr(0,7)&&"tel:"!==n.substr(0,4)&&"data:image/"!==n.substr(0,11)&&"ftp://"!==n.substr(0,6)&&"./"!==n.substr(0,2)&&"../"!==n.substr(0,3)&&"#"!==n[0]&&"/"!==n[0])return""}else if("background"===t){if(u.lastIndex=0,u.test(n))return""}else if("style"===t&&(h.lastIndex=0,h.test(n)||(d.lastIndex=0,d.test(n)&&(u.lastIndex=0,u.test(n)))))return"";return n=p(n.replace(f,"&quot;"))}var E=function(e){return"string"==typeof e?e.replace(/'/g,'"').replace('=""',"").replace(/\s+/g,"").toLowerCase():""},C=function(){function e(e){var t=function(e){var t={};for(var n in e)t[n]=e[n];return t}(e||{});t.stripIgnoreTag&&(t.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),t.onIgnoreTag=function(){return""}),t.whiteList={},t.onTag=function(){},t.onTagAttr=function(){},t.onIgnoreTag=function(){},t.onIgnoreTagAttr=function(){},t.safeAttrValue=b,t.escapeHtml=p,this.options=Object.assign(t,e)}return e.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t,n,r,i,o,s=this.options,a=s.whiteList,l=s.onTag,c=s.onIgnoreTag,u=s.onTagAttr,d=s.onIgnoreTagAttr,h=s.safeAttrValue,f=s.escapeHtml;s.stripBlankChar&&(e=e.split("").filter(function(e){var t=e.charCodeAt(0);return!(127===t||t<=31&&10!==t&&13!==t)}).join("")),s.allowCommentTag||(e=function(e){for(var t="",n=0;n<e.length;){var r=e.indexOf("<!--",n);if(-1===r){t+=e.slice(n);break}t+=e.slice(n,r);var i=e.indexOf("-->",r);if(-1===i)break;n=i+3}return t}(e));var p=!1;s.stripIgnoreTagBody&&(t=s.stripIgnoreTagBody,"function"!=typeof(n=c)&&(n=function(){}),r=!Array.isArray(t),i=[],o=!1,c=(p={onIgnoreTag:function(e,s,a){if(r||-1!==v.indexOf(t,e)){if(a.isClosing){var l=a.position+10;return i.push([!1!==o?o:a.position,l]),o=!1,"[/removed]"}return o||(o=a.position),"[removed]"}return n(e,s,a)},remove:function(e){var t="",n=0;return v.forEach(i,function(r){t+=e.slice(n,r[0]),n=r[1]}),t+=e.slice(n)}}).onIgnoreTag);var g=y(e,function(e,t,n,r,i){var o={sourcePosition:e,position:t,isClosing:i,isWhite:Object.prototype.hasOwnProperty.call(a,n)},s=l(n,r,o);if(null!=s)return s;if(o.isWhite){if(o.isClosing)return"</".concat(n,">");var p=function(e){var t=v.spaceIndex(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var n="/"===(e=v.trim(e.slice(t+1,-1)))[e.length-1];return n&&(e=v.trim(e.slice(0,-1))),{html:e,closing:n}}(r),g=a[n],_=S(p.html,function(e,t){var r=-1!==v.indexOf(g,e),i=u(n,e,t,r);return null==i?r?(t=h(n,e,t,null))?"".concat(e,'="').concat(t,'"'):e:null==(i=d(n,e,t,r))?void 0:i:i});return r="<".concat(n),_&&(r+=" ".concat(_)),p.closing&&(r+=" /"),r+=">"}return null==(s=c(n,r,o))?f(r):s},f);return p&&(g=p.remove(g)),g},e}(),T=!0,I=function(e){return e&&e.Math==Math&&e},w=I("object"==typeof globalThis&&globalThis)||I("object"==typeof window&&window)||I("object"==typeof self&&self)||I("object"==typeof global&&global)||Function("return this")();try{!0!==(T=!!(T=String(T)).startsWith("<%=")||JSON.parse(T))&&"true"!==T||(w=Function("\nvar _checkXSS = function (it) {\n  return it && it.Math == Math && it;\n};\nreturn _checkXSS(typeof globalThis === 'object' && globalThis) ||\n_checkXSS(typeof window === 'object' && window) ||\n_checkXSS(typeof self === 'object' && self) ||\n_checkXSS(typeof global === 'object' && global) ||\nFunction('return this')();\n")())}catch(e){console.log(e)}var R=new(function(){function e(){var e=this;this.batchData=[],this.uniqKeys=new Set,this.timeout=2e3,this.lock=!1,this.isSetedConfig=!1,this.getSlardarBid=function(){var t,n,r="cc_web_smart_tools";if(!v.includes(r,"bid"))return r;if(e.config&&e.config.bid)return e.config.bid;var i=w;if(i&&i._xssBid)return i._xssBid;if(i&&i.slardar&&"function"==typeof i.slardar.config){var o=(i.slardar.config()||{}).bid;if(o)return o}if(i&&i.Slardar&&"function"==typeof i.Slardar.config){var s=(i.Slardar.config()||{}).bid;if(s)return s}return(null===(n=null===(t=null==i?void 0:i.Slardar)||void 0===t?void 0:t._baseParams)||void 0===n?void 0:n.bid)||"argus"},this.getConfigRegion=function(){var t,n="maliva";return v.includes(n,"region")?e.config&&e.config.region?e.config.region:((null===(t=null==w?void 0:w.gfdatav1)||void 0===t?void 0:t.region)||"cn").toLowerCase():n},this.gerReportUrl=function(){var t={cn:m("aHR0cHM6Ly9tb24uemlqaWVhcGkuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),boe:m("aHR0cHM6Ly9tb24uemlqaWVhcGkuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),ttp:m("aHR0cHM6Ly9tb24udXMudGlrdG9rdi5jb20vbW9uaXRvcl9icm93c2VyL2NvbGxlY3QvYmF0Y2gvc2VjdXJpdHkvP2JpZD0="),va:m("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),maliva:m("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),sg:m("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),boei18n:m("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9")}[e.getConfigRegion()];if(t)return t+e.getSlardarBid()}}return e.prototype.setConfig=function(e){this.isSetedConfig||(this.config=e)},e.prototype.upload=function(){var e=this;if(!this.config||!this.config.isCloseSSRReport||(null==w?void 0:w.document)){var t=!1;t=String(!1);try{if((!0===(t=!t.startsWith("<%=")&&JSON.parse(t))||"true"===t)&&!(null==w?void 0:w.document))return}catch(e){console.log(e)}var n=this.gerReportUrl();!this.lock&&n&&0!==this.batchData.length&&(this.lock=!0,setTimeout(function(){var t=e.batchData.slice(0,100);e.batchData=e.batchData.slice(100),w.fetch(n,{method:"post",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).catch(function(e){console.warn("xss defense report error",e)}),e.lock=!1,e.upload()},this.timeout))}},e.prototype.generateKey=function(e){return e.collectKey?[e.collectMode,e.collectKey].join("___"):""},e.prototype.push=function(e){this.batchData.push(e),this.upload()},e.prototype.report=function(e){var t=this.generateKey(e);if(w.fetch&&e.collectKey){var n="SSR";void 0!==w&&void 0!==w.location&&void 0!==w.location.href&&(n=w.location.href),e.documentUrl=n;var r={age:Math.floor(Date.now()),type:"xss",url:n,body:e,"user-agent":""};r.url="".concat(t,"___").concat(e.documentUrl),"SSR"===n&&(r.url="SSR___".concat(r.url),r.body.ssr=!0),this.push(r)}},e}());function N(e,t){return R.setConfig(t),new C(t).process(e)}var A=function(e){return -1===(e=(e=(e=(e=e.replace(/&colon;/gi,":")).replace(/&tab;/gi,"")).replace(/&newline;/gi,"")).replace(/(\t|\n|\r)/g,"")).indexOf("&#")?e.trim().toLowerCase():e.trim().replace(/&#(?:(x)([0-9a-f]+)|([0-9]+));?/gi,function(e,t,n,r){return String.fromCharCode(t?parseInt(n,16):parseInt(r))}).replace(/(\t|\n|\r)/g,"").toLowerCase()};function x(e,t){if(void 0===e&&(e=""),"string"!=typeof e)return!0;if(e=A(e),v.includes(e,"base64")&&!function(e){if(""===e||""===e.trim())return!0;try{return!v.includes(e,"data:text/html;base64")}catch(e){return!0}}(e))return t&&t("data:text/html;base64"),!1;var n=["expression(","behavior:","view-source:"];if(v.some(n,function(t){return -1!==e.indexOf(t)}))return v.forEach(n,function(n){-1!==e.indexOf(n)&&t&&t(n)}),!1;var r=["data:application","data:javascript","data:text/html","data:texthtml"];if(v.some(r,function(t){return -1!==e.indexOf(t)}))return v.forEach(r,function(n){-1!==e.indexOf(n)&&t&&t(n)}),!1;if(e.indexOf("javascript:")>0)return t&&t("javascript:"),!1;if(/^javascript:/i.test(e)){var i=e.slice(11).replace(/\s/g,"").trim();return!!v.some(["void","void(0)","void0","false","undefined",";"],function(e){return e===i})||(t&&t("javascript:"),!1)}return!0}var O=function(e,t){var n,r,i=!1;if(i=String(!1),"string"!=typeof e||(r=Number(1e4),void 0!==n&&(r=n),"NaN"!==r.toString()&&-1!==r&&e.length>=r)||x(e,t))return e;try{if(!0===(i=!i.startsWith("<%=")&&JSON.parse(i))||"true"===i){var o=new URL(e);return o.origin+o.pathname}}catch(e){return console.log(e),"#"}return"#"};function k(e,t,r){if(void 0===e&&(e=""),void 0===t&&(t=[]),"string"!=typeof e)return!0;if(!x(e=A(e)))return!1;var i,o={url:(i=e.match(/^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/)||[])[0],scheme:i[1],slash:i[2],host:i[3],port:i[4],path:i[5],query:i[6],hash:i[7]},s=o.scheme,a=o.host;return r?!!r(e):!(!s||!a)&&(!v.includes(["http","https","file"],s)||("object"==typeof window&&window&&(t=n(n([],t,!0),[location.host],!1)),v.some(t,function(e){return!!(e instanceof RegExp&&e.test(a))||e===a})))}var P=function(e,t){for(var n={},r=0,i=v.keys(e);r<i.length;r++){var o=i[r];Array.isArray(e[o])?n[o]=v.from(e[o]):n[o]=P({},e[o])}for(var s=0,a=v.keys(t);s<a.length;s++)(o=a[s])in e?Array.isArray(e[o])?n[o]=e[o].concat(t[o]):n[o]=P(e[o],t[o]):Array.isArray(t[o])?n[o]=v.from(t[o]):n[o]=P({},t[o]);return n},D={blackList:{a:["folder"],meta:["content"],iframe:["srcdoc"],input:["pattern"],vmlframe:["xmlns"]},blackTags:["script","xml","embed","isindex","object","base","set","handler","animate","payload","import"],blackAttrs:["charset","ns","namespace","formaction","xlink:href","xmlns:xlink","handler","repeat","repeat-start","repeat-end"],blackAttrRegExps:[/^on/],filterList:{param:["value"],video:["poster"],form:["action"]},filterAttrs:["href","src","background","style","dynsrc","lowsrc","content"],specialContentClosure:["title","style","noscript","textarea","xmp","iframe","noembed","noframes"]};try{var M={};M.blackAttrRegExps&&(M.blackAttrRegExps=M.blackAttrRegExps.map(function(e){return new RegExp(e.toString().slice(1,e.toString().length-1))}));var L="merge";v.includes(L,"override")&&(D=M),v.includes(L,"merge")&&(D=P(D,M))}catch(e){console.log(e)}var U={mode:"black",whiteList:{},blackConfig:D,collect:null,initCollect:function(){U.collect={blackList:{},blackTags:[],blackAttrs:[],blackAttrRegExps:[],filterAttrs:[],filterList:{},filterProtocol:[]}},removeCollect:function(){var e=function(e){for(var t=0,n=function(n){Array.isArray(e[n])?0===e[n].length?delete e[n]:(e[n]=v.from(v.uniq(e[n])),t+=e[n].length):0===v.keys(e[n]).length?delete e[n]:v.keys(e[n]).forEach(function(r){e[n][r]=v.from(v.uniq(e[n][r])),t+=e[n][r].length})},r=0,i=v.keys(e);r<i.length;r++)n(i[r]);return{count:t,ret:e}}(U.collect),t=e.count,n=e.ret;return U.collect=null,{collectKey:0===t?null:JSON.stringify(n),collectMode:"black"}},onIgnoreTag:function(e,t){var n;if(!v.includes(D.blackTags,e))return y(t,function(e,t,n,r,i){if(-1!==n.indexOf("/"))return p(r);if(i)return"</".concat(n,">");var o=function(e){var t,n=(t=/\s|\n|\t/.exec(e))?t.index:-1;if(-1===n)return{html:"",closing:"/"===e[e.length-2]};var r="/"===(e=e.slice(n+1,-1).trim())[e.length-1];return r&&(e=e.slice(0,-1).trim()),{html:e,closing:r}}(r),s=S(o.html,function(e,t){var r,i,o=0;if(D.blackList[n]&&v.includes(D.blackList[n],e)&&(U.collect.blackList[n]=U.collect.blackList[n]||[],U.collect.blackList[n].push(e),o++),D.blackAttrRegExps.length&&D.blackAttrRegExps.some(function(t){return t.test(e)})&&v.forEach(D.blackAttrRegExps,function(t){t.test(e)&&(U.collect.blackAttrRegExps.push("".concat(t.toString(),"->").concat(e)),o++)}),D.blackAttrs.length&&v.includes(D.blackAttrs,e)&&(D.blackAttrs.push(e),o++),!o){if(Array.isArray(D.specialContentClosure)&&"string"==typeof t&&D.specialContentClosure.find(function(e){return t.includes("</".concat(e,">"))})){null===(r=U.collect)||void 0===r||r.filterAttrs.push(e);var s="#";return t?"".concat(e,"='").concat(s,"'"):e}return D.filterList&&D.filterList[n]&&v.includes(D.filterList[n],e)?((s=O(t,function(e){var t;null===(t=U.collect)||void 0===t||t.filterProtocol.push(e)}))!==t&&(U.collect.filterList[n]=U.collect.filterList[n]||[],U.collect.filterList[n].push(e)),t?"".concat(e,"='").concat(s,"'"):e):D.filterAttrs&&v.includes(D.filterAttrs,e)?((s=O(t,function(e){var t;null===(t=U.collect)||void 0===t||t.filterProtocol.push(e)}))!==t&&(null===(i=U.collect)||void 0===i||i.filterAttrs.push(e)),t?"".concat(e,"='").concat(s,"'"):e):t?"".concat(e,"='").concat(t,"'"):e}});return r="<".concat(n),s&&(r+=" ".concat(s)),o.closing&&(r+=" /"),r+=">"},p);null===(n=U.collect)||void 0===n||n.blackTags.push(e)}},F=function(e){var t=e.reportOnly,n=void 0===t||t,r=e.block;return n&&"all"===n?"report":("string"==typeof n&&("true"===n&&(n=!0),"false"===n&&(n=!1)),r?"enforce":n?"report":"enforce")},j=function(e){return function(n,r,i){if(!n||"string"!=typeof n)return n;var o=r;e===N&&(o=U).initCollect();var s=e(n,o);if(E(s)===E(n))return n;if(!i)return s;var a=i.logType,l=F(i),c=o.removeCollect();return R.report(t(t({type:a,disposition:l},c),{sourceText:_(n.replace(/'/g,'"')),filterText:_(s.replace(/'/g,'"'))})),"enforce"===l?s:n}},B=j(function(e,t){return void 0===t&&(t={}),t&&t.whiteList||(t.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}),new C(t).process(e)}),V=j(N),H=function(e,t,n){var r=[],i=O(e,function(e){r.push(e)});if(i===e)return e;r=v.from(v.uniq(r));var o=t||n||{};if(!o)return i;var s=o.logType,a=F(n);return R.report({type:s,disposition:a,collectKey:r.join("___"),collectData:JSON.stringify(r),collectMode:"black",sourceText:_(e),filterText:_(i)}),"enforce"===a?i:e},G=w._xssProject||{},z=w.xssNamespace||{},Z="3.1.4",W={FilterXSS:C,version:Z,webpackPluginVersion:"3.1.9",reportOnly:"all",filterXSS:B,_filterXSS:V,filterUrl:H,BlackConfig:U,project:G,setProjectName:function(e){G[e]=this,w._xssProjectName=e}};z["lvweb/smart-tools"]=W,w.xssNamespace=z,w.Math&&!w.Math.xssNamespace&&(w.Math.xssNamespace=z),G[Z]=W,w.globalThis=w,w.getFilterXss=function(){return void 0!==this._xssProjectName?this._xssProject[this._xssProjectName]:W},w.xss=W,w.isSafeUrl=k,w.isSafeDomain=k,w.isSafeProtocol=x,w._xssProject=G,w._xssProjectName&&(G[w._xssProjectName]=W);var Y=W.setProjectName.bind(W);e.BlackConfig=U,e.FilterXSS=C,e._filterXSS=V,e.filterUrl=H,e.filterXSS=B,e.isSafeDomain=k,e.isSafeProtocol=x,e.isSafeUrl=k,e.project=G,e.setProjectName=Y,e.setXssNamespace=function(e){var t=e.appId,n=e.bid,r=e.region,i=e.isCloseSSRReport;z[t]=W,U.bid=n,U.region=r,U.enabled=!0,U.isCloseSSRReport=i},e.xssNamespace=z,Object.defineProperty(e,"__esModule",{value:!0})},"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).xss={}),(self.webpackChunksmart_tools=self.webpackChunksmart_tools||[]).push([["6903"],{68204:function(e,t,n){"use strict";n(642470),n(822209)},860852:function(e,t,n){"use strict";n(642470),n(123772),n(822960),n(321843)},603634:function(e,t,n){"use strict";t.default=void 0;var r,i=n(218571),o=(r=n(751057))&&r.__esModule?r:{default:r};function s(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}t.default=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],l=(0,i.useRef)(),c=function(e){if(Array.isArray(e))return e}(n=(0,i.useState)({x:-1,y:-1}))||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),2!==n.length);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}(n,2)||s(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),u=c[0],d=c[1],h=(0,i.useCallback)(function(e){var t,n,r,i=l.current;if(i&&e){if(i===window){d({x:Math.round(e.clientX),y:Math.round(e.clientY)});return}var o=i.getBoundingClientRect(),s=o.left,a=o.top,c=e.clientX,u=e.clientY;(t=l.current,n=c>=s&&c<=t.offsetWidth+s,r=u>=a&&u<=t.offsetHeight+a,n&&r)?d({x:c-s,y:u-a}):d({x:-1,y:-1})}},[l.current,"function"==typeof e?void 0:e].concat(function(e){if(Array.isArray(e))return a(e)}(r)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(r)||s(r)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),f=(0,o.default)(h,(null==t?void 0:t.throttle)||50,[h]).run;return(0,i.useLayoutEffect)(function(){return e?l.current="function"==typeof e?e():e:l.current||(l.current=window),l.current&&window.addEventListener("mousemove",f,!1),function(){window.removeEventListener("mousemove",f,!1)}},[h]),[l,u]}},953032:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=n(218571),o=(r=n(1297))&&r.__esModule?r:{default:r};function s(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,void 0)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=r.immediately,l=void 0!==a&&a,c=r.trailing,u=void 0===c||c,d=r.leading,h=void 0!==d&&d,f=(0,i.useRef)(),p=(0,i.useRef)(!1),v=(0,i.useRef)(e);v.current=e;var g=(0,i.useRef)([]),_=(0,i.useCallback)(function(){f.current&&clearTimeout(f.current),f.current=void 0},[]),m=(0,i.useCallback)(function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];if(g.current=n,!f.current){if(l&&!p.current){v.current.apply(v,s(g.current)),p.current=!0;return}h&&v.current.apply(v,s(g.current)),f.current=window.setTimeout(function(){u&&v.current.apply(v,s(g.current)),f.current=void 0,p.current=!1},t)}},[t,_]);return(0,o.default)(function(){m()},[].concat(s(n),[m])),(0,i.useEffect)(function(){return _},[]),{run:m,cancel:_}}},23468:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(571456),i=n(733730),o=n(683132),s=n(859933),a=function(e){(0,r.XW)(n,e);var t=(0,r.WY)(n);function n(e){var i;return(0,r.PA)(this,n),(i=t.call(this)).TAG="VideoDecoder",i._video=i._createVideo(),i._IsInDecoding=!1,i._fps=0,i._framId=null,i._screenShotNum=0,i._allPicNum=0,i._currentBlob=null,i._basePTS=0,i._totleTime=0,i._isVideoONRun=!0,i.firstEmit=!1,i.ptsArray=[],i._currentCanvasHeight=0,i._canvasList=[],i._realFrameDuration=25,i._maxVideoHeight=e.maxVideoHeight||720,i._minFPSTime=0,i._maxFPSTime=0,i._playFailed=!1,i._isPhoneSafari=!1,i._createCanvasList(),i._bindEvents(),i}return(0,r.qH)(n,[{key:"_createCanvasList",value:function(){this._canvas=document.createElement("canvas"),this._ctx=this._canvas.getContext("2d",{alpha:!1});for(var e=0;e<45;e++){var t=this._createCanvas(),n=t.dom,r=t.ctx;this._canvasList.push({dom:n,ctx:r})}}},{key:"_createCanvas",value:function(){var e=document.createElement("canvas"),t=e.getContext("2d");return{dom:e,ctx:t}}},{key:"_createVideo",value:function(){var e=document.createElement("video");return e.setAttribute("muted",!0),e.setAttribute("autoplay",!0),e.setAttribute("controls",!0),e.setAttribute("webkit-playsinline",!0),e.setAttribute("playsinline",!0),e.setAttribute("x5-video-player-type","h5"),e.setAttribute("x5-video-player-type","h5-page"),e.style.position="absolute",e}},{key:"_initVideo",value:function(e,t){if(!e.blobUrl||void 0===e.dts){console.error(this.TAG,"_initVideo","input info is error, blobUrl:",e.blobUrl,"dts:",e.dts);return}var n=e.blobUrl;this._currentBlob=n,this._basePTS=e.dts,this._currentDuration=e.duration;try{o.kg.log(this.TAG,"_initVideo, basePTS:",e.dts),this._setVideoSrc(n,t),this._video.paused&&this._videoPlay("_initVideo")}catch(e){console.error(this.TAG,"_initVideo, load error",e)}}},{key:"_setVideoSrc",value:function(e,t){try{var n=this._video;n.src=e,n.load(),n.playbackRate=2}catch(e){console.error(this.TAG,"_setVideoSrc",e)}}},{key:"_videoPlay",value:function(e){var t=this,n=this._video;if(o.kg.log(this.TAG,"_videoPlay, video is pause:",n.paused,e),n&&n.paused){var r=n.play();void 0!==r&&r.then(function(){t._playFailed=!1,o.kg.log(t.TAG,"_videoPlay success")}).catch(function(e){console.error(t.TAG,"_videoPlay failed,",e.message),t._playFailed=!0,t.emit(s.ZP.DECODE_EVENTS.PLAY_FAILED,t.firstEmit)})}}},{key:"_removeEvents",value:function(){var e=this._video;e.removeEventListener("playing",this._onPlaying.bind(this)),e.removeEventListener("ended",this._onEnded.bind(this)),e.removeEventListener("error",this._onError.bind(this)),e.removeEventListener("loadeddata",this._onLoadeddata.bind(this)),e.removeEventListener("timeupdate",this._onTimeUpdate.bind(this))}},{key:"_bindEvents",value:function(){var e=this,t=this._video;if(!t){console.error(this.TAG,"_bindEvents");return}document.addEventListener("visibilitychange",this._onVisibilityChange.bind(this)),t.addEventListener("playing",this._onPlaying.bind(this)),t.addEventListener("ended",this._onEnded.bind(this)),t.addEventListener("error",this._onError.bind(this)),t.addEventListener("loadeddata",this._onLoadeddata.bind(this)),t.addEventListener("timeupdate",this._onTimeUpdate.bind(this)),t.addEventListener("pause",function(){o.kg.log("on pause, currentTime, duration:",e._vCurrentTime,e._vDuration)}),this.on("outputresolutionchange",this._onChange.bind(this)),this.on("fpsreduce",function(t){e._adaptFrameDuration(t)})}},{key:"_onTimeUpdate",value:function(){this._lastCurrentTime=this._vCurrentTime}},{key:"_onVisibilityChange",value:function(){this._isVideoONRun="visible"===document.visibilityState}},{key:"_onChange",value:function(e,t){this._width=e,this._height=t}},{key:"_onPlaying",value:function(){this._IsInDecoding&&(console.warn(this.TAG,"_onPlaying","last video not correct end"),this._framId&&(window.cancelAnimationFrame(this._framId),this._framId=null)),o.kg.log(this.TAG,"_onPlaying, video duration:",this._vDuration,"currentTime:",this._vCurrentTime,"_lastPts:",this._lastPts),this._isInDecoding=!0,this._lastCurrentTime=this._vCurrentTime,this.ptsArray=[],this.playingTime||(this.playingTime=!0),this._getFrame()}},{key:"_onEnded",value:function(e,t){o.kg.log(this.TAG,"_onEnded","current fmp4 duration is:",this._vDuration,"_isInDecoding:",this._isInDecoding,"_lastPts:",this._lastPts,"_realFrameDuration:",this._realFrameDuration,"from:",t),this._isInDecoding&&(this._isInDecoding=!1,this._lastMp4Duration=Math.min(this._vDuration,this._vCurrentTime),this._framId&&(o.kg.log(this.TAG,"_onEnded","cancelAnimationFrame"),window.cancelAnimationFrame(this._framId),this._framId=null),this._decodeFPS=parseInt(this._screenShotNum/(this._vDuration/1e3)),this.emit("fps",this._screenShotNum,this._totleTime,this._vDuration,this._metaFPS,{height:this._currentCanvasHeight,relHeight:this._video.videoHeight}),o.kg.log("_timePerFrame",this._totleTime/this._screenShotNum),this._timePerFrame=this._totleTime/this._screenShotNum,this._screenShotNum=0,this._allPicNum=0,this._totleTime=0,this._currentBlob&&(URL.revokeObjectURL(this._currentBlob),this._currentBlob=null,this._basePTS=0),this.emit(s.ZP.DECODE_EVENTS.FRAGMENT_END,this._decodeFPS,this._video.duration))}},{key:"_onError",value:function(){this._isInDecoding=!1;var e=this._video;console.error("video error:",e.error.code,e.error.message),this.emit("error",e.error,this.firstEmit)}},{key:"_onLoadeddata",value:function(){var e=this,t=this._video;t.currentTime=.001,this.firstEmit||(this._playFailed?(t.style.visibility="hidden",this.emit(s.ZP.DECODE_EVENTS.APPEND_VIDEO,t),setTimeout(function(){o.kg.log(e.TAG,"onloadeddata, setTimeout firstEmit:",e.firstEmit),e._getFirstFrame()},40)):(o.kg.log(this.TAG,"onloadeddata, firstEmit:",this.firstEmit),this._getFirstFrame()))}},{key:"_getFirstFrame",value:function(){this.firstTime=Date.now();var e=this._vCurrentTime,t=this._basePTS+e,n=this._getImageData(t).imageData;this.firstEmit=!0,this.emit(s.ZP.DECODE_EVENTS.FIRST_FRAME,n,t)}},{key:"_getFrame",value:function(){var e=this._video,t=e.videoWidth,n=e.videoHeight;if(this._allPicNum++,!this._isInDecoding){this._framId&&(window.cancelAnimationFrame(this._framId),this._framId=null);return}if(t||n){var r,i=this._vCurrentTime,a=this._basePTS+i;if(this.ptsArray.push(a),this._lastCurrentTime&&this._lastCurrentTime===this._vDuration&&(o.kg.log(this.TAG,"_getFrame, video ended, lastCurrentTime",this._lastCurrentTime,"duration:",this._vDuration,"isInDecoding:",this._isInDecoding),this._onEnded(null,"getFrame")),this._lastPts&&a<=this._lastPts||this._lastPts&&a-this._lastPts<this._realFrameDuration){this._framId=window.requestAnimationFrame(this._getFrame.bind(this));return}this._screenShotNum++;var l=null,c=Date.now();try{l=(r=this._getImageData(a)).imageData}catch(e){console.error(e,r,this._canvasList.length)}this._lastPts=a;var u=Date.now();this._totleTime+=u-c,this.emit(s.ZP.DECODE_EVENTS.DECODED,l,a),this._framId=window.requestAnimationFrame(this._getFrame.bind(this));return}this._framId=window.requestAnimationFrame(this._getFrame.bind(this))}},{key:"_getImageData",value:function(){var e,t=this._video,n=t.videoWidth,r=t.videoHeight,i=n,o=r;this._width&&this._height&&(i=this._width,o=this._height),o>this._maxVideoHeight&&(i=parseInt(n/r*(o=this._maxVideoHeight))),(e=this._canvasList.shift())||(console.warn(this.TAG,"_getImageData, _canvansList length is 0"),e=this._createCanvas()),e.width=i,e.height=o;var s=e.dom,a=e.ctx;if(this._currentCanvasHeight=o,!s)return{imageData:e};s.width!==i&&(s.width=i,s.height=o);try{r&&n&&i&&o&&a.drawImage(t,0,0,n,r,0,0,i,o)}catch(e){console.error(this.TAG,"_getImageData, drawImage:",e)}return{imageData:e}}},{key:"_adaptFrameDuration",value:function(e){e<15?this._minFPSTime++:this._minFPSTime=0,e>30?this._maxFPSTime++:this._maxFPSTime=0,this._minFPSTime>0&&this._decodeFPS<15&&(this._realFrameDuration-=this._timePerFrame,this._realFrameDuration<15&&(this._realFrameDuration=15),this._minFPSTime=0),this._maxFPSTime>0&&this._decodeFPS>30&&(this._realFrameDuration+=this._timePerFrame,this._maxFPSTime=0)}},{key:"_vDuration",get:function(){return parseInt(1e3*this._video.duration)}},{key:"_vCurrentTime",get:function(){return parseInt(1e3*this._video.currentTime)}},{key:"_reset",value:function(){this._isInDecoding=!1,this._lastPts=0,this._screenShotNum=0,this._allPicNum=0,this._totleTime=0}},{key:"reStartDecode",value:function(){this._video.pause(),this._reset();var e=this._currentBlob,t=this._basePTS;this._framId&&(window.cancelAnimationFrame(this._framId),this._framId=null),this._initVideo({blobUrl:e,dts:t})}},{key:"doSeek",value:function(e){if(this._isInDecoding&&!(e<=0)){var t=this._vCurrentTime/1e3+e>=this._vDuration/1e3?this._vDuration/1e3:this._vCurrentTime/1e3+1;console.error("doSeek",t),this._video.currentTime=t}}},{key:"pause",value:function(){this._isInDecoding&&this._video.pause()}},{key:"play",value:function(){if(this._isInDecoding&&this._video.paused)return o.kg.log("video play",this._vCurrentTime),this._video.play()}},{key:"startDecode",value:function(e,t,n){this._initVideo(e,n),this._metaFPS=t}},{key:"stopDecode",value:function(){this._video.paused||(this._video.pause(),this._reset())}},{key:"canPlayType",value:function(e){return this._video.canPlayType(e)}},{key:"destroy",value:function(){this._isInDecoding=!1,window.cancelAnimationFrame(this._framId),this._video.pause(),this._removeEvents()}},{key:"videoWidth",get:function(){return this._video?this._video.videoWidth:0}},{key:"videoHeight",get:function(){return this._video?this._video.videoHeight:0}}]),n}(i.Z)},700203:function(e,t,n){"use strict";n.d(t,{qB:function(){return i.q},rT:function(){return r.r}});var r=n(758399),i=n(670483)},798081:function(e,t,n){"use strict";n.d(t,{k:()=>G,o:()=>z});let r=n("386859"),i=n("64367"),o=n("528694"),s=n("219519"),a=n("595607"),l=n("640595"),c=n("881287"),u=n("743477"),d=n("399501");n("907028");let h=n("299525"),f=n("884229"),p=n("77851"),v=n("413053"),g=n("218571"),_=n("207478"),m=n("896679"),y=n("540648"),S=n("156194"),b=n("816097"),E=n("513734"),C=n("51111"),T=n("45327"),I=n("575086"),w=n("740469");var R,N=function(e,t){function n(n){var i,o,s,a,u,d,h=e.getContentState(),f=h.getZoneState(t);if(f)try{for(var p=(0,r.c)(n),v=p.next();!v.done;v=p.next()){var g=v.value;if(g.addedNodes.length)try{for(var _=(s=void 0,(0,r.c)(Array.from(g.addedNodes))),m=_.next();!m.done;m=_.next()){var y=m.value;if(y.nodeType===Node.TEXT_NODE&&y.textContent){var S,b,E=0;if(y.nextSibling){if(!(y.nextSibling instanceof HTMLElement))continue;var C=y.nextSibling;if(!(C=y.nextSibling.hasAttribute(c.PI)?C:y.nextSibling.querySelector("["+c.PI+"]")))continue;var T=e._getViewModel().getModel(C);if(!T)continue;E=T.index}else E=f.length();-1===E||null!==(S=0===E?0:f.pointToOffset({line:E-1,offset:((null===(u=f.getLine(E-1))||void 0===u?void 0:u.length())||1)-1}))&&(null!==(d=y.parentNode)&&void 0!==d&&d.removeChild(y),b=new l.I({zoneId:t}).retain(S),b=0===E?b.insert(y.textContent).insertEnter():b.insertEnter().insert(y.textContent),h.apply(b))}}}catch(e){s={error:e}}finally{try{m&&!m.done&&(a=_.return)&&a.call(_)}finally{if(s)throw s.error}}}}catch(e){i={error:e}}finally{try{v&&!v.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}}(0,g.useLayoutEffect)(function(){var r=null===(r=e.getContentState().getZoneState(t))||void 0===r?void 0:r._node;if(r){var i,o,s,a=(i=r,o={childList:!0},(s=new MutationObserver(s=n)).observe(i,o),s);return function(){a.disconnect()}}},[e,t])};let A=n("728961"),x=n("974122"),O=n("229905"),k=n("89759"),P=n("340847");var D,M=function(){function e(e,t,n,r,i){void 0===n&&(n={}),void 0===i&&(i=[]),this.t=e,this.n=t,this.i=n,this.o=r,this.s=i,this.r=[],this.a={},this.init()}var t=e.prototype;return t.l=function(){var e=this;this.s.forEach(function(t){var n,o="string"==typeof t?(n=t,A.GL[n]||{}):(n=t.type,Object.assign({},A.GL[n],t.overideConfig)),s=function(){return e.scrollIntoViewport(void 0,(0,r.b)({_event:n},o))};n!==d.r.SELECTION_CHANGE&&n!==d.r.SELECTION_CHANGE_AND_DOM_UPDATE||(s=function(){var t=e.t.selection.getSelection(e.o);t&&e.scrollIntoViewport(t.start,(0,r.b)({_event:n},o))}),t=function(t){var n=o.shouldPreventScroll,r=o.triggerAfterPaint;null!=n&&n(t)||(r?e.t.once("paint",s):s())},e.t.on(n,t,e.o===i.S?void 0:{zoneId:e.o}),e.r.push(t)})},t.getScroller=function(){return this.n},t.emitScroll=function(e){this.t.call(d.r.SCROLL,e)},t.destroy=function(){for(var e,t=0;t<this.s.length;t++){var n=this.s[t],r="string"==typeof n?n:n.type;this.t.off(r,this.r[t])}Object.values(this.a).forEach(function(e){return window.clearTimeout(e)});var i=null===(e=null===(i=this.t.getContentState())||void 0===i?void 0:i.getZoneManager)||void 0===e?void 0:e.call(i);null!=i&&i.removeScrollModule(this.o),this.n.removeEventListener("scroll",this.emitScroll)},t.init=function(e){void 0===e&&(e=!0);var t,n=null===(n=null===(t=this.t.getContentState())||void 0===t?void 0:t.getZoneManager)||void 0===n?void 0:n.call(t);null!=n&&n.registerScrollModule(this.o,this),e&&this.n.addEventListener("scroll",this.emitScroll),this.l()},t.scrollTo=function(e){this.n.scrollTo(e)},t.scrollBy=function(e){this.n.scrollBy(e)},t.scrollPointIntoScrollerView=function(e,t,n,i){var o=this.t,s=this.o;if(!o||!s)return A.Xm;var a,l={};if(!(0,x.Fl)(i))return A.Xm;try{a=(0,x.re)(t)}catch(e){return console.error(e),A.Xm}return o=(0,r.b)((0,r.b)({},i),{top:i.top-a.top,bottom:i.bottom-a.top,left:i.left-a.left,right:i.right-a.left}),t=(s=(0,x.AS)(n)).paddingBottom,i=s.paddingLeft,n=s.paddingRight,s=s.paddingTop,s=-o.top+s,t=o.bottom-a.clientHeight+t,s>A.zQ?l.top=a.scrollTop-s:t>A.zQ&&(l.top=a.scrollTop+t),i=-o.left+i,n=o.right-a.clientWidth+n,i>A.zQ?l.left=a.scrollLeft-i:n>A.zQ&&(l.left=a.scrollLeft+n),l},t.scrollPointIntoWindowView=function(e,t,n,r){if(!this.t)return A.Xm;var i,o={};if(!(0,x.Fl)(r))return A.Xm;try{i=(0,x.re)(t),window.visualViewport&&(i.clientHeight=window.visualViewport.height,i.clientWidth=window.visualViewport.width)}catch(e){return console.error(e),A.Xm}var s=(0,x.AS)(n),a=s.paddingBottom,t=s.paddingLeft,n=s.paddingRight,s=s.paddingTop,s=-r.top+s,a=r.bottom-i.clientHeight+a;return s>A.zQ?o.top=i.scrollTop-s:a>A.zQ&&(o.top=i.scrollTop+a),t=-r.left+t,n=r.right-i.clientWidth+n,t>A.zQ?o.left=i.scrollLeft-t:n>A.zQ&&(o.left=i.scrollLeft+n),o},t._scrollIntoViewport=function(e,t){var n,r=this.t,o=this.n,s=this.o,a=this.i,l=(t=void 0===t?{}:t).onlyScrollWhenCollapsed,t=r.selection.getSelection();l&&!t.isCollapsed()||!e||e.zoneId!==s&&s!==i.S||(!r.getStatus("preventScrolling")&&r.isEditable()?(t=r.rectModule.getRawCaretRect(e),s=A.Xm,o!==document.scrollingElement&&(s=this.scrollPointIntoScrollerView(e,o,(null===(n=a.getScrollerPadding)||void 0===n?void 0:n.call(a))||A.Dd,t),o.scrollTo(s)),n=document.scrollingElement||window,o=A.Xm,a.disableBodyScroll||(o=this.scrollPointIntoWindowView(e,n,(null===(e=a.getViewPortPadding)||void 0===e?void 0:e.call(a))||A.Dd,t),n.scrollTo(o)),((0,x.Yz)(s)||(0,x.Yz)(o))&&this.emitScroll()):r.setStatus("preventScrolling",!1))},t.scrollIntoViewport=function(){for(var e,t=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=(null===(e=n[1])||void 0===e?void 0:e._event)||"DEFAULT";void 0===this.a[o]&&(this._scrollIntoViewport.apply(this,(0,r.e)(n)),this.a[o]=window.setTimeout(function(){t.a[o]=void 0},66))},(0,r.a)([o.W],e.prototype,"getScroller",null),(0,r.a)([o.W],e.prototype,"emitScroll",null),(0,r.a)([o.W],e.prototype,"destroy",null),(0,r.a)([o.W],e.prototype,"init",null),(0,r.a)([o.W],e.prototype,"scrollTo",null),(0,r.a)([o.W],e.prototype,"scrollBy",null),(0,r.a)([o.W],e.prototype,"scrollPointIntoScrollerView",null),(0,r.a)([o.W],e.prototype,"scrollPointIntoWindowView",null),(0,r.a)([o.W],e.prototype,"_scrollIntoViewport",null),(0,r.a)([o.W],e.prototype,"scrollIntoViewport",null),e}(),L=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.u=!1,t.d={},t}(0,r.d)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e,t;this.u=!0,null!==(t=(e=this.props).onMount)&&void 0!==t&&t.call(e),this.c(),this._()},n.componentDidUpdate=function(e){var t=this.props.editor;t.getStatus("isPainting")&&(t.setStatus("isPainting",!1),this.c(),this._())},n.componentWillUnmount=function(){this.u=!1;var e=this.props,t=e.editor,e=e.state;t._getViewModel()._resetNode(e)},n._=function(){var e,t,n,i,o=this.props.state;try{for(var s=(0,r.c)(o.lines),a=s.next();!a.done;a=s.next()){var l=a.value;l.getNode().__index=l.index}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}if(o=o.getContainer())try{for(var u=(0,r.c)(Array.from(o.children)),d=u.next();!d.done;d=u.next()){var h,f=d.value;f.getAttribute(c.PI)||(h=f.querySelector("["+c.PI+"]").__index,f.__index=h)}}catch(e){n={error:e}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}},n.shouldComponentForceUpdate=function(e,t){var n,i,o,s,a,l,t=t.changes,c=!0;try{for(var u=(0,r.c)(t),d=u.next();!d.done;d=u.next()){var h=d.value;if([v.U.DELETE,v.U.INSERT].includes(h.type)){c=!1;break}if(h.type===v.U.UPDATE){for(var f=!1,p=0;p<h.inserts.length&&!(f=this.f(h.inserts[p].state,h.deletes[p]));++p);if(f){c=!1;break}}}}catch(e){n={error:e}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}if(c)return!1;var g=e.state.lines,e=this.props.state.lines,_=new Map;try{for(var m=(0,r.c)(e),y=m.next();!y.done;y=m.next()){var S=y.value;_.set(S.getKey(),S)}}catch(e){o={error:e}}finally{try{y&&!y.done&&(s=m.return)&&s.call(m)}finally{if(o)throw o.error}}for(var b=!1,p=0;p<g.length;++p){var E=g[p];if(b=this.v(E))break;var C=_.get(E.getKey());if(C&&this.f(E,C)){b=!0;break}}if(!b)try{for(var T=(0,r.c)(this.props.state.lines),I=T.next();!I.done;I=T.next()){var w=I.value;if(b=this.v(w))break}}catch(e){a={error:e}}finally{try{I&&!I.done&&(l=T.return)&&l.call(T)}finally{if(a)throw a.error}}return b},n.v=function(e){var t=e.getLineAttributes();return!!this.getWrappers(t,e).length},n.f=function(e,t){var n=e.hasLineMarker(),r=t.hasLineMarker();return!!(r!==n||r&&n&&!(0,s.X)(e.getLineAttributes(),t.getLineAttributes()))},n.c=function(){var e=this;Promise.resolve().then(function(){var t,n;e.u&&null!==(n=(t=e.props).onDidPaint)&&void 0!==n&&n.call(t,e.props.state.lines.map(function(e,t){return{data:e,originIndex:t}}))})},n.getWrappers=function(e,t){var n,i,o=[];if(!e)return o;try{for(var s=(0,r.c)(e),a=s.next();!a.done;a=s.next()){var l,c,u=(0,r._)(a.value,2),d=u[0],h=u[1],f=d+h,p=this.d[f];p||null!=(l=this.props.editor.pluginManager._matchPlugin({attributeKey:d,value:h,attributes:e.toMap()}))&&l.renderWrapper&&(p=l),null!=p&&p.renderWrapper&&((c=p.renderWrapper({lineState:t}))&&o.push(c),this.d[f]=p)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return o},n.h=function(e,t){e&&(e.__key=t)},n.render=function(){for(var e=this,t=this.props.state.lines,n=t.map(function(t){return m.ZP.createElement(w.y,{editor:e.props.editor,state:t,key:t.getKey()})}),i=[],o=t.reduce(function(t,n,r){var o=n.getLineAttributes(),s=e.getWrappers(o,n);return s.length&&((o=t.length?t[t.length-1]:null)&&(0,h.z)(o.wrappers,s)&&o.range[1]+1===r?(o.range[1]=r,i[i.length-1]+=""+y.rC+n.getKey()):(t.push({wrappers:s,range:[r,r]}),i.push(""+y.Gm+n.getKey()))),t},[]),s=o.length;0<=--s;)!function(){var t=o[s],a=t.wrappers,l=t.range,c=(0,r._)(l,2),t=c[0],l=c[1],c=n.slice(t,l+1),u=i[s],c=a.reduce(function(t,n){return t=Array.isArray(t)?t:[t],S.Tm.apply(void 0,(0,r.e)([n,{ref:function(t){e.h(t,u)}}],t))},c);c instanceof HTMLElement||(c.props.key=u),n.splice(t,l-t+1,c)}();return n},t}(m.ZP.Component),U=function(e,t,n){var i=t.editor,o=t.zoneId,s=i.getContentState().getZoneState(o);if(s)try{return(0,b.Z)(L,(0,r.b)({state:s},t),e,{PluginContextProvider:n})}catch(e){throw n=null,e instanceof E.I?(n=e.originalError).message=e.message+" caused by: "+n.message:n=e,n}else i.error({message:"[render zone content failed]: ZoneState is not exist. zoneId: "+o,level:a.W.ERROR})},F=function(e){var t,n,o,s,l,u,h=e.zoneId,f=e.editor,p=e.style,v=e.className,_=e.editable,m=e.placeholder,y=void 0===m?"":m,S=e.root,E=void 0!==S&&S,I=e.ignoreContainerEditable,w=void 0!==I&&I,R=e.register,A=e.scroller,m=e.scrollerOptions,S=e.contextList,I=void 0===S?[]:S,S=e.customizedProviderConstructorList,S=void 0===S?[]:S,x=e.children,P=e.onMount,D=e.onDidPaint,e=e.isSSR,F=(0,k.R)({editor:f,zoneId:h,contextList:(0,r.e)([{Context:O.rU,contextValue:f}],I),customizedProviderConstructorList:S}).Provider,j=(0,g.useRef)(null),B=(0,g.useRef)(null),V=(0,g.useCallback)(function(e){var t;!(j.current=e)||(t=f.getContentState().getZoneState(h))&&f._getViewModel()._setNode(t,e)},[f,h]);if(!E&&R){f.pluginManager.resetPluginToZoneMap(h);try{for(var H=(0,r.c)(R(f)),G=H.next();!G.done;G=H.next()){var z=G.value;f.pluginManager.register(z,h)}}catch(e){K={error:e}}finally{try{G&&!G.done&&(u=H.return)&&u.call(H)}finally{if(K)throw K.error}}}var Z=(0,g.useCallback)(function(){var e;j.current&&(E||f.pluginManager.call("zoneDidMount",{zoneId:h},void 0,h),null!=P&&P(j.current),null!==(e=f.getContentState().getZoneState(h))&&void 0!==e&&e.setPlaceholder(y),f._toggleZonePlaceHolder(h))},[f,h,y,E,P]),W=(0,g.useCallback)(function(e,t){void 0===t&&(t={}),!1!==f.mounted&&(D&&D(e,t),f.call(d.r.PAINT,{data:e,zoneId:h}),f.selection.getSelection().start.zoneId!==h||f.getStatus("isPerforming")||f.getStatus("preventUpdateDomSelection")||f.getStatus("isComposing")||!f.isFocus()||f.selection.updateBrowserSelection(),f.setStatus("contentChanged",!1),f.call(c.ip))},[f,h,D]);(0,g.useLayoutEffect)(function(){var e;return E&&x?Z():j.current&&(U(j.current,{editor:f,zoneId:h,onMount:Z,onDidPaint:W},F),(e=f.getContentState().getZoneState(h))&&(B.current=e)),function(){var e;null!=(e=f.getContentState().getZoneState(h))&&e.instance?(0,b.a)(e):B.current&&(0,b.a)(B.current),j.current&&f._getViewModel()._deleteNode(j.current)}},[]);var Y=(0,g.useRef)(!!x);(0,g.useLayoutEffect)(function(){var e;E&&x&&!Y.current&&(e=f.getContentState().getZoneState(i.S))&&e.lines.forEach(function(e){var t=e.getNode();(0,b.a)(e),null!=t&&t.remove()}),Y.current=!!x},[E,x,f]);var K=(0,g.useMemo)(function(){if(!E||!w)return _},[_,E,w]);return((0,g.useLayoutEffect)(function(){var e=E&&w;return e&&f.setContainerContentEditableLock(!0),function(){e&&f.setContainerContentEditableLock(!1)}},[f,E,w]),(0,g.useLayoutEffect)(function(){function e(e){var t=e.changes,n=e.diffResult,r=e.previous,o=e.current,e=e.options;if(h in t&&h in n){if(f.setStatus("isPainting",!0),r=r.getContent().get(h))try{f.call(d.r.BEFORE_DOM_RENDERER_RECONCILE,{applyType:e.type}),(0,C.r)({diffResult:n[h],previousState:r,ReactContextProvider:F}),f.call(d.r.AFTER_DOM_RENDERER_RECONCILE,{applyType:e.type})}catch(t){if(e=t,f.error({message:"[reconcile error]: "+e.message,level:a.W.ERROR,e:e}),!j.current||h===i.S||((0,b.a)(n[h].state),j.current.innerHTML="",U(j.current,{editor:f,zoneId:h,onMount:Z,onDidPaint:W},F),!(n=f.getContentState().getZoneState(h))))return;f._getViewModel()._setNode(n,j.current)}f.getStatus("isPainting")&&f.setStatus("isPainting",!1),(o=o.getContent().get(h))&&(B.current=o),f._toggleZonePlaceHolder(h)}}return f.on(d.r.CONTENT_CHANGE,e,{zoneId:h,priority:100}),function(){f.off(d.r.CONTENT_CHANGE,e)}},[f,h,F,Z,W]),(0,g.useEffect)(function(){function e(e){var t,n=e.zoneId;h===n&&(t=f.getContentState().getZoneState(h),e=B.current,t&&e&&(V(n=e.getContainer()),f.setStatus("isPainting",!0),f.call(d.r.BEFORE_DOM_RENDERER_RECONCILE,{applyType:"forceRefresh"}),(0,C.r)({diffResult:{state:t,changes:null},previousState:e,ReactContextProvider:F}),f.call(d.r.AFTER_DOM_RENDERER_RECONCILE,{applyType:"forceRefresh"}),f.getStatus("isPainting")&&f.setStatus("isPainting",!1),B.current=t))}return f.on("_forceRefresh",e),function(){f.off("_forceRefresh",e)}},[f,h,V,F]),N(f,h),t=null!==(A=null!=A?A:j.current)&&void 0!==A&&A,void 0===(n=m)&&(n={}),s=(o=(0,r._)((0,g.useState)(null),2))[0],l=o[1],(0,g.useEffect)(function(){var e=null;void 0===t||!0===t?e=document.scrollingElement||document.body:!1===t?e=null:(t instanceof Element||t instanceof Window)&&(e=t),l(null!==e?new M(f,e,(0,r.b)((0,r.b)({},n),{getViewPortPadding:f.getViewPortPadding}),h,null!==(e=n.scrollListenEventConfigs)&&void 0!==e?e:[{type:d.r.SELECTION_CHANGE,overideConfig:{triggerAfterPaint:!0}}]):null)},[t,h,f]),(0,g.useEffect)(function(){return function(){s&&s.destroy()}},[s]),!f.isSSR&&!e||E&&x)?g.createElement("div",{key:h,ref:V,style:p||{outline:"none"},className:c.SX+" "+(v||"zoneId-"+h+" ace-editor"),"data-zone-id":h,"data-zone-container":"*","data-slate-editor":"true",contentEditable:K,suppressContentEditableWarning:!0},E&&x):(m=f.getContentState().getZoneState(h))?(e=(0,T.D)(L,{state:m,editor:f,zoneId:h,onMount:Z,onDidPaint:W},{PluginContextProvider:F}),(0,b.a)(m),g.createElement("div",{key:h,ref:V,style:p||{outline:"none"},className:c.SX+" "+(v||"zoneId-"+h+" ace-editor"),"data-zone-id":h,"data-zone-container":"*","data-slate-editor":"true",contentEditable:K,suppressContentEditableWarning:!0,dangerouslySetInnerHTML:{__html:e}})):(f.error({message:"[render zone content failed]: ZoneState is not exist. zoneId: "+h,level:a.W.ERROR}),null)};(R=D=D||{}).IMG="img",R.TEXT="span",R.VIEW="div";var j=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.editor=t.context,t.option={},t._events={},t._selected=!1,t._ref=g.createRef(),t._prevSel=null,t._handleEditorSelectionChange=function(){var e;if(t.option.selectEventEnabled){var n,r,i,o=null;try{o=(0,f.Ve)(t._ref.current,t.editor)}catch(e){}o&&(n=t.editor.selection.getSelection(o.start.zoneId),r=!t._prevSel&&!n||!t._prevSel&&(null==n?void 0:n.isCollapsed())||(null===(e=t._prevSel)||void 0===e?void 0:e.isCollapsed())&&!n||(null===(r=t._prevSel)||void 0===r?void 0:r.isCollapsed())&&(null==n?void 0:n.isCollapsed()),t._prevSel=n,r||(r=o.start,o=o.end,(o=n&&n.start.zoneId===r.zoneId&&n.start<=r&&n.end>=o)&&!t._selected?(i=t._events.select,t._selected=!0,null!=i&&i.call(i)):!o&&t._selected&&(i=t._events.deselect,t._selected=!1,null!=i&&i.call(i))))}},t}(0,r.d)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.updateEventCb(),this.editor=this.context,this._bindEditorEvents()},n.componentDidUpdate=function(e){this.updateEventCb()},n.componentWillUnmount=function(){this.editor.off(d.r.SELECTION_CHANGE_AND_DOM_UPDATE,this._handleEditorSelectionChange)},n.updateEventCb=function(){var e=this;this._events=Object.keys(this.props).filter(function(e){return e.startsWith("on")}).reduce(function(t,n){return t[(0,f.Le)(n)]=e.props[n],t},{})},n._bindEditorEvents=function(){var e=this;this.option.selectEventEnabled&&f.ZG.find(function(t){return e._events[t]})&&this.editor.on(d.r.SELECTION_CHANGE_AND_DOM_UPDATE,this._handleEditorSelectionChange)},n._triggerEventCallback=function(e,t){var n=this._events[e.type],r=(0,f.Br)(e);n&&(f.Dg.includes((0,f.J$)(t))&&(e=(0,f.Ve)(e.currentTarget,this.editor),r.evtTargetSelection=e),n.call(n,r))},n._handleSynthesisEvents=function(e){this._triggerEventCallback(e,e.nativeEvent)},n.render=function(){var e=this,t=this.tagName,n=Object.keys(this.props).reduce(function(t,n){return n.startsWith("on")?t[n]=f.eb.includes((0,f.Le)(n))?void 0:e._handleSynthesisEvents:t[n]=e.props[n],t},{});return g.createElement(t,(0,r.b)({ref:this._ref},n),this.props.children)},t.contextType=O.rU,(0,r.a)([o.W],t.prototype,"_bindEditorEvents",null),(0,r.a)([o.W],t.prototype,"_triggerEventCallback",null),(0,r.a)([o.W],t.prototype,"_handleSynthesisEvents",null),t}(g.PureComponent),B=["editor","length","disableDefaultSelected","forwardRef","onSelect","onDeselect","onKeyDown","autoSelectOnClick"],V=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tagName=D.TEXT,t.option={viewportEventEnabled:!0,selectEventEnabled:!0},t._leftZeroSpaceRef=g.createRef(),t._rightZeroSpaceRef=g.createRef(),t.m=new WeakMap,t.handleKeyDown=function(e){if(t.props.onKeyDown)return t.props.onKeyDown(e);if(t.p()){var n=e.keyCode,r=!1;switch(!0){case n===c.VD.Enter:r=t.S();break;case[c.VD.Left,c.VD.Right,c.VD.Up,c.VD.Down].includes(n):r=t.y(e)}r&&(e.stopEvent(),e.stopPropagation(),e.preventDefault(),e.preventEvent())}},t.updateLeafModel=function(){var e,n,r,i=t._ref.current;i&&((n=null==(e=null===(r=t._ref.current)||void 0===r?void 0:r.closest("["+c.MB+"]"))?void 0:e.__leafModel)&&(t.props.editor._getViewModel()._setLeaf(i,n),t.m.set(i,n)),n&&n.lineState&&(r=n.op,i=n.lineState,i=n.index===i.getOps().length-2,null!=r&&r.attributes&&i&&(t.T(t._leftZeroSpaceRef.current),t.T(t._rightZeroSpaceRef.current),t.p()?u.Xh.mobile||requestAnimationFrame(function(){var e;null!==(e=null===(e=t._ref.current)||void 0===e?void 0:e.closest("["+c.PI+"]"))&&void 0!==e&&e.setAttribute("contenteditable","false")}):e.style.margin="0 0.1px")))},t.R=function(e){},t.C=function(e){e&&(t.p()?e.style.display="block":e.style.display="auto")},t}(0,r.d)(t,e);var n=t.prototype;return Object.defineProperty(n,"_length",{get:function(){var e=this.props.length;return"number"==typeof e&&isFinite(e)?Math.max(e,1):1},enumerable:!1,configurable:!0}),n.handleDeleteKey=function(e){var t=e.e,n=e.stopEvent,r=e.preventEvent,i=e.isBackward,o=this.props.editor,s=o.selection.getSelection(),a=s.toPosition(),c=a.zoneId,u=a.start;if(s.isCollapsed()&&(this.p()||1!==this._length)){var d=this.getSelectionOfCurrentRef();if(d){var h=o.getContentState(),f=s.start,p=f.line,v=f.offset,e=i?d.end:d.start,a=p+-1*(i?1:-1),f=h.getZoneState(c);if(f){var g,p=f.getLine(p);if(this.p()&&e.line===a&&p&&v===(i?p.getLineMarker():p.length()-1)&&e.zoneId===s.start.zoneId)return n(),r(),t.preventDefault(),t.stopPropagation(),p.isTextEmpty()&&(g=new l.I({zoneId:c}),i?(p=p.getLineMarker()+1,g.retain(u-p).delete(p)):(g.retain(u).delete(1),d.start.line--,d.end.line--),h.apply(g)),void o.selection.setSelection(d,!0);e.line===s.start.line&&e.offset===s.start.offset&&(n(),r(),t.preventDefault(),t.stopPropagation(),(g=new l.I({zoneId:c})).retain(u+(i?-1*this._length:0)).delete(this._length),h.apply(g))}}}},n.S=function(){if(!this.isFocusOnMe())return!1;var e=this.getSelectionOfCurrentRef();if(!e)return!1;var t=this.editor.getContentState(),n=e.start,r=n.zoneId,e=n.line,n=null===(n=t.getZoneState(r))||void 0===n?void 0:n.getLine(e);return!!(n&&(e=t.rangePointToOffset({line:e,zoneId:r,offset:n.length()-1})))&&(n=new l.I({zoneId:r}).retain(e).insertEnterAndLineMarker(),t.apply(n),this.editor.selection.setSelection({start:e+2,len:0,zoneId:r}),!0)},n.y=function(e){var t,n=this.getSelectionOfCurrentRef();if(!n)return!1;var r=n.start,i=r.zoneId,o=r.line,s=this.editor.selection.getSelection(),a=s.start,l=s.end,u=a.line,d=a.offset,h=a.zoneId,r=l.line,s=l.offset;if(i!==h)return!1;var f={start:n.start,end:n.end},p=this.editor.getContentState().getZoneState(h);if(!p)return!1;if(this.isFocusOnMe()){switch(e.keyCode){case c.VD.Left:case c.VD.Up:f.start.line=Math.max(0,o-1),f.start.offset=(null!==(t=null===(t=p.getLine(f.start.line))||void 0===t?void 0:t.length())&&void 0!==t?t:1)-1,f.end=f.start;break;case c.VD.Right:case c.VD.Down:f.start.line=Math.min(p.length()-1,o+1),f.start.offset=null!==(t=null===(t=p.getLine(f.start.line))||void 0===t?void 0:t.getLineMarker())&&void 0!==t?t:0,f.end=f.start;break;default:return!1}return this.editor.selection.setSelection(f,!0),!0}return(u===o+1&&(e.keyCode===c.VD.Up&&this.L(a)||e.keyCode===c.VD.Left&&d===(null===(u=null==p?void 0:p.getLine(u))||void 0===u?void 0:u.getLineMarker()))||!(r!==o-1||!(e.keyCode===c.VD.Down&&this.O(l)||e.keyCode===c.VD.Right&&s+1===(null===(r=null==p?void 0:p.getLine(r))||void 0===r?void 0:r.length()))))&&(this.editor.selection.setSelection(f=n,!0),!0)},n.L=function(e){var t=null===(n=this.editor.getContentState().getZoneState(e.zoneId))||void 0===n?void 0:n.getLine(e.line);if(!t)return!1;var n=t.getLineMarker(),t=this.editor.rectModule.getCaretRect(e,e.zoneId),e=this.editor.rectModule.getCaretRect({line:e.line,offset:n,zoneId:e.zoneId},e.zoneId);return t.top===e.top},n.O=function(e){var t=null===(n=this.editor.getContentState().getZoneState(e.zoneId))||void 0===n?void 0:n.getLine(e.line);if(!t)return!1;var n=this.editor.rectModule.getCaretRect(e,e.zoneId),e=this.editor.rectModule.getCaretRect({line:e.line,offset:t.length()-1,zoneId:e.zoneId},e.zoneId);return n.bottom===e.bottom},n.isFocusOnMe=function(){var e=null===(t=this.getSelectionOfCurrentRef())||void 0===t?void 0:t.toPosition();if(!e)return!1;var t=this.editor.selection.getSelection().toPosition();return e.start===t.start&&e.len===t.len&&e.zoneId===t.zoneId},n.shouldComponentUpdate=function(){return!0},n.componentDidUpdate=function(t){e.prototype.componentDidUpdate.call(this,t),this._ref.current&&(this.handleRef(this._ref.current),this.updateLeafModel()),t=this.getZoneIdByCurrentRef(),this.props.editor.once(d.r.PAINT,this.updateLeafModel,{zoneId:t})},n.componentDidMount=function(){e.prototype.componentDidMount.call(this);var t=this.getZoneIdByCurrentRef();this.props.editor.on(d.r.DELETE_KEY,this.handleDeleteKey,{zoneId:t,priority:900}),this.props.editor.on(d.r.KEYDOWN,this.handleKeyDown,{zoneId:t,priority:900}),this.props.editor.once(d.r.PAINT,this.updateLeafModel,{zoneId:t})},n.componentWillUnmount=function(){var t;e.prototype.componentWillUnmount.call(this),this.props.editor.off(d.r.DELETE_KEY,this.handleDeleteKey),this.props.editor.off(d.r.KEYDOWN,this.handleKeyDown),this._ref&&this._ref.current&&this.props.editor._getViewModel()._deleteLeaf(this._ref.current),this.p()&&null!==(t=null===(t=this._ref.current)||void 0===t?void 0:t.closest("["+c.PI+"]"))&&void 0!==t&&t.removeAttribute("contenteditable")},n.p=function(){var e=(this._ref.current&&this.m.get(this._ref.current)||{}).op,t=null==e?void 0:e.attributes;return!!t&&(e=this.props.editor.getContentState().schema,(0,p.ky)(t,e))},n.getZoneIdByCurrentRef=function(){var e=null!==(e=this._rightZeroSpaceRef.current)&&void 0!==e?e:this._ref.current;return(null===(e=null===(e=null==e?void 0:e.closest("["+c.P9+"]"))||void 0===e?void 0:e.dataset)||void 0===e?void 0:e.zoneId)||""},n.getSelectionOfCurrentRef=function(){if(!this._rightZeroSpaceRef.current&&!this._ref.current)return null;var e=null!==(e=this._rightZeroSpaceRef.current)&&void 0!==e?e:this._ref.current,e=(0,f.Ve)(e,this.props.editor);return e||null},n.handleMouseDown=function(e){var t;!1===this.props.autoSelectOnClick||(t=this.getSelectionOfCurrentRef())&&(u.Xh.isAndroid&&this.props.editor.getStatus("isComposing")&&this.editor._correctCompositionIfNecessary(e),this.props.editor.selection.setSelection(t),this.props.editor.selection.updateBrowserSelection(!0))},n._handleMouseDown=function(e){this.handleMouseDown(e)},n.handleRef=function(e){e&&(this._ref.current=e)},n.handleRightZeroSpaceRef=function(e){e&&(this.props.forwardRef&&(this.props.forwardRef.current=e),this._rightZeroSpaceRef.current=e,this.R(e))},n.handleLeftZeroSpaceRef=function(e){e&&(this._leftZeroSpaceRef.current=e)},n.T=function(e){e&&(this.p()?(e.style.position="absolute",e.style.width="0px",e.style.height="0px",e.style.display="inline-block"):(e.style.position="",e.style.width="auto",e.style.height="auto",e.style.display="auto"))},n.render=function(){var e,t=this,n=Object.keys(this.props).reduce(function(e,n){return B.includes(n)||(n.startsWith("on")?e[n]=f.eb.includes((0,f.Le)(n))?void 0:t._handleSynthesisEvents:e[n]=t.props[n]),e},{});return u.Xh.ios&&(n.style=Object.assign({WebkitUserSelect:"none"},n.style)),g.createElement("span",(0,r.b)({},((e={})[c.Pk]=!0,e),{ref:this.C}),g.createElement(P.B,{key:""+Math.random(),ref:this.handleLeftZeroSpaceRef}),g.createElement("span",(0,r.b)({},((e={})[c.eu]=" ".repeat(this._length),e),{contentEditable:!1,ref:this.handleRef,onMouseDown:this._handleMouseDown},n),this.props.children,this.props.disableDefaultSelected&&g.createElement(P.B,{ref:this.handleRightZeroSpaceRef})))},(0,r.a)([o.W],t.prototype,"handleDeleteKey",null),(0,r.a)([o.W],t.prototype,"_handleMouseDown",null),(0,r.a)([o.W],t.prototype,"handleRef",null),(0,r.a)([o.W],t.prototype,"handleRightZeroSpaceRef",null),(0,r.a)([o.W],t.prototype,"handleLeftZeroSpaceRef",null),t}(j),H=g.forwardRef(function(e,t){return g.createElement(V,(0,r.b)({},e,{forwardRef:t}))}),G=(0,O.eT)(H),z=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.d)(t,e),t.prototype.render=function(){var e=this.editor,t=this.props,n=t.style,r=t.editable,i=t.className,o=t.scroller,s=t.contextList,a=t.customizedProviderConstructorList,t=t.scrollerOptions;return g.createElement(O.rU.Provider,{value:e},g.createElement(F,{root:!0,zoneId:"0",editor:e,style:n||{},className:"editor-kit-container "+(0,_.AO)()+" "+(i||""),editable:r,onMount:this.onMount,scroller:o,scrollerOptions:t,contextList:s,customizedProviderConstructorList:a}))},t}(I.F)},126689:function(e,t,n){"use strict";n.d(t,{HY:function(){return a},K6:function(){return i},Z6:function(){return s},c5:function(){return o},fF:function(){return l},iC:function(){return r},mX:function(){return c}});var r="application/x-editor-kit-fragment",i="application/x-editor-kit-business-key",o={underline:"u",bold:"b",blockquote:"blockquote",italic:"i",strikethrough:"s"},s="ignore-collect",a="COPY_WITHOUT_PERMISSION",l="data-multiple-line-wrap",c="data-line"},362645:function(e,t,n){"use strict";n.d(t,{M:()=>B});let r=n("386859"),i=n("595607"),o=n("995750"),s=n("632099"),a=n("638787"),l=n("219519"),c=n("64367"),u=n("192298"),d=n("528694"),h=n("640595"),f=n("312745"),p=n("881287"),v=n("743477");var g=function(){function e(){this.t={},this.i={}}var t=e.prototype;return t.on=function(e,t,n){this.n(e,t,!1,n)},t.once=function(e,t,n){this.n(e,t,!0,n)},t.off=function(e,t){this.r(e,t)},t.removeEventListener=function(e,t){this.r(e,t)},t.trigger=function(e,t){this.e(e,t)},t.reset=function(){this.t={},this.i={}},t.removeListener=function(e,t){this.r(e,t)},t.getListeners=function(e){var t=this.t[e];if(!t)return[];var n=[];return Object.keys(t).sort(function(e,t){return+e-+t}).forEach(function(e){n=n.concat(t[e])}),n},t.n=function(e,t,n,r){var i;void 0===n&&(n=!1),void 0===r&&(r=1e3),t||console.warn("bind event with invalid cb, event: "+e),this.t[e]||(this.t[e]={},this.i[e]=new Set),this.i[e].has(t)||(i={listener:t,isOnce:n,priority:r},(n=this.t[e])[r]?n[r].push(i):n[r]=[i],this.i[e].add(t))},t.r=function(e,t){var n,i;if(this.t[e])try{for(var o=(0,r.c)(Object.keys(this.t[e])),s=o.next();!s.done;s=o.next()){var a=s.value,l=this.t[e][a],c=l.findIndex(function(e){return e.listener===t});if(-1!==c){l.splice(c,1),l.length||delete this.t[e][a],this.i[e].delete(t);break}}}catch(e){n={error:e}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},t.e=function(e,t){var n=this;void 0===t&&(t=[]),this.getListeners(e).forEach(function(r){var i=r.listener;r.isOnce&&n.r(e,i),i.apply(i,t)})},e}();let _=n("399501"),m=n("259937"),y=n("267318"),S=n("75244"),b=n("339225"),E=n("324448"),C=n("363654"),T=n("820760");n("907028");let I=n("884229"),w=n("33717"),R=n("77851"),N=n("61585"),A=n("190382"),x=n("308105"),O=n("880924"),k=n("146141"),P=n("577725"),D=n("207478"),M=n("647386"),L=n("26419"),U=n("929766");var F=(0,i.K)(function(e){this.error(e)})(i.W.ERROR),j=["input","beforeinput","keyup","keydown","keypress","compositionstart","compositionupdate","compositionend"],B=function(){function e(e){var t=this;this.props=e,this.version=p.cH+"@4.87.0 - July 3, 2023 08:08:51",this.log=null!==(n=this.props.onLog)&&void 0!==n?n:console.log.bind(console)||console.log,this.copyable=null===(n=this.props.copyable)||void 0===n||n,this.isSSR=null!==(n=this.props.isSSR)&&void 0!==n&&n,this.businessKey=this.props.businessKey,this.mounted=!1,this.editorUniqueId=(0,o.D)(6),this._hydrateMap=new Map,this._dir=this.props.dir,this._hackMacCompositionInput=this.props.hackMacCompositionInput,this._isRenderBrInEmptyLine=this.props.isRenderBrInEmptyLine,this._isFixToCommonZone=this.props.isFixToCommonZone,this.t=!1,this.i=this.props.container,this.n=!!this.props.editable,this.o={bottom:0,height:0,left:0,right:0,top:0,width:0,x:0,y:0},this.s=null===(n=this.props.editable)||void 0===n||n,this.r=!1,this.h=!1,this.a=null,this.c=new WeakMap,this.togglePlaceHolder=(0,s.D)(function(e,n){var r,i,o;"string"!=typeof e?t.props.placeholder&&(r=t.getContainer(),i="",i=!1!==e&&(!0===e||t.isEmpty())?t.props.placeholder:"",(o=r.getAttribute("data-placeholder"))!==i&&(i?r.setAttribute("data-placeholder",i):o&&r.removeAttribute("data-placeholder"))):t._toggleZonePlaceHolder(e,n)},30),this.isFocus=function(e){return!!document.hasFocus()&&t.isSelectionInEditor(e)},this._handleContainerResize=(0,a.P)(function(){t.rectModule.clearCache();var e=t.getRect();t.setRect();var n=t.getRect();(0,l.X)(e,n)||t.call("editorRectChange",{prev:e,next:n})}),this.l=new g,this.dom=new x.i(this),this.rectModule=new L.U(this),this.u=e.fgMap,this.modulesContainer=new A.q,this.modulesContainer.set(e.modules);var n=this.modulesContainer.get(N.h.UndoModule);this.undoModule=new n(this),this.d=new k.j,this.clipboard=new w.a(this,e.proxyClipboard);var n=this.modulesContainer.get(N.h.InputModel);this.inputModel=new n(this,{debounceFlush:e.debounceFlush}),this.v=e.contentState||this._(this.props.initData,this.props.schema),this.f(),this.i&&(this.a=requestAnimationFrame(this.setRect)),this.m={isPerforming:!1,contentChanged:!1,preventScrolling:!1,dangerousInput:!1,stopUpdateSelection:!1,preventUpdateDomSelection:!1,isComposing:!1,isClick:!1,isMouseUp:!1,isMouseDown:!1,isSelectionChange:!1,isPainting:!1},this.initPluginManager(this.props.register),null!==(e=(n=this.v).init)&&void 0!==e&&e.call(n),this.p=null!==(n=this.props.eventDelegator)&&void 0!==n?n:T.z,this.props.reactDOMServerExternal&&(U.Yn.renderToStaticMarkup=null===(n=this.props.reactDOMServerExternal)||void 0===n?void 0:n.renderToStaticMarkup)}var t=e.prototype;return Object.defineProperty(t,"scrollModule",{get:function(){var e,t;return null===(t=null===(e=null===(t=this.getContentState())||void 0===t?void 0:t.getZoneManager)||void 0===e?void 0:e.call(t))||void 0===t?void 0:t.getScrollModuleByZoneId(c.S)},enumerable:!1,configurable:!0}),Object.defineProperty(t,"getViewPortPadding",{get:function(){return this.props.getViewPortPadding},enumerable:!1,configurable:!0}),t.init=function(e){e=e.element,!this.i&&e&&(this.a=requestAnimationFrame(this.setRect)),this.i=e,this.i.zoneId={value:"0"},this.S(),this.g(this.i),this.C(),this.togglePlaceHolder()},t._=function(e,t){(e=e instanceof h.I?(new f.D).add(c.S,e):e).get(c.S)||(n=Error(r="[Editor][constructor] invalid initDeltaSet: "+e+', initDeltaSet must has zone "0"'),this.error({e:n,message:r,level:i.W.FATAL}));var n=this.modulesContainer.get(N.h.ContentState),r={useOptimizeDetectZoneChange:null===(r=this.u)||void 0===r?void 0:r.useOptimizeDetectZoneChange};return new n({deltaSet:e,schema:t,modulesContainer:this.modulesContainer,contentStateFgMap:r})},t.f=function(){var e=this,t=this.v;t._onWillApply(this._handleContentWillApply),t.onWillChange(this._handleContentWillChange),t.onChange(this._handleContentChange),t._onRefresh(function(t){e.call("_forceRefresh",t)}),t._onError(function(t){var n=t.e,r=t.message,t=t.level;e.error({e:n,message:r,level:t})})},t.initPluginManager=function(e){this.pluginManager&&this.pluginManager.destroy(),this.pluginManager=new O.Q$(this,e),this.pluginManager._init()},t.call=function(e,t){var n,i=this;"error"!==e||this.t||(this.t=!0,n=null===(n=null==t?void 0:t.e)||void 0===n?void 0:n.stack,t=(0,r.b)((0,r.b)({},t),{errorStack:Error("editor oops").stack,originErrorStack:n})),this.l.getListeners(e).slice(0).forEach(function(n){var o,s=n.listener,a=n.isOnce;s.plugin?null!=t&&t.changes?(o=Object.assign((0,r.b)({},t),{changes:{},deltaSet:new f.D}),Object.keys(null==t?void 0:t.changes).forEach(function(e){o.changes[e]=t.changes[e],o.deltaSet.add(e,t.deltaSet.get(e))}),s.call(s,o),a&&i.off(e,s)):i.selection.getMultipleSelection().forEach(function(n){n=n.start.zoneId,i.pluginManager.isPluginInZone(s.plugin,n)&&(s.call(s,t),a&&i.off(e,s))}):i.c.has(s)?(n=i.c.get(s),e===_.r.CONTENT_WILL_CHANGE?t.deltaSet.get(n)&&(s.call(s,t),a&&i.off(e,s)):e===_.r.CONTENT_CHANGE?n in t.changes&&(s.call(s,t),a&&i.off(e,s)):e===_.r.PAINT?n===(null==t?void 0:t.zoneId)&&(s.call(s,t),a&&i.off(e,s)):i.selection.isZoneInSelection(n)&&(s.call(s,t),a&&i.off(e,s))):(s.call(s,t),a&&i.l.removeEventListener(e,s))})},t.getRect=function(e){if(!e)return this.o;var t=this.getContentState().getZoneState(e);return t&&(null==(t=null!==(e=this._getViewModel().getView(t))&&void 0!==e?e:t._node)?void 0:t.getBoundingClientRect())||this.o},t.setRect=function(){this.i&&(this.o=this.i.getBoundingClientRect())},t.getRootContainer=function(){var e=this.i||null;return e||console.warn("editor root container is not exist"),e},t.getContainer=function(){return this.i},t.setMounted=function(e){this.mounted=e},t.getStatus=function(e){return this.m[e]},t.getDelegator=function(){return this.p},t.getFg=function(e){var t;return null===(t=this.u)||void 0===t?void 0:t[e]},t._getInlineAttributesOfPreviousPosition=function(e){void 0===e&&(e=!0);var t=this.v.getActiveZone(),n=t.getZoneId(),r=this.selection.getSelection(n),i=(0,R.vA)();if(!r)return i;var o=t.getLine(r.start.line);if(!o)return i;var s=o.hasLineMarker()?1:0,t=r.start,i=r.start;return e&&s===r.start.offset&&o.length()>s?i=new P.L({start:r.toPosition().start+1,editor:this,len:0,zoneId:n}).toRange().start:r.start.offset>s&&(t=new P.L({start:r.toPosition().start-1,editor:this,len:0,zoneId:n}).toRange().start),this.v.getAttributes(t,i)},t._getInlineAttributesOfNextPosition=function(){var e=this.v.getActiveZone().getZoneId(),t=this.selection.getSelection(e),n=null===(r=this.v.getZoneState(e))||void 0===r?void 0:r.getLine(t.start.line);if(!n)return(0,R.vA)();var r=t.start;return t.start.offset<n.length()&&(r=new P.L({start:t.toPosition().start+1,editor:this,len:0,zoneId:e}).toRange().start),this.v.getAttributes(t.start,r)},t.toggleAttribute=function(e,t,n){void 0===t&&(t="true");var i,o,s,a,l=(n=n||this.selection.getSelection()).start,c=l.line,u=l.zoneId,d=n.end.line,h=this.getContentState(),f=h.schema;if(null===(l=f.get(e))||void 0===l?void 0:l.lmkr){for(var p=Math.min(c,d),v=Math.max(c,d),g="",_=p;_<=v;_++)h.getLineAttributes(u,_).toMap()[e]!==t&&(g=t);for(_=p;_<=v;_++)this.getContentState().setLineAttributes(u,_,((i={})[e]=g,i))}else if(n.isCollapsed()){var m=n.toPosition(),d=this._getInlineAttributesOfPreviousPosition().toMap();(g=null!==(p=this.v.getInlineStyleOverride(m,e))&&void 0!==p?p:d[e])===t?this.v._setInlineStyleOverride(m,e,""):this.v._setInlineStyleOverride(m,e,t)}else{if(m=this.v.getEntities(n),g="",m)try{for(var y=(0,r.c)(m),S=y.next();!S.done;S=y.next()){var b=S.value,E=!0,C=(0,R.qF)(f,b.attributes),T=C&&(null===(a=f.get(C))||void 0===a?void 0:a.attributes);if(C&&T&&(E=T instanceof RegExp?T.test(e):T(e,t,C)),!("\n"===b.text||"lmkr"in b.attributes)&&E&&b.attributes[e]!==t){g=t;break}}}catch(e){o={error:e}}finally{try{S&&!S.done&&(s=y.return)&&s.call(y)}finally{if(o)throw o.error}}this.v.setAttributes(n,((n={})[e]=g,n))}},t.on=function(e,t,n){var r,i;"object"==typeof n?(i=n.priority,(r=n.zoneId)&&this.c.set(t,r),this.l.on(e,t,i)):this.l.on(e,t,i=n)},t.once=function(e,t,n){var r,i;"object"==typeof n?(i=n.priority,(r=n.zoneId)&&this.c.set(t,r),this.l.once(e,t,i)):this.l.once(e,t,i=n)},t.off=function(e,t){this.c.has(t)&&this.c.delete(t),this.l.off(e,t)},t.registerCommand=function(e,t){var n=this;this.on(e,function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];n.inputModel._flushInput(),n.undoModule.batchedUndo(function(){t.apply(n,e)})})},t.execCommand=function(e,t){var n=!1,r={name:e,data:t=void 0===t?{}:t,preventEvent:function(){n=!0}};this.call(_.r.EXEC_COMMAND,r),n||this.l.trigger(e,[t])},t.getContentState=function(){return this.v},t.getContent=function(e,t){return void 0===e&&(e=!1),void 0===t&&(t=!1),this.getContentState().toDeltaSet(e,t)},t.setContent=function(e,t){void 0===t&&(t={}),this.getContentState().setContent(e,Object.assign({},{type:"setContent"},t))},t.getHTML=function(){var e=this.getContent(),t={zoneId:c.S,deltaSet:e,node:this.getContainer(),customCopyDatas:[]},e=this.clipboard.serialize(t),t=document.createElement("div");return t.appendChild(e.node),t.innerHTML},t.setHTML=function(e){e=this.clipboard.deserialize({html:e},!0),this.setContent(e)},t.getText=function(){var e,t,n=this,i=[],o=this.getContentState().getZoneState(c.S);if(!o)return"";try{for(var s=(0,r.c)(o),a=s.next();!a.done;a=s.next()){var l=a.value;(l.hasLineMarker()?l.getOps().slice(1):l.getOps()).forEach(function(e){e={text:e.insert,attributes:(0,r.b)({},e.attributes)},n.pluginManager.call("editorCollectText",e),i.push(e.text)})}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return i.join("")},t.setText=function(e){e.endsWith("\n")||(console.warn("text should end with \\n"),e+="\n"),this.setContent(new h.I({zoneId:c.S}).insert((0,u.$)(e)))},t.isSelectionInEditor=function(e){var t=window.getSelection();return e?!(null==(e=null===(e=this.getContentState().getZoneState(e))||void 0===e?void 0:e._node)||!e.contains((null==t?void 0:t.anchorNode)||null)||null==e||!e.contains((null==t?void 0:t.focusNode)||null)):!!(null!=t&&t.anchorNode&&t.focusNode&&this.dom.isNodeInEditor(t.anchorNode,this.getContainer())&&this.dom.isNodeInEditor(t.focusNode,this.getContainer()))||!!this.dom.isNodeInEditor(document.activeElement,this.getContainer())},t.isEmpty=function(){return!this.getStatus("isComposing")&&this.getContentState().isEmpty()},t.focusAtEnd=function(){var e,t=this.getContentState().getZoneState(c.S);t&&(e=t.getModelText().length-1,this.selection.setSelection({start:(0,r.b)({zoneId:c.S},t.offsetToPoint(e)),end:(0,r.b)({zoneId:c.S},t.offsetToPoint(e))},!0))},t.focus=function(e,t){void 0===t&&(t=!1),"boolean"==typeof(e=void 0!==e&&e)?this.selection.focus(e):this.selection.focus(e,t)},t.blur=function(){var e;null!==(e=this.getContentState().getActiveZone()._node)&&void 0!==e&&e.blur()},t.flushInput=function(){this.inputModel._flushInput()},t.setEditable=function(e,t){this.setContentEditable(e),this.setPluginMode(e,t)},t.isInEmbed=function(){return!1},t.setContentEditable=function(e){var t,n,r;this.r?this.n=e:((r=(n=this.isEditable())!==e)&&!this.h&&null!==(t=this.getRootContainer())&&void 0!==t&&t.setAttribute("contenteditable",String(e)),r&&this.call(_.r.EDITABLE_CHANGE,{previous:n,current:e}),this.callAll("aceChangeContentediable"))},t.scrollToSelection=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(0,r.f)(this,void 0,void 0,function(){return(0,r.g)(this,function(n){return[2,null===(e=this.scrollModule)||void 0===e?void 0:e.scrollIntoViewport.apply(e,(0,r.e)(t))]})})},t.scrollTo=function(e){var t;return(0,r.f)(this,void 0,void 0,function(){return(0,r.g)(this,function(n){return[2,null===(t=this.scrollModule)||void 0===t?void 0:t.scrollTo(e)]})})},t.scrollBy=function(e){var t;return(0,r.f)(this,void 0,void 0,function(){return(0,r.g)(this,function(n){return[2,null===(t=this.scrollModule)||void 0===t?void 0:t.scrollBy(e)]})})},t.callAll=function(e,t){var n=[];return this.pluginManager.call(e,t||{},function(e,t){return n.push(t),e}),n},t.destroy=function(){try{this.w(),this.inputModel.destroy(),this.undoModule.destroy(),this.rectModule.clearCache(),this.l.reset(),this.v._clearListener(),this.D(),this.a&&cancelAnimationFrame(this.a)}catch(e){this.log("[Editor][destroy]"+e)}},t.reset=function(){this.inputModel._flushInput(!0),this.getContentState().clear(),this.callAll("reset"),this.setText(""),this.j(),this.rectModule.clearCache(),this.undoModule.clear()},t.getScrollContainer=function(){var e;return null===(e=this.scrollModule)||void 0===e?void 0:e.getScroller()},t.isEditable=function(){return!!this.s},t.isFocusOnBlock=function(e){return!1},t.getOuterContainer=function(){return this.getContainer()&&this.getContainer().parentNode},t.correctCompositionIfNecessary=function(e){this._correctCompositionIfNecessary(e)},t.b=function(e){this.O(e)},t.O=function(e){var t=e.keyCode,n=e.shiftKey,r=e.metaKey,i=e.altKey,o=e.ctrlKey;n||i||(v.Xh.isMac||v.Xh.isIPad?r:o)&&t===p.VD.A&&(t=this.selection.getSelection().start.zoneId,this.selection.selectAll(t),e.preventDefault())},t.T=function(e){var t=e.clientX,n=e.clientY,t=t-window.pageXOffset,n=n-window.pageYOffset,t=(0,D.qK)(t,n),n=t.textNode,t=t.offset;e.evtTargetSelection=this.selection._toModelRange({startContainer:n||null,endContainer:n||null,startOffset:t||0,endOffset:t||0})},t.C=function(){var e=[];v.Xh.chrome&&e.push("chrome"),v.Xh.isFF&&e.push("mozilla"),v.Xh.safari&&e.push("safari"),v.Xh.msie&&e.push("msie"),v.Xh.windows&&e.push("window");var t=(0,v.vu)();t&&88<=parseInt(t)&&e.push("chrome88"),(t=this.i.classList).add.apply(t,(0,r.e)(e))},t.D=function(){try{this.pluginManager.destroy()}catch(e){console.error("destroy plugin fail",e)}},t.S=function(){this.on(_.r.RECT_CHANGE,this._handleEditorRectChange),this.on(_.r.COMPOSITION_UPDATE,this.togglePlaceHolder),this.on(_.r.CONTENT_CHANGE,this.togglePlaceHolder),this.on(_.r.SCROLL,this._handleEditorScroll);var e=this.getContainer(),t=this.p;v.Xh.isMac&&(v.Xh.chrome||v.Xh.safari)&&t.on("mousedown",e,this.mouseDownListenerForMac),t.on("dragover",e,this.handleDragOver),t.on("click",e,this._handleClickEvent),t.on("mouseup",document,this._handleMouseUp),t.on("mousedown",e,this._handleMouseDown)},t.w=function(){var e=this.p;this.off(_.r.RECT_CHANGE,this._handleEditorRectChange),this.off(_.r.COMPOSITION_UPDATE,this.togglePlaceHolder),this.off(_.r.CONTENT_CHANGE,this.togglePlaceHolder),this.off(_.r.SCROLL,this._handleEditorScroll);var t=this.getContainer();v.Xh.isMac&&(v.Xh.chrome||v.Xh.safari)&&e.off("mousedown",t,this.mouseDownListenerForMac),e.off("dragover",t,this.handleDragOver),e.off("click",t,this._handleClickEvent),e.off("mouseup",document,this._handleMouseUp),e.off("mousedown",t,this._handleMouseDown)},t.handleDragOver=function(e){e.preventDefault()},t.mouseDownListenerForMac=function(e){var t=this,n=this.p,r=this.getContainer(),i=function(){if(n.off("selectionchange",r,i),!(1<t.selection.getMultipleSelection().length)){var o=t.selection.getSelection();if(o)try{var s=o.start,a=o.end;s.zoneId===a.zoneId&&s.line!==a.line&&(t.selection.setSelection({start:s,end:s}),t.selection.updateBrowserSelection())}catch(n){t.log("mouseDownListenerForMac error",e)}}};e.button===M.Rg&&(n.on("selectionchange",r,i),setTimeout(function(){n.off("selectionchange",r,i)},200))},t.g=function(e){void 0!==this.props.spellCheck&&e.setAttribute("spellCheck",String(this.props.spellCheck)),void 0!==this.props.autoCorrect&&e.setAttribute("autoCorrect",this.props.autoCorrect?"on":"off"),e.classList.add(p.qT,"notranslate")},t.j=function(){var e,t,n=this.m;try{for(var i=(0,r.c)(Object.keys(n)),o=i.next();!o.done;o=i.next()){var s=o.value;this.setStatus(s,!1)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}},t._toggleZonePlaceHolder=function(e,t){var n,r;e&&(!(r=this.getContentState().getZoneState(e))||(n=r.getContainer())&&(e="",e=!1!==(null==t?void 0:t.show)&&(!0===(null==t?void 0:t.show)||r.isEmpty())?r.placeholder:"",(r=n.getAttribute("data-placeholder"))!==e&&(e?n.setAttribute("data-placeholder",e):r&&n.removeAttribute("data-placeholder"))))},t.setStatus=function(e,t){this.m[e]=t},t.transformPosition=function(e,t){var n=t.zoneId;if(e.zoneId!==n)return t;var r=t.start,i=t.len,t=e.transform(r),i=e.transform(r+i,this.props.followSelectionExclusively&&0!==i);return this.props.followSelectionExclusively&&i<t&&(i=t),new P.L({start:t,len:i-t,zoneId:n,editor:this})},t._handleEditorRectChange=function(){this.rectModule.clearCache(),this.setRect()},t._handleEditorScroll=function(){this.rectModule.clearCache()},t._getViewModel=function(){return this.d},t._correctCompositionIfNecessary=function(e){var t,n,r=this;!0===this.getStatus("isComposing")&&(t=e.type,e=e instanceof Event?e:e.nativeEvent,n=new m.h(new CompositionEvent("compositionend"),this.getContainer()),j.includes(t)?e instanceof KeyboardEvent&&!1===e.isComposing&&(this.triggerEditorEvent("compositionend",n),this.log("[Editor][_correctCompositionIfNecessary]\n                   dispatchCompositionEvent because eventType is "+t+" and isComposing is false")):(v.Xh.windows&&"blur"===t?setTimeout(function(){r.triggerEditorEvent("compositionend",n)}):this.triggerEditorEvent("compositionend",n),this.log("[Editor][_correctCompositionIfNecessary] dispatchCompositionEvent because eventType is "+t)))},t.R=function(){var e=getSelection();if(!e)return!1;var t=e.anchorNode,n=e.focusNode,r=this.dom,i=r.isNodeInOuterControlledZone,e=r.isNodeInInnerZone;return!(null!==(r=null===(r=null==t?void 0:t.parentElement)||void 0===r?void 0:r.closest("."+p.j4))&&void 0!==r&&r.closest("."+p.qT)||null!==(r=null===(r=null==n?void 0:n.parentElement)||void 0===r?void 0:r.closest("."+p.j4))&&void 0!==r&&r.closest("."+p.qT)||null!=n&&n.parentElement&&i(n.parentElement)&&!e(n.parentElement)||null!=t&&t.parentElement&&i(t.parentElement)&&!e(t.parentElement)||!this.dom.isNodeInEditor(t,this.getContainer())||!this.dom.isNodeInEditor(n,this.getContainer()))},t.__handleDOMSelectionChange=function(){this.R()&&this.selection._handleDOMSelectionChange(),this.getStatus("isMouseDown")&&this.setStatus("isSelectionChange",!0);var e=getSelection();this.getStatus("isClick")&&this.getStatus("isMouseDown")&&(this._resetCursorStatus(),!this.getStatus("stopUpdateSelection")&&this.isEditable()&&this.mounted&&null!=e&&e.focusNode&&!this.isFocusOnBlock()&&this.getContainer().contains(e.focusNode)&&this.selection.updateBrowserSelection())},t._setPlaceholder=function(e){this.props.placeholder=e,this.togglePlaceHolder()},t._handleMouseDown=function(e){if((!this.isEditable()||v.Xh.isEdge)&&!this.selection.getSelection().isCollapsed()&&e.button===M.U_){var t=document.caretRangeFromPoint(e.x,e.y);if(!t)return;var n=this.selection._toModelRange(t);if(!n)return;var r=n.start,i=this.selection.getSelection(),n=i.start,i=i.end;n<=r&&r<=i&&this.selection._updateDOMSelection(t)}if(this.I())return this._resetCursorStatus();this.M(e),this.mounted&&e.target instanceof Node&&this.L(e.target)?this.setStatus("isMouseDown",!0):this.setStatus("isMouseDown",!1)},t.L=function(e){var t=this.dom.isNodeInOuterControlledZone(e),n=this.dom.isNodeInInnerZone(e),e=!!this.dom.isNodeInEditor(e,this.getContainer());return t?n:e},t.I=function(){return this.getStatus("isMouseUp")&&!this.getStatus("isMouseDown")},t._handleContentWillApply=function(e){e=e.options,this.getStatus("isComposing")&&this.error({message:"apply when editor in composing",level:i.W.ERROR,options:e}),this.inputModel._flushInput()},t._handleContentWillChange=function(e){return this.pluginManager.call("editorWillApplyChange",e,function(t,n){return e.deltaSet=n,e}),this.call(_.r.CONTENT_WILL_CHANGE,e),e.deltaSet},t._handleContentChange=function(e){var t,n,i,o,s,a,l=this,u=e.previous,d=e.current,h=e.options,p=this.v.getZoneState(c.S);p&&this._getViewModel()._setNode(p,this.getContainer());var v=Object.keys(e.changes).map(function(e){return null===(e=l.selection.getSelection(e,u))||void 0===e?void 0:e.toPosition(u)}).filter(Boolean),p=v.map(function(t){return e.deltaSet.get(t.zoneId)});e.deltaSet.forEach(function(e){l.rectModule.clearZoneRect(e.zoneId)});try{for(var g=(0,r.c)(Object.values(e.changes)),m=g.next();!m.done;m=g.next()){var y=m.value;try{for(var S=(i=void 0,(0,r.c)(y)),b=S.next();!b.done;b=S.next()){var E=b.value;try{for(var C=(s=void 0,(0,r.c)(E.deletes)),T=C.next();!T.done;T=C.next()){var I=T.value;E.inserts.includes(I)||this._getViewModel()._deleteNode(I)}}catch(e){s={error:e}}finally{try{T&&!T.done&&(a=C.return)&&a.call(C)}finally{if(s)throw s.error}}}}catch(e){i={error:e}}finally{try{b&&!b.done&&(o=S.return)&&o.call(S)}finally{if(i)throw i.error}}}}catch(e){t={error:e}}finally{try{m&&!m.done&&(n=g.return)&&n.call(g)}finally{if(t)throw t.error}}p.forEach(function(e,t){var t=v[t],n=e&&(0,f.o)(null===(n=d.getZoneState(e.zoneId))||void 0===n?void 0:n.getContent());e&&t&&!n&&(t=l.transformPosition(e,t),l.selection._replaceSingleRangeModel(t))}),this.setStatus("contentChanged",!0),h.preventScrolling&&this.setStatus("preventScrolling",!0),this.call(_.r.CONTENT_CHANGE,e),this.setStatus("preventScrolling",!1),this.selection._dispatchEvent(!1)},t._handleMouseUp=function(e){this.setStatus("isMouseUp",!0),e.target instanceof Node&&this.L(e.target)||this._resetCursorStatus(),this.M(e)},t.M=function(e){var t=new b.U(e,e.target);this.triggerEditorEvent(e.type,t)},t._handleClickEvent=function(e){var t,n;e.target instanceof Node&&this.L(e.target)&&(null===(t=e.target instanceof Element?e.target:e.target.parentElement)||void 0===t?void 0:t.closest("."+p.qT))===this.getContainer()?(n=getSelection(),e.target instanceof Node&&this.mounted&&this.setStatus("isClick",!0),this.getStatus("isMouseDown")&&this.getStatus("isSelectionChange")&&this.getStatus("isClick")&&(this._resetCursorStatus(),!this.getStatus("preventUpdateDomSelection")&&null!=n&&n.focusNode&&!this.isFocusOnBlock()&&this.getContainer().contains(n.focusNode)&&this.selection.updateBrowserSelection()),this.inputModel._flushInput(),t=null,e.target instanceof Node&&(t=(0,I.Ve)(e.target,this)),n=new b.U(e,e.target),this.triggerEditorEvent(e.type,(0,r.b)((0,r.b)({},n),{selection:t}))):this._resetCursorStatus()},t._handleKeyEvent=function(e){if(!this.isInEmbed()&&this.isEditable()){var t=new y.$(e,e.target);if(!this.triggerEditorEvent(e.type,t).shouldPrevent)switch(this.b(t.nativeEvent),e.type){case"keydown":this.inputModel._handleKeyDown({evt:t}),this.selection.handleArrowKey({evt:t});break;case"keypress":case"keyup":this.inputModel._handleKeyPressAndUp({evt:t})}}},t._resetCursorStatus=function(){this.setStatus("isSelectionChange",!1),this.setStatus("isMouseUp",!1),this.setStatus("isMouseDown",!1),this.setStatus("isClick",!1)},t._handleInputEvent=function(e){e=new E.n(e,e.target),this.triggerEditorEvent(_.r.INPUT,e).shouldPrevent||this.inputModel._handleInput(e)},t._handleBeforeInput=function(e){var t=new E.n(e,e.target);this.triggerEditorEvent(e.type,t)},t._handleCompositionEvent=function(e){var t=new m.h(e,e.target);this.triggerEditorEvent(e.type,t)},t._handleCopy=function(e){var t=this;this.inputModel._flushInput(),this.undoModule.batchedUndo(function(){t.clipboard.onCopy(e)})},t._handleCut=function(e){var t=this;this.inputModel._flushInput(),this.undoModule.batchedUndo(function(){t.clipboard.onCut(e)})},t._handlePaste=function(e){var t=this;this.inputModel._flushInput(),!this.isFocusOnBlock()&&this.isEditable()&&this.undoModule.batchedUndo(function(){t.clipboard.onPaste(e)})},t._handleDrag=function(e){var t=new C.Y(e,e.target);this.T(t),this.triggerEditorEvent(e.type,t)},t._handleFocusEvent=function(e){"focus"!==e.type||this.getStatus("isPerforming")||this.getStatus("preventUpdateDomSelection")||!this.isFocus()||!e.target||e.relatedTarget||!this.dom.isZoneContainer(e.target)||v.Xh.mobile||this.selection.updateBrowserSelection();var t=new S.Y(e,e.target);this.triggerEditorEvent(e.type,t)},t._handleResizeEvent=function(e){i=e instanceof Event?(0,D.Yo)(this.getContainer()):{width:(e=e[0].contentRect).width,height:e.height,top:e.top,bottom:e.bottom,left:e.left,right:e.right};var t,n,i,o=this.getRect();o.width===i.width&&o.height===i.height||this.call(_.r.RESIZE,{previous:o,current:i});try{for(var s=(0,r.c)(Object.entries(i)),a=s.next();!a.done;a=s.next()){var l=(0,r._)(a.value,2),c=l[0],u=l[1];if(o[c]!==u){this.call(_.r.RECT_CHANGE,{previous:o,current:i});break}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}},t.triggerEditorEvent=function(e,t){function n(){s=!0}var r=this,o=this.l.getListeners(e),s=!1,a=!1;function l(){a=!0}t=t||{};for(var c=this,u=0;u<o.length&&"break"!==function(e){if(s)return"break";var a,e=o[e],u=e.listener,e=e.isOnce;t&&(t.stopEvent=n,t.preventEvent=l,t.evt=t);try{u.plugin?c.selection.getMultipleSelection().forEach(function(e){e=e.start.zoneId,r.pluginManager.isPluginInZone(u.plugin,e)&&u.call(u,t)}):c.c.has(u)?(a=c.c.get(u),c.selection.isZoneInSelection(a)&&(u.call(u,t),e&&c.c.delete(u))):u.call(u,t)}catch(e){c.error({e:e,message:e.message,level:i.W.ERROR})}}(u);u++);return{shouldStop:s,shouldPrevent:a}},t.setStopUpdateSelection=function(e){this.setStatus("stopUpdateSelection",e)},t.setPreventUpdateDomSelection=function(e){this.setStatus("preventUpdateDomSelection",e)},t._getAttributesOfPreviousPosition=function(){var e=this.v.getActiveZone().getZoneId(),t=this.selection.getSelection(e),n=t.start;return 0<t.start.offset&&(n=new P.L({start:t.toPosition().start-1,editor:this,len:0,zoneId:e}).toRange().start),this.v.getAttributes(n,t.start)},t._getAttributesOfNextPosition=function(){var e=this.v.getActiveZone().getZoneId(),t=this.selection.getSelection(e),n=null===(r=this.v.getZoneState(e))||void 0===r?void 0:r.getLine(t.start.line);if(!n)return(0,R.vA)();var r=t.start;return t.start.offset<n.length()&&(r=new P.L({start:t.toPosition().start+1,editor:this,len:0,zoneId:e}).toRange().start),this.v.getAttributes(t.start,r)},t.setPluginMode=function(e,t){if(this.N)this.P={designMode:e,args:t};else{this.s=e;try{this.s?this.callAll("pluginReadWrite",t):this.callAll("pluginReadOnly",t)}catch(e){this.log("[Editor][setPluginMode] "+e)}}},t.setEditStatusLock=function(e,t){var n;(this.N=e)||!t||!this.P||(t=(n=this.P).designMode,n=n.args,this.setEditable(t,n)),e&&(this.P={designMode:this.s,args:{}})},t.setContentEditableLock=function(e){(this.r=e=void 0!==e&&e)||this.setContentEditable(this.n)},t.setContainerContentEditableLock=function(e){this.h=e=void 0!==e&&e},t.unstable_hydrate=function(e,t){this._hydrateMap.set(e,t),this._getViewModel()._setNode(e,t),t[p.e0]=!0},t._deleteHydrateTask=function(e){this._hydrateMap.delete(e),e._node&&(e._node[p.e0]=!1)},t.error=function(e){e.e||(e.e=Error(e.message)),this.call("error",e)},(0,r.a)([d.W],e.prototype,"setRect",null),(0,r.a)([F],e.prototype,"toggleAttribute",null),(0,r.a)([F],e.prototype,"setContent",null),(0,r.a)([F],e.prototype,"setHTML",null),(0,r.a)([F],e.prototype,"setText",null),(0,r.a)([d.W],e.prototype,"scrollToSelection",null),(0,r.a)([d.W],e.prototype,"scrollTo",null),(0,r.a)([d.W],e.prototype,"handleDragOver",null),(0,r.a)([d.W],e.prototype,"mouseDownListenerForMac",null),(0,r.a)([d.W],e.prototype,"_handleEditorRectChange",null),(0,r.a)([d.W],e.prototype,"_handleEditorScroll",null),(0,r.a)([d.W],e.prototype,"__handleDOMSelectionChange",null),(0,r.a)([d.W],e.prototype,"_handleMouseDown",null),(0,r.a)([d.W],e.prototype,"_handleContentWillApply",null),(0,r.a)([d.W],e.prototype,"_handleContentWillChange",null),(0,r.a)([d.W],e.prototype,"_handleContentChange",null),(0,r.a)([d.W],e.prototype,"_handleMouseUp",null),(0,r.a)([d.W],e.prototype,"_handleClickEvent",null),(0,r.a)([F],e.prototype,"_handleKeyEvent",null),(0,r.a)([F],e.prototype,"_handleInputEvent",null),(0,r.a)([F],e.prototype,"_handleBeforeInput",null),(0,r.a)([F],e.prototype,"_handleCompositionEvent",null),(0,r.a)([F],e.prototype,"_handleCopy",null),(0,r.a)([F],e.prototype,"_handleCut",null),(0,r.a)([F],e.prototype,"_handlePaste",null),(0,r.a)([d.W],e.prototype,"_handleDrag",null),(0,r.a)([d.W],e.prototype,"_handleFocusEvent",null),(0,r.a)([d.W],e.prototype,"_handleResizeEvent",null),(0,r.a)([F],e.prototype,"triggerEditorEvent",null),e}()},182855:function(e,t,n){"use strict";n.d(t,{Ay:function(){return h},D3:function(){return a},Is:function(){return _},Nf:function(){return v},QA:function(){return g},TS:function(){return i},TT:function(){return p},Y:function(){return f},a6:function(){return s},cd:function(){return m},g8:function(){return y},lI:function(){return o}});var r=n(858708),i={type:null,target:null,currentTarget:null,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},o={propertyName:null,elapsedTime:null,pseudoElement:null},s={animationName:null,elapsedTime:null,pseudoElement:null},a={view:null,detail:null},l=0,c=0,u=!1,d=!1,h={screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:null,button:null,buttons:null,relatedTarget:null,movementX:function(e){if("movementX"in e)return e.movementX;var t=l;return l=e.screenX,u?"mousemove"===e.type?e.screenX-t:0:(u=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=c;return c=e.screenY,d?"mousemove"===e.type?e.screenY-t:0:(d=!0,0)}},f={dataTransfer:null},p={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null},v={key:null,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:null,charCode:function(e){return"keypress"===e.type?(0,r.Hr)(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?(0,r.Hr)(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}},g={clipboardData:function(e){return("clipboardData"in e?e:window).clipboardData},data:{}},_={relatedTarget:null},m={data:null,dataTransfer:null,inputType:null},y={data:null}},386859:function(e,t,n){"use strict";n.d(t,{_:function(){return u},a:function(){return s},b:function(){return o},c:function(){return c},d:function(){return i},e:function(){return d},f:function(){return a},g:function(){return l}});var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function s(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;0<=a;a--)(i=e[a])&&(s=(o<3?i(s):3<o?i(t,n,s):i(t,n))||s);return 3<o&&s&&Object.defineProperty(t,n,s),s}function a(e,t,n,r){return new(n=n||Promise)(function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(s,a)}l((r=r.apply(e,t||[])).next())})}function l(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},s={next:a(0),throw:a(1),return:a(2)};return"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,(s=i?[2&s[0],i.value]:s)[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function c(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&r>=e.length?void 0:e)&&e[r++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||0<t--)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function d(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(u(arguments[t]));return e}},640595:function(e,t,n){"use strict";n.d(t,{I:function(){return s}});var r=n(41792),i=n(26105);n(15490);var o=n(312745),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}(0,r.d)(t,e);var n=t.prototype;return n.create=function(e){return e.zoneType=e.zoneType||this.zoneType,new t(e)},n.insert=function(t,n){return e.prototype.insert.call(this,t,n,!1)},n.insertLineMarker=function(e){void 0===e&&(e={});var t=Object.assign({lmkr:1},e);return this.insert(i.F5,t),this},n.insertEnterAndLineMarker=function(e){this.insert(i.K5,e&&e.enterAttributes?e.enterAttributes:{});var t=Object.assign({lmkr:1},e&&e.lineAttributes?e.lineAttributes:{});return this.insert(i.F5,t),this},t}(n(835212).D);o.w.registerCreator(i.Ak.Content,s)},563489:function(e,t,n){"use strict";n.d(t,{A:function(){return d},BG:function(){return a},Br:function(){return h},D_:function(){return p},HY:function(){return i},Li:function(){return u},Nh:function(){return f},Ol:function(){return c},Ul:function(){return l},ZC:function(){return o},xv:function(){return s}});var r,i=Symbol.for("x.fragment"),o=Symbol.for("x.div"),s=Symbol.for("x.text"),a=Symbol.for("x.zero_space"),l=Symbol.for("x.ul"),c=Symbol.for("x.ol"),u=Symbol.for("x.li"),d=Symbol.for("x.a"),h=Symbol.for("x.br"),f=Symbol.for("x_element_type"),p=((r={})[o]="div",r[s]="span",r[a]="span",r[l]="ul",r[c]="ol",r[u]="li",r[d]="a",r[h]="br",r)},192298:function(e,t,n){"use strict";function r(e){return e.replace(/\r\n/g,"\n").replace(/\r/g,"\n")}n.d(t,{$:function(){return r}})},620786:function(e,t,n){"use strict";n.d(t,{Qc:()=>M,O4:()=>o.O4,uf:()=>o.uf,Wh:()=>o.Wh,Jo:()=>o.Jo,VG:()=>o.VG,rp:()=>o.rp,Ii:()=>o.Ii,yx:()=>o.yx,Wi:()=>o.Wi,HI:()=>o.HI,pe:()=>o.pe});let r=n("789786"),i=n("922821"),o=n("652744"),s=n("446939"),a=n("146679"),l=n("149325"),c=n("128965");var u,d,h=new RegExp("^".concat(s.p.source,"*")),f=new RegExp("".concat(s.p.source,"*$"));function p(e,t){return{start:e,end:t}}var v=!!String.prototype.startsWith&&"_a".startsWith("a",1),g=!!String.fromCodePoint,_=!!Object.fromEntries,m=!!String.prototype.codePointAt,y=!!String.prototype.trimStart,S=!!String.prototype.trimEnd,b=Number.isSafeInteger?Number.isSafeInteger:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e&&9007199254740991>=Math.abs(e)},E=!0;try{var C=x("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");E=(null===(u=C.exec("a"))||void 0===u?void 0:u[0])==="a"}catch(e){E=!1}var T=v?function(e,t,n){return e.startsWith(t,n)}:function(e,t,n){return e.slice(n,n+t.length)===t},I=g?String.fromCodePoint:function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r="",i=t.length,o=0;i>o;){if((e=t[o++])>1114111)throw RangeError(e+" is not a valid code point");r+=e<65536?String.fromCharCode(e):String.fromCharCode(((e-=65536)>>10)+55296,e%1024+56320)}return r},w=_?Object.fromEntries:function(e){for(var t={},n=0;n<e.length;n++){var r=e[n],i=r[0],o=r[1];t[i]=o}return t},R=m?function(e,t){return e.codePointAt(t)}:function(e,t){var n,r=e.length;if(!(t<0)&&!(t>=r)){var i=e.charCodeAt(t);return i<55296||i>56319||t+1===r||(n=e.charCodeAt(t+1))<56320||n>57343?i:(i-55296<<10)+(n-56320)+65536}},N=y?function(e){return e.trimStart()}:function(e){return e.replace(h,"")},A=S?function(e){return e.trimEnd()}:function(e){return e.replace(f,"")};function x(e,t){return new RegExp(e,t)}if(E){var O=x("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");d=function(e,t){var n;return O.lastIndex=t,null!==(n=O.exec(e)[1])&&void 0!==n?n:""}}else d=function(e,t){for(var n=[];;){var r,i=R(e,t);if(void 0===i||D(i)||(r=i)>=33&&r<=35||36===r||r>=37&&r<=39||40===r||41===r||42===r||43===r||44===r||45===r||r>=46&&r<=47||r>=58&&r<=59||r>=60&&r<=62||r>=63&&r<=64||91===r||92===r||93===r||94===r||96===r||123===r||124===r||125===r||126===r||161===r||r>=162&&r<=165||166===r||167===r||169===r||171===r||172===r||174===r||176===r||177===r||182===r||187===r||191===r||215===r||247===r||r>=8208&&r<=8213||r>=8214&&r<=8215||8216===r||8217===r||8218===r||r>=8219&&r<=8220||8221===r||8222===r||8223===r||r>=8224&&r<=8231||r>=8240&&r<=8248||8249===r||8250===r||r>=8251&&r<=8254||r>=8257&&r<=8259||8260===r||8261===r||8262===r||r>=8263&&r<=8273||8274===r||8275===r||r>=8277&&r<=8286||r>=8592&&r<=8596||r>=8597&&r<=8601||r>=8602&&r<=8603||r>=8604&&r<=8607||8608===r||r>=8609&&r<=8610||8611===r||r>=8612&&r<=8613||8614===r||r>=8615&&r<=8621||8622===r||r>=8623&&r<=8653||r>=8654&&r<=8655||r>=8656&&r<=8657||8658===r||8659===r||8660===r||r>=8661&&r<=8691||r>=8692&&r<=8959||r>=8960&&r<=8967||8968===r||8969===r||8970===r||8971===r||r>=8972&&r<=8991||r>=8992&&r<=8993||r>=8994&&r<=9e3||9001===r||9002===r||r>=9003&&r<=9083||9084===r||r>=9085&&r<=9114||r>=9115&&r<=9139||r>=9140&&r<=9179||r>=9180&&r<=9185||r>=9186&&r<=9254||r>=9255&&r<=9279||r>=9280&&r<=9290||r>=9291&&r<=9311||r>=9472&&r<=9654||9655===r||r>=9656&&r<=9664||9665===r||r>=9666&&r<=9719||r>=9720&&r<=9727||r>=9728&&r<=9838||9839===r||r>=9840&&r<=10087||10088===r||10089===r||10090===r||10091===r||10092===r||10093===r||10094===r||10095===r||10096===r||10097===r||10098===r||10099===r||10100===r||10101===r||r>=10132&&r<=10175||r>=10176&&r<=10180||10181===r||10182===r||r>=10183&&r<=10213||10214===r||10215===r||10216===r||10217===r||10218===r||10219===r||10220===r||10221===r||10222===r||10223===r||r>=10224&&r<=10239||r>=10240&&r<=10495||r>=10496&&r<=10626||10627===r||10628===r||10629===r||10630===r||10631===r||10632===r||10633===r||10634===r||10635===r||10636===r||10637===r||10638===r||10639===r||10640===r||10641===r||10642===r||10643===r||10644===r||10645===r||10646===r||10647===r||10648===r||r>=10649&&r<=10711||10712===r||10713===r||10714===r||10715===r||r>=10716&&r<=10747||10748===r||10749===r||r>=10750&&r<=11007||r>=11008&&r<=11055||r>=11056&&r<=11076||r>=11077&&r<=11078||r>=11079&&r<=11084||r>=11085&&r<=11123||r>=11124&&r<=11125||r>=11126&&r<=11157||11158===r||r>=11159&&r<=11263||r>=11776&&r<=11777||11778===r||11779===r||11780===r||11781===r||r>=11782&&r<=11784||11785===r||11786===r||11787===r||11788===r||11789===r||r>=11790&&r<=11798||11799===r||r>=11800&&r<=11801||11802===r||11803===r||11804===r||11805===r||r>=11806&&r<=11807||11808===r||11809===r||11810===r||11811===r||11812===r||11813===r||11814===r||11815===r||11816===r||11817===r||r>=11818&&r<=11822||11823===r||r>=11824&&r<=11833||r>=11834&&r<=11835||r>=11836&&r<=11839||11840===r||11841===r||11842===r||r>=11843&&r<=11855||r>=11856&&r<=11857||11858===r||r>=11859&&r<=11903||r>=12289&&r<=12291||12296===r||12297===r||12298===r||12299===r||12300===r||12301===r||12302===r||12303===r||12304===r||12305===r||r>=12306&&r<=12307||12308===r||12309===r||12310===r||12311===r||12312===r||12313===r||12314===r||12315===r||12316===r||12317===r||r>=12318&&r<=12319||12320===r||12336===r||64830===r||64831===r||r>=65093&&r<=65094)break;n.push(i),t+=i>=65536?2:1}return I.apply(void 0,n)};var k=function(){function e(e,t){void 0===t&&(t={}),this.message=e,this.position={offset:0,line:1,column:1},this.ignoreTag=!!t.ignoreTag,this.locale=t.locale,this.requiresOtherClause=!!t.requiresOtherClause,this.shouldParseSkeletons=!!t.shouldParseSkeletons}return e.prototype.parse=function(){if(0!==this.offset())throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},e.prototype.parseMessage=function(e,t,n){for(var r=[];!this.isEOF();){var s=this.char();if(123===s){var a=this.parseArgument(e,n);if(a.err)return a;r.push(a.val)}else if(125===s&&e>0)break;else if(35===s&&("plural"===t||"selectordinal"===t)){var l=this.clonePosition();this.bump(),r.push({type:o.wD.pound,location:p(l,this.clonePosition())})}else if(60!==s||this.ignoreTag||47!==this.peek()){if(60===s&&!this.ignoreTag&&P(this.peek()||0)){var a=this.parseTag(e,t);if(a.err)return a;r.push(a.val)}else{var a=this.parseLiteral(e,t);if(a.err)return a;r.push(a.val)}}else{if(!n)return this.error(i.o.UNMATCHED_CLOSING_TAG,p(this.clonePosition(),this.clonePosition()));break}}return{val:r,err:null}},e.prototype.parseTag=function(e,t){var n=this.clonePosition();this.bump();var r=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:o.wD.literal,value:"<".concat(r,"/>"),location:p(n,this.clonePosition())},err:null};if(!this.bumpIf(">"))return this.error(i.o.INVALID_TAG,p(n,this.clonePosition()));var s=this.parseMessage(e+1,t,!0);if(s.err)return s;var a=s.val,l=this.clonePosition();if(!this.bumpIf("</"))return this.error(i.o.UNCLOSED_TAG,p(n,this.clonePosition()));if(this.isEOF()||!P(this.char()))return this.error(i.o.INVALID_TAG,p(l,this.clonePosition()));var c=this.clonePosition();return r!==this.parseTagName()?this.error(i.o.UNMATCHED_CLOSING_TAG,p(c,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">"))?{val:{type:o.wD.tag,value:r,children:a,location:p(n,this.clonePosition())},err:null}:this.error(i.o.INVALID_TAG,p(l,this.clonePosition()))},e.prototype.parseTagName=function(){var e,t=this.offset();for(this.bump();!this.isEOF()&&(45===(e=this.char())||46===e||e>=48&&e<=57||95===e||e>=97&&e<=122||e>=65&&e<=90||183==e||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8255&&e<=8256||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039);)this.bump();return this.message.slice(t,this.offset())},e.prototype.parseLiteral=function(e,t){for(var n=this.clonePosition(),r="";;){var i=this.tryParseQuote(t);if(i){r+=i;continue}var s=this.tryParseUnquoted(e,t);if(s){r+=s;continue}var a=this.tryParseLeftAngleBracket();if(a){r+=a;continue}break}var l=p(n,this.clonePosition());return{val:{type:o.wD.literal,value:r,location:l},err:null}},e.prototype.tryParseLeftAngleBracket=function(){var e;return this.isEOF()||60!==this.char()||!this.ignoreTag&&(P(e=this.peek()||0)||47===e)?null:(this.bump(),"<")},e.prototype.tryParseQuote=function(e){if(this.isEOF()||39!==this.char())return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if("plural"===e||"selectordinal"===e)break;return null;default:return null}this.bump();var t=[this.char()];for(this.bump();!this.isEOF();){var n=this.char();if(39===n){if(39===this.peek())t.push(39),this.bump();else{this.bump();break}}else t.push(n);this.bump()}return I.apply(void 0,t)},e.prototype.tryParseUnquoted=function(e,t){if(this.isEOF())return null;var n=this.char();return 60===n||123===n||35===n&&("plural"===t||"selectordinal"===t)||125===n&&e>0?null:(this.bump(),I(n))},e.prototype.parseArgument=function(e,t){var n=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(i.o.EXPECT_ARGUMENT_CLOSING_BRACE,p(n,this.clonePosition()));if(125===this.char())return this.bump(),this.error(i.o.EMPTY_ARGUMENT,p(n,this.clonePosition()));var r=this.parseIdentifierIfPossible().value;if(!r)return this.error(i.o.MALFORMED_ARGUMENT,p(n,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(i.o.EXPECT_ARGUMENT_CLOSING_BRACE,p(n,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:o.wD.argument,value:r,location:p(n,this.clonePosition())},err:null};case 44:if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(i.o.EXPECT_ARGUMENT_CLOSING_BRACE,p(n,this.clonePosition()));return this.parseArgumentOptions(e,t,r,n);default:return this.error(i.o.MALFORMED_ARGUMENT,p(n,this.clonePosition()))}},e.prototype.parseIdentifierIfPossible=function(){var e=this.clonePosition(),t=this.offset(),n=d(this.message,t),r=t+n.length;return this.bumpTo(r),{value:n,location:p(e,this.clonePosition())}},e.prototype.parseArgumentOptions=function(e,t,n,s){var l,u=this.clonePosition(),d=this.parseIdentifierIfPossible().value,h=this.clonePosition();switch(d){case"":return this.error(i.o.EXPECT_ARGUMENT_TYPE,p(u,h));case"number":case"date":case"time":this.bumpSpace();var f=null;if(this.bumpIf(",")){this.bumpSpace();var v=this.clonePosition(),g=this.parseSimpleArgStyleIfPossible();if(g.err)return g;var _=A(g.val);if(0===_.length)return this.error(i.o.EXPECT_ARGUMENT_STYLE,p(this.clonePosition(),this.clonePosition()));f={style:_,styleLocation:p(v,this.clonePosition())}}var m=this.tryParseArgumentClose(s);if(m.err)return m;var y=p(s,this.clonePosition());if(f&&T(null==f?void 0:f.style,"::",0)){var S=N(f.style.slice(2));if("number"===d){var g=this.parseNumberSkeletonFromString(S,f.styleLocation);if(g.err)return g;return{val:{type:o.wD.number,value:n,location:y,style:g.val},err:null}}if(0===S.length)return this.error(i.o.EXPECT_DATE_TIME_SKELETON,y);var b=S;this.locale&&(b=(0,c.T)(S,this.locale));var _={type:o.aV.dateTime,pattern:b,location:f.styleLocation,parsedOptions:this.shouldParseSkeletons?(0,a.T)(b):{}};return{val:{type:"date"===d?o.wD.date:o.wD.time,value:n,location:y,style:_},err:null}}return{val:{type:"number"===d?o.wD.number:"date"===d?o.wD.date:o.wD.time,value:n,location:y,style:null!==(l=null==f?void 0:f.style)&&void 0!==l?l:null},err:null};case"plural":case"selectordinal":case"select":var E=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(i.o.EXPECT_SELECT_ARGUMENT_OPTIONS,p(E,(0,r.pi)({},E)));this.bumpSpace();var C=this.parseIdentifierIfPossible(),I=0;if("select"!==d&&"offset"===C.value){if(!this.bumpIf(":"))return this.error(i.o.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,p(this.clonePosition(),this.clonePosition()));this.bumpSpace();var g=this.tryParseDecimalInteger(i.o.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,i.o.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE);if(g.err)return g;this.bumpSpace(),C=this.parseIdentifierIfPossible(),I=g.val}var R=this.tryParsePluralOrSelectOptions(e,d,t,C);if(R.err)return R;var m=this.tryParseArgumentClose(s);if(m.err)return m;var x=p(s,this.clonePosition());if("select"===d)return{val:{type:o.wD.select,value:n,options:w(R.val),location:x},err:null};return{val:{type:o.wD.plural,value:n,options:w(R.val),offset:I,pluralType:"plural"===d?"cardinal":"ordinal",location:x},err:null};default:return this.error(i.o.INVALID_ARGUMENT_TYPE,p(u,h))}},e.prototype.tryParseArgumentClose=function(e){return this.isEOF()||125!==this.char()?this.error(i.o.EXPECT_ARGUMENT_CLOSING_BRACE,p(e,this.clonePosition())):(this.bump(),{val:!0,err:null})},e.prototype.parseSimpleArgStyleIfPossible=function(){for(var e=0,t=this.clonePosition();!this.isEOF();)switch(this.char()){case 39:this.bump();var n=this.clonePosition();if(!this.bumpUntil("'"))return this.error(i.o.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,p(n,this.clonePosition()));this.bump();break;case 123:e+=1,this.bump();break;case 125:if(!(e>0))return{val:this.message.slice(t.offset,this.offset()),err:null};e-=1;break;default:this.bump()}return{val:this.message.slice(t.offset,this.offset()),err:null}},e.prototype.parseNumberSkeletonFromString=function(e,t){var n=[];try{n=(0,l.O)(e)}catch(e){return this.error(i.o.INVALID_NUMBER_SKELETON,t)}return{val:{type:o.aV.number,tokens:n,location:t,parsedOptions:this.shouldParseSkeletons?(0,l.I)(n):{}},err:null}},e.prototype.tryParsePluralOrSelectOptions=function(e,t,n,r){for(var o,s=!1,a=[],l=new Set,c=r.value,u=r.location;;){if(0===c.length){var d=this.clonePosition();if("select"!==t&&this.bumpIf("=")){var h=this.tryParseDecimalInteger(i.o.EXPECT_PLURAL_ARGUMENT_SELECTOR,i.o.INVALID_PLURAL_ARGUMENT_SELECTOR);if(h.err)return h;u=p(d,this.clonePosition()),c=this.message.slice(d.offset,this.offset())}else break}if(l.has(c))return this.error("select"===t?i.o.DUPLICATE_SELECT_ARGUMENT_SELECTOR:i.o.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,u);"other"===c&&(s=!0),this.bumpSpace();var f=this.clonePosition();if(!this.bumpIf("{"))return this.error("select"===t?i.o.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:i.o.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,p(this.clonePosition(),this.clonePosition()));var v=this.parseMessage(e+1,t,n);if(v.err)return v;var g=this.tryParseArgumentClose(f);if(g.err)return g;a.push([c,{value:v.val,location:p(f,this.clonePosition())}]),l.add(c),this.bumpSpace(),c=(o=this.parseIdentifierIfPossible()).value,u=o.location}return 0===a.length?this.error("select"===t?i.o.EXPECT_SELECT_ARGUMENT_SELECTOR:i.o.EXPECT_PLURAL_ARGUMENT_SELECTOR,p(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!s?this.error(i.o.MISSING_OTHER_CLAUSE,p(this.clonePosition(),this.clonePosition())):{val:a,err:null}},e.prototype.tryParseDecimalInteger=function(e,t){var n=1,r=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(n=-1);for(var i=!1,o=0;!this.isEOF();){var s=this.char();if(s>=48&&s<=57)i=!0,o=10*o+(s-48),this.bump();else break}var a=p(r,this.clonePosition());return i?b(o*=n)?{val:o,err:null}:this.error(t,a):this.error(e,a)},e.prototype.offset=function(){return this.position.offset},e.prototype.isEOF=function(){return this.offset()===this.message.length},e.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},e.prototype.char=function(){var e=this.position.offset;if(e>=this.message.length)throw Error("out of bound");var t=R(this.message,e);if(void 0===t)throw Error("Offset ".concat(e," is at invalid UTF-16 code unit boundary"));return t},e.prototype.error=function(e,t){return{val:null,err:{kind:e,message:this.message,location:t}}},e.prototype.bump=function(){if(!this.isEOF()){var e=this.char();10===e?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=e<65536?1:2)}},e.prototype.bumpIf=function(e){if(T(this.message,e,this.offset())){for(var t=0;t<e.length;t++)this.bump();return!0}return!1},e.prototype.bumpUntil=function(e){var t=this.offset(),n=this.message.indexOf(e,t);return n>=0?(this.bumpTo(n),!0):(this.bumpTo(this.message.length),!1)},e.prototype.bumpTo=function(e){if(this.offset()>e)throw Error("targetOffset ".concat(e," must be greater than or equal to the current offset ").concat(this.offset()));for(e=Math.min(e,this.message.length);;){var t=this.offset();if(t===e)break;if(t>e)throw Error("targetOffset ".concat(e," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},e.prototype.bumpSpace=function(){for(;!this.isEOF()&&D(this.char());)this.bump()},e.prototype.peek=function(){if(this.isEOF())return null;var e=this.char(),t=this.offset(),n=this.message.charCodeAt(t+(e>=65536?2:1));return null!=n?n:null},e}();function P(e){return e>=97&&e<=122||e>=65&&e<=90}function D(e){return e>=9&&e<=13||32===e||133===e||e>=8206&&e<=8207||8232===e||8233===e}function M(e,t){void 0===t&&(t={});var n=new k(e,t=(0,r.pi)({shouldParseSkeletons:!0,requiresOtherClause:!0},t)).parse();if(n.err){var s=SyntaxError(i.o[n.err.kind]);throw s.location=n.err.location,s.originalMessage=n.err.message,s}return(null==t?void 0:t.captureLocation)||function e(t){t.forEach(function(t){if(delete t.location,(0,o.Wi)(t)||(0,o.Jo)(t))for(var n in t.options)delete t.options[n].location,e(t.options[n].value);else(0,o.uf)(t)&&(0,o.Wh)(t.style)?delete t.style.location:((0,o.rp)(t)||(0,o.pe)(t))&&(0,o.Ii)(t.style)?delete t.style.location:(0,o.HI)(t)&&e(t.children)})}(n.val),n.val}},744889:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(791286),i=n.n(r),o=n(402964),s=n.n(o),a=n(749404),l=n(61687),c=n(698698),u=Object.defineProperty,d=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,p=(e,t,n)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,v=(e,t)=>{for(var n in t||(t={}))h.call(t,n)&&p(e,n,t[n]);if(d)for(var n of d(t))f.call(t,n)&&p(e,n,t[n]);return e},g=(e,t)=>{var n={};for(var r in e)h.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&d)for(var r of d(e))0>t.indexOf(r)&&f.call(e,r)&&(n[r]=e[r]);return n};let _=/^(https?:\/\/)/;class m{constructor(){return this._region="",this._bid="",this._debug=!1,this.init=e=>{c.Z.info("[ServiceModule]: init");let{region:t="",bid:n="",appId:r,domain:i}=null!=e?e:{};this._appId=r,this._region=t,this._bid=n,this._domain=i},this.sendRequest=(e,t,n,r)=>{let o=new URL(_.test(e)?e:`${this._domain}${e}`),u=Array.from(o.searchParams.entries()).reduce((e,t)=>{let[n,r]=t;return(void 0!==r||""!==r)&&(e[n]=r),e},{}),d=null!=r?r:{},{params:h,timeout:f}=d,p=g(d,["params","timeout"]),m=v(v(v({region:this._region,aid:this._appId,bid:this._bid},u),null!=h?h:{}),(0,a.d)());"GET"===t&&n&&"object"==typeof n&&(m=v(v({},m),n));let y=new URLSearchParams((0,l.v)(m)),S=new URL(`${o.origin}${o.pathname}?${y.toString()}`),b=i()({},p,{method:t,timeout:null!=f?f:0,data:n});return c.Z.info("[ServiceModule]: sendRequest start",b),s()(S.href,b).then(e=>(c.Z.info("[ServiceModule]: sendRequest finish",e),e)).catch(e=>{throw c.Z.error("[ServiceModule]: sendRequest error",e),e})},this.destruct=()=>{c.Z.info("[ServiceModule]: destruct")},m._instance||(m._instance=this),m._instance}}var y=new m},538369:function(e,t,n){"use strict";n.d(t,{g:function(){return f},i:function(){return h}});var r=n(50906),i=n.n(r),o=n(121608),s=n.n(o),a=n(754048),l=n(56052),c=n(698698),u=n(292516);class d extends u.Z{constructor(e="WebStorageWrapper",t=l.Z1.sessionStorage){super(e,!1),this._decrypt=(e,t,n)=>{c.Z.info(`[${this.name}]: _decrypt`);let r=null;if(t||n){let i=`${null!=t?t:""}_${null!=n?n:""}`;try{let t=s().AES.decrypt(e,i).toString(s().enc.Utf8),n=JSON.parse(t);(null==n?void 0:n.data)&&"number"==typeof(null==n?void 0:n.timestamp)&&(r=n)}catch(e){c.Z.info(`[${this.name}]: _decrypt - ${e.message}`,e)}}return c.Z.info(`[${this.name}]: _decrypt - finish`,r),r},this._encrypt=(e,t,n)=>{c.Z.info(`[${this.name}]: _encrypt`);let r="";if(t||n){let i=`${null!=t?t:""}_${null!=n?n:""}`;r=s().AES.encrypt(JSON.stringify(e),i).toString()}return r},this._encryptConsentStorage=e=>{var t,n,r,i;return{consentEntityValidationMap:e.consentEntityValidationMap,[l.mL.BOTH_CONSENT]:this._encrypt(e[l.mL.BOTH_CONSENT],null!=(t=this._did)?t:"",null!=(n=this._uid)?n:""),[l.mL.DEVICE_CONSENT]:this._encrypt(e[l.mL.DEVICE_CONSENT],null!=(r=this._did)?r:"",""),[l.mL.USER_CONSENT]:this._encrypt(e[l.mL.USER_CONSENT],"",null!=(i=this._uid)?i:"")}},this._updateUserInfo=(e,t)=>{this._did=e,this._uid=t},this._setConsentWebStorage=e=>{let t=this._encryptConsentStorage(e);window[this._storageName].setItem(a.$C,JSON.stringify(t))},this.insertConsentData=(e,t,n)=>{c.Z.info(`[${this.name}]: insertConsentData`,{data:e,timestamp:t,userInfo:n});try{let r=this.insertDataIntoStore(e,t,n);this._setConsentWebStorage(r)}catch(e){c.Z.error(`[${this.name}]: insertConsentData - ${e.message}`,e)}},this.insertNotificationData=(e,t,n)=>{c.Z.info(`[${this.name}]: insertNotificationData`,{data:e,timestamp:t,userInfo:n});try{let r=this.getNotificationStore(n);this.insertDataByStorageName(r,l.mL.NOTIFICATION,e,t),window[this._storageName].setItem(a.Dj,JSON.stringify(r))}catch(e){c.Z.error(`[${this.name}]: insertNotificationData - ${e.message}`,e)}},this.getConsentStore=e=>{var t,n;let{device_id:r="",user_id:o=""}=null!=e?e:{},s={},d=i()(u.o),h=i()(u.o),f=i()(u.o);try{let e=null!=(t=window[this._storageName].getItem(a.$C))?t:"{}",i=null!=(n=JSON.parse(e))?n:{};s=i.consentEntityValidationMap,f=this._retrieveConsentData(i,l.mL.BOTH_CONSENT,r,o),h=this._retrieveConsentData(i,l.mL.USER_CONSENT,"",o),d=this._retrieveConsentData(i,l.mL.DEVICE_CONSENT,r,""),this._updateUserInfo(r,o)}catch(e){c.Z.error(`[${this.name}]: getConsentStore - ${e.message}`,e)}let p={consentEntityValidationMap:s,[l.mL.DEVICE_CONSENT]:d,[l.mL.USER_CONSENT]:h,[l.mL.BOTH_CONSENT]:f};return this._setConsentWebStorage(p),p},this.getNotificationStore=e=>{var t,n;let r=i()(u.o);try{let e=null!=(t=window[this._storageName].getItem(a.Dj))?t:"{}";r=null!=(n=JSON.parse(e))?n:{}}catch(e){c.Z.error(`[${this.name}]: getNotificationStore - ${e.message}`,e)}return{[l.mL.NOTIFICATION]:r}},this.cleanConsentData=()=>{window[this._storageName].removeItem(a.$C)},this.cleanNotificationData=()=>{window[this._storageName].removeItem(a.Dj)},this.clean=()=>{window[this._storageName].removeItem(a.$C),window[this._storageName].removeItem(a.Dj)},this.destruct=()=>{this.clean()},this._storageName=t}_retrieveConsentData(e,t,n,r){let o=!1,s=i()(u.o);switch(t){case l.mL.BOTH_CONSENT:o=n===this._did&&r===this._uid;break;case l.mL.USER_CONSENT:o=r===this._uid;break;case l.mL.DEVICE_CONSENT:o=n===this._did}if(o){let i=this._decrypt(e[t],n,r);if(i)return i}return s}}class h extends d{constructor(){super("LocalStorageWrapper",l.Z1.localStorage)}}class f extends d{constructor(){super("SessionStorageWrapper",l.Z1.sessionStorage)}}},950243:function(e,t,n){"use strict";n.d(t,{ZP:function(){return u}});var r,i=n(698698),o=n(244913),s=((r=s||{}).ad_storage="ad_storage",r.ad_user_data="ad_user_data",r.ad_personalization="ad_personalization",r.analytics_storage="analytics_storage",r.functionality_storage="functionality_storage",r.personalization_storage="personalization_storage",r.security_storage="security_storage",r);function a(...e){window.dataLayer.push(arguments)}let l=["ad_storage","analytics_storage","ad_user_data","ad_personalization"];class c extends o.Z{constructor(e){super(),this._isInitialized=!1,this._waitForUpdate=0;let{availableFields:t,waitForUpdate:n}=null!=e?e:{};this._availableFieldSet=new Set(null!=t?t:l),this._waitForUpdate=null!=n?n:0}init(e,t){i.Z.info("[GoogleModeModule]: init",{isApproved:t,consentEntityMap:e}),"undefined"==typeof window||this._isInitialized||(this._isInitialized=!0,window.dataLayer=window.dataLayer||[],t?this._defaultGrantAll():this._defaultDenyAll())}isInitialized(){return this._isInitialized}approve(e){i.Z.info("[GoogleModeModule]: approve",{consentEntityMap:e}),this._updateGrantAll()}reject(e){i.Z.info("[GoogleModeModule]: reject",{consentEntityMap:e}),this._updateDenyAll()}shouldDestructAfterReject(){return i.Z.info("[GoogleModeModule]: shouldDestructAfterReject"),!1}destruct(){i.Z.info("[GoogleModeModule]: destruct"),window.dataLayer=[],this._isInitialized=!1}_getGTagParam(e){let t={};for(let n of this._availableFieldSet)s[n]&&(t[n]=e);return this._waitForUpdate&&(t.wait_for_update=this._waitForUpdate),t}_defaultGrantAll(){i.Z.info("[GoogleModeModule]: defaultGrantAll"),a("consent","default",this._getGTagParam("granted"))}_defaultDenyAll(){i.Z.info("[GoogleModeModule]: defaultDenyAll"),a("consent","default",this._getGTagParam("denied"))}_updateGrantAll(){i.Z.info("[GoogleModeModule]: updateGrantAll"),a("consent","update",this._getGTagParam("granted"))}_updateDenyAll(){i.Z.info("[GoogleModeModule]: updateDenyAll"),a("consent","update",this._getGTagParam("denied"))}}c.canBeInitBeforeApprove=!0;var u=c},61687:function(e,t,n){"use strict";n.d(t,{l:function(){return r},v:function(){return i}});let r=(e,t)=>{let n=e.prototype;for(;n;){if(n===t.prototype)return!0;n=Object.getPrototypeOf(n)}return!1},i=e=>{if(!e)return"";let t=new URLSearchParams;return Object.entries(e).forEach(([e,n])=>{Array.isArray(n)?n.forEach(n=>{t.append(e,encodeURIComponent(n))}):null!=n&&t.append(e,encodeURIComponent(n))}),t.toString()}},623118:function(){},805740:function(){},699895:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r={saveProcess:"saveProcess-Idrz3B","saveProcess-btn-font":"saveProcess-btn-font-fj_aVu",saveProcessBtnFont:"saveProcess-btn-font-fj_aVu","lv-btn":"lv-btn-hMma5d",lvBtn:"lv-btn-hMma5d","spaceFull-goCloud-button":"spaceFull-goCloud-button-V4r_On",spaceFullGoCloudButton:"spaceFull-goCloud-button-V4r_On","lv-btn-secondary":"lv-btn-secondary-pr47bS",lvBtnSecondary:"lv-btn-secondary-pr47bS","lv-btn-disabled":"lv-btn-disabled-z0OZ5X",lvBtnDisabled:"lv-btn-disabled-z0OZ5X","lv-btn-loading":"lv-btn-loading-IqpgNY",lvBtnLoading:"lv-btn-loading-IqpgNY",isSaving:"isSaving-rNsmzD","saveProcess-saving":"saveProcess-saving-VrepmH",saveProcessSaving:"saveProcess-saving-VrepmH","saveProcess-fail":"saveProcess-fail-_v6Nuz",saveProcessFail:"saveProcess-fail-_v6Nuz",isFail:"isFail-mOf_GK","btn-controller":"btn-controller-m5gAg8",btnController:"btn-controller-m5gAg8","saveProcess-coverImg":"saveProcess-coverImg-vsCPKw",saveProcessCoverImg:"saveProcess-coverImg-vsCPKw",statistic:"statistic-Uv0be1","statistic-percent":"statistic-percent-tv5731",statisticPercent:"statistic-percent-tv5731","lv-statistic-content":"lv-statistic-content-vuJrOu",lvStatisticContent:"lv-statistic-content-vuJrOu","lv-statistic-value-int":"lv-statistic-value-int-UcQQ5p",lvStatisticValueInt:"lv-statistic-value-int-UcQQ5p","lv-statistic-value-decimal":"lv-statistic-value-decimal-BJ16rU",lvStatisticValueDecimal:"lv-statistic-value-decimal-BJ16rU",title:"title-mEbds8",context:"context-lZvxKw",icon:"icon-dQviK1"}},263234:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r={"speech-select":"speech-select-AbljpR",speechSelect:"speech-select-AbljpR",active:"active-eM3ous","input-item":"input-item-oaFkFi",inputItem:"input-item-oaFkFi","input-text-container":"input-text-container-WmGfwq",inputTextContainer:"input-text-container-WmGfwq","input-text":"input-text-MmQ5C4",inputText:"input-text-MmQ5C4","prefix-icon":"prefix-icon-HOxYBu",prefixIcon:"prefix-icon-HOxYBu","suffix-icon":"suffix-icon-V7o2R_",suffixIcon:"suffix-icon-V7o2R_","popup-panel-container":"popup-panel-container-POGCVl",popupPanelContainer:"popup-panel-container-POGCVl","tab-select":"tab-select-gYvqlo",tabSelect:"tab-select-gYvqlo","tab-item":"tab-item-gnBW4j",tabItem:"tab-item-gnBW4j","list-container-wrapper":"list-container-wrapper-RBX_eE",listContainerWrapper:"list-container-wrapper-RBX_eE","list-container":"list-container-O3pgEm",listContainer:"list-container-O3pgEm","list-caption":"list-caption-JTFng1",listCaption:"list-caption-JTFng1","list-divider":"list-divider-NNSTHb",listDivider:"list-divider-NNSTHb","list-item":"list-item-JKNbj9",listItem:"list-item-JKNbj9","item-text":"item-text-fMN0se",itemText:"item-text-fMN0se","item-copyright":"item-copyright-dtGmyP",itemCopyright:"item-copyright-dtGmyP","item-suffix-icon":"item-suffix-icon-CoeobY",itemSuffixIcon:"item-suffix-icon-CoeobY",spin:"spin-VkOrya","animation-spin":"animation-spin-p0IhRw",animationSpin:"animation-spin-p0IhRw"}},233788:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r={"player-status":"player-status-SneQZj",playerStatus:"player-status-SneQZj","not-allowed":"not-allowed-HT9eTx",notAllowed:"not-allowed-HT9eTx","play-button":"play-button-SatTlt",playButton:"play-button-SatTlt",show:"show-tedozN",hide:"hide-z5q6EP"}},60674:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r={breath:"breath-ENc8NR","grid-loading":"grid-loading-lnOiL2",gridLoading:"grid-loading-lnOiL2",content:"content-gINHwM",title:"title-KpsEJy","list-loading":"list-loading-IZiO2N",listLoading:"list-loading-IZiO2N",header:"header-C2bCrU","grid-container":"grid-container-wiCaFT",gridContainer:"grid-container-wiCaFT","list-container":"list-container-x0TWz0",listContainer:"list-container-x0TWz0",errorContainer:"errorContainer-wKtH18",button:"button-Z4MAkh",emptyContainer:"emptyContainer-LuhQZ3",icon:"icon-umvMxD"}},532152:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r={button:"button-LkYSjB",button__normal:"button__normal-fvsqCJ",buttonNormal:"button__normal-fvsqCJ",button__info:"button__info-pLUhWx",buttonInfo:"button__info-pLUhWx",button__disabled:"button__disabled-JK3ZBG",buttonDisabled:"button__disabled-JK3ZBG",next_icon:"next_icon-SOwflz",nextIcon:"next_icon-SOwflz"}},352921:function(){},69032:function(){},944792:function(e,t,n){"use strict";var r=n(75497);function i(e){r.call(this,null==e?"canceled":e,r.ERR_CANCELED),this.name="CanceledError"}n(211996).inherits(i,r,{__CANCEL__:!0}),e.exports=i},526261:function(e,t,n){"use strict";var r,i=n(499845),o=n(211996),s=n(552052),a=n(75497),l=n(915875),c=n(444353),u={"Content-Type":"application/x-www-form-urlencoded"};function d(e,t){!o.isUndefined(e)&&o.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var h={transitional:l,adapter:("undefined"!=typeof XMLHttpRequest?r=n(701966):void 0!==i&&"[object process]"===Object.prototype.toString.call(i)&&(r=n(701966)),r),transformRequest:[function(e,t){if(s(t,"Accept"),s(t,"Content-Type"),o.isFormData(e)||o.isArrayBuffer(e)||o.isBuffer(e)||o.isStream(e)||o.isFile(e)||o.isBlob(e))return e;if(o.isArrayBufferView(e))return e.buffer;if(o.isURLSearchParams(e))return d(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var n,r=o.isObject(e),i=t&&t["Content-Type"];if((n=o.isFileList(e))||r&&"multipart/form-data"===i){var a=this.env&&this.env.FormData;return c(n?{"files[]":e}:e,a&&new a)}return r||"application/json"===i?(d(t,"application/json"),function(e,t,n){if(o.isString(e))try{return(0,JSON.parse)(e),o.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||h.transitional,n=t&&t.silentJSONParsing,r=t&&t.forcedJSONParsing,i=!n&&"json"===this.responseType;if(i||r&&o.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(i){if("SyntaxError"===e.name)throw a.from(e,a.ERR_BAD_RESPONSE,this,null,this.response);throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:n(137652)},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};o.forEach(["delete","get","head"],function(e){h.headers[e]={}}),o.forEach(["post","put","patch"],function(e){h.headers[e]=o.merge(u)}),e.exports=h},909747:function(e,t,n){var r;r=function(e){return e.mode.CFB=function(){var t=e.lib.BlockCipherMode.extend();function n(e,t,n,r){var i,o=this._iv;o?(i=o.slice(0),this._iv=void 0):i=this._prevBlock,r.encryptBlock(i,0);for(var s=0;s<n;s++)e[t+s]^=i[s]}return t.Encryptor=t.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize;n.call(this,e,t,i,r),this._prevBlock=e.slice(t,t+i)}}),t.Decryptor=t.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize,o=e.slice(t,t+i);n.call(this,e,t,i,r),this._prevBlock=o}}),t}(),e.mode.CFB},e.exports=r(n(359302),n(967272))},465054:function(e,t,n){"use strict";n.d(t,{v:function(){return i}});var r=n(682981),i=function(e){if(void 0===e&&(e=document),e&&e.activeElement){var t=e.activeElement;return t.shadowRoot?i(t.shadowRoot):t instanceof HTMLIFrameElement&&(0,r.P)(function(){return t.contentWindow.document})?i(t.contentWindow.document):t}}},286354:function(e,t,n){"use strict";n.d(t,{$K:function(){return g},IS:function(){return v},MH:function(){return d},Z9:function(){return p},Zo:function(){return h},bh:function(){return a},gm:function(){return l},pY:function(){return c}});var r=n(220885),i=function(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var t=window.getComputedStyle(e,null);return!!t&&!!t.getPropertyValue&&("none"===t.getPropertyValue("display")||"hidden"===t.getPropertyValue("visibility"))},o=function(e){return e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode},s=function(e){return e===document||e&&e.nodeType===Node.DOCUMENT_NODE},a=function(e,t){var n,r=e.get(t);if(void 0!==r)return r;var l=(n=a.bind(void 0,e),!t||s(t)||!i(t)&&!t.hasAttribute("inert")&&n(o(t)));return e.set(t,l),l},l=function(e,t){var n,r=e.get(t);if(void 0!==r)return r;var i=(n=l.bind(void 0,e),!t||!!s(t)||!!f(t)&&n(o(t)));return e.set(t,i),i},c=function(e){return e.dataset},u=function(e){return"INPUT"===e.tagName},d=function(e){return u(e)&&"radio"===e.type},h=function(e){return!((u(e)||"BUTTON"===e.tagName)&&("hidden"===e.type||e.disabled))},f=function(e){return![!0,"true",""].includes(e.getAttribute(r.WQ))},p=function(e){var t;return!!(e&&(null===(t=c(e))||void 0===t?void 0:t.focusGuard))},v=function(e){return!p(e)},g=function(e){return!!e}},32020:function(e,t,n){"use strict";var r=n(136190),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return r.isMemo(e)?s:a[e.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var s=u(n);d&&(s=s.concat(d(n)));for(var a=l(t),v=l(n),g=0;g<s.length;++g){var _=s[g];if(!o[_]&&!(r&&r[_])&&!(v&&v[_])&&!(a&&a[_])){var m=h(n,_);try{c(t,_,m)}catch(e){}}}}return t}},136255:function(e,t,n){"use strict";let r=n(935141);e.exports=new r(n(63429),n(5581))},868399:function(e,t,n){"use strict";n(218571)},873146:function(e,t){"use strict";/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator,p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,g={};function _(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function m(){}function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}_.prototype.isReactComponent={},_.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},_.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=_.prototype;var S=y.prototype=new m;S.constructor=y,v(S,_.prototype),S.isPureReactComponent=!0;var b=Array.isArray,E=Object.prototype.hasOwnProperty,C={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)E.call(t,i)&&!T.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:C.current}}function w(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var R=/\/+/g;function N(e,t){var n,r;return"object"==typeof e&&null!==e&&null!=e.key?(n=""+e.key,r={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,function(e){return r[e]})):t.toString(36)}function A(e,t,i){if(null==e)return e;var o=[],s=0;return function e(t,i,o,s,a){var l,c,u,d=typeof t;("undefined"===d||"boolean"===d)&&(t=null);var h=!1;if(null===t)h=!0;else switch(d){case"string":case"number":h=!0;break;case"object":switch(t.$$typeof){case n:case r:h=!0}}if(h)return a=a(h=t),t=""===s?"."+N(h,0):s,b(a)?(o="",null!=t&&(o=t.replace(R,"$&/")+"/"),e(a,i,o,"",function(e){return e})):null!=a&&(w(a)&&(l=a,c=o+(!a.key||h&&h.key===a.key?"":(""+a.key).replace(R,"$&/")+"/")+t,a={$$typeof:n,type:l.type,key:c,ref:l.ref,props:l.props,_owner:l._owner}),i.push(a)),1;if(h=0,s=""===s?".":s+":",b(t))for(var p=0;p<t.length;p++){var v=s+N(d=t[p],p);h+=e(d,i,o,v,a)}else if("function"==typeof(v=null===(u=t)||"object"!=typeof u?null:"function"==typeof(u=f&&u[f]||u["@@iterator"])?u:null))for(t=v.call(t),p=0;!(d=t.next()).done;)v=s+N(d=d.value,p++),h+=e(d,i,o,v,a);else if("object"===d)throw Error("Objects are not valid as a React child (found: "+("[object Object]"===(i=String(t))?"object with keys {"+Object.keys(t).join(", ")+"}":i)+"). If you meant to render a collection of children, use an array instead.");return h}(e,o,"","",function(e){return t.call(i,e,s++)}),o}function x(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){(0===e._status||-1===e._status)&&(e._status=1,e._result=t)},function(t){(0===e._status||-1===e._status)&&(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},k={transition:null};t.Children={map:A,forEach:function(e,t,n){A(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!w(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=_,t.Fragment=i,t.Profiler=s,t.PureComponent=y,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:k,ReactCurrentOwner:C},t.cloneElement=function(e,t,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=C.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E.call(t,c)&&!T.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=w,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:x}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=k.transition;k.transition={};try{e()}finally{k.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},656567:function(e,t,n){"use strict";n.d(t,{h:function(){return r}});var r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},567141:function(e,t,n){"use strict";n.d(t,{D:function(){return i}});var r=n(882314);function i(e){return Symbol.asyncIterator&&(0,r.m)(null==e?void 0:e[Symbol.asyncIterator])}},459380:function(e,t,n){"use strict";n.d(t,{U:function(){return i}});var r=n(995304);function i(e){return 0===e.length?r.y:1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}}},140860:function(e,t,n){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var r=n(966465),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function s(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(e,t,n){if("number"==typeof e)throw TypeError("Argument must not be a number");return i(e,t,n)},s.alloc=function(e,t,n){if("number"!=typeof e)throw TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},s.allocUnsafe=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return r.SlowBuffer(e)}},261490:function(e,t,n){"use strict";var r=n(845208),i=n(711200),o=r("RegExp.prototype.exec"),s=n(246513);e.exports=function(e){if(!i(e))throw new s("`regex` must be a RegExp");return function(t){return null!==o(e,t)}}},417597:function(e,t,n){"use strict";n.d(t,{Ri:function(){return ee}}),e=n.hmd(e);var r,i,o=n(499845);function s(e){return e.arrayBuffer?e.arrayBuffer():new Promise((t,n)=>{let r=new FileReader;r.addEventListener("loadend",()=>{t(r.result)}),r.addEventListener("error",n),r.readAsArrayBuffer(e)})}async function a(e){return new Uint8Array(await s(e))}function l(e){return"undefined"!=typeof Blob&&e instanceof Blob}function c(e){return"undefined"!=typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer}let u=void 0!==o&&o.versions&&void 0!==o.versions.node&&void 0===o.versions.electron;class d{constructor(e){this.typedArray=e instanceof ArrayBuffer||c(e)?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}async getLength(){return this.typedArray.byteLength}async read(e,t){return new Uint8Array(this.typedArray.buffer,this.typedArray.byteOffset+e,t)}}class h{constructor(e){this.blob=e}async getLength(){return this.blob.size}async read(e,t){let n=this.blob.slice(e,e+t);return new Uint8Array(await s(n))}async sliceAsBlob(e,t,n=""){return this.blob.slice(e,e+t,n)}}function f(e,t){var n=e.length;if(t<=n)return e;var r=new Uint8Array(Math.max(n<<1,t));return r.set(e,0),r}function p(e,t,n,r){for(var i=0,o=0,s=r.length>>>1;o<n;){var a=e[o+t];r[o<<1]=0,r[(o<<1)+1]=a,a>i&&(i=a),o++}for(;o<s;)r[o<<1]=0,r[(o<<1)+1]=0,o++;return i}function v(e,t){for(var n,r,i,o,s,a=e.length,l=b.bl_count,o=0;o<=t;o++)l[o]=0;for(o=1;o<a;o+=2)l[e[o]]++;var c=b.next_code;for(r=1,n=0,l[0]=0;r<=t;r++)n=n+l[r-1]<<1,c[r]=n;for(i=0;i<a;i+=2)0!=(s=e[i+1])&&(e[i]=c[s],c[s]++)}function g(e,t,n){for(var r=e.length,i=b.rev15,o=0;o<r;o+=2)if(0!=e[o+1])for(var s=o>>1,a=e[o+1],l=s<<4|a,c=t-a,u=e[o]<<c,d=u+(1<<c);u!=d;)n[i[u]>>>15-t]=l,u++}function _(e,t){for(var n=b.rev15,r=15-t,i=0;i<e.length;i+=2){var o=e[i]<<t-e[i+1];e[i]=n[o]>>>r}}function m(e,t,n){return(e[t>>>3]|e[(t>>>3)+1]<<8)>>>(7&t)&(1<<n)-1}function y(e,t,n){return(e[t>>>3]|e[(t>>>3)+1]<<8|e[(t>>>3)+2]<<16)>>>(7&t)&(1<<n)-1}function S(e,t){return(e[t>>>3]|e[(t>>>3)+1]<<8|e[(t>>>3)+2]<<16)>>>(7&t)}let b=(r=Uint16Array,i=Uint32Array,{next_code:new r(16),bl_count:new r(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new r(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new i(32),flmap:new r(512),fltree:[],fdmap:new r(32),fdtree:[],lmap:new r(32768),ltree:[],ttree:[],dmap:new r(32768),dtree:[],imap:new r(512),itree:[],rev15:new r(32768),lhst:new i(286),dhst:new i(30),ihst:new i(19),lits:new i(15e3),strt:new r(65536),prev:new r(32768)});!function(){for(var e=0;e<32768;e++){var t=e;t=(4278255360&(t=(4042322160&(t=(3435973836&(t=(2863311530&t)>>>1|(1431655765&t)<<1))>>>2|(858993459&t)<<2))>>>4|(252645135&t)<<4))>>>8|(16711935&t)<<8,b.rev15[e]=(t>>>16|t<<16)>>>17}function n(e,t,n){for(;0!=t--;)e.push(0,n)}for(var e=0;e<32;e++)b.ldef[e]=b.of0[e]<<3|b.exb[e],b.ddef[e]=b.df0[e]<<4|b.dxb[e];n(b.fltree,144,8),n(b.fltree,112,9),n(b.fltree,24,7),n(b.fltree,8,8),v(b.fltree,9),g(b.fltree,9,b.flmap),_(b.fltree,9),n(b.fdtree,32,5),v(b.fdtree,5),g(b.fdtree,5,b.fdmap),_(b.fdtree,5),n(b.itree,19,0),n(b.ltree,286,0),n(b.dtree,30,0),n(b.ttree,320,0)}();let E={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var n=t,r=0;r<8;r++)1&n?n=3988292384^n>>>1:n>>>=1;e[t]=n}return e}(),update:function(e,t,n,r){for(var i=0;i<r;i++)e=E.table[(e^t[n+i])&255]^e>>>8;return e},crc:function(e,t,n){return 4294967295^E.update(4294967295,e,t,n)}},C={numWorkers:1,workerURL:"",useWorkers:!1},T=0,I=0,w=!0,R=[],N=[],A=[],x=new Map;function O(e){D(e.target);let{id:t,error:n,data:r}=e.data,i=x.get(t);x.delete(t),n?i.reject(n):i.resolve(r)}function k(e){return new Promise((t,n)=>{let r=new Worker(e);r.onmessage=e=>{"start"===e.data?(r.onerror=void 0,r.onmessage=void 0,t(r)):n(Error(`unexpected message: ${e.data}`))},r.onerror=n})}let P=function(){if(!u)return{async createWorker(e){let t;try{return await k(e)}catch(t){console.warn("could not load worker:",e)}try{let n=await fetch(e,{mode:"cors"});if(!n.ok)throw Error(`could not load: ${e}`);t=await n.text(),e=URL.createObjectURL(new Blob([t],{type:"application/javascript"}));let r=await k(e);return C.workerURL=e,r}catch(t){console.warn("could not load worker via fetch:",e)}if(void 0!==t)try{e=`data:application/javascript;base64,${btoa(t)}`;let n=await k(e);return C.workerURL=e,n}catch(e){console.warn("could not load worker via dataURI")}throw console.warn("workers will not be used"),Error("can not start workers")},addEventListener(e,t){e.addEventListener("message",t)},async terminate(e){e.terminate()}};{var t;let{Worker:n}=(t="worker_threads",e.require(t));return{createWorker:async e=>new n(e),addEventListener(e,t){e.on("message",n=>{t({target:e,data:n})})},async terminate(e){await e.terminate()}}}}();function D(e){N.push(e),L()}async function M(){if(0===N.length&&I<C.numWorkers){++I;try{let e=await P.createWorker(C.workerURL);R.push(e),N.push(e),P.addEventListener(e,O)}catch(e){w=!1}}return N.pop()}async function L(){if(0!==A.length){if(C.useWorkers&&w){let e=await M();if(w){if(e){if(0===A.length){D(e);return}let{id:t,src:n,uncompressedSize:r,type:i,resolve:o,reject:s}=A.shift();x.set(t,{id:t,resolve:o,reject:s}),e.postMessage({type:"inflate",data:{id:t,type:i,src:n,uncompressedSize:r}},[])}return}}for(;A.length;){let{src:e,uncompressedSize:t,type:n,resolve:r}=A.shift(),i=e;l(e)&&(i=await a(e)),function(e,t,n,r){let i=new Uint8Array(t);(function(e,t){var n,r,i=Uint8Array;if(3==e[0]&&0==e[1])return t||new i(0);var o=m,s=S,a=null==t;a&&(t=new i(e.length>>>2<<3));for(var l=0,c=0,u=0,d=0,h=0,_=0,E=0,C=0,T=0;0==l;){if(l=y(e,T,1),c=y(e,T+1,2),T+=3,0==c){(7&T)!=0&&(T+=8-(7&T));var I=(T>>>3)+4,w=e[I-4]|e[I-3]<<8;a&&(t=f(t,C+w)),t.set(new i(e.buffer,e.byteOffset+I,w),C),T=I+w<<3,C+=w;continue}if(a&&(t=f(t,C+131072)),1==c&&(n=b.flmap,r=b.fdmap,_=511,E=31),2==c){u=o(e,T,5)+257,d=o(e,T+5,5)+1,h=o(e,T+10,4)+4,T+=14;for(var R=0;R<38;R+=2)b.itree[R]=0,b.itree[R+1]=0;for(var N=1,R=0;R<h;R++){var A=o(e,T+3*R,3);b.itree[(b.ordr[R]<<1)+1]=A,A>N&&(N=A)}T+=3*h,v(b.itree,N),g(b.itree,N,b.imap),n=b.lmap,r=b.dmap,T=function(e,t,n,r,i,o){for(var s=m,a=S,l=0;l<n;){var c=e[a(r,i)&t];i+=15&c;var u=c>>>4;if(u<=15)o[l]=u,l++;else{var d=0,h=0;16==u?(h=3+s(r,i,2),i+=2,d=o[l-1]):17==u?(h=3+s(r,i,3),i+=3):18==u&&(h=11+s(r,i,7),i+=7);for(var f=l+h;l<f;)o[l]=d,l++}}return i}(b.imap,(1<<N)-1,u+d,e,T,b.ttree);var x=p(b.ttree,0,u,b.ltree);_=(1<<x)-1;var O=p(b.ttree,u,d,b.dtree);E=(1<<O)-1,v(b.ltree,x),g(b.ltree,x,n),v(b.dtree,O),g(b.dtree,O,r)}for(;;){var k=n[s(e,T)&_];T+=15&k;var P=k>>>4;if(P>>>8==0)t[C++]=P;else if(256==P)break;else{var D=C+P-254;if(P>264){var M=b.ldef[P-257];D=C+(M>>>3)+o(e,T,7&M),T+=7&M}var L=r[s(e,T)&E];T+=15&L;var U=L>>>4,F=b.ddef[U],j=(F>>>4)+y(e,T,15&F);for(T+=15&F,a&&(t=f(t,C+131072));C<D;)t[C]=t[C++-j],t[C]=t[C++-j],t[C]=t[C++-j],t[C]=t[C++-j];C=D}}}t.length==C||t.slice(0,C)})(e,i),r(n?new Blob([i],{type:n}):i.buffer)}(i,t,n,r)}}}function U(e,t,n){return new Promise((r,i)=>{A.push({src:e,uncompressedSize:t,type:n,resolve:r,reject:i,id:T++}),L()})}class F{constructor(e,t){var n,r;this._reader=e,this._rawEntry=t,this.name=t.name,this.nameBytes=t.nameBytes,this.size=t.uncompressedSize,this.compressedSize=t.compressedSize,this.comment=t.comment,this.commentBytes=t.commentBytes,this.compressionMethod=t.compressionMethod,this.lastModDate=new Date(((n=t.lastModFileDate)>>9&127)+1980,(n>>5&15)-1,31&n,(r=t.lastModFileTime)>>11&31,r>>5&63,(31&r)*2,0),this.isDirectory=0===t.uncompressedSize&&t.name.endsWith("/"),this.encrypted=!!(1&t.generalPurposeBitFlag),this.externalFileAttributes=t.externalFileAttributes,this.versionMadeBy=t.versionMadeBy}async blob(e="application/octet-stream"){return await J(this._reader,this._rawEntry,e)}async arrayBuffer(){return await Q(this._reader,this._rawEntry)}async text(){return W(new Uint8Array(await this.arrayBuffer()))}async json(){return JSON.parse(await this.text())}}async function j(e,t,n){return await e.read(t,n)}async function B(e,t,n,r){return e.sliceAsBlob?await e.sliceAsBlob(t,n,r):await e.read(t,n)}let V={unsigned:()=>0};function H(e,t){return e[t]+256*e[t+1]}function G(e,t){return e[t]+256*e[t+1]+65536*e[t+2]+16777216*e[t+3]}function z(e,t){return G(e,t)+4294967296*G(e,t+4)}let Z=new TextDecoder;function W(e,t){return c(e.buffer)&&(e=new Uint8Array(e)),Z.decode(e)}async function Y(e,t){let n=Math.min(65557,t),r=t-n,i=await j(e,r,n);for(let t=n-22;t>=0;--t){if(101010256!==G(i,t))continue;let n=new Uint8Array(i.buffer,i.byteOffset+t,i.byteLength-t),o=H(n,4);if(0!==o)throw Error(`multi-volume zip files are not supported. This is volume: ${o}`);let s=H(n,10),a=G(n,12),l=G(n,16),c=H(n,20),u=n.length-22;if(c!==u)throw Error(`invalid comment length. expected: ${u}, actual: ${c}`);let d=new Uint8Array(n.buffer,n.byteOffset+22,c),h=W(d);if(65535===s||4294967295===l)return await K(e,r+t,h,d);return await X(e,l,a,s,h,d)}throw Error("could not find end of central directory. maybe not zip file")}async function K(e,t,n,r){let i=await j(e,t-20,20);if(117853008!==G(i,0))throw Error("invalid zip64 end of central directory locator signature");let o=z(i,8),s=await j(e,o,56);if(101075792!==G(s,0))throw Error("invalid zip64 end of central directory record signature");let a=z(s,32),l=z(s,40);return X(e,z(s,48),l,a,n,r)}async function X(e,t,n,r,i,o){let s=0,a=await j(e,t,n),l=[];for(let e=0;e<r;++e){let e=a.subarray(s,s+46),t=G(e,0);if(33639248!==t)throw Error(`invalid central directory file header signature: 0x${t.toString(16)}`);let n={versionMadeBy:H(e,4),versionNeededToExtract:H(e,6),generalPurposeBitFlag:H(e,8),compressionMethod:H(e,10),lastModFileTime:H(e,12),lastModFileDate:H(e,14),crc32:G(e,16),compressedSize:G(e,20),uncompressedSize:G(e,24),fileNameLength:H(e,28),extraFieldLength:H(e,30),fileCommentLength:H(e,32),internalFileAttributes:H(e,36),externalFileAttributes:G(e,38),relativeOffsetOfLocalHeader:G(e,42)};if(64&n.generalPurposeBitFlag)throw Error("strong encryption is not supported");s+=46;let r=a.subarray(s,s+n.fileNameLength+n.extraFieldLength+n.fileCommentLength);n.nameBytes=r.slice(0,n.fileNameLength),n.name=W(n.nameBytes);let i=n.fileNameLength+n.extraFieldLength,o=r.slice(n.fileNameLength,i);n.extraFields=[];let c=0;for(;c<o.length-3;){let e=H(o,c+0),t=H(o,c+2),r=c+4,i=r+t;if(i>o.length)throw Error("extra field length exceeds extra field buffer size");n.extraFields.push({id:e,data:o.slice(r,i)}),c=i}if(n.commentBytes=r.slice(i,i+n.fileCommentLength),n.comment=W(n.commentBytes),s+=r.length,4294967295===n.uncompressedSize||4294967295===n.compressedSize||4294967295===n.relativeOffsetOfLocalHeader){let e=n.extraFields.find(e=>1===e.id);if(!e)throw Error("expected zip64 extended information extra field");let t=e.data,r=0;if(4294967295===n.uncompressedSize){if(r+8>t.length)throw Error("zip64 extended information extra field does not include uncompressed size");n.uncompressedSize=z(t,r),r+=8}if(4294967295===n.compressedSize){if(r+8>t.length)throw Error("zip64 extended information extra field does not include compressed size");n.compressedSize=z(t,r),r+=8}if(4294967295===n.relativeOffsetOfLocalHeader){if(r+8>t.length)throw Error("zip64 extended information extra field does not include relative header offset");n.relativeOffsetOfLocalHeader=z(t,r),r+=8}}let u=n.extraFields.find(e=>28789===e.id&&e.data.length>=6&&1===e.data[0]&&G(e.data,1),V.unsigned(n.nameBytes));if(u&&(n.fileName=W(u.data.slice(5))),0===n.compressionMethod){let e=n.uncompressedSize;if((1&n.generalPurposeBitFlag)!=0&&(e+=12),n.compressedSize!==e)throw Error(`compressed size mismatch for stored file: ${n.compressedSize} != ${e}`)}l.push(n)}return{zip:{comment:i,commentBytes:o},entries:l.map(t=>new F(e,t))}}async function q(e,t){let n;if(1&t.generalPurposeBitFlag)throw Error("encrypted entries not supported");let r=await j(e,t.relativeOffsetOfLocalHeader,30),i=await e.getLength(),o=G(r,0);if(67324752!==o)throw Error(`invalid local file header signature: 0x${o.toString(16)}`);let s=H(r,26),a=H(r,28),l=t.relativeOffsetOfLocalHeader+r.length+s+a;if(0===t.compressionMethod)n=!1;else if(8===t.compressionMethod)n=!0;else throw Error(`unsupported compression method: ${t.compressionMethod}`);let c=l+t.compressedSize;if(0!==t.compressedSize&&c>i)throw Error(`file data overflows file bounds: ${l} +  ${t.compressedSize}  > ${i}`);return{decompress:n,fileDataStart:l}}async function Q(e,t){let{decompress:n,fileDataStart:r}=await q(e,t);if(!n){let n=await j(e,r,t.compressedSize);return 0===n.byteOffset&&n.byteLength===n.buffer.byteLength?n.buffer:n.slice().buffer}let i=await B(e,r,t.compressedSize);return await U(i,t.uncompressedSize)}async function J(e,t,n){let{decompress:r,fileDataStart:i}=await q(e,t);if(!r){let r=await B(e,i,t.compressedSize,n);return l(r)?r:new Blob([c(r.buffer)?new Uint8Array(r):r],{type:n})}let o=await B(e,i,t.compressedSize);return await U(o,t.uncompressedSize,n)}async function $(e){let t;if("undefined"!=typeof Blob&&e instanceof Blob)t=new h(e);else if(e instanceof ArrayBuffer||e&&e.buffer&&e.buffer instanceof ArrayBuffer)t=new d(e);else if(c(e)||c(e.buffer))t=new d(e);else if("string"==typeof e){let n=await fetch(e);if(!n.ok)throw Error(`failed http request ${e}, status: ${n.status}: ${n.statusText}`);t=new h(await n.blob())}else if("function"==typeof e.getLength&&"function"==typeof e.read)t=e;else throw Error("unsupported source type");let n=await t.getLength();if(n>Number.MAX_SAFE_INTEGER)throw Error(`file too large. size: ${n}. Only file sizes up 4503599627370496 bytes are supported`);return await Y(t,n)}async function ee(e){let{zip:t,entries:n}=await $(e);return{zip:t,entries:Object.fromEntries(n.map(e=>[e.name,e]))}}},920755:function(e,t,n){"use strict";n.d(t,{Vs:function(){return d},Xt:function(){return u},_w:function(){return l},b3:function(){return i},cL:function(){return o},j6:function(){return c},tL:function(){return s},vJ:function(){return a}});var r=n(826637),i=(0,r.qH)(function e(){(0,r.PA)(this,e),(0,r._x)(this,"version",0),(0,r._x)(this,"streams",[]),(0,r._x)(this,"isMaster",!0)}),o=(0,r.qH)(function e(){(0,r.PA)(this,e),(0,r._x)(this,"id",0),(0,r._x)(this,"url",""),(0,r._x)(this,"default",!1),(0,r._x)(this,"autoSelect",!1),(0,r._x)(this,"forced",!1),(0,r._x)(this,"group",""),(0,r._x)(this,"name",""),(0,r._x)(this,"lang",""),(0,r._x)(this,"segments",[]),(0,r._x)(this,"endSN",0)}),s=function(e){(0,r.XW)(n,e);var t=(0,r.WY)(n);function n(){var e;(0,r.PA)(this,n);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),(0,r._x)((0,r.Lc)(e),"mediaType","AUDIO"),(0,r._x)((0,r.Lc)(e),"channels",0),e}return(0,r.qH)(n)}(o),a=function(e){(0,r.XW)(n,e);var t=(0,r.WY)(n);function n(){var e;(0,r.PA)(this,n);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),(0,r._x)((0,r.Lc)(e),"mediaType","SUBTITLE"),e}return(0,r.qH)(n)}(o),l=(0,r.qH)(function e(){(0,r.PA)(this,e),(0,r._x)(this,"id",0),(0,r._x)(this,"bitrate",0),(0,r._x)(this,"width",0),(0,r._x)(this,"height",0),(0,r._x)(this,"name",""),(0,r._x)(this,"url",""),(0,r._x)(this,"audioCodec",""),(0,r._x)(this,"videoCodec",""),(0,r._x)(this,"textCodec",""),(0,r._x)(this,"audioGroup",""),(0,r._x)(this,"audioStreams",[]),(0,r._x)(this,"subtitleStreams",[]),(0,r._x)(this,"closedCaptionsStream",[])}),c=(0,r.qH)(function e(){(0,r.PA)(this,e),(0,r._x)(this,"version",0),(0,r._x)(this,"url",""),(0,r._x)(this,"type",""),(0,r._x)(this,"startCC",0),(0,r._x)(this,"endCC",0),(0,r._x)(this,"startSN",0),(0,r._x)(this,"endSN",0),(0,r._x)(this,"totalDuration",0),(0,r._x)(this,"targetDuration",0),(0,r._x)(this,"live",!0),(0,r._x)(this,"segments",[])}),u=function(){function e(){(0,r.PA)(this,e),(0,r._x)(this,"sn",0),(0,r._x)(this,"cc",0),(0,r._x)(this,"url",""),(0,r._x)(this,"title",""),(0,r._x)(this,"start",0),(0,r._x)(this,"duration",0),(0,r._x)(this,"key",null),(0,r._x)(this,"byteRange",null),(0,r._x)(this,"isInitSegment",!1),(0,r._x)(this,"initSegment",null),(0,r._x)(this,"isLast",!1),(0,r._x)(this,"hasAudio",!1),(0,r._x)(this,"hasVideo",!1)}return(0,r.qH)(e,[{key:"end",get:function(){return this.start+this.duration}},{key:"setTrackExist",value:function(e,t){this.hasVideo=e,this.hasAudio=t}},{key:"setByteRange",value:function(e,t){this.byteRange=[0];var n=e.split("@");1===n.length&&t&&t.byteRange?(this.byteRange[0]=t.byteRange[1]||0,this.byteRange[0]&&(this.byteRange[0]+=1)):this.byteRange[0]=parseInt(n[1]),this.byteRange[1]=this.byteRange[0]+parseInt(n[0])-1}}]),e}(),d=function(){function e(t){(0,r.PA)(this,e),(0,r._x)(this,"method",""),(0,r._x)(this,"url",""),(0,r._x)(this,"iv",null),(0,r._x)(this,"keyFormat",""),(0,r._x)(this,"keyFormatVersions",""),t instanceof e&&(this.method=t.method,this.url=t.url,this.keyFormat=t.keyFormat,this.keyFormatVersions=t.keyFormatVersions,t.iv&&(this.iv=new Uint8Array(t.iv)))}return(0,r.qH)(e,[{key:"clone",value:function(t){var n=new e(this);return null!=t&&n.setIVFromSN(t),n}},{key:"setIVFromSN",value:function(e){if(!this.iv&&"AES-128"===this.method&&"number"==typeof e&&this.url){this.iv=new Uint8Array(16);for(var t=12;t<16;t++)this.iv[t]=e>>8*(15-t)&255}}}]),e}()},176992:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(826637),i=n(782106),o=function(){function e(t,n){var o=this;(0,r.PA)(this,e),(0,r._x)(this,"_opts",null),(0,r._x)(this,"_plugin",null),(0,r._x)(this,"_onLowDecode",function(){var e,t,n,s,a=o._opts,l=a.media,c=a.innerDegrade;null===(e=o._plugin)||void 0===e||null===(t=e.player)||void 0===t||t.emit("lowdecode",l.degradeInfo),null===(n=o._plugin)||void 0===n||null===(s=n.player)||void 0===s||s.emit("core_event",(0,r.Zj)((0,r.Zj)({},l.degradeInfo),{},{eventName:i.j.LOWDECODE})),1===c&&o._degrade(l.src)}),(0,r._x)(this,"_degrade",function(e){var t=o._plugin.player,n=t.video;if(!n||"MVideo"===n.TAG){var r=t.video.degradeVideo;t.video=r,n.degrade(e),e&&(t.config.url=e);var i=t.root.firstChild;"MVideo"===i.TAG&&t.root.replaceChild(r,i);var s=o._plugin.constructor.pluginName.toLowerCase();t.unRegisterPlugin(s),t.once("canplay",function(){t.play()})}}),(0,r._x)(this,"forceDegradeToVideo",function(e){1===o._opts.innerDegrade&&o._degrade(e)}),this._opts=t,this._plugin=n,this._init()}return(0,r.qH)(e,[{key:"_init",value:function(){var e=this._opts,t=e.media,n=e.preloadTime,r=e.innerDegrade,i=e.isLive;if(t){if(!i&&t.setPlayMode){t.setPlayMode("VOD");return}r&&t.setAttribute("innerdegrade",r),n&&t.setAttribute("preloadtime",n),this._bindEvents()}}},{key:"_bindEvents",value:function(){this._opts.media.addEventListener("lowdecode",this._onLowDecode)}},{key:"destroy",value:function(){var e,t;null===(e=this._opts)||void 0===e||null===(t=e.media)||void 0===t||t.removeEventListener("lowdecode",this._onLowDecode),this._plugin=null}}]),e}()},629014:function(e,t,n){"use strict";n.d(t,{Y:function(){return i}});var r=n(58924),i=function(){function e(t,n){(0,r.PA)(this,e),this.name=t||"",this._prefix="[".concat(this.name,"]"),e.disabled=n}return(0,r.qH)(e,[{key:"debug",value:function(){var t;if(!e.disabled){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=console).debug.apply(t,[this._prefix].concat(r))}}},{key:"log",value:function(){var t;if(!e.disabled){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=console).log.apply(t,[this._prefix].concat(r))}}},{key:"warn",value:function(){var t;if(!e.disabled){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=console).warn.apply(t,[this._prefix].concat(r))}}},{key:"error",value:function(){var t;if(!e.disabled){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=console).error.apply(t,[this._prefix].concat(r))}}},{key:"table",value:function(){var t;e.disabled||(console.group(this._prefix),(t=console).table.apply(t,arguments),console.groupEnd())}}],[{key:"enable",value:function(){e.disabled=!1}},{key:"disable",value:function(){e.disabled=!0}}]),e}();(0,r._x)(i,"disabled",!0)},575098:function(e,t,n){"use strict";n.d(t,{n:function(){return _}});var r=n(188389),i=n(47212),o=n(84775),s=n(527548),a=n(110242),l=n(404382),c=n(508386),u=n(158064),d=n(853459),h=n(884135),f=n(344856),p={},v=function(e){return"#"===e[0]},g=function(e,t,n){var r=n.slice(0,-1).some(function(e){return!("cond"in e)&&!("in"in e)&&((0,l.HD)(e.target)||(0,l.O4)(e.target))});(0,l.ZK)(!r,"One or more transitions for ".concat(""===t?"the transient event":"event '".concat(t,"'")," on state '").concat(e.id,"' are unreachable. ")+"Make sure that the default transition is the last one defined.")},_=function(){function e(t,n,i,o){var u,h=this;void 0===i&&(i="context"in t?t.context:void 0),this.config=t,this._context=i,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign({actions:{},guards:{},services:{},activities:{},delays:{}},n),this.parent=null==o?void 0:o.parent,this.key=this.config.key||(null==o?void 0:o.key)||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:s.iS),this.id=this.config.id||(0,r.ev)([this.machine.key],(0,r.CR)(this.path),!1).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:null!==(u=this.config.schema)&&void 0!==u?u:{},this.description=this.config.description,a.M||(0,l.ZK)(!("parallel"in this.config),'The "parallel" property is deprecated and will be removed in version 4.1. '.concat(this.config.parallel?"Replace with `type: 'parallel'`":"Use `type: '".concat(this.type,"'`")," in the config for state node '").concat(this.id,"' instead.")),this.initial=this.config.initial,this.states=this.config.states?(0,l.Q8)(this.config.states,function(t,n){var i,o=new e(t,{},void 0,{parent:h,key:n});return Object.assign(h.idMap,(0,r.pi)(((i={})[o.id]=o,i),o.idMap)),o}):p;var v=0;(function e(t){var n,i;t.order=v++;try{for(var o=(0,r.XA)((0,d.G)(t)),s=o.next();!s.done;s=o.next()){var a=s.value;e(a)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}})(this),this.history=!0===this.config.history?"shallow":this.config.history||!1,this._transient=!!this.config.always||!!this.config.on&&(Array.isArray(this.config.on)?this.config.on.some(function(e){return""===e.event}):""in this.config.on),this.strict=!!this.config.strict,this.onEntry=(0,l.qo)(this.config.entry||this.config.onEntry).map(function(e){return(0,c.Q8)(e)}),this.onExit=(0,l.qo)(this.config.exit||this.config.onExit).map(function(e){return(0,c.Q8)(e)}),this.meta=this.config.meta,this.doneData="final"===this.type?this.config.data:void 0,this.invoke=(0,l.qo)(this.config.invoke).map(function(e,t){if((0,l.O4)(e)){var n,i,o=(0,l.bx)(h.id,t);return h.machine.options.services=(0,r.pi)(((n={})[o]=e,n),h.machine.options.services),(0,f.H)({src:o,id:o})}if((0,l.HD)(e.src)){var o=e.id||(0,l.bx)(h.id,t);return(0,f.H)((0,r.pi)((0,r.pi)({},e),{id:o,src:e.src}))}if((0,l.O4)(e.src)||(0,l.mf)(e.src)){var o=e.id||(0,l.bx)(h.id,t);return h.machine.options.services=(0,r.pi)(((i={})[o]=e.src,i),h.machine.options.services),(0,f.H)((0,r.pi)((0,r.pi)({id:o},e),{src:o}))}var s=e.src;return(0,f.H)((0,r.pi)((0,r.pi)({id:(0,l.bx)(h.id,t)},e),{src:s}))}),this.activities=(0,l.qo)(this.config.activities).concat(this.invoke).map(function(e){return(0,c.XA)(e)}),this.transition=this.transition.bind(this),this.tags=(0,l.qo)(this.config.tags)}return e.prototype._init=function(){this.__cache.transitions||(0,d.ac)(this).forEach(function(e){return e.on})},e.prototype.withConfig=function(t,n){var i=this.options,o=i.actions,s=i.activities,a=i.guards,l=i.services,c=i.delays;return new e(this.config,{actions:(0,r.pi)((0,r.pi)({},o),t.actions),activities:(0,r.pi)((0,r.pi)({},s),t.activities),guards:(0,r.pi)((0,r.pi)({},a),t.guards),services:(0,r.pi)((0,r.pi)({},l),t.services),delays:(0,r.pi)((0,r.pi)({},c),t.delays)},null!=n?n:this.context)},e.prototype.withContext=function(t){return new e(this.config,this.options,t)},Object.defineProperty(e.prototype,"context",{get:function(){return(0,l.mf)(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:(0,l.Q8)(this.states,function(e){return e.definition}),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){return this.definition},Object.defineProperty(e.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var e=this.transitions;return this.__cache.on=e.reduce(function(e,t){return e[t.eventType]=e[t.eventType]||[],e[t.eventType].push(t),e},{})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),e.prototype.getCandidates=function(e){if(this.__cache.candidates[e])return this.__cache.candidates[e];var t=""===e,n=this.transitions.filter(function(n){var r=n.eventType===e;return t?r:r||"*"===n.eventType});return this.__cache.candidates[e]=n,n},e.prototype.getDelayedTransitions=function(){var e=this,t=this.config.after;if(!t)return[];var n=function(t,n){var r=(0,l.mf)(t)?"".concat(e.id,":delay[").concat(n,"]"):t,i=(0,c.e4)(r,e.id);return e.onEntry.push((0,c.lW)(i,{delay:t})),e.onExit.push((0,c.al)(i)),i};return((0,l.kJ)(t)?t.map(function(e,t){var i=n(e.delay,t);return(0,r.pi)((0,r.pi)({},e),{event:i})}):(0,l.xH)(Object.keys(t).map(function(e,i){var o=t[e],s=(0,l.HD)(o)?{target:o}:o,a=isNaN(+e)?e:+e,c=n(a,i);return(0,l.qo)(s).map(function(e){return(0,r.pi)((0,r.pi)({},e),{event:c,delay:a})})}))).map(function(t){var n=t.delay;return(0,r.pi)((0,r.pi)({},e.formatTransition(t)),{delay:n})})},e.prototype.getStateNodes=function(e){var t,n=this;if(!e)return[];var i=e instanceof h.ZM?e.value:(0,l.WM)(e,this.delimiter);if((0,l.HD)(i)){var o=this.getStateNode(i).initial;return void 0!==o?this.getStateNodes(((t={})[i]=o,t)):[this,this.states[i]]}var s=Object.keys(i),a=[this];return a.push.apply(a,(0,r.ev)([],(0,r.CR)((0,l.xH)(s.map(function(e){return n.getStateNode(e).getStateNodes(i[e])}))),!1)),a},e.prototype.handles=function(e){var t=(0,l.x6)(e);return this.events.includes(t)},e.prototype.resolveState=function(e){var t=e instanceof h.ZM?e:h.ZM.create(e),n=Array.from((0,d.P_)([],this.getStateNodes(t.value)));return new h.ZM((0,r.pi)((0,r.pi)({},t),{value:this.resolve(t.value),configuration:n,done:(0,d.Ij)(n,this),tags:(0,d.Oe)(n)}))},e.prototype.transitionLeafNode=function(e,t,n){var r=this.getStateNode(e).next(t,n);return r&&r.transitions.length?r:this.next(t,n)},e.prototype.transitionCompoundNode=function(e,t,n){var r=Object.keys(e),i=this.getStateNode(r[0])._transition(e[r[0]],t,n);return i&&i.transitions.length?i:this.next(t,n)},e.prototype.transitionParallelNode=function(e,t,n){var i,o,s={};try{for(var a=(0,r.XA)(Object.keys(e)),c=a.next();!c.done;c=a.next()){var u=c.value,d=e[u];if(d){var h=this.getStateNode(u)._transition(d,t,n);h&&(s[u]=h)}}}catch(e){i={error:e}}finally{try{c&&!c.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}var f=Object.keys(s).map(function(e){return s[e]}),p=(0,l.xH)(f.map(function(e){return e.transitions}));if(!f.some(function(e){return e.transitions.length>0}))return this.next(t,n);var v=(0,l.xH)(f.map(function(e){return e.entrySet})),g=(0,l.xH)(Object.keys(s).map(function(e){return s[e].configuration}));return{transitions:p,entrySet:v,exitSet:(0,l.xH)(f.map(function(e){return e.exitSet})),configuration:g,source:t,actions:(0,l.xH)(Object.keys(s).map(function(e){return s[e].actions}))}},e.prototype._transition=function(e,t,n){return(0,l.HD)(e)?this.transitionLeafNode(e,t,n):1===Object.keys(e).length?this.transitionCompoundNode(e,t,n):this.transitionParallelNode(e,t,n)},e.prototype.getTransitionData=function(e,t){return this._transition(e.value,e,(0,l.g5)(t))},e.prototype.next=function(e,t){var n,i,o,s=this,a=t.name,c=[],u=[];try{for(var d=(0,r.XA)(this.getCandidates(a)),h=d.next();!h.done;h=d.next()){var f=h.value,p=f.cond,g=f.in,_=e.context,m=!g||((0,l.HD)(g)&&v(g)?e.matches((0,l.WM)(this.getStateNodeById(g).path,this.delimiter)):(0,l.W)((0,l.WM)(g,this.delimiter),(0,l.ET)(this.path.slice(0,-2))(e.value))),y=!1;try{y=!p||(0,l.vx)(this.machine,p,_,t,e)}catch(e){throw Error("Unable to evaluate guard '".concat(p.name||p.type,"' in transition for event '").concat(a,"' in state node '").concat(this.id,"':\n").concat(e.message))}if(y&&m){void 0!==f.target&&(u=f.target),c.push.apply(c,(0,r.ev)([],(0,r.CR)(f.actions),!1)),o=f;break}}}catch(e){n={error:e}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}if(o){if(!u.length)return{transitions:[o],entrySet:[],exitSet:[],configuration:e.value?[this]:[],source:e,actions:c};var S=(0,l.xH)(u.map(function(t){return s.getRelativeStateNodes(t,e.historyValue)})),b=!!o.internal;return{transitions:[o],entrySet:b?[]:(0,l.xH)(S.map(function(e){return s.nodesFromChild(e)})),exitSet:b?[]:[this],configuration:S,source:e,actions:c}}},e.prototype.nodesFromChild=function(e){if(e.escapes(this))return[];for(var t=[],n=e;n&&n!==this;)t.push(n),n=n.parent;return t.push(this),t},e.prototype.escapes=function(e){if(this===e)return!1;for(var t=this.parent;t;){if(t===e)return!1;t=t.parent}return!0},e.prototype.getActions=function(e,t,n,i){var o,s,a,u,h=(0,d.P_)([],i?this.getStateNodes(i.value):[this]),f=e.configuration.length?(0,d.P_)(h,e.configuration):h;try{for(var p=(0,r.XA)(f),v=p.next();!v.done;v=p.next()){var g=v.value;(0,d.e$)(h,g)||e.entrySet.push(g)}}catch(e){o={error:e}}finally{try{v&&!v.done&&(s=p.return)&&s.call(p)}finally{if(o)throw o.error}}try{for(var _=(0,r.XA)(h),m=_.next();!m.done;m=_.next()){var g=m.value;(!(0,d.e$)(f,g)||(0,d.e$)(e.exitSet,g.parent))&&e.exitSet.push(g)}}catch(e){a={error:e}}finally{try{m&&!m.done&&(u=_.return)&&u.call(_)}finally{if(a)throw a.error}}var y=(0,l.xH)(e.entrySet.map(function(r){var i=[];if("final"!==r.type)return i;var o=r.parent;if(!o.parent)return i;i.push((0,c.aT)(r.id,r.doneData),(0,c.aT)(o.id,r.doneData?(0,l.QX)(r.doneData,t,n):void 0));var s=o.parent;return"parallel"===s.type&&(0,d.G)(s).every(function(t){return(0,d.Ij)(e.configuration,t)})&&i.push((0,c.aT)(s.id)),i}));e.exitSet.sort(function(e,t){return t.order-e.order}),e.entrySet.sort(function(e,t){return e.order-t.order});var S=new Set(e.entrySet),b=new Set(e.exitSet),E=(0,r.CR)([(0,l.xH)(Array.from(S).map(function(e){return(0,r.ev)((0,r.ev)([],(0,r.CR)(e.activities.map(function(e){return(0,c.BL)(e)})),!1),(0,r.CR)(e.onEntry),!1)})).concat(y.map(c.OU)),(0,l.xH)(Array.from(b).map(function(e){return(0,r.ev)((0,r.ev)([],(0,r.CR)(e.onExit),!1),(0,r.CR)(e.activities.map(function(e){return(0,c.sT)(e)})),!1)}))],2),C=E[0],T=E[1];return(0,c.AE)(T.concat(e.actions).concat(C),this.machine.options.actions)},e.prototype.transition=function(e,t,n){void 0===e&&(e=this.initialState);var i,o=(0,l.g5)(t);if(e instanceof h.ZM)i=void 0===n?e:this.resolveState(h.ZM.from(e,n));else{var s=(0,l.HD)(e)?this.resolve((0,l.on)(this.getResolvedPath(e))):this.resolve(e),c=null!=n?n:this.machine.context;i=this.resolveState(h.ZM.from(s,c))}if(!a.M&&"*"===o.name)throw Error("An event cannot have the wildcard type ('".concat("*","')"));if(this.strict&&!this.events.includes(o.name)&&!(0,l.JQ)(o.name))throw Error("Machine '".concat(this.id,"' does not accept event '").concat(o.name,"'"));var u=this._transition(i.value,i,o)||{transitions:[],configuration:[],entrySet:[],exitSet:[],source:i,actions:[]},f=(0,d.P_)([],this.getStateNodes(i.value)),p=u.configuration.length?(0,d.P_)(f,u.configuration):f;return u.configuration=(0,r.ev)([],(0,r.CR)(p),!1),this.resolveTransition(u,i,i.context,o)},e.prototype.resolveRaisedTransition=function(e,t,n){var i,o=e.actions;return(e=this.transition(e,t))._event=n,e.event=n.data,(i=e.actions).unshift.apply(i,(0,r.ev)([],(0,r.CR)(o),!1)),e},e.prototype.resolveTransition=function(e,t,n,s){var a,f,p=this;void 0===s&&(s=c.bf);var v=e.configuration,g=!t||e.transitions.length>0,_=g?(0,d.NA)(this.machine,v):void 0,m=t?t.historyValue?t.historyValue:e.source?this.machine.historyValue(t.value):void 0:void 0,y=this.getActions(e,n,s,t),S=t?(0,r.pi)({},t.activities):{};try{for(var b=(0,r.XA)(y),E=b.next();!E.done;E=b.next()){var C=E.value;C.type===o.BL?S[C.activity.id||C.activity.type]=C:C.type===o.sT&&(S[C.activity.id||C.activity.type]=!1)}}catch(e){a={error:e}}finally{try{E&&!E.done&&(f=b.return)&&f.call(b)}finally{if(a)throw a.error}}var T=(0,r.CR)((0,c.yC)(this,t,n,s,y,this.machine.config.preserveActionOrder),2),I=T[0],w=T[1],R=(0,r.CR)((0,l.uK)(I,function(e){return e.type===o.OU||e.type===o.lW&&e.to===i.K.Internal}),2),N=R[0],A=R[1],x=I.filter(function(e){var t;return e.type===o.BL&&(null===(t=e.activity)||void 0===t?void 0:t.type)===o.dw}).reduce(function(e,t){return e[t.activity.id]=(0,u.mu)(t.activity,p.machine,w,s),e},t?(0,r.pi)({},t.children):{}),O=g?e.configuration:t?t.configuration:[],k=(0,d.Ij)(O,this),P=new h.ZM({value:_||t.value,context:w,_event:s,_sessionid:t?t._sessionid:null,historyValue:_?m?(0,l.yv)(m,_):void 0:t?t.historyValue:void 0,history:!_||e.source?t:void 0,actions:_?A:[],activities:_?S:t?t.activities:{},events:[],configuration:O,transitions:e.transitions,children:x,done:k,tags:null==t?void 0:t.tags,machine:this}),D=n!==w;P.changed=s.name===o.Vx||D;var M=P.history;M&&delete M.history;var L=!k&&(this._transient||v.some(function(e){return e._transient}));if(!g&&(!L||""===s.name))return P;var U=P;if(!k)for(L&&(U=this.resolveRaisedTransition(U,{type:o.IA},s));N.length;){var F=N.shift();U=this.resolveRaisedTransition(U,F._event,s)}var j=U.changed||(M?!!U.actions.length||D||typeof M.value!=typeof U.value||!(0,h.j_)(U.value,M.value):void 0);return U.changed=j,U.history=M,U.tags=(0,d.Oe)(U.configuration),U},e.prototype.getStateNode=function(e){if(v(e))return this.machine.getStateNodeById(e);if(!this.states)throw Error("Unable to retrieve child state '".concat(e,"' from '").concat(this.id,"'; no child states exist."));var t=this.states[e];if(!t)throw Error("Child state '".concat(e,"' does not exist on '").concat(this.id,"'"));return t},e.prototype.getStateNodeById=function(e){var t=v(e)?e.slice(1):e;if(t===this.id)return this;var n=this.machine.idMap[t];if(!n)throw Error("Child state node '#".concat(t,"' does not exist on machine '").concat(this.id,"'"));return n},e.prototype.getStateNodeByPath=function(e){if("string"==typeof e&&v(e))try{return this.getStateNodeById(e.slice(1))}catch(e){}for(var t=(0,l.Q9)(e,this.delimiter).slice(),n=this;t.length;){var r=t.shift();if(!r.length)break;n=n.getStateNode(r)}return n},e.prototype.resolve=function(e){var t,n=this;if(!e)return this.initialStateValue||p;switch(this.type){case"parallel":return(0,l.Q8)(this.initialStateValue,function(t,r){return t?n.getStateNode(r).resolve(e[r]||t):p});case"compound":if((0,l.HD)(e)){var r=this.getStateNode(e);if("parallel"===r.type||"compound"===r.type)return(t={})[e]=r.initialStateValue,t;return e}if(!Object.keys(e).length)return this.initialStateValue||{};return(0,l.Q8)(e,function(e,t){return e?n.getStateNode(t).resolve(e):p});default:return e||p}},e.prototype.getResolvedPath=function(e){if(v(e)){var t=this.machine.idMap[e.slice(1)];if(!t)throw Error("Unable to find state node '".concat(e,"'"));return t.path}return(0,l.Q9)(e,this.delimiter)},Object.defineProperty(e.prototype,"initialStateValue",{get:function(){var e,t;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;if("parallel"===this.type)t=(0,l.ib)(this.states,function(e){return e.initialStateValue||p},function(e){return"history"!==e.type});else if(void 0!==this.initial){if(!this.states[this.initial])throw Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));t=(0,d.N9)(this.states[this.initial])?this.initial:((e={})[this.initial]=this.states[this.initial].initialStateValue,e)}else t={};return this.__cache.initialStateValue=t,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),e.prototype.getInitialState=function(e,t){this._init();var n=this.getStateNodes(e);return this.resolveTransition({configuration:n,entrySet:n,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,null!=t?t:this.machine.context,void 0)},Object.defineProperty(e.prototype,"initialState",{get:function(){var e=this.initialStateValue;if(!e)throw Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"target",{get:function(){var e;if("history"===this.type){var t=this.config;e=(0,l.HD)(t.target)&&v(t.target)?(0,l.on)(this.machine.getStateNodeById(t.target).path.slice(this.path.length-1)):t.target}return e},enumerable:!1,configurable:!0}),e.prototype.getRelativeStateNodes=function(e,t,n){return void 0===n&&(n=!0),n?"history"===e.type?e.resolveHistory(t):e.initialStateNodes:[e]},Object.defineProperty(e.prototype,"initialStateNodes",{get:function(){var e=this;if((0,d.N9)(this))return[this];if("compound"===this.type&&!this.initial)return a.M||(0,l.ZK)(!1,"Compound state node '".concat(this.id,"' has no initial state.")),[this];var t=(0,l.SA)(this.initialStateValue);return(0,l.xH)(t.map(function(t){return e.getFromRelativePath(t)}))},enumerable:!1,configurable:!0}),e.prototype.getFromRelativePath=function(e){if(!e.length)return[this];var t=(0,r.CR)(e),n=t[0],i=t.slice(1);if(!this.states)throw Error("Cannot retrieve subPath '".concat(n,"' from node with no states"));var o=this.getStateNode(n);if("history"===o.type)return o.resolveHistory();if(!this.states[n])throw Error("Child state '".concat(n,"' does not exist on '").concat(this.id,"'"));return this.states[n].getFromRelativePath(i)},e.prototype.historyValue=function(e){if(Object.keys(this.states).length)return{current:e||this.initialStateValue,states:(0,l.ib)(this.states,function(t,n){if(!e)return t.historyValue();var r=(0,l.HD)(e)?void 0:e[n];return t.historyValue(r||t.initialStateValue)},function(e){return!e.history})}},e.prototype.resolveHistory=function(e){var t=this;if("history"!==this.type)return[this];var n=this.parent;if(!e){var r=this.target;return r?(0,l.xH)((0,l.SA)(r).map(function(e){return n.getFromRelativePath(e)})):n.initialStateNodes}var i=(0,l.gk)(n.path,"states")(e).current;return(0,l.HD)(i)?[n.getStateNode(i)]:(0,l.xH)((0,l.SA)(i).map(function(e){return"deep"===t.history?n.getFromRelativePath(e):[n.states[e[0]]]}))},Object.defineProperty(e.prototype,"stateIds",{get:function(){var e=this,t=(0,l.xH)(Object.keys(this.states).map(function(t){return e.states[t].stateIds}));return[this.id].concat(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"events",{get:function(){if(this.__cache.events)return this.__cache.events;var e,t,n,i,o=this.states,s=new Set(this.ownEvents);if(o)try{for(var a=(0,r.XA)(Object.keys(o)),l=a.next();!l.done;l=a.next()){var c=o[l.value];if(c.states)try{for(var u=(n=void 0,(0,r.XA)(c.events)),d=u.next();!d.done;d=u.next()){var h=d.value;s.add("".concat(h))}}catch(e){n={error:e}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{l&&!l.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return this.__cache.events=Array.from(s)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ownEvents",{get:function(){return Array.from(new Set(this.transitions.filter(function(e){return!(!e.target&&!e.actions.length&&e.internal)}).map(function(e){return e.eventType})))},enumerable:!1,configurable:!0}),e.prototype.resolveTarget=function(e){var t=this;if(void 0!==e)return e.map(function(e){if(!(0,l.HD)(e))return e;var n=e[0]===t.delimiter;if(n&&!t.parent)return t.getStateNodeByPath(e.slice(1));var r=n?t.key+e:e;if(!t.parent)return t.getStateNodeByPath(r);try{return t.parent.getStateNodeByPath(r)}catch(e){throw Error("Invalid transition definition for state node '".concat(t.id,"':\n").concat(e.message))}})},e.prototype.formatTransition=function(e){var t=this,n=(0,l.rg)(e.target),i="internal"in e?e.internal:!n||n.some(function(e){return(0,l.HD)(e)&&e[0]===t.delimiter}),o=this.machine.options.guards,s=this.resolveTarget(n),a=(0,r.pi)((0,r.pi)({},e),{actions:(0,c.AE)((0,l.qo)(e.actions)),cond:(0,l.Qi)(e.cond,o),target:s,source:this,internal:i,eventType:e.event,toJSON:function(){return(0,r.pi)((0,r.pi)({},a),{target:a.target?a.target.map(function(e){return"#".concat(e.id)}):void 0,source:"#".concat(t.id)})}});return a},e.prototype.formatTransitions=function(){var e,t,n,i=this;if(this.config.on){if(Array.isArray(this.config.on))n=this.config.on;else{var o=this.config.on,s=o["*"],u=(0,r._T)(o,["*"]);n=(0,l.xH)(Object.keys(u).map(function(e){a.M||""!==e||(0,l.ZK)(!1,"Empty string transition configs (e.g., `{ on: { '': ... }}`) for transient transitions are deprecated. Specify the transition in the `{ always: ... }` property instead. "+'Please check the `on` configuration for "#'.concat(i.id,'".'));var t=(0,l.jh)(e,u[e]);return a.M||g(i,e,t),t}).concat((0,l.jh)("*",void 0===s?[]:s)))}}else n=[];var d=this.config.always?(0,l.jh)("",this.config.always):[],h=this.config.onDone?(0,l.jh)(String((0,c.aT)(this.id)),this.config.onDone):[];a.M||(0,l.ZK)(!(this.config.onDone&&!this.parent),'Root nodes cannot have an ".onDone" transition. Please check the config of "'.concat(this.id,'".'));var f=(0,l.xH)(this.invoke.map(function(e){var t=[];return e.onDone&&t.push.apply(t,(0,r.ev)([],(0,r.CR)((0,l.jh)(String((0,c.Sl)(e.id)),e.onDone)),!1)),e.onError&&t.push.apply(t,(0,r.ev)([],(0,r.CR)((0,l.jh)(String((0,c.vU)(e.id)),e.onError)),!1)),t})),p=this.after,v=(0,l.xH)((0,r.ev)((0,r.ev)((0,r.ev)((0,r.ev)([],(0,r.CR)(h),!1),(0,r.CR)(f),!1),(0,r.CR)(n),!1),(0,r.CR)(d),!1).map(function(e){return(0,l.qo)(e).map(function(e){return i.formatTransition(e)})}));try{for(var _=(0,r.XA)(p),m=_.next();!m.done;m=_.next()){var y=m.value;v.push(y)}}catch(t){e={error:t}}finally{try{m&&!m.done&&(t=_.return)&&t.call(_)}finally{if(e)throw e.error}}return v},e}()},427893:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAi7SURBVHgB7VxPbBRVGP/e7C6hArKIQogEppEiQpNdDsakSNgmSuK/tCTAxQTKzcRDixcTL20vRLy0HDBchDYRkYi25eLBmJagFw92tUA0mnS6iEaE7nYpFLo7+3zftDN9MzszO7v7Zp0t/pKXfTPzZtv99fv7m7clUGNsu5dOSBLso5Qm1Om0nL1wUZ67+h08mpiA/NRNbU1UikCsIQrxlVF4Y82mzCurNyqEQhIIHSTXLo3BcgQS0zQ7PcoGla8nacPePZSd9jTkyCr61ZYWWmg+RAu7Dk3SXYePwnJC02y6D4nB8fTJE1Rau9YzOfzoXN9Ep19oXyCq+fAQ3dEug88g4CPkdDoaidAhNk3g8d0TJ2GaDQsybAyyMcZGko3o4oix0a7fqyPG3G60MQHRUARpU4iaayW/DCtQj9h+7+6QbjlPffC+1SLSbHhxlQQbk/y9jKRFK1p0uXh7FOoN2++nu3VyNp45bSVnnA0ZykM/WNzNIKn50Cj4BF9cbEc6LasROqkfT+6MQz6V0g8VNloXX8vFAHBW9+O2V7VMh1CBtkZ8yHAS+AA1pPbo8+ynF3hyEJWSg+ji7z3+V9K4EALSDT7AF4JAktr0aebjM/yVAaicHO3t2OjVD67c/wcyak4/TOSaDyZAMIQThPUOLGQhyE2l4NHPE/zlU1A9BmCBKA0j2VvGBcmS8UTABwsqJPTZ/MQ1/oICC2lcBEb0SfKhwRUrtEkcBEM4QawlkPX5Q7P1KCAOijHJ3efPx0Aw/IlB9lBAHBR9MrMUg3xBLQmqS/xPUAmUVShibxUKQYKQghYMp098CNnzF011zpNH3m4Lb96sXX8pFGYjop1PpVLJs2fPjoAA7N+/P9bS0oJ9GtBbt1nIHtPOzxXUzEd3fjVlyiNRGbo37AR5xRMgUWkS1PkrvvRuzz9Idzbdm07rrYOXjrynp4fqOHfuXEUdvN3o6Ogw3nd0dLTkeqYvUUaS0ZrQXYfOeVUCPLkY6jiFAu1n9hbFjvzvd96FwswM1AsyhRz03r4Bu3//RissKYEOGoqMeiGpJEGo5YC7XFE3+InVTMdu/bBwQECm4chQqXtcCWLksFhCsf/RquJ6JkfHSPZPGGMtyiLiavPBHrf17hZUULv06dzV76FcDA8Pg6IokMlkYGRESHwuet9Tp8rvXnpvXzfmrPp21aRcs9i22elxtkDLSH+89lZFJPmJaDSqkVT2fSyzMunWOCb5XKNTZnO1IJ0cRGEmC0FDJeRo97FAneErcCniqEg6EoSiF3+MMWg5IVOYN+YqZwhWOBKUD5sl0XpK616gzD/wtM5THbTcrAcxNb+kAhCJyk7rwk4XCFVldqc2z6VqSxCrum3PYybEDCYCvItJlGx1WudIECVE1lMcrXGAZq2E7fkZ5uaiCOJdjPUj65zWOboYXZRNEfMBcbFYTJwehu2HDmYIjhbkSBB/U1ACdCKR0GofEeBjEG8MVjgTRIhxU5CCdFdXF4iAKYsR54eYbllM1if5VHAI6uzsBFmWoVrwQRrh1Nl7IihIQBdjGlDVrpaxatkO1bQtQagc8se51E0IEtCCxsfHq7Yk8xMRahuobQmKWKwnH8BCEcmZnJyEvr6+ionKqHy7QWxTvS1BNLwU1YPeYmDQRqLQooaGhqC9vd3zvXygdqqm7QmiaiAzmBvi8bhGDr56hfmZGvUeg4hEZH2uLrMmlQcfg9gTj7V2a+yzGF1ysXzAArRIKDmu3SBluBj/fD1ILjY4OKgNUeCDNGNItltjb0ES8aXNwNoFG9H+/n4toGI9g8Nr3EAdGu9vbGwUQpSlmraNQbbdPPYmeicvwoIwDbOHiNDW1mZb4JVb9OlEYQbD/gwHNrL4Pul02vP7WDY+RHEzKEkOm3RcW4IIVwdVa0HYGiA5oppMHqhJo/xRqQRi2ToD8FCzIhNBTq0GVwdVrgV1d3dr7uQHOaLAk5QPh2Xr9SKCRIn1SA5aTj2BFIhsPVdEkAixHmNCvZCTnOO28JHiYjHsdnOl1uOkKfNIJpPaECFdVANToLbJZEUEVSvWY3Zx+9AYUI8fP65loiCglHhf5GIo1hvzCgI0pnIn9Pb2woEDBwJDDqKUeF9MUJViPcYf21+EkRLEuFRKvC8iqBqxHitip5ReyS6MWqCUeF9MUBVivVu9gwE5iLCK90ybNl23KxRlfRIksd4vWMV7sKiprgSVC7fg67UhdVtX6XYXN5TaCmMiqFqx3u0DuGU3HkePOm/48stNzVZkFu9NBFUr1iNBY2Njttcwu5V66If1k9savwji45BVvDcRJEKsd9uLiE8gsEezAxKIwrsTBgYGfHExhNtWGNMexeeyd9olSdK2xuL3vFIt+6BcYCbDpwxuGQ1jFVra1NSUtg61HKf6SQeKZH4VmH2bYtC5frs2p1A4Fbr2pWHGplZDhFiPf2WsmNFanICu5LTFxQ5oPX5W33yQtor35iwmSKxHDUiUdozEIOF+wk28NxEkUqzHYFttUEVyWltbfe/d3MR7swUJFOvR1Xbv3l1xi4ExqhbkIKziPdOmjUNzFuN6EVGPe9CSjh075vmDIrEoh9SKHIRVvAeOB3OQFijW88AgiwMzFT4exqylN7ZIiF4/YYmAr36lcye4ifdWwUyIWO8E/PBOheR/DSRJjqzS5ovivYJzay9W2z9dgKCTgwgXiMGDlSAj7TTs3QOPC2IrzUUtufGFwYMlSFOjT1j95uvwuKBj3VJ/ykqdAf6aiaB8TsKLCs4b9r78WFhRI3OttjXP6ocU1JypKjURpKxbx3wvfwAWY9HGM6chvGULLFdgI/rJ5hdBXqHFH/yO8HvW740VCWa/rd7A/C+v/QubyNYtsPnry8uSJLScbxsTkFj1DB6mkZzQ9Uv91nWu3zhsyt7poJJ0lPllPHv+s2j2/Odal1+DfYsUfAD++8F4QxT2rdrAuvcmiIbCSfaDLkuz+X6iDNtm8H8BusJrffsCzOgAAAAASUVORK5CYII="},696031:function(e,t,n){"use strict";n.d(t,{r:function(){return s}});var r=n(69984),i=n(764112),o=n(772322);n(218571);var s=e=>(0,o.jsxs)("svg",(0,i._)((0,r._)({xmlns:"http://www.w3.org/2000/svg",width:48,height:48,fill:"none",viewBox:"0 0 48 48"},e),{children:[(0,o.jsx)("path",{fill:"url(#icon-catch-error_svg__a)",fillOpacity:.4,d:"M12.687 29.745a3.99 3.99 0 0 1 0-3.985l6.665-11.544a3.99 3.99 0 0 1 3.451-1.992h13.33c1.424 0 2.74.759 3.451 1.992L46.25 25.76a3.99 3.99 0 0 1 0 3.985l-6.665 11.544a3.99 3.99 0 0 1-3.45 1.992h-13.33c-1.424 0-2.74-.76-3.452-1.992z"}),(0,o.jsx)("path",{fill:"#FAFBFF",fillRule:"evenodd",d:"m32.878 36.04 5.36-9.285c.831-1.439.831-3.211 0-4.65l-5.36-9.284a4.65 4.65 0 0 0-4.026-2.325H18.131c-1.661 0-3.196.886-4.026 2.325l-5.36 9.285a4.65 4.65 0 0 0 0 4.648l5.36 9.285a4.65 4.65 0 0 0 4.026 2.325h10.721c1.661 0 3.196-.886 4.026-2.325m8.237-7.625a7.97 7.97 0 0 0 0-7.97l-5.361-9.284a7.97 7.97 0 0 0-6.902-3.985H18.131a7.97 7.97 0 0 0-6.902 3.985l-5.36 9.284a7.97 7.97 0 0 0 0 7.97l5.36 9.285a7.97 7.97 0 0 0 6.902 3.984h10.721a7.97 7.97 0 0 0 6.902-3.984zm-20.16-11.957a2.538 2.538 0 1 1 5.072 0l-.453 9.967a2.085 2.085 0 0 1-4.165 0zm2.537 19.262a2.656 2.656 0 1 1 0-5.313 2.656 2.656 0 0 1 0 5.313",clipRule:"evenodd"}),(0,o.jsx)("defs",{children:(0,o.jsxs)("linearGradient",{id:"icon-catch-error_svg__a",x1:23.118,x2:23.118,y1:45.533,y2:9.646,gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#A799FF"}),(0,o.jsx)("stop",{offset:1,stopColor:"#91BEFB"})]})})]}))},590499:function(e,t,n){"use strict";n.d(t,{r:function(){return s}});var r=n(69984),i=n(764112),o=n(772322);n(218571);var s=e=>(0,o.jsx)("svg",(0,i._)((0,r._)({xmlns:"http://www.w3.org/2000/svg",width:41,height:40,fill:"none",viewBox:"0 0 41 40"},e),{children:(0,o.jsx)("path",{fill:"#E5E9FA",fillOpacity:.4,fillRule:"evenodd",d:"M36.879 19.999c0 9.204-7.462 16.666-16.667 16.666S3.545 29.203 3.545 20 11.007 3.332 20.212 3.332 36.88 10.794 36.88 19.999m-18.334-7.5c0-.46.373-.834.834-.834h1.666c.46 0 .834.374.834.834v10c0 .46-.373.833-.834.833H19.38a.833.833 0 0 1-.834-.833zm.834 12.5a.833.833 0 0 0-.834.833v1.667c0 .46.373.833.834.833h1.666c.46 0 .834-.373.834-.833v-1.667a.833.833 0 0 0-.834-.833z",clipRule:"evenodd"})}))},756658:function(e,t,n){"use strict";n.d(t,{r:function(){return s}});var r=n(69984),i=n(764112),o=n(772322);n(218571);var s=e=>(0,o.jsxs)("svg",(0,i._)((0,r._)({xmlns:"http://www.w3.org/2000/svg",width:24,height:25,fill:"none",viewBox:"0 0 24 25"},e),{children:[(0,o.jsx)("path",{fill:"#000",fillOpacity:.01,d:"M0 .134h24v24H0z"}),(0,o.jsx)("path",{fill:"#000",fillRule:"evenodd",d:"M4 5.134a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2zm3 8.5a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-6a.5.5 0 0 1-.5-.5zm.5-4.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5z",clipRule:"evenodd"})]}))},848748:function(e,t,n){"use strict";n.d(t,{r:function(){return s}});var r=n(69984),i=n(764112),o=n(772322);n(218571);var s=e=>(0,o.jsx)("svg",(0,i._)((0,r._)({xmlns:"http://www.w3.org/2000/svg",width:24,height:25,fill:"none",viewBox:"0 0 24 25"},e),{children:(0,o.jsx)("path",{fill:"#000",fillRule:"evenodd",d:"M3.45 3.634a1.95 1.95 0 0 0-1.95 1.95v11.7a1.95 1.95 0 0 0 1.95 1.95h7.746l.031-1.376c.016-.709.168-1.43.567-2.058a3.4 3.4 0 0 1 1.461-1.284 4.1 4.1 0 0 1 1.758-.383c.662 0 1.345.113 1.953.446q.093.052.182.106h1.902v1.311H21V5.584a1.95 1.95 0 0 0-1.95-1.95zm.003 1.95h2.925v2.6H3.453zm0 4.55h2.925v2.6H3.453zm2.925 4.551H3.453v2.6h2.925zm9.747-9.1h2.925v2.6h-2.925zm0 4.55h2.925v2.6h-2.925zm-1.96 9.153-1.647 1.566v1.143h4.536v-1.314h-2.412l.927-.846q.54-.496.837-.855.297-.37.414-.703.126-.341.126-.747 0-.512-.225-.945a1.67 1.67 0 0 0-.702-.692q-.477-.262-1.233-.261-.612 0-1.125.242a1.9 1.9 0 0 0-.828.73q-.315.494-.333 1.286h1.512q.009-.305.099-.503a.67.67 0 0 1 .243-.306.6.6 0 0 1 .351-.108q.324 0 .486.17.162.163.162.468 0 .253-.117.477-.108.225-.369.505-.252.27-.702.693m5.193-1.791h-1.746l1.602 2.232-1.602 2.268h1.746l.783-1.224.774 1.224h1.746l-1.602-2.268 1.602-2.232h-1.746l-.774 1.224z",clipRule:"evenodd"})}))},635202:function(e,t,n){"use strict";n.d(t,{r:function(){return s}});var r=n(69984),i=n(764112),o=n(772322);n(218571);var s=e=>(0,o.jsxs)("svg",(0,i._)((0,r._)({xmlns:"http://www.w3.org/2000/svg",width:48,height:48,fill:"none",viewBox:"0 0 48 48"},e),{children:[(0,o.jsx)("path",{fill:"#fff",d:"M0 0h48v48H0z"}),(0,o.jsx)("path",{fill:"url(#icon-network-error_svg__a)",fillOpacity:.4,fillRule:"evenodd",d:"M28.524 2.044a1.17 1.17 0 0 1 2.34 0v3.511a1.17 1.17 0 1 1-2.34 0zm15.775 27.683q.369.637.7 1.285l-27.28 15.75L2.4 20.228q.932-.638 1.926-1.212c13.996-8.08 31.893-3.285 39.973 10.71M39.341 5.21a1.17 1.17 0 0 1 0 1.655L36.858 9.35a1.17 1.17 0 1 1-1.655-1.655l2.483-2.483a1.17 1.17 0 0 1 1.655 0",clipRule:"evenodd"}),(0,o.jsx)("path",{fill:"#090C14",fillRule:"evenodd",d:"M24.256 10.035a1.17 1.17 0 0 1 1.152-.965h4.437A1.17 1.17 0 0 1 30.96 10.6L27.5 21.36h1.991c.886 0 1.45.946 1.031 1.726L19.161 44.185l5.762-18.728H22.9a1.17 1.17 0 0 1-1.152-1.376zM4.53 21.325a27.96 27.96 0 0 1 15.14-7.83l-.303 3.63a24.47 24.47 0 0 0-12.354 6.683 1.756 1.756 0 0 1-2.483-2.483m29.673-6.467-1.111 3.335a24.5 24.5 0 0 1 8.683 5.615 1.756 1.756 0 0 0 2.483-2.483 28 28 0 0 0-10.055-6.467m-23.88 12.26a19.8 19.8 0 0 1 8.634-5.074l-.316 3.797a16.3 16.3 0 0 0-5.834 3.76 1.756 1.756 0 0 1-2.484-2.482m23.484-3.466-1.98 2.928a16.4 16.4 0 0 1 4.154 3.022 1.756 1.756 0 0 0 2.483-2.483 19.9 19.9 0 0 0-4.657-3.467m-17.69 9.26a11.65 11.65 0 0 1 4.783-2.897l-.599 4.074a8.2 8.2 0 0 0-1.7 1.306 1.756 1.756 0 1 1-2.484-2.483m13.057-2.41-2.012 2.973a8.2 8.2 0 0 1 3.025 1.92 1.756 1.756 0 1 0 2.483-2.483 11.7 11.7 0 0 0-3.496-2.41m-4.855 7.176L21.93 41.21l1.24 1.274a1.756 1.756 0 0 0 2.55-.036l1.207-1.312a1.756 1.756 0 0 0-.05-2.43 3.5 3.5 0 0 0-2.558-1.028",clipRule:"evenodd"}),(0,o.jsx)("defs",{children:(0,o.jsxs)("linearGradient",{id:"icon-network-error_svg__a",x1:2.579,x2:45.208,y1:15.692,y2:15.692,gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#A799FF"}),(0,o.jsx)("stop",{offset:1,stopColor:"#91BEFB"})]})})]}))},595938:function(e,t,n){"use strict";n.d(t,{d:function(){return u}});var r=n(461228),i=n(91933),o=n(691716),s=n(710799),a=n(776256),l={baseURL:"/lv/v1/task",method:"POST",headers:{loc:i.yM.CHANNEL,lan:i.yM.LAN,pf:i.yM.APP_PF,appvr:i.yM.VERSION,tdid:"","sign-ver":1,"app-sdk-version":i.yM.APP_SDK_VERSION}},c=o.ZP.createAxios(l);(0,a._)(c,{enableURL:[/\/get_task_status/]}),c.interceptors.request.use(e=>{var{pf:t,appvr:n,tdid:r}=l.headers;return Object.assign(e.headers,(0,s.O)({url:"".concat(e.baseURL).concat(e.url),pf:t,appvr:n,tdid:r})),e}),c.interceptors.response.use(e=>{if(200!==e.status)return Promise.reject(e);var t=e.data;return"0"===t.ret?Promise.resolve(t):Promise.reject(e)});var u={getTaskCenterStatus:()=>(0,r._)(function*(){return yield c({url:"/get_task_status"})})(),getInviteInfo:e=>(0,r._)(function*(){return yield c({url:"/get_invite_detail",data:e})})(),getInviteLink:()=>(0,r._)(function*(){return yield c({url:"/get_invite_link"})})(),getRewardTasks:()=>(0,r._)(function*(){return yield c({url:"/get_reward_tasks"})})(),receiveTasks:e=>(0,r._)(function*(){return yield c({url:"/receive_tasks",data:e})})()}},263968:function(e,t,n){"use strict";var r,i;n.d(t,{p:function(){return r}}),(i=r||(r={})).Month="month",i.Year="year"},666737:function(e,t,n){"use strict";n.d(t,{P:function(){return c}});var r=n(772322);n(218571);var i=n(123951),o=n(793676),s=n(722169),a=n(998332),l=n(158065);n(711530);var c=e=>{var{renderService:t}=e,n=(0,o.v)(t,e=>{var t,n;return null==e?void 0:null===(n=e.context)||void 0===n?void 0:null===(t=n.videoPlayInfo)||void 0===t?void 0:t.currentVideoInfo}),c=(0,o.v)(t,e=>{var t;return null==e?void 0:null===(t=e.context)||void 0===t?void 0:t.fileInfo.videoInfo}),u=(0,o.v)(t,e=>{var t,n;return null===(n=e.context)||void 0===n?void 0:null===(t=n.fileInfo)||void 0===t?void 0:t.resolution}),d=[],h=[];null==c||c.forEach(e=>{var t,n=null==e?void 0:e.definition;"origin"===n?(n=u&&"-"!==u?"".concat(u.toUpperCase()):i.oc.t("original_quality",{},"Original"),d.push({value:null==e?void 0:e.url,label:n})):(n=null==n?void 0:null===(t=n.toUpperCase)||void 0===t?void 0:t.call(n),h.push({value:null==e?void 0:e.url,label:n}))});var f=(0,s.uniqBy)(d.concat(h.reverse()),"label"),p=f.find(e=>e.value===(null==n?void 0:n.url));return(0,r.jsx)(a.E,{trigger:"hover",title:i.oc.t("definition"),triggerProps:{clickToClose:!1},options:f,activeOption:p,optionChange:e=>{if((null==e?void 0:e.value)!==(null==p?void 0:p.value)){var n=null==c?void 0:c.find(t=>t.url===(null==e?void 0:e.value));n&&((0,l.Cj)().report({action:l.s7.change_resolution,resolution_after:"origin"===n.definition?u:n.definition}),t.send({type:"CHANGE_DEFINITION",currentVideoInfo:n}))}},children:(0,r.jsx)("div",{className:"action-definition",children:null==p?void 0:p.label})})}},121277:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(772322);n(529114);var i=n(595051),o=n(123688),s=n(218571),a=n(123951),l=n(125518);n(175874);let c=e=>{var{resendEmailCodeCountDown:t,email:n,onBackClick:c,send:u}=e,d=(0,s.useMemo)(()=>{var e=void 0===t?o.tF:t;return a.oc.t("web_signin_desc_send_code",{number0:e},"You can resend the link in {number0} seconds.").replace(/\d+/,e=>'<span class="lv_forget_pwd_panel-count-down-num">'.concat(e,"</span>"))},[t]);return(0,r.jsxs)("div",{className:"lv_forget_pwd_panel-resend",children:[(0,r.jsx)(l.Z,{onClick:c}),(0,r.jsx)("div",{className:"lv_forget_pwd_panel-icon-wrapper ",children:(0,r.jsx)("img",{className:"lv_forget_pwd_panel-icon lv_forget_pwd_panel-icon-resend",src:"https://lf16-web-buz.capcut.com/obj/capcut-web-buz-us/common/images/signin_panel_send.png",alt:"ForgetEmailPNG",crossOrigin:"anonymous"})}),(0,r.jsx)("div",{className:"lv_forget_pwd_panel-title lv_forget_pwd_panel-title-reset",children:a.oc.t("web_signin_title_email_sent",{},"Email sent")}),(0,r.jsx)("div",{className:"lv_forget_pwd_panel-tip",children:a.oc.t("web_signin_desc_email_sent",{string0:n},"Your link was emailed to {string0}")}),(0,r.jsx)("div",{className:"lv_forget_pwd_panel-resend-footer-container",children:0!==t?(0,r.jsx)("div",{className:"lv_forget_pwd_panel-count-down",dangerouslySetInnerHTML:{__html:globalThis.xssNamespace["lvweb/smart-tools"]._filterXSS(d,null,{logType:"react.dangerouslySetInnerHTML",mode:"black",reportOnly:"all",block:!0})}}):(0,r.jsx)("div",{className:"lv_forget_pwd_panel-resend-btn-container",children:(0,r.jsx)(i.Z,{className:"lv_sign_in_panel_wide-primary-button",onClick:()=>{u("RESEND")},children:a.oc.t("web_signin_button_resend_email",{},"Resend email")})})})]})}},742948:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var r=n(772322);n(349601);var i=n(781494),o=n(218571),s=n(152155),a=n.n(s),l=n(282893),c=n(793676),u=n(454078),d=n(123688);n(362866);var h=n(37055),f=n(123951),p=n(335091),v=n(782248),g=n(639500);let _=e=>{var{isFromModal:t,isMobile:n}=e,[s,_]=(0,o.useState)(""),m=(0,u.t)(),[y,S]=(0,o.useState)(""),[b,E]=(0,o.useState)(0),[C,T]=(0,o.useState)(0),[I]=(0,l.L)(m),w=I.context.emailSignInRef,[,R]=(0,l.L)(w),N=(0,c.v)(w,e=>e.context.email),A=(0,c.v)(w,e=>e.context.resendEmailCodeCountDown),x=(0,c.v)(w,e=>e.matches("signUp.sendingEmailCode")),O=(0,o.useMemo)(()=>{var e=void 0===A?d.tF:A;return f.oc.t("web_signin_text_code_sent",{number0:e},"Code sent. You can resend the code in {number0}s.").replace(/\d+/,e=>'<span class="lv_sign_in_panel_wide-code-count-down-num">'.concat(e,"</span>"))},[A]);(0,o.useEffect)(()=>{R({type:"INIT_SEND_CODE_ERROR_CB",func:e=>{var t;parseInt(null===(t=e.data)||void 0===t?void 0:t.message,10)===p.B.SIGN_UP_CODE.SEND_CODE_ERROR_CODE.SENDING_FREQUENTLY?i.Z.error(f.oc.t("many_code_later")):i.Z.error(f.oc.t("fail_sign_try_again")),R({type:"BACK_TO_ENTER_CODE"})}})},[]);var k=(0,o.useCallback)(e=>{var t,n=null===(t=e.data)||void 0===t?void 0:t.message;parseInt(n,10)===p.B.SIGN_UP_CODE.REGISTER_ERROR_CODE.CODE_WRONG||parseInt(n,10)===p.B.SIGN_UP_CODE.REGISTER_ERROR_CODE.CODE_EXPIRED?(S(f.oc.t("web_signin_error_wrong_verification_code",{},"Wrong verification code. Try again.")),E(b+1)):i.Z.error(f.oc.t("fail_sign_try_again"))},[b,S,E]);(0,o.useEffect)(()=>{R({type:"INIT_REGISTER_ERROR_CB",func:k})},[k]),(0,o.useEffect)(()=>{var e=null;return 10===b&&(e=setTimeout(()=>{E(0)},18e5)),()=>{e&&clearTimeout(e)}},[b]),(0,o.useEffect)(()=>{var e=null;return 5===C&&(e=setTimeout(()=>{T(0)},18e5)),()=>{e&&clearTimeout(e)}},[C]);var P=e=>{var t=e||s;if(""===t){S(f.oc.t("fill_the_text"));return}R({type:"CONFIRM_REGISTER",code:t})};return(0,r.jsxs)("div",{className:"lv_sign_in_panel_wide-code-detail",children:[(0,r.jsx)(g.Z,{progress:2,total:t||n?2:3}),(0,r.jsx)("div",{className:"lv_sign_in_panel_wide-code-logo"}),(0,r.jsx)("h2",{className:"lv_sign_in_panel_wide-code-title",children:f.oc.t("web_signin_title_confirm_email",{},"Confirm your email")}),(0,r.jsx)("span",{className:"lv_sign_in_panel_wide-code-tip",children:f.oc.t("code_sent_to_email",{placeholder:" ".concat(N)})}),(0,r.jsxs)("div",{className:a()("lv_sign_in_panel_wide-code-input-wrapper",{"lv_sign_in_panel_wide-code-input-wrapper-warn":""!==y}),children:[(0,r.jsx)(v.Z,{value:s,onChange:e=>{_(e),S(""),(null==e?void 0:e.length)===6&&P(e)},onPressEnter:P,warn:!!y,size:n?"small":"default"}),""!==y?(0,r.jsx)("div",{className:"lv_sign_in_panel_wide-code-warn",children:y}):null]}),0===A||5===C?(0,r.jsxs)("div",{className:a()("lv_sign_in_panel_wide-code-resend",{disbaled:x||5===C}),onClick:()=>{x||5===C||(T(C+1),R({type:"REPORT_SIGN_IN_ACTION",action:"resend"}),R({type:"RESEND",code:h.SEND_CODE_TYPE.REGISTER_RETRY}))},children:[f.oc.t("web_signin_text_no_email",{},"Didn\u2019t receive email?")," ",(0,r.jsx)("br",{}),f.oc.t("web_signin_text_check_spam_folder",{},"Check your spam folder or")," ",f.oc.t("web_signin_button_resend_code_email",{action0:e=>(0,r.jsx)("span",{className:a()("lv_sign_in_panel_wide-code-resend-button"),children:e})},"<action0>Resend code</action0>")]}):(0,r.jsx)("div",{className:"lv_sign_in_panel_wide-code-count-down",dangerouslySetInnerHTML:{__html:globalThis.xssNamespace["lvweb/smart-tools"]._filterXSS(O,null,{logType:"react.dangerouslySetInnerHTML",mode:"black",reportOnly:"all",block:!0})}})]})}},711802:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(772322);n(218571);var i=n(282893),o=n(152155),s=n.n(o),a=n(659179),l=n(454078),c=n(123951),u=n(91933),d=n(130814),h=n(351521);n(835558);let f=e=>{var{thirdPartSignIn:t,emailSignIn:n,scanSignIn:o,isFromModal:f,showTeamInviteInfo:p,customConfig:v,isShowIcon:g}=e,_=(0,l.t)(),[m,y]=(0,i.L)(_),S=m.context.teamInviteRef,[b]=(0,i.L)(S),{workspaceInfo:E}=b.context,C=m.context.userInviteRef,[T]=(0,i.L)(C),{isInvitePage:I,invitedCode:w,inviteDetail:R}=T.context,N=I&&w,A=(0,r.jsx)("p",{className:"lv_new_sign_in_panel_wide_new_base_page-beta-tips",children:c.oc.t("cc_ecom_signin_desc",{action0:e=>(0,r.jsx)("a",{target:"__blank",id:"accountOfCapCut",href:globalThis.xssNamespace["lvweb/smart-tools"].filterUrl(u.yM.CC4B_PAGE(c.oc.language),null,{logType:"js.href/src",mode:"black",reportOnly:"all"}),children:e},"account-of-user")},"This version is still in the beta stage and is only open to beta users.Please use the email in the questionnaire to sign up or log in or <action0>apply for private account</action0>.")}),x=()=>{new d.F().report({action:"terms"})},O=()=>{new d.F().report({action:"privacy"})};return(0,r.jsx)("div",{className:s()("lv_new_sign_in_panel_wide_new_base_page",{modal:f}),children:(0,r.jsxs)("div",{className:"lv_new_sign_in_panel_wide_new_base_page-content",children:[!f&&g&&(0,r.jsx)("img",{className:"lv_new_sign_in_panel_wide_new_base_page-logo",src:"https://lf16-web-buz.capcut.com/obj/capcut-web-buz-us/common/images/capcut-logo-dark.png",width:119,height:"auto",draggable:!1}),(0,r.jsxs)("div",{className:"lv_new_sign_in_panel_wide_new_base_page-main-content",children:[(0,r.jsx)(()=>{var e,t,n;return N?(0,r.jsx)(h.k,{inviterImg:null==R?void 0:R.inviterImg,invitedSpaceCap:null==R?void 0:R.invitedSpaceCap,inviterName:null==R?void 0:R.inviterName}):p?(0,r.jsx)(h.Z,{workspaceInfo:E}):(0,r.jsxs)("h2",{className:"lv_new_sign_in_panel_wide_new_base_page-title",style:(null==v?void 0:v.isBeta)?{marginBottom:12}:void 0,children:[!(null==v?void 0:v.hideLogo)&&(0,r.jsx)("div",{className:"lv_new_sign_in_panel_wide_new_base_page-title-logo",children:null!==(e=null==v?void 0:v.logo)&&void 0!==e?e:(0,r.jsx)(a.yr6,{})}),(0,r.jsx)("div",{className:"lv_new_sign_in_panel_wide_new_base_page-title-name",children:null!==(n=null!==(t=null==v?void 0:v.brandNameIcon)&&void 0!==t?t:null==v?void 0:v.brandName)&&void 0!==n?n:c.oc.t("web_feedback_button_account_account",{},"CapCut Account")})]})},{}),(null==v?void 0:v.isBeta)?(0,r.jsxs)(r.Fragment,{children:[A,n]}):(0,r.jsxs)("div",{className:"lv_new_sign_in_panel_wide_new_base_page-third",children:[t,n,o]})]}),(0,r.jsx)("div",{className:"lv_new_sign_in_panel_wide-policy",children:c.oc.t("web_accounts_checkbox_text_agree_to_cintinue",{strong0:e=>e,href0:e=>{var t;return(0,r.jsx)("a",{target:"__blank",id:"termsOfCapCut",href:globalThis.xssNamespace["lvweb/smart-tools"].filterUrl(u.yM.TERMS_OF_CAPCUT({region:null===(t=m.context.userInfo)||void 0===t?void 0:t.region,lang:c.oc.language}),null,{logType:"js.href/src",mode:"black",reportOnly:"all"}),className:"policy",onClick:x,children:e},"terms-of-user")},href1:e=>{var t;return(0,r.jsx)("a",{target:"_blank",id:"privacyPolicy",href:globalThis.xssNamespace["lvweb/smart-tools"].filterUrl(u.yM.PRIVACY_POLICY({region:null===(t=m.context.userInfo)||void 0===t?void 0:t.region,lang:c.oc.language}),null,{logType:"js.href/src",mode:"black",reportOnly:"all"}),className:"policy",rel:"noreferrer",onClick:O,children:e},"privacy-policy")}},"By clicking <strong0>Continue</strong0>, you accept the <href0>Terms of Use</href0> and <href1>Privacy Policy</href1>.")})]})})}},975236:function(e,t,n){"use strict";n.d(t,{M:function(){return v}});var r=n(772322),i=n(218571),o=n(152155),s=n.n(o),a=n(282893),l=n(915014),c=n(123951),u=n(124656),d=n(722169),h=n(4103);n(993030);var f=n(659179),p=n(921218),v=e=>{var{accountConfig:t,service:n,signType:o=h.ki.logIn,showGoogleBtn:v,isBOE:g,onClickItem:_}=e,[m,y]=(0,a.L)(n),[S,b]=(0,i.useState)(v),E=(0,i.useMemo)(()=>[{label:c.ZP.t("web_signin_button_signin_google",{},"Continue with Google"),name:"google",platformAppId:(0,l.g4)(t,l.nw.Google,g),icon:(0,r.jsx)(f.vYD,{className:"lv_new_third_part_sign_in_expand-icon"})},{label:c.ZP.t("web_signin_button_signin_tiktok",{},"Continue with TikTok"),name:"tiktok",platformAppId:(0,l.g4)(t,l.nw.TikTok,g),icon:(0,r.jsx)(f.$hL,{className:"lv_new_third_part_sign_in_expand-icon"})},{label:c.ZP.t("web_signin_button_signin_facebook",{},"Continue with Facebook"),name:"facebook",platformAppId:(0,l.g4)(t,l.nw.Facebook,g),icon:(0,r.jsx)(f.zJ_,{className:"lv_new_third_part_sign_in_expand-icon"})}],[o,g,t]);(0,i.useEffect)(()=>{var e,t,n,r,i;(null===(e=document)||void 0===e?void 0:e.getElementById("g_id_onload"))||(0,d.isNil)(null===(i=window)||void 0===i?void 0:null===(r=i.google)||void 0===r?void 0:null===(n=r.accounts)||void 0===n?void 0:null===(t=n.id)||void 0===t?void 0:t.renderButton)||b(!1)},[]);var C=e=>{y({type:"AUTH",platform:e.platformAppId,name:e.name,source:o===h.ki.logIn?u.C.LoginIn:u.C.SignUp}),y({type:"REPORT_SIGN_IN_ACTION",action:e.name}),null==_||_(e)};return(0,r.jsxs)("div",{className:"lv_new_third_part_sign_in_expand-wrapper",children:[S?(0,r.jsxs)("div",{className:"lv_new_google_sign_in_btn-expand-wrapper",children:[(0,r.jsx)(p.A,{clientKey:(0,l.ze)(t,l.nw.Google,g),loadGoogleAuthSdk:!0,onGoogleAuthSdkLoaded:()=>{var e,t,n,r,i=document.getElementById("signinDiv");i&&(null===(r=window)||void 0===r||null===(n=r.google)||void 0===n||null===(t=n.accounts)||void 0===t||null===(e=t.id)||void 0===e||e.renderButton(i,{theme:"outline",size:"large",type:"standard",shape:"rectangular",width:i.clientWidth,text:"continue_with",logo_alignment:"left",click_listener:()=>{y({type:"REPORT_SIGN_IN_ACTION",action:"google",source:o===h.ki.logIn?u.C.LoginIn:u.C.SignUp})},locale:c.ZP.language}))}}),(0,r.jsxs)("div",{className:s()("lv_new_third_part_sign_in_expand-button"),children:[E[0].icon,(0,r.jsx)("span",{className:"lv_new_third_part_sign_in_expand-label",children:E[0].label}),(0,r.jsx)("div",{id:"signinDiv"})]},E[0].platformAppId)]}):(0,r.jsxs)("div",{className:s()("lv_new_third_part_sign_in_expand-button"),onClick:()=>C(E[0]),children:[E[0].icon,(0,r.jsx)("span",{className:"lv_new_third_part_sign_in_expand-label",children:E[0].label})]},E[0].platformAppId),null==E?void 0:E.slice(1).map(e=>(0,r.jsxs)("div",{className:s()("lv_new_third_part_sign_in_expand-button"),onClick:()=>C(e),children:[e.icon,(0,r.jsx)("span",{className:"lv_new_third_part_sign_in_expand-label",children:e.label})]},e.platformAppId))]})}},552506:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(772322);n(196666),n(822289),n(349601);var i=n(698978),o=n(5622),s=n(781494),a=n(218571),l=n(282893),c=n(793676),u=n(454078),d=n(659179),h=n(106502),f=n(123688),p=n(720197),v=n(437069);n(700680);var g=n(123951),_=n(335091),m=e=>{var{toSignUp:t,toForgetPwd:n}=e;return(0,r.jsx)("div",{className:"lv_new_sign_in_panel_wide-log-in-footer",children:(0,r.jsxs)("div",{className:"lv_new_sign_in_panel_wide-forget-container",children:[(0,r.jsxs)(i.Z,{size:8,children:[(0,r.jsx)("span",{className:"footer-switch-text",children:g.oc.t("web_accounts_text_dont_have_account",{},"Don't have an account?")}),(0,r.jsx)("span",{onClick:t,className:"new-forget-pwd-btn",children:g.oc.t("web_accounts_btn_sign_up_if_no_account",{},"Sign up")})]}),(0,r.jsx)("div",{onClick:n,className:"new-forget-pwd-btn",children:g.oc.t("web_accounts_btn_forgot_password",{},"Forgot password?")})]})})};let y=e=>{var{toBasePage:t,toForgetPwd:n,toSignUp:i}=e,y=(0,u.t)(),[S]=(0,l.L)(y),b=S.context.newEmailSignInRef,{loginReportParams:E}=S.context,[C,T]=(0,l.L)(b),[I,w]=(0,a.useState)(""),[R,N]=(0,a.useState)(""),[A,x]=(0,a.useState)(!1),[O,k]=(0,a.useState)(!1),P=(0,c.v)(b,e=>e.matches("signInSuccess")),D=e=>{T({type:"RESTORE_ACCOUNT",token:e,restoreType:1})},M=e=>{new h.S().report({action:e,current_page:(null==E?void 0:E.currentPage)||"login"})},L=e=>{var t=o.Z.confirm({focusLock:!1,className:"lv_new_sign_in_panel_wide-restore-account",title:(0,r.jsxs)("div",{className:"lv_new_sign_in_panel_wide-restore-account-title",children:[(0,r.jsx)(d.rLP,{size:24,color:"#2668FF"}),g.oc.t("web_deactivate_button_delete_restore",{},"Restore deleted account")]}),content:(0,r.jsx)("div",{className:"lv_new_sign_in_panel_wide-restore-account-content",children:g.oc.t("web_deactivate_text_trying_sign_into",{},"You\u2019re trying to sign into a deleted account. By signing in, your account will be restored. If you don\u2019t restore the account, it will be permanently deleted in 30 days.")}),maskStyle:{zIndex:1103},wrapStyle:{zIndex:1103},onOk:()=>{M("restore"),D(e),t.close()},onCancel:()=>M("cancel"),okText:g.oc.t("web_deactivate_button_restore_confirm",{},"Restore account"),cancelText:g.oc.t("web_deactivate_button_cancel_restore",{},"Cancel"),okButtonProps:{type:"primary"},icon:null,closeIcon:(0,r.jsx)(d.bMz,{size:20,onClick:()=>M("cancel")})})};return(0,a.useEffect)(()=>{T({type:"INIT_LOGIN_ERROR_CB",func:(e,t)=>{var n,r=parseInt(null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.message,10);r===_.B.SIGN_UP_CODE.LOGIN_ERROR_CODE.USER_NOT_EXITE||r===_.B.SIGN_UP_CODE.LOGIN_ERROR_CODE.PASSWORD_WRONG?N(g.oc.t("web_signin_error_text_valid_email",{},"Enter a valid email or password")):t&&r===_.B.SIGN_UP_CODE.LOGIN_ERROR_CODE.USER_ACCOUNT_CANCEL?(M("show"),L(t)):s.Z.error(g.oc.t("log_fail_try_again")),x(!1)}})},[]),(0,r.jsxs)("div",{className:"lv_new_sign_in_panel_wide-detail",children:[(0,r.jsx)(v.Z,{onClick:t,text:g.oc.t("web_accounts_title_sign_in",{},"Sign in")}),(0,r.jsxs)("div",{className:"lv_new_sign_in_panel_wide-detail-content",children:[(0,r.jsx)("h2",{className:"lv_new_sign_in_panel_wide-title",children:g.oc.t("web_signin_title_welcome_back",{},"Welcome back")}),(0,r.jsx)(p.Z,{disableButton:!S.matches("businessLoginFail")&&(P||O),loading:!P&&A,defaultEmail:C.context.email,defaultPassword:C.context.password,confirmText:g.oc.t("web_continue",{},"Continue"),emailWarn:I,passwordWarn:R,onEmailChange:(e,t)=>{T({type:"SAVE_EMAIL",email:e}),t.current&&""===e&&t.current.focus(),(""===e||I&&f.s9.test(e.trim()))&&w(""),R===g.oc.t("web_signin_error_text_valid_email",{},"Enter a valid email of password")&&N("")},onPasswordChange:e=>{T({type:"SAVE_PASSWORD",password:e}),(""===e||R&&f.lI.test(e))&&N("")},onPasswordBlur:()=>{""===C.context.password||f.lI.test(C.context.password)?N(""):N(g.oc.t("set_password_rule"))},onEmailBlur:()=>{""===C.context.email||f.s9.test(C.context.email.trim())?(w(""),k(!1)):(w(g.oc.t("email_contain_at")),k(!0))},onSignIn:(e,t)=>{if(""===e||""===t){""===e&&w(g.oc.t("fill_the_text")),""===t&&N(g.oc.t("fill_the_text"));return}""===I&&""===R&&(T({type:"CONFIRM_SIGN",email:e,password:t}),x(!0))}}),(0,r.jsx)(m,{toForgetPwd:n,toSignUp:i})]})]})}},539:function(e,t,n){"use strict";n.d(t,{g:function(){return r}});var r={RECENT_LIST_FILE_TYPE:"RECENT_LIST_FILE_TYPE",RECENT_LIST_VIEW_TYPE:"RECENT_LIST_VIEW_TYPE",LIST_VIEW_TYPE:"LIST_VIEW_TYPE",LIST_DISPLAY_TYPE:"LIST_DISPLAY_TYPE",LIST_SORT_BY:"LIST_SORT_BY",RECYCLE_LIST_SORT_BY:"RECYCLE_LIST_SORT_BY",LIST_SORT_DIRECTION:"LIST_SORT_DIRECTION",RECYCLE_LIST_SORT_DIRECTION:"RECYCLE_LIST_SORT_DIRECTION",COOKIE_CONSENT_PROMPT_CONFIG:"COOKIE_CONSENT_PROMPT_CONFIG",THIRTPARTY_FEEDBACK:"THIRTPARTY_FEEDBACK",LV_TASK_CENTER:"LV_TASK_CENTER",THIRDPARTY_CLOUD_AUTH:"THIRDPARTY_CLOUD_AUTH",SURVEY_OPEN:"SURVEY_OPEN",CLOUD_STORAGE_PAYMENT_AND_BINDING:"CLOUD_STORAGE_PAYMENT_AND_BINDING",THIRDPARTY_SHARE_AUTH:"undefined"!=typeof window&&window._IS_FOR_BUSINESS?"PLATFORM_BUSINESS_THIRDPARTY_CLOUD_AUTH":"THIRDPARTY_SHARE_AUTH",CAPCUT_THEME:"CAPCUT_THEME",CAPCUT_TEMPLATE_VIDEO_VOLUME:"CAPCUT_TEMPLATE_VIDEO_VOLUME",GUIDE_FROM_TEAM_INVITE:"GUIDE_FROM_TEAM_INVITE",GUIDE_FROM_SIGN_UP:"GUIDE_FROM_SIGN_UP",COMPREHENSIVE_SEARCH_HISTORY:"COMPREHENSIVE_SEARCH_HISTORY",CC_WEB_IM_CONFIG:"CC_WEB_IM_CONFIG",LOGIN_TYPE_FOR_FIRST_LOGIN_NOTICE:"LOGIN_TYPE_FOR_FIRST_LOGIN_NOTICE",FACEBOOK_AUTH_STORAGE:"FACEBOOK_AUTH_STORAGE"}},542714:function(e,t,n){"use strict";n.d(t,{h3:function(){return r}});var r="inviting_email"},627787:function(e,t,n){"use strict";n.d(t,{X0:function(){return u},hh:function(){return a},tG:function(){return s}}),(r=s||(s={})).TikTok="TikTok",r.YouTube="YouTube",r.Facebook="Facebook",r.TTAM="TTAM",r.Shopify="Shopify",r.Dropbox="Dropbox",(i=a||(a={})).TikTok="TikTok",i.TTAM="TTAM",i.YouTube="YouTube",i.YouTubeShorts="YouTubeShorts",i.Instagram="Instagram",i.InstagramReels="InstagramReels",i.FacebookPage="FacebookPage",i.FacebookGroup="FacebookGroup",i.Shopify="Shopify",i.Dropbox="Dropbox",(o=l||(l={}))[o.Tiktok=1]="Tiktok",o[o.Youtube=2]="Youtube",o[o.Ttam=3]="Ttam",o[o.Facebook=4]="Facebook";var r,i,o,s,a,l,c={TikTok:["TikTok"],TTAM:["TTAM"],Facebook:["FacebookGroup","FacebookPage","Instagram","InstagramReels"],YouTube:["YouTube"]},u=e=>{var t,[n]=null!==(t=Object.entries(c).find(t=>{var[n,r]=t;return!!r.includes(e)}))&&void 0!==t?t:[];return n}},750005:function(e,t,n){"use strict";n.d(t,{Ad:function(){return b},GD:function(){return p},IZ:function(){return C},Mv:function(){return v},OH:function(){return y},Tz:function(){return u},X_:function(){return c},Xj:function(){return d},c:function(){return h},e8:function(){return g},hb:function(){return _},jn:function(){return E},kk:function(){return T},l$:function(){return m},nM:function(){return S},qS:function(){return l}});var r,i,o,s,a,l,c,u,d,h,f=n(627787);(r=l||(l={})).TikTok="TikTok",r.YouTube="YouTube",r.TTAM="TTAM",r.Facebook="Facebook",r.Shopify="Shopify",r.EmbedShopify="EmbedShopify",r.SaveDropbox="SaveDropbox",r.Schedule="Schedule",(i=c||(c={}))[i.PAGE=0]="PAGE",i[i.GROUP=1]="GROUP",i[i.INSTAGRAM=2]="INSTAGRAM";var p={[f.hh.FacebookPage]:0,[f.hh.FacebookGroup]:1,[f.hh.Instagram]:2,[f.hh.InstagramReels]:2};(o=u||(u={}))[o.YouTube=0]="YouTube",o[o.YouTubeShorts=1]="YouTubeShorts";var v={[f.hh.YouTube]:0,[f.hh.YouTubeShorts]:1},g="awila1aef2sl3rob",_="awov7tein3o23v2a",m="1093504901008-cmpv0g4d9k4fd1g6aas7n2bpra6mulu5.apps.googleusercontent.com",y="87571557143-g65pmu4h9fkv509ju9oa30vmqsckhgfo.apps.googleusercontent.com",S="7135340830805458946",b="8azjb60a0ij",E="capcut_web_boe",C="capcut_web_ppe",T="capcut_web_prod";(s=d||(d={})).ppe="284495260783513",s.boe="1245762546309504",(a=h||(h={})).PERMISSION_ERROR="0",a.VIDEO_DURATION_TOO_SHORT="10",a.VIDEO_DURATION_TOO_SHORT_TTAM="11",a.VIDEO_DURATION_TOO_LONG="200916",a.UPLOAD_AUTH_ERROR="200917",a.AUTH_ERROR="2000-1",a.TTAM_AUTH_ERROR="2001-3",a.FACEBOOK_AUTH_ERROR="facebook-auth-error",a.TTAM_AUTH_ERROR_10="2001-3-10",a.TTAM_AUTH_ERROR_611="2001-3-611",a.TTAM_AUTH_ERROR_611_10="2001-3-611,10",a.GET_TT4B_ACCOUNTS_FAILED="2001",a.GET_ADVERTISERS_FAILED="2002",a.UNBIND_TT4B_ACCOUNT_FAILED="2003",a.TT4B_RIGHT_FAILED="2005",a.COUNTRY_NOT_SUPPORT="a-2005",a.NO_TIMES_TO_UPLOAD="200912",a.PERMISSTION_NOT_VERIFIED="200914",a.PRIVACY_NOT_VERIFIED="200915",a.ACCOUNT_CHANGED="200922",a.ACCOUNT_DISCONNECT="200925",a.UNKONWN_ERROR="200900",a.OVER_MAX_TT4B_ACCOUNT_SIZE="2008",a.SHARE_TTAM_USER_DISAUTHORIZED="201704",a.SHARE_TTAM_CHANGED_BIND="201705",a.SHARE_TTAM_FAILED="201702",a.SHARE_TTAM_RETRY_FAILED="201701",a.CANCEL_SHARE_TTAM_FAILED="200923",a.YOUTUBE_INSUFFICIENT_PERMISSIONS="YOUTUBE_INSUFFICIENT_PERMISSIONS",a.FAILED_BY_RISK="1003",a.FAILED_BY_FREQUENCY="1004"},955406:function(e,t,n){"use strict";n.d(t,{HD:function(){return l},_z:function(){return u},gf:function(){return c},lQ:function(){return s},pH:function(){return d}}),(i=s||(s={}))[i.Resize=1001]="Resize",i[i.RemoveBackground=1002]="RemoveBackground",i[i.Script=1003]="Script",i[i.AutoCut=1004]="AutoCut",i[i.GraphicTextToDraft=10001]="GraphicTextToDraft",i[i.GraphicAiModel=10003]="GraphicAiModel",i[i.GraphicAiBackground=10002]="GraphicAiBackground",i[i.VideoDigitalHuman=20001]="VideoDigitalHuman",i[i.TextToImage=1]="TextToImage",i[i.ImageToImage=2]="ImageToImage",i[i.ImageStyleAvatar=3]="ImageStyleAvatar",i[i.ImageNightEnhance=4]="ImageNightEnhance",i[i.ImageStyleConversion=5]="ImageStyleConversion",i[i.ImageUpscaler=6]="ImageUpscaler",i[i.ImageAiToning=7]="ImageAiToning",i[i.ImageColoring=8]="ImageColoring",i[i.ImageRestoration=9]="ImageRestoration",i[i.VideoStyleConversion=10]="VideoStyleConversion",i[i.VideoUpscaler=11]="VideoUpscaler",i[i.VideoSlowMotion=12]="VideoSlowMotion",i[i.VideoStabilization=13]="VideoStabilization",i[i.TextToVideo=15]="TextToVideo",i[i.U2V=16]="U2V",i[i.ImageBatchTool=17]="ImageBatchTool",i[i.Long2Short=21]="Long2Short",i[i.AigcVideo=30]="AigcVideo",i[i.TTS=31]="TTS",i[i.AudioVideoTranslator=32]="AudioVideoTranslator",i[i.DreaminaStory=33]="DreaminaStory",i[i.Unknown=-1]="Unknown",(o=a||(a={})).ai_power="ai_powered",o.for_video="for_video",o.for_images="for_images",o.for_audio="for_audio",o.for_business="for_business";var r,i,o,s,a,l,c={1:"text_to_image",2:"image_to_image",3:"portrait_generator",4:"low_light_image_enhancement",5:"image_style_transfer",6:"image_upscaler",7:"ai_color_correction",8:"photo_colorizer",9:"old_photo_restoration",10:"video_style_transfer",11:"video_upscaler",12:"super_slow_motion",13:"video_stabilization",1001:"resize_video",1002:"remove_background",1003:"ad_script",1004:"autocut",15:"text_to_video",16:"url_to_video",10001:"text_to_draft",10003:"ai_model_tryon",10002:"ai_background",20001:"ai_character",17:"batch",21:"clip_shorts",30:"ai_video",31:"text_to_speech",32:"ai_translation",33:"dreamina_story",[-1]:""},u={5:"remove_background",6:"resize_video",7:"ad_script",8:"text_to_image",9:"image_to_image",10:"portrait_generator",11:"image_style_transfer",12:"video_style_transfer",13:"image_upscaler",14:"ai_color_correction",15:"photo_colorizer",16:"old_photo_restoration",17:"low_light_image_enhancement",18:"video_upscaler",19:"super_slow_motion",20:"video_stabilization",21:"chatgpt",22:"autocut",23:"text_to_video",24:"url_to_video",26:"chatgpt_search",27:"clip_shorts",28:"ai_video"},d=Object.keys(u).map(Number);(r=l||(l={}))[r.template=25]="template",r[r.chatGPTSearch=26]="chatGPTSearch"},793967:function(e,t,n){"use strict";n.d(t,{F:function(){return s}});var r,i,o=n(593062);function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:location.pathname;return[{channelName:"\u591A\u8F68\u9053\u7F16\u8F91\u5668",channelCode:"MULTI_TRACKS_VIDEO_EDITOR",pattern:["/editor","/editor/:id"]},{channelName:"\u526A\u540C\u6B3E",channelCode:"CUT_SAME_VIDEO_EDITOR",pattern:["/editor-template","/editor-template/:id"]},{channelName:"\u56FE\u7247\u7F16\u8F91\u5668",channelCode:"GRAPHIC_EDITOR",pattern:["/editor-graphic","/editor-graphic/:id"]},{channelName:"\u5206\u4EAB\u5BA1\u9605\u9875",channelCode:"SHARE_VIEW",pattern:["/view/:id"]},{channelName:"\u667A\u80FD\u5DE5\u5177",channelCode:"EDITOR_MAGIC_TOOLS",pattern:["/magic-tools/:name","/editor-tools/:name"]},{channelName:"\u6279\u91CF\u7F16\u8F91\u5DE5\u5177",channelCode:"EDITOR_BATCH_TOOLS",pattern:["/editor-batch"]},{channelName:"\u9996\u9875",channelCode:"INDEX",pattern:["/",/^\/(pt-br|es-la|fr-fr|de-de|ja-jp|ko-kr|tr-tr|es-es|it-it|th-th|id-id|vi-vn|tl-ph|ms-my|pl-pl|nl-nl|ro-ro|zh-tw|sv-se)\/?$/i]},{channelName:"\u6587\u7AE0\u9875",channelCode:"ARTICLE",pattern:[/^(\/(pt-br|es-la|fr-fr|de-de|ja-jp|ko-kr|tr-tr|es-es|it-it|th-th|id-id|vi-vn|tl-ph|ms-my|pl-pl|nl-nl|ro-ro|zh-tw|sv-se))?\/(tools|business|tiktok|partners|resource|create|tutorial|creative-suite|help-*)/]},{channelName:"\u5176\u4ED6",channelCode:"OTHER",pattern:[/.*/]}].find(t=>!1!==(0,o.EQ)(t.pattern,{decode:decodeURIComponent})(e))}(r=i||(i={})).CUT_SAME_VIDEO_EDITOR="CUT_SAME_VIDEO_EDITOR",r.MULTI_TRACKS_VIDEO_EDITOR="MULTI_TRACKS_VIDEO_EDITOR",r.GRAPHIC_EDITOR="GRAPHIC_EDITOR",r.EDITOR_MAGIC_TOOLS="EDITOR_MAGIC_TOOLS",r.EDITOR_BATCH_TOOLS="EDITOR_BATCH_TOOLS",r.INDEX="INDEX",r.ARTICLE="ARTICLE",r.SHARE_VIEW="SHARE_VIEW",r.OTHER="OTHER"},7671:function(e,t,n){"use strict";n.d(t,{R:function(){return r}});class r{cancelUserCheck(){return this._sdk.request({url:"/passport/web/cancel/user_check/",method:"GET"})}cancelCheck(e){return this._sdk.cancel.checkIfPass(e)}cancelConfirm(e){return this._sdk.cancel.confirm(e)}constructor(e){this._sdk=e}}},470289:function(e,t,n){"use strict";var r,i,o,s;n.d(t,{k:function(){return i}}),(o=r||(r={}))[o.bad_params=4]="bad_params",o[o.no_permission=16]="no_permission",(s=i||(i={}))[s.Mobile=1]="Mobile",s[s.Email=2]="Email",s[s.Username=3]="Username",s[s.ThirdParty=4]="ThirdParty"},414741:function(e,t,n){"use strict";n.d(t,{P:function(){return i}});var r=n(554269);class i{report(e){this.reporter.report("choose_profession_show",e)}constructor(){this.reporter=(0,r.y)()}}},416013:function(e,t,n){"use strict";n.d(t,{W:function(){return d},s:function(){return i}});var r,i,o=n(69984),s=n(764112),a=n(722169),l=n(804815),c=n(222248);(r=i||(i={})).info="info",r.warn="warn",r.error="error";var u={domain:l.Vj.slardar},d=new class{get sdk(){var e;if("undefined"!=typeof window)return null===(e=window)||void 0===e?void 0:e.ccWebSlardar}init(e){var t;this._initEnv(),null===(t=this.sdk)||void 0===t||t.call(this,"init",(0,s._)((0,o._)({},u,e),{plugins:(0,o._)({fetch:{extraExtractor:(e,t)=>(0,c.I)(e,t)},ajax:{extraExtractor:(e,t)=>(0,c.I)(e,t)}},e.plugins)}))}start(){var e;null===(e=this.sdk)||void 0===e||e.call(this,"start")}config(e){var t;null===(t=this.sdk)||void 0===t||t.call(this,"config",e)}error(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=(null==i?void 0:i.level)?null==i?void 0:i.level:"warn",c=(0,a.isError)(t)?((n=Error(t.message)).name=t.name,n.stack=t.stack,n.message=t.message,n):Error(JSON.stringify(t)),{message:u}=c;c.message="\u3010Custom-Error\u3011:".concat(e,"-").concat(i.toGroup?"MoreDataInExternal":null==c?void 0:c.message),i.toGroup&&(Object.assign(i,{message:u}),delete i.toGroup),null===(r=this.sdk)||void 0===r||r.call(this,"captureException",c,(0,s._)((0,o._)({},i),{level:l}))}dataEvent(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(null==n?void 0:n.level)?null==n?void 0:n.level:"info",i=(0,a.pickBy)(n,a.isNumber);null===(t=this.sdk)||void 0===t||t.call(this,"sendEvent",{name:"\u3010Custom-Data\u3011: ".concat(e),metrics:i,categories:(0,s._)((0,o._)({},n),{level:r})})}log(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(null==n?void 0:n.level)?null==n?void 0:n.level:"info";null===(t=this.sdk)||void 0===t||t.call(this,"sendLog",{content:"\u3010Custom-Log\u3011: ".concat(e),level:r,extra:(0,o._)({},n)})}setCurrentBranch(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._setContext("branch",e)}_initEnv(){var e;"undefined"!=typeof window&&(this._setContext("branch",window._currentBranch),this._setContext("tag",window._tag),this._setContext("gray_config_key",window.__gray_config_key),this._setContext("lvweb_env",window.__lvweb_env),this._setContext("psm",window.__agw_psm),this._setContext("idc",null===(e=window.gfdatav1)||void 0===e?void 0:e.idc))}_setContext(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";n&&(null===(t=this.sdk)||void 0===t||t.call(this,"context.set",e,n))}}},607254:function(e,t,n){"use strict";n.d(t,{j4:function(){return w}});var r,i,o,s,a,l,c,u,d,h,f,p,v,g=n(461228),_=n(69984),m=n(806061),y=n(736951),S=n(37055),b=n(124656),E=n(911632),C=n(208282),T=n(91933),I=n(416013);(r=p||(p={}))[r.FILL_IN_BASE_INFO=0]="FILL_IN_BASE_INFO",r[r.ENTER_BIRTHDAY=1]="ENTER_BIRTHDAY",r[r.ENTER_VERIFICATION_CODE=2]="ENTER_VERIFICATION_CODE",r[r.FORGET_PWD_INFO=3]="FORGET_PWD_INFO",(i=v||(v={}))[i.FillInEmail=0]="FillInEmail",i[i.ResendEmail=1]="ResendEmail",i[i.ResetPwd=2]="ResetPwd";var w=(0,m.C)({id:"newEmailSignIn",initial:"signUp",context:{isBOE:!1,passport:()=>Promise.resolve(null),isNewSignupUser:!1,source:b.C.SignUp,currentWindow:0,email:"",password:"",birthday:"",region:"",code:"",ticket:"",sendCodetype:S.SEND_CODE_TYPE.REGISTER,resendEmailCodeCountDown:60,sendEmailCodeErrorCb:void 0,sendEmailCodeSuccessCb:void 0,verifyEmailCodeErrorCb:void 0,registerErrorCb:void 0,loginErrorCb:void 0,pageEnterFrom:"",currentPage:""},entry:"start",states:{signUp:{entry:"saveSignUpType",initial:"fillInRegisterInfo",states:{fillInRegisterInfo:{entry:(0,y.f0)({currentWindow:0}),on:{SEND_EMAIL_CODE:{target:"sendingEmailCode",actions:["reportSignUpAction"]},BACK_TO_FILL_REGISTER_INFO:{target:"fillInRegisterInfo"},SAVE_EMAIL:{actions:["saveEmail"]},SAVE_PASSWORD:{actions:"savePassword"}}},sendingEmailCode:{id:"sendingEmailCode",invoke:{id:"fetchSendEmailCode",src:"fetchSendEmailCode",onDone:{actions:["initCountDown"],target:"enterVerificationCode"},onError:{actions:"notifySendEmailCodeError"}},on:{BACK_TO_ENTER_CODE:"enterVerificationCode",BACK_TO_FILL_REGISTER_INFO:"fillInRegisterInfo"}},enterVerificationCode:{entry:(0,y.f0)({currentWindow:2}),initial:"countingDown",states:{countingDown:{invoke:{id:"execCountingDown",src:"execCountingDown"},on:{UPDATE_COUNT_DOWN:{actions:"updateCountDown"},COUNT_DOWN_ZERO:{target:"allowResendVerificationCode"}}},allowResendVerificationCode:{on:{RESEND:{target:"#sendingEmailCode"}}}},on:{VERIFY_EMAIL_CODE:{target:"verifyEmailCode",actions:["initVerifyEmailCodeErrorCb","initVerifyEmailCodeSuccessCb","reportConfirmCodeAction"]},SAVE_EMAIL_CODE:{actions:["saveEmailCode"]},ENTER_BIRTHDAY:{target:"enterBirthday"},BACK_TO_LOGIN:{target:"fillInRegisterInfo"}}},verifyEmailCode:{invoke:{id:"verifyEmailCode",src:"verifyEmailCode",onDone:{target:"enterBirthday",actions:["notifyVerifyEmailCodeSuccess","saveEmailTicket"]},onError:{target:"enterVerificationCode",actions:"notifyVerifyEmailCodeError"}}},enterBirthday:{entry:(0,y.f0)({currentWindow:1}),on:{CONFIRM_BIRTHDAY:{target:"registering",actions:["updateBirthday","reportConfirmBirthDayAction"]},RETURN_SIGN_IN:{target:"backToBasePage"},BACK_TO_ENTER_CODE:{target:"enterVerificationCode",actions:["clearBirthday"]}}},registering:{invoke:{id:"fetchEmailCodeRegister",src:"fetchEmailCodeRegister",onDone:[{actions:["notifySignSuccess","storeIsNewSignupUser"],target:"#signInPending",cond:"isBusinessPlatform"},{actions:["notifySignSuccess","storeIsNewSignupUser"],target:"#signInSuccess"}],onError:{actions:["notifyRegisterError","reportRegisterError",(0,y.lj)((e,t)=>{var n,r;return{type:"SIGN_IN_FAIL",params:{source:b.C.SignUp,type:"email",errorCode:null==t?void 0:null===(n=t.data)||void 0===n?void 0:n.errro_code,errorMsg:null==t?void 0:null===(r=t.data)||void 0===r?void 0:r.description}}})],target:"enterBirthday"}}},backToBasePage:{entry:(0,y.f0)({currentWindow:0})}}},signIn:{entry:"saveSignInType",initial:"fillInSignInInfo",states:{fillInSignInInfo:{entry:(0,y.f0)({currentWindow:0}),on:{CONFIRM_SIGN:{target:"signing",actions:["reportLoginAction"]},SAVE_EMAIL:{actions:"saveEmail"},SAVE_PASSWORD:{actions:"savePassword"},RESTORE_ACCOUNT:{target:"restore"}}},signing:{entry:"saveSignInInfo",invoke:{id:"fetchEmailCodeLogin",src:"fetchEmailCodeLogin",onDone:{actions:["notifySignSuccess"],target:"#signInSuccess"},onError:{actions:["notifyLogInError","reportLoginError",(0,y.lj)((e,t)=>{var n,r,i;return{type:"SIGN_IN_FAIL",params:{source:b.C.LoginIn,type:"email",errorCode:null==t?void 0:null===(n=t.data)||void 0===n?void 0:n.error_code,errorMsg:null==t?void 0:null===(r=t.data)||void 0===r?void 0:r.description,verifyTicket:null==t?void 0:null===(i=t.data)||void 0===i?void 0:i.verify_ticket}}})],target:"fillInSignInInfo"}}},restore:{entry:"saveSignInInfo",invoke:{id:"fetchRestoreAccount",src:"fetchRestoreAccount",onDone:{actions:["notifySignSuccess"],target:"#signInSuccess"},onError:{actions:["notifyLogInError"],target:"fillInSignInInfo"}}}}},signInPending:{id:"signInPending",entry:(0,y.lj)(e=>({type:"SIGN_IN_SUCCESS",params:{source:e.source,type:"email",isLoginNewUser:e.isNewSignupUser?1:0},extra:{isNewSignupUser:e.isNewSignupUser}})),on:{BACK_TO_ENTER_CODE:{target:"signUp.enterVerificationCode",actions:["clearBirthday"]},CONFIRM_BIRTHDAY:{actions:(0,y.lj)(()=>({type:"SIGN_IN"}))},CONFIRM_SIGN:{actions:(0,y.lj)(()=>({type:"SIGN_IN"}))}}},signInSuccess:{id:"signInSuccess",type:"final",entry:(0,y.lj)(e=>({type:"SIGN_IN_SUCCESS",params:{source:e.source,type:"email",isLoginNewUser:e.isNewSignupUser?1:0},extra:{isNewSignupUser:e.isNewSignupUser}}))},forgetPwd:{entry:"saveForgetType",initial:"idle",states:{idle:{on:{TO_SEND_RESET_EMAIL_INFO:{target:"fillInResetEmailInfo",actions:["reportFillInResetEmailInfo","initSendEmailInfo"]},TO_RESET_PASSWORD:{actions:"initResetEmailCodeErrorCb",target:"checkResetCode"},SAVE_PWD_CODE:{actions:["initSaveCodeAndEmail"]}}},fillInResetEmailInfo:{id:"fillInResetEmailInfo",on:{SEND_EMAIL:{actions:["reportForgetPasswordSaveEmail"],target:"sendResetEmailCode"},SAVE_EMAIL:{actions:["saveEmail"]},BACK_SIGN_IN:{actions:["reportBack"]},INIT_RESET_EMAIL_ERROR_CB:{actions:["initResetEmailErrorCb"]}}},sendResetEmailCode:{id:"sendResetEmailCode",invoke:{id:"fetchSendResetEmailCode",src:"fetchSendResetEmailCode",onDone:{actions:["intoResendEmailProcess"],target:"resetTimeCounting"},onError:{target:"fillInResetEmailInfo"}}},resetTimeCounting:{initial:"countingDown",entry:"initCountDown",states:{countingDown:{invoke:{id:"execCountingDown",src:"execCountingDown"},on:{SAVE_EMAIL:{actions:["saveEmail","reportForgetPasswordSaveEmail"]},UPDATE_COUNT_DOWN:{actions:"updateCountDown"},COUNT_DOWN_ZERO:{target:"allowResendResetEmail"},BACK_SIGN_IN:{actions:["reportBack"]},TO_SEND_RESET_EMAIL_INFO:{target:"#fillInResetEmailInfo",actions:["reportFillInResetEmailInfo","initSendEmailInfo"]}}},allowResendResetEmail:{on:{SAVE_EMAIL:{actions:["saveEmail","reportForgetPasswordSaveEmail"]},RESEND:{actions:["reportResendEmail"],target:"#sendResetEmailCode"},BACK_SIGN_IN:{actions:["reportBack"]}}}},on:{BACK_SIGN_IN:{actions:["reportBack"]}}},checkResetCode:{invoke:{id:"checkResetCode",src:"checkResetCode",onDone:{target:"resetPassword",actions:["saveTicket","intoResetPwdProcess"]},onError:{actions:["cleanEmail","notifyCheckResetCodeError"]}}},resetPassword:{on:{CONFIRM_PASSWORD:{target:"sendConfirmReset"},BACK_SIGN_IN:{actions:["cleanEmail","reportBack"]},INIT_RESET_SUCCESS_CB:{actions:["initResestSuccessCb"]}}},sendConfirmReset:{invoke:{id:"execSendConfirmReset",src:"execSendConfirmReset",onDone:{target:"#signInSuccess",actions:["reportSendConfirmResetPwd","notifyResetSuccessCb"]},onError:{actions:"notifySendConfirmResetError"}}}}}},on:{CHECK_EMAIL_HAS_REGISTER:{actions:"checkEmailHasRegister"},MOBILE_TO_SIGN_IN:{target:"signIn",actions:["reportChangeToLoginPage","reportLoginPageShow"]},MOBILE_TO_SIGN_UP:{target:"signUp",actions:["reportChangeToSignUpPage","reportSignUpPageShow"]},MOBILE_TO_SIGN_IN_EMAIL:{target:"signIn"},MOBILE_TO_SIGN_UP_EMAIL:{target:"signUp"},TO_SIGN_IN:{target:"signIn",actions:["reportLoginPageShow"]},TO_SIGN_UP:{target:"signUp",actions:["reportSignUpPageShow"]},TO_FORGET_PWD:{target:"forgetPwd"},INIT_REGISTER_ERROR_CB:{actions:"initRegisterErrorCb"},INIT_LOGIN_ERROR_CB:{actions:"initLoginErrorCb"},INIT_SEND_CODE_ERROR_CB:{actions:"initSendEmailCodeErrorCb"},INIT_LOGIN_SUCCESS_CB:{actions:"initLoginSuccessCb"},INIT_EMAIL_SEND_PARAMS:{actions:"initEmailSendParams"},REPORT_SIGN_IN_ACTION:{actions:(0,y.lj)((e,t)=>({type:"SIGN_IN_ACTION",params:{source:e.source,action:t.action}}))},CHANGE_CONTEXT:{actions:["changeContext"]}}},{actions:{start:()=>{},saveSignInType:(0,y.f0)({source:e=>b.C.LoginIn}),saveSignUpType:(0,y.f0)({source:e=>b.C.SignUp}),saveForgetType:(0,y.f0)({source:e=>b.C.LoginIn,currentWindow:e=>3}),saveSignInInfo:(0,y.f0)({email:(e,t)=>{var n;return null===(n=t.email)||void 0===n?void 0:n.trim()},password:(e,t)=>t.password}),saveEmail:(0,y.f0)({email:(e,t)=>{var n;return null===(n=t.email)||void 0===n?void 0:n.trim()}}),savePassword:(0,y.f0)({password:(e,t)=>t.password}),saveEmailCode:(0,y.f0)({emailCode:(e,t)=>t.emailCode}),saveEmailTicket:(0,y.f0)({emailTicket:(e,t)=>t.data.email_ticket}),saveStep:(0,y.f0)({step:(e,t)=>t.step}),saveTicket:(0,y.f0)({ticket:(e,t)=>t.data.ticket}),storeIsNewSignupUser:(0,y.f0)({isNewSignupUser:(e,t)=>!0}),initSaveCodeAndEmail:(0,y.f0)({code:(e,t)=>t.code,email:(e,t)=>{var n;return null===(n=t.email)||void 0===n?void 0:n.trim()}}),initRegisterErrorCb:(0,y.f0)({registerErrorCb:(e,t)=>t.func}),initLoginErrorCb:(0,y.f0)({loginErrorCb:(e,t)=>t.func}),initSendEmailCodeErrorCb:(0,y.f0)({sendEmailCodeErrorCb:(e,t)=>t.func}),initVerifyEmailCodeErrorCb:(0,y.f0)({verifyEmailCodeErrorCb:(e,t)=>t.onError}),initVerifyEmailCodeSuccessCb:(0,y.f0)({verifyEmailCodeSuccessCb:(e,t)=>t.onPass}),initLoginSuccessCb:(0,y.f0)({loginSuccessCb:(e,t)=>t.func}),initResetEmailErrorCb:(0,y.f0)({sendResetEmailErrorCb:(e,t)=>t.func}),initResestSuccessCb:(0,y.f0)({sendResetSuccessCb:(e,t)=>t.func}),initResetEmailCodeErrorCb:(0,y.f0)({validateResetEmailCodeCb:(e,t)=>t.func}),initEmailSendParams:(0,y.f0)({pageEnterFrom:(e,t)=>t.pageEnterFrom,currentPage:(e,t)=>t.currentPage}),initSendEmailInfo:(0,y.f0)({step:e=>0}),notifyResetSuccessCb:e=>{var t;null===(t=e.sendResetSuccessCb)||void 0===t||t.call(e)},notifySendResetEmailCodeError:()=>{},notifySendEmailCodeError:(e,t)=>{var n;null===(n=e.sendEmailCodeErrorCb)||void 0===n||n.call(e,{data:Error(t.data.error_code)})},notifyVerifyEmailCodeError:(e,t)=>{var n;null===(n=e.verifyEmailCodeErrorCb)||void 0===n||n.call(e,{data:Error(t.data.error_code)})},notifyVerifyEmailCodeSuccess:(e,t)=>{var n;null===(n=e.verifyEmailCodeSuccessCb)||void 0===n||n.call(e,t)},notifySendEmailCodeSuccess:e=>{var t;null===(t=e.sendEmailCodeSuccessCb)||void 0===t||t.call(e)},initCountDown:(0,y.f0)({resendEmailCodeCountDown:()=>60}),notifyVerificationCodeError:e=>{var t;null===(t=e.verificationCodeErrorCb)||void 0===t||t.call(e)},notifyLogInError:(e,t)=>{var n,r;null==e||null===(r=e.loginErrorCb)||void 0===r||r.call(e,{data:Error(t.data.error_code)},null===(n=t.data)||void 0===n?void 0:n.token)},reportLoginError:(e,t)=>{var n,r;I.W.error("login-error",Error(JSON.stringify({errorCode:null==t?void 0:null===(n=t.data)||void 0===n?void 0:n.error_code,errorMsg:null==t?void 0:null===(r=t.data)||void 0===r?void 0:r.description})))},reportRegisterError:(e,t)=>{var n,r;I.W.error("register-error",Error(JSON.stringify({errorCode:null==t?void 0:null===(n=t.data)||void 0===n?void 0:n.error_code,errorMsg:null==t?void 0:null===(r=t.data)||void 0===r?void 0:r.description})))},notifyRegisterError:(e,t)=>{var n;null==e||null===(n=e.registerErrorCb)||void 0===n||n.call(e,{data:Error(t.data.error_code)})},notifySignSuccess:e=>{var t;null==e||null===(t=e.loginSuccessCb)||void 0===t||t.call(e)},notifyCheckResetCodeError:e=>{var t;null==e||null===(t=e.validateResetEmailCodeCb)||void 0===t||t.call(e)},updateCountDown:(0,y.f0)({resendEmailCodeCountDown:(e,t)=>t.data}),reportLoginPageShow:(0,y.lj)({type:"SIGN_IN_ACTION",params:{source:b.C.LoginIn,action:"show"}}),reportSignUpPageShow:(0,y.lj)({type:"SIGN_IN_ACTION",params:{source:b.C.SignUp,action:"show"}}),reportChangeToLoginPage:(0,y.lj)({type:"SIGN_IN_ACTION",params:{source:b.C.SignUp,action:"log_in"}}),reportChangeToSignUpPage:(0,y.lj)({type:"SIGN_IN_ACTION",params:{source:b.C.LoginIn,action:"sign_up"}}),changeContext:(0,y.f0)((e,t)=>(0,_._)({},e,t.context)),reportLoginAction:(0,y.lj)({type:"SIGN_IN_ACTION",params:{source:b.C.LoginIn,action:"log_in",actionType:"confirm"}}),reportSignUpAction:(0,y.lj)({type:"SIGN_IN_ACTION",params:{source:b.C.SignUp,action:"sign_up",actionType:"confirm"}}),reportSignUpConfirmAction:(0,y.lj)({type:"SIGN_IN_ACTION",params:{source:b.C.SignUp,action:"confirm"}}),reportConfirmCodeAction:(0,y.lj)({type:"SIGN_IN_ACTION",params:{source:b.C.SignUp,action:"signup_confirm_code"}}),reportConfirmBirthDayAction:(0,y.lj)({type:"SIGN_IN_ACTION",params:{source:b.C.SignUp,action:"age_gate_continue"}}),reportFillInResetEmailInfo:(0,y.lj)({type:"SIGN_IN_ACTION",params:{source:b.C.LoginIn,action:"forgot_password"}}),reportSendEmail:(0,y.lj)({type:"SIGN_IN_ACTION",params:{source:b.C.LoginIn,action:"forgot_password_confirm_email"}}),reportBack:(0,y.lj)({type:"SIGN_IN_ACTION",params:{source:b.C.LoginIn,action:"back"}}),reportForgetPasswordSaveEmail:(0,y.lj)({type:"SIGN_IN_ACTION",params:{source:b.C.LoginIn,action:"forgot_password_confirm_email"}}),reportResendEmail:(0,y.lj)({type:"SIGN_IN_ACTION",params:{source:b.C.LoginIn,action:"resend_email"}}),reportSendConfirmResetPwd:(0,y.lj)({type:"SIGN_IN_ACTION",params:{source:b.C.LoginIn,action:"confirm_password"}}),syncGetParentContext:(0,y.lj)({type:"SYNC_CONTEXT"}),updateBirthday:(0,y.f0)({birthday:(e,t)=>t.value,region:(e,t)=>t.region}),clearBirthday:(0,y.f0)({birthday:()=>""}),cleanEmail:(0,y.f0)({email:()=>""}),intoResendEmailProcess:(0,y.f0)({step:e=>1}),intoResetPwdProcess:(0,y.f0)({step:e=>2}),checkEmailHasRegister:(o=(0,g._)(function*(e,t){var n,{passport:r}=e,{email:i,checkEmailHasRegisterCb:o,onError:s}=t;null===(n=yield r())||void 0===n||n.checkEmailHasRegister(i).then(e=>{if((null==e?void 0:e.is_registered)===void 0)throw Error("checkEmailHasRegister error");null==o||o(!!(null==e?void 0:e.is_registered))}).catch(()=>{null==s||s()})}),function(e,t){return o.apply(this,arguments)})},services:{fetchSendEmailCode:(s=(0,g._)(function*(e,t){var n,{email:r,password:i,passport:o}=e;return null===(n=yield o())||void 0===n?void 0:n.sendEmailCode(r,i,null==t?void 0:t.code)}),function(e,t){return s.apply(this,arguments)}),verifyEmailCode:(a=(0,g._)(function*(e,t){var n,{email:r,passport:i}=e;return null===(n=yield i())||void 0===n?void 0:n.emailCodeVerify(r,t.emailCode)}),function(e,t){return a.apply(this,arguments)}),fetchEmailCodeRegister:(l=(0,g._)(function*(e){var t,{email:n,password:r,birthday:i,emailCode:o,emailTicket:s,region:a,passport:l,invitedCode:c}=e;return null===(t=yield l())||void 0===t?void 0:t.emailRegister(n,r,null!=o?o:"",i,a,{emailTicket:s,invitedCode:c})}),function(e){return l.apply(this,arguments)}),fetchEmailCodeLogin:(c=(0,g._)(function*(e){var t,{email:n,password:r,passport:i}=e;return null===(t=yield i())||void 0===t?void 0:t.emailLogin(n,r)}),function(e){return c.apply(this,arguments)}),fetchRestoreAccount:(u=(0,g._)(function*(e,t){var n,r,{passport:i,currentPage:o}=e;try{yield null===(n=yield i())||void 0===n?void 0:n.cancelLogin(null==t?void 0:t.token,null==t?void 0:t.restoreType),new E.g().report({status:"success",current_page:o||"login"})}catch(e){throw new E.g().report({status:"failed",current_page:o||"login",fail_reason:null!==(r=null==e?void 0:e.description)&&void 0!==r?r:void 0}),Error(e)}}),function(e,t){return u.apply(this,arguments)}),execCountingDown:e=>{var{resendEmailCodeCountDown:t}=e;return e=>{var n=t;if(0===n){e("COUNT_DOWN_ZERO");return}var r=setInterval(()=>{e({type:"UPDATE_COUNT_DOWN",data:--n}),0===n&&(clearInterval(r),e("COUNT_DOWN_ZERO"))},1e3);return()=>{clearInterval(r)}}},fetchSendResetEmailCode:(d=(0,g._)(function*(e){var t,{email:n,passport:r,sendResetEmailErrorCb:i,pageEnterFrom:o,currentPage:s}=e,a="".concat(window.location.origin).concat(C.l.FORGET_PWD.PATH,"?enter_from=").concat(null!=o?o:"","&current_page=").concat(null!=s?s:"");return null===(t=yield r())||void 0===t?void 0:t.sendForgetPwdEmailCode(n,a).then(e=>e,e=>{throw null==i||i(e),Error()})}),function(e){return d.apply(this,arguments)}),checkResetCode:(h=(0,g._)(function*(e){var t,{email:n,code:r,passport:i}=e;return null===(t=yield i())||void 0===t?void 0:t.validateForgetPwdCode(n,r||"")}),function(e){return h.apply(this,arguments)}),execSendConfirmReset:(f=(0,g._)(function*(e,t){var n,{ticket:r,passport:i}=e;return null===(n=yield i())||void 0===n?void 0:n.resetForgetPwd(r,t.pwd)}),function(e,t){return f.apply(this,arguments)})},guards:{isBusinessPlatform:e=>e.appId===T._S.commerce}})},52102:function(e,t,n){"use strict";n.d(t,{jr:function(){return c}}),n(722169);var r=n(91933),i="capcutpc_bing",o="capcutpc_web_bing",s="capcutpc_youtube",a="capcutpc_web_youtube",l="359289";function c(e){var t,n,c=function(e){var{utm_medium:t,utm_source:n,ad_platform_id:c,gclid:u,pid:d,msclkid:h}=e;if("youtube"===n){if(d===r.yM.APP_ID)return a;if(d===l)return s}if(u){if(d===r.yM.APP_ID)return"capcutpc_web_google";if(d===l)return"google"}if(h&&"bingads_int"===c){if(d===r.yM.APP_ID)return o;if(d===l)return i}return"string"==typeof t&&"string"==typeof n&&"referral"===t?n:"channel_default"}((t=new URLSearchParams(window.location.originParams||location.search),n={},t.forEach((e,t)=>{n[t]=e}),n));return c===o||c===i?"Bing-".concat(e):c===s||c===a?"YTB-".concat(e):e}},565640:function(e,t,n){"use strict";var r,i,o,s,a,l,c,u;n.d(t,{g1:function(){return s}}),(a=r||(r={}))[a.QuickBrush=0]="QuickBrush",a[a.QuickEraser=1]="QuickEraser",a[a.Brush=2]="Brush",a[a.Eraser=3]="Eraser",(l=i||(i={}))[l.OnlyMask=0]="OnlyMask",l[l.ResultPng=1]="ResultPng",l[l.ResultWebp=2]="ResultWebp",l[l.ResultJpgAndAlphaPng=3]="ResultJpgAndAlphaPng",(c=o||(o={}))[c.EverCloud=1]="EverCloud",c[c.ImageXUri=2]="ImageXUri",c[c.YkItemId=3]="YkItemId",c[c.ImageUrl=4]="ImageUrl",c[c.ImageBase64=5]="ImageBase64",(u=s||(s={}))[u.EverPhoto=1]="EverPhoto",u[u.ImageX=2]="ImageX",u[u.Yk=3]="Yk",u[u.CommonURL=4]="CommonURL",u[u.Raw=5]="Raw",u[u.BrandImage=7]="BrandImage"},96564:function(e,t,n){"use strict";n.d(t,{I:function(){return r.I}}),n(186010);var r=n(260667);n(135125)},342240:function(e,t,n){"use strict";n.d(t,{Ln:function(){return o}});var r=n(460198);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:96;return e/(2.54/t)}function o(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],{width:n,height:o}=e;return e.unit===r.fb.CM&&(n=i(e.width),o=i(e.height)),t&&(n=Math.round(n),o=Math.round(o)),{width:n,height:o,unit:r.fb.PX}}},112202:function(e,t,n){"use strict";n.d(t,{H:function(){return s}});var r=n(461228),i=n(356340),o=n(640712);class s extends i.x{get fileType(){return this._fileType}done(){return new Promise((e,t)=>{if(this.result){"success"===this.result.status?e(this.result):t(this.result);return}this.finishListenQueue.push([e,t])})}cancel(){var e=this;return(0,r._)(function*(){return yield e.sdk.sdk.cancel_upload(e.requestId)})()}destroy(){super.destroy(),this.finishListenQueue=[],this.sdk.eventBus.removeListener(o.zW.UploadIdle,this.onIdleHandler),this.sdk.eventBus.removeListener(o.zW.UploadProgress,this.onProgressHandler),this.sdk.eventBus.removeListener(o.zW.UploadFinish,this.onFinishHandler)}_onUploadMetaReadyHandler(e){var t;null===(t=this.onUploadMetaReady)||void 0===t||t.call(this,{uploadId:e.upload_id,md5:e.md5})}_onIdleHandler(e){var t;null===(t=this.onIdle)||void 0===t||t.call(this,e)}_onProgressHandler(e){var t;null===(t=this.onProgress)||void 0===t||t.call(this,{total:e.bytes_total,done:e.bytes_done,md5:e.md5})}_onFinishHandler(e){var t=this;return(0,r._)(function*(){var n;if(e.completed){var r,i=e.asset_id,o=e.entry_id;if(!i){if(o)try{i=(yield t.sdk.getEntryAsset(o,!0)).id}catch(n){i=(yield t.sdk.getAssetByMd5(e.md5)).id}else i=(yield t.sdk.getAssetByMd5(e.md5)).id}if(t._autoPromote){if(i)try{yield t.sdk.dependencies.apiFunc.promoteAsset({assetId:i,spaceId:t.sdk.spaceId,workspaceId:t._workspaceId})}catch(e){t.result={status:"error",errInfo:{code:-1,msg:"asset promote failure, cause:".concat(null==e?void 0:e.message)}}}else t.result={status:"error",errInfo:{code:-1,msg:"asset id is not found, could not promote"}}}(null===(r=t.result)||void 0===r?void 0:r.status)!=="error"&&(t.result={status:"success",fileId:i,md5:e.md5,entry:e.entry,entryId:o})}else e.cancelled?t.result={status:"cancel"}:t.result={status:"error",errInfo:{code:e.error_info.code,msg:e.error_info.message,message:e.error_info.message}};for(var s of t.finishListenQueue)"success"===t.result.status?s[0](t.result):s[1](t.result);null===(n=t.onFinish)||void 0===n||n.call(t,t.result),t.destroy()})()}eventFilter(e){return t=>{var{request_id:n}=t;n===this.requestId&&e(t)}}constructor({requestId:e,fileType:t,autoPromote:n,workspaceId:r},i){super(e,i),this._autoPromote=!1,this.finishListenQueue=[],this._fileType=t,this._autoPromote=n,this._workspaceId=r,this.onIdleHandler=this.eventFilter(this._onIdleHandler.bind(this)),this.onUploadMetaReadyHandler=this.eventFilter(this._onUploadMetaReadyHandler.bind(this)),this.onProgressHandler=this.eventFilter(this._onProgressHandler.bind(this)),this.onFinishHandler=this.eventFilter(this._onFinishHandler.bind(this)),this.sdk.eventBus.addListener(o.zW.UploadIdle,this.onIdleHandler),this.sdk.eventBus.addListener(o.zW.UploadMetaReady,this.onUploadMetaReadyHandler),this.sdk.eventBus.addListener(o.zW.UploadProgress,this.onProgressHandler),this.sdk.eventBus.addListener(o.zW.UploadFinish,this.onFinishHandler)}}},5141:function(){"use strict";var e,t;(t=e||(e={}))[t.UGC=1]="UGC",t[t.PGC=2]="PGC",t[t.UGC_CN=3]="UGC_CN",t[t.AIGC=4]="AIGC",t[t.SUPPLIER=5]="SUPPLIER"},612019:function(e,t,n){"use strict";n.d(t,{e:function(){return o}});var r=n(268364),i=n(85482);class o{static getKeyCode(e){var{keyCode:t}=e;return i.vU&&(t===r.yl.EQUAL?t=r.VD.EQUAL:t===r.yl.MINUS&&(t=r.VD.MINUS)),t}static getAssistKey(e){var t=0;return i.V5||i.YX?t+=(e.altKey?r.N9.ALT:0)+(e.shiftKey?r.N9.SHIFT:0)+(e.ctrlKey?r.N9.CTRL_MAC:0)+(e.metaKey?r.N9.COMMAND:0):t+=(e.altKey?r.N9.ALT:0)+(e.shiftKey?r.N9.SHIFT:0)+(e.ctrlKey?r.N9.CTRL_WIN:0)+(e.metaKey?r.N9.WIN:0),t}}},714269:function(e,t,n){"use strict";n.d(t,{l:function(){return l}});var r=n(789786),i=n(37011),o=n(68624),s=n(963730);class a{get loaded(){return this._service.loaded}getInstance(e){return this._service.getInstance(e)}preload(){this._service.preload()}constructor(e,t,n){this._instantiationService=n,this._service=this._instantiationService.createInstance(e,...t),(0,o.n)(()=>this._service.preload())}}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new s.M(a,[e,t])}a=(0,r.gn)([(0,r.fM)(2,i.T),(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[Function,Array,void 0===i.T?Object:i.T])],a)},646334:function(e,t,n){"use strict";function r(e){return e}function i(e){}function o(e,t){}function s(e){}n.d(t,{E7:function(){return s},FN:function(){return r},PB:function(){return o},U9:function(){return i}})},153100:function(e,t,n){"use strict";var r,i;n.d(t,{q:function(){return r}}),(i=r||(r={}))[i.ImmediatePriority=0]="ImmediatePriority",i[i.UserBlockingPriority=1]="UserBlockingPriority",i[i.NormalPriority=2]="NormalPriority",i[i.LowPriority=3]="LowPriority",i[i.IdlePriority=4]="IdlePriority"},520118:function(e,t,n){"use strict";n.d(t,{I:function(){return d}});var r=n(577729),i=n(963473),o=n(658742),s=n(980014),a=n(408541),l=n(939051),c=n(399573),u=n(374609);class d extends r.JT{get id(){return this._id}get _notificationService(){return this._options.notificationService}get fromWorkspaceId(){return this._fromWorkspaceId}get toWorkspaceId(){return this._toWorkspaceId}get fromFolderId(){return this._fromFolderId}get toFolderId(){return this._toFolderId}get hasBeenRemoved(){return this._hasBeenRemoved}_updateFromWorkspaceId(e){this._fromWorkspaceId=e}_updateToWorkspaceId(e){this._toWorkspaceId=e}_updateFromFolderId(e){this._fromWorkspaceId=e}_updateToFolderId(e){this._toFolderId=e}cancelUpload(){this.dispose()}delete(){return this._onDidDelete.fire(),this.dispose(),Promise.resolve((0,i.ly)())}get status(){return this._status}updateToWorkspaceId(e){var t;if(!this.hasBeenRemoved&&this.toWorkspaceId!==e&&(this._updateToWorkspaceId(e),null===(t=this.onAfterUpdateToWorkspaceId)||void 0===t||t.call(this),this.fromWorkspaceId!==this.toWorkspaceId))switch(this.status){case l.a.Success:case l.a.WaitForSync2UserMaterial:this._updateStatus(l.a.WaitForSync2UserMaterial),this.sync2UserMaterial();break;case l.a.Syncing2UserMaterial:case l.a.Sync2UserMaterialFailure:this.cancelSync2UserMaterial(),this._updateStatus(l.a.WaitForSync2UserMaterial),this.sync2UserMaterial()}}updateToWorkspaceIdAndFolderId(e){var{workspaceId:t,folderId:n}=e;!this.hasBeenRemoved&&this.toFolderId!==n&&(this._updateToFolderId(n),this.fromFolderId!==this.toFolderId&&this.updateToWorkspaceId(t))}onAfterUpdateToWorkspaceId(){}_fireModelUpdate(){!this._hasBeenMd5Setted&&this.md5&&(this._hasBeenMd5Setted=!0,this._onDidMd5Set.fire()),this._onModelUpdate.fire(this.getModel())}addModelToDraft(e){return this._options.addModelToDraft(e)}dispose(){this._hasBeenRemoved=!0,this._onDidRemove.fire(),super.dispose()}_genSyncResultChecker(){var e=this.fromWorkspaceId,t=this.toWorkspaceId;return()=>e===this.fromWorkspaceId&&t===this.toWorkspaceId}_fireResourceReady(){this._onResourceReady.fire()}constructor(e){super(),this._options=e,this._hasBeenFireResourceReady=!1,this._hasBeenMd5Setted=!1,this._hasBeenRemoved=!1,this._status=l.a.Unknown,this._onDidMd5Set=this._store.add(new o.Q),this.onDidMd5Set=e=>{if(!this.md5)return this._onDidMd5Set.event(e);var t=!1;return setTimeout(()=>{t||e()}),{dispose:()=>{t=!0}}},this._onPrepareStart=this._store.add(new o.Q),this.onPrepareStart=this._onPrepareStart.event,this._onDidPrepare=this._store.add(new o.Q),this.onDidPrepare=this._onDidPrepare.event,this._onPrepareFailure=this._store.add(new o.Q),this.onPrepareFailure=e=>{var t=!1;this.status===l.a.PrepareFailure&&setTimeout(()=>{var n;t||e(null===(n=this.getModel().preparing)||void 0===n?void 0:n.error)});var n=this._onPrepareFailure.event(e);return{dispose:()=>{t=!0,n.dispose()}}},this._onUploadStart=this._store.add(new o.Q),this.onUploadStart=this._onUploadStart.event,this._onDidCancelUpload=this._store.add(new o.Q),this.onDidCancelUpload=this._onDidCancelUpload.event,this._onUploadFailure=this._store.add(new o.Q),this.onUploadFailure=e=>{var t=!1;this.status===l.a.UploadFailure&&setTimeout(()=>{var n;t||e(null===(n=this.getModel().uploading)||void 0===n?void 0:n.error)});var n=this._onUploadFailure.event(e);return{dispose:()=>{t=!0,n.dispose()}}},this._onDidUpload=this._store.add(new o.Q),this.onDidUpload=e=>{if(!(0,c.p)(this))return this._onDidUpload.event(e);var t=!1;return setTimeout(()=>{t||e()}),{dispose:()=>{t=!0}}},this._onTranscoding=this._store.add(new o.Q),this.onTranscoding=this._onTranscoding.event,this._onDidTranscode=this._store.add(new o.Q),this.onDidTranscode=this._onDidTranscode.event,this._onTranscodeFailure=this._store.add(new o.Q),this.onTranscodeFailure=e=>{var t=!1;this.status===l.a.TranscodeFailure&&setTimeout(()=>{var n;t||e(null===(n=this.getModel().transcoding)||void 0===n?void 0:n.error)});var n=this._onTranscodeFailure.event(e);return{dispose:()=>{t=!0,n.dispose()}}},this._onSyncing2UserMaterial=this._store.add(new o.Q),this.onSyncing2UserMaterial=this._onSyncing2UserMaterial.event,this._onDidSync2UserMaterial=this._store.add(new o.Q),this.onDidSync2UserMaterial=this._onDidSync2UserMaterial.event,this._onSync2UserMaterialFailure=this._store.add(new o.Q),this.onSync2UserMaterialFailure=e=>{var t=!1;this.status===l.a.Sync2UserMaterialFailure&&setTimeout(()=>{var n;t||e(null===(n=this.getModel().syncingUserMaterial)||void 0===n?void 0:n.error)});var n=this._onSync2UserMaterialFailure.event(e);return{dispose:()=>{t=!0,n.dispose()}}},this._onModelUpdate=this._store.add(new o.Q),this.onModelUpdate=this._onModelUpdate.event,this._onDidUnDone=this._store.add(new o.Q),this.onDidUnDone=this._onDidUnDone.event,this._onResourceReady=this._store.add(new o.Q),this.onResourceReady=e=>{if(!(0,u.f)(this.getModel()))return this._onResourceReady.event(e);var t=!1;return setTimeout(()=>{t||e()}),{dispose:()=>{t=!0}}},this._onDidDone=this._store.add(new o.Q),this.onDidDone=e=>{var t=this._onDidDone.event(e);if(this.status!==l.a.Success)return t;var n=!1;return setTimeout(()=>{n||e()}),{dispose:()=>{n=!0,t.dispose()}}},this._onDidDelete=this._store.add(new o.Q),this.onDidDelete=this._onDidDelete.event,this._onDidRemove=this._store.add(new o.Q),this.onDidRemove=this._onDidRemove.event,this._updateStatus=(e,t)=>{if(!this.hasBeenRemoved&&this._status!==e){var n=this._status;switch(this._status=e,n===l.a.Success&&this._onDidUnDone.fire(),this._fireModelUpdate(),e){case l.a.Preparing:this._onPrepareStart.fire();break;case l.a.Prepared:this._onDidPrepare.fire();break;case l.a.PrepareFailure:this._onPrepareFailure.fire(null==t?void 0:t.errInfo);break;case l.a.Uploading:this._onUploadStart.fire();break;case l.a.Uploaded:this._onDidUpload.fire();break;case l.a.UploadFailure:this._onUploadFailure.fire(null==t?void 0:t.errInfo);break;case l.a.Transcoding:this._onTranscoding.fire();break;case l.a.Transcoded:this._onDidTranscode.fire();break;case l.a.TranscodeFailure:this._onTranscodeFailure.fire(null==t?void 0:t.errInfo);break;case l.a.Syncing2UserMaterial:this._onSyncing2UserMaterial.fire();break;case l.a.Synced2UserMaterial:this._onDidSync2UserMaterial.fire();break;case l.a.Sync2UserMaterialFailure:this._onSync2UserMaterialFailure.fire(null==t?void 0:t.errInfo);break;case l.a.Success:this._fireResourceReady(),this._onDidDone.fire();break;case l.a.WaitForSync2UserMaterial:this._fireResourceReady();break;case l.a.WaitingUpload:break;case l.a.Unknown:(0,s.ss)();default:(0,s.bP)(e,"impossible way, not found status")}}},this._id=(0,a.Rl)(),this._fromWorkspaceId=this._options.fromWorkspaceId,this._toWorkspaceId=this._options.toWorkspaceId,this._fromFolderId=this._options.fromFolderId,this._toFolderId=this._options.toFolderId}}},898075:function(e,t,n){"use strict";n.d(t,{I:function(){return m}});var r=n(461228),i=n(69984),o=n(764112),s=n(963473),a=n(548946),l=n(818351),c=n(442317),u=n(842327),d=n(939051),h=n(167154),f=n(123951),p=n(85624),v=n(474465),g=n(102322),_=n(555827);class m{get _updateStatus(){return this._handler.updateStatus}get _updateModel(){return this._handler.updateModel}get _delete(){return this._handler.delete}get uploading(){return this._uploading}get _notificationService(){return this._params.notificationService}bootstrap(e){Object.entries(e.events).forEach(e=>{var[t,n]=e;this._uploading[t]=n}),this._handler=e.handler,this._getFileBlobUrl(this._params.file,this._handler.model().mime),this._analyzeFileInfo(this._params.file),this._generateCoverTrigger()}updateFromWorkspaceId(){}canRetryUpload(){return!!(this._handler.status()===d.a.UploadFailure&&this._params.file)}upload(){var e=this;return(0,r._)(function*(){if(e._mutex.tryLock()){if(e._handler.status()===d.a.Uploading){e._mutex.unLock();return}e._uploading.error=void 0,e._updateStatus(d.a.Uploading),(0,_.MI)()&&(yield(0,_.wO)());try{var{file:t}=e._params,n=yield e._params.publicSpaceUploadService.upload((0,o._)((0,i._)({},e._params.uploadParams),{file:t,onProgress:t=>{e.uploading.progress=t,e._handler.onProgress(t)},onFinish:t=>{if(!(0,_.qk)()){if(t.ok)e._updateModel({publicSpaceId:t.value.fileId,uri:t.value.uri}),e._updateStatus(d.a.Uploaded);else{switch(t.code){case u.F.Cancel:e._delete(),e.dispose();break;case u.F.Unknown:default:var n;null===(n=e._notificationService)||void 0===n||n.error(f.ZP.t("upload_failed",{},"upload failed"))}e._uploading.error=t,e._updateStatus(d.a.UploadFailure,{errInfo:t})}e._mutex.unLock()}}}));if(!n.ok){e._mutex.unLock(),e._uploading.error=n,e._updateStatus(d.a.UploadFailure,{errInfo:n});return}e._uploadTaskId=n.value}catch(t){e._mutex.unLock();var r,a=(0,s.wf)(-1,null!==(r=null==t?void 0:t.message)&&void 0!==r?r:"unexpected failure by calling upload");throw e._uploading.error=a,e._updateStatus(d.a.UploadFailure,{errInfo:a}),t}}})()}canCancelUpload(){return!!this._uploadTaskId}dispose(){var e;null===(e=this._quickImportAnalyzeTask)||void 0===e||e.cancel(),this._quickImportAnalyzeTask=void 0}_getFileBlobUrl(e,t){if(this._uploading){var n;this._uploading.originalBlobUrl=(0,p.S)(e),(null===(n=this._params.fastImportAnalyzeHelper)||void 0===n?void 0:n.isImageNeedCapture(t))||(this._uploading.blobUrl=this._uploading.originalBlobUrl,this._waitBlobUrlReadyDefer.resolve())}}_analyzeFileInfo(e){var t=this;return(0,r._)(function*(){var n=t._params.fastImportAnalyzeHelper;if(n){var r=n.getTask(e);t._quickImportAnalyzeTask=r;var i=yield r.done();if(!i.ok){t.uploading.isSupportFastImport=!1;var o=yield t._calcMd5(e);o.ok&&t._updateModel({key:o.value,md5:o.value});return}t._uploading.isSupportFastImport=!0,i.value.data&&t._updateModel(i.value.data),t._generateThumbTriggerBinder()}})()}_generateThumbTrigger(){var e=this;return(0,r._)(function*(){if(e._params){var{captureCoverAndThumbHelper:t}=e._params;if(t&&!e._hadGeneratedThumb){e._hadGeneratedThumb=!0;var{uploading:n}=e,r=e._handler.model();if(r.fileType===h.YB.Video&&(null==n?void 0:n.isSupportFastImport)&&(null==n?void 0:n.originalBlobUrl)){var i=yield null==t?void 0:t.getThumb({blobUrl:n.originalBlobUrl,fileType:r.fileType,duration:r.duration,size:{width:r.width,height:r.height}});!(0,g.n)(e._handler.model())&&i.ok&&e._updateModel({thumb:i.value})}}}})()}_generateCoverTrigger(){var e=this;return(0,r._)(function*(){var{captureCoverAndThumbHelper:t,fastImportAnalyzeHelper:n}=e._params;if(!t||e._hadGeneratedCover){e._uploading.supportPreview=!1;return}e._hadGeneratedCover=!0;var{uploading:r}=e,i=e._handler.model();if([h.YB.Video,h.YB.Image].includes(i.fileType)&&(null==r?void 0:r.originalBlobUrl)){var o,s,a,l=yield null==t?void 0:t.getCover({blobUrl:r.originalBlobUrl,fileType:i.fileType,mime:null!==(o=i.mime)&&void 0!==o?o:"",filename:i.filename});if(!(0,v.B)(e._handler.model())&&l.ok?(e._uploading.coverBlob=null===(s=l.value)||void 0===s?void 0:s.url,e._uploading.supportPreview=!0,e._updateModel({cover:l.value})):e._uploading.supportPreview=!1,null==n?void 0:n.isImageNeedCapture(i.mime)){if(l.ok){e._uploading.blobUrl=null===(a=l.value)||void 0===a?void 0:a.url,e._waitBlobUrlReadyDefer.resolve();return}e._waitBlobUrlReadyDefer.reject("Get blobUrl fail.")}}})()}_waitBlobUrlReady(){return this._waitBlobUrlReadyDefer.promise}_calcMd5(e){var t=this;return(0,r._)(function*(){return yield(yield t._params.fileCalcMd5Service.getInstance((0,a.fC)())).calcFileMd5(e)})()}constructor(e){this._params=e,this._mutex=new l.L,this._hadGeneratedThumb=!1,this._hadGeneratedCover=!1,this._generateThumbTriggerBinder=this._generateThumbTrigger.bind(this),this._generateCoverTriggerBinder=this._generateCoverTrigger.bind(this),this._waitBlobUrlReadyBinder=this._waitBlobUrlReady.bind(this),this._quickImportAnalyzeTask=void 0,this.cancelUpload=()=>{var e,t;this._uploadTaskId&&this._params.publicSpaceUploadService.cancel(this._uploadTaskId),null===(e=(t=this._handler).onCancelUpload)||void 0===e||e.call(t),this.dispose()},this._uploading={generateThumbTrigger:this._generateThumbTriggerBinder,generateCoverTrigger:this._generateCoverTriggerBinder,waitBlobUrlReady:this._waitBlobUrlReadyBinder,isSupportFastImport:!!this._params.fastImportAnalyzeHelper&&void 0,blobUrl:void 0,coverBlob:void 0,progress:0,file:this._params.file},this._waitBlobUrlReadyDefer=(0,c.PQ)()}}},125886:function(e,t,n){"use strict";n.d(t,{Aq:function(){return s.Aq},FL:function(){return r.F},NS:function(){return a.N},UG:function(){return i.U},fw:function(){return o.f},y9:function(){return l.y}});var r=n(690080),i=n(17636),o=n(433726),s=n(51156),a=n(96850),l=n(736420)},871386:function(e,t,n){"use strict";n(833094),n(509932)},498598:function(e,t,n){"use strict";n.d(t,{x:function(){return o}});var r=n(285348),i=n(824769),o=(e,t,n)=>{var{formSuite:o}=e,s=Array.from(o.values()),a={[r.NS.TikTok]:"tiktok",[r.NS.FacebookPage]:"facebook",[r.NS.Instagram]:"instagram"};return s.map((e,r)=>{var o,s,{authType:l,selectedAccounts:c,title:u,scheduleTime:d}=e.formData,{privacyLevel:h}=e.formData,f=null==c?void 0:c[0],p=t.getAccountById(f,l),v=n.find((e,t)=>t===r),g=(null==v?void 0:v.ok)?v.value.id:"";return{platform:a[l],accountId:f,accountName:null!==(s=null!==(o=null==p?void 0:p.username)&&void 0!==o?o:null==p?void 0:p.nickname)&&void 0!==s?s:"",caption:u,viewRange:String(h),scheduleId:g,isPostNow:"0",postDate:(0,i.i$)(d)}})}},164360:function(e,t,n){"use strict";n.d(t,{B:function(){return c.B},W:function(){return d}});var r=n(772322);n(529114);var i=n(595051),o=n(123951),s=n(3496),a=n(659179),l=n(188770),c=n(623863),u=n(167424),d=e=>{var{navToNext:t,reporter:n}=e;return(0,r.jsxs)("div",{className:u.Z.buttons,children:[(0,r.jsx)("img",{style:{width:"100%",height:139},src:globalThis.xssNamespace["lvweb/smart-tools"].filterUrl(l,null,{logType:"js.href/src",mode:"black",reportOnly:"all"}),alt:"media-publish"}),(0,r.jsx)(i.Z,{long:!0,className:u.Z.buttonTitle,type:"primary",icon:(0,r.jsx)(a.HF5,{size:20}),onClick:()=>{null==t||t(c.B.TikTok),null==n||n("publish")},children:o.ZP.t("bulk_post_export_button",{},"Publish")}),(0,r.jsx)(i.Z,{long:!0,className:u.Z.buttonTitle,icon:(0,r.jsx)(s.DjJ,{size:20}),onClick:()=>{null==t||t(c.B.Download),null==n||n("download")},children:o.ZP.t("cc_ecom_create_video_export_download",{},"Download")})]})}},336462:function(e,t,n){"use strict";n.d(t,{h:function(){return s}});var r=n(772322);n(218571);var i=n(390104),o=n(891215),s=e=>{var{titleIcon:t,title:n,onClose:s,actions:a=[i.Y.close],allowHide:l=!1,containerRef:c}=e;return(0,r.jsxs)("div",{className:o.Z.header,children:[(0,r.jsxs)("div",{className:o.Z.headerLeft,children:[t||null,(0,r.jsx)("span",{className:o.Z.headerLeftTitle,children:n})]}),(0,r.jsx)(i.e,{actions:a,handleAction:()=>{if(!(null==a?void 0:a.length)||a[0]!==i.Y.hide||!(null==c?void 0:c.current))return s();var e=c.current,t=document.getElementById("LvTaskWrapperTitleBarExportTask");if(t){var n=t.getBoundingClientRect(),r=n.top,o=window.innerWidth-n.right;e.style.transition="transform 0.3s ease, width 0.3s ease, height 0.3s ease",e.style.width="30px",e.style.height="30px",e.style.transform="translate(calc(50vw - ".concat(o,"px - 15px), calc(").concat(r,"px - 50vh + 15px))"),e.style.transformOrigin="center",setTimeout(s,300)}},allowHide:l})]})}},292113:function(e,t,n){"use strict";n.d(t,{G:function(){return m}});var r=n(772322);n(308423);var i=n(393755),o=n(853374),s=n(193320),a=n(860083),l=n(127844),c=n(123951),u=n(301649),d=n(824769),h=n(636771),f=n(439409),p=n(105789),v=n.n(p),g=(0,d.AK)(14),_=h._.map(e=>g[e]),m=(0,s.Pi)(e=>{var{extra:t}=e,{batchScheduleManager:n,authorizedAccounts:s}=(0,f.QZ)(),{tabKeys:d,activeTabKey:h}=n,p=d.length>1,g=e=>{h!==e&&n.switchActiveKey(e)},m=e=>{if(e===l.Hz)return(0,r.jsx)("div",{className:v()({[a.Z.separation]:p}),children:c.ZP.t("bulk_post_templates_tab",{},"template")},e);var t,{authType:i,account:d}=(0,l.hQ)(e),h=s.getAccountById(d,i);if(!h)return null;var f=null===(t=_.find(e=>(null==e?void 0:e.id)===h.type))||void 0===t?void 0:t.logo,g=(0,o.Q1)(e,n),m=!g||g.validateResult.validate;return(0,r.jsxs)("div",{className:a.Z.tabTitleWrapper,children:[(0,r.jsx)(u.yL,{style:{width:120,lineHeight:0},platformLogo:f,avatarLogo:h.avatar,name:h.username||h.nickname}),!m&&(0,r.jsx)("div",{className:a.Z.validateDot})]})};return(0,r.jsxs)("div",{className:a.Z.tabItems,children:[(0,r.jsx)(i.Z,{activeTab:h,onChange:e=>{g(e)},extra:t,children:d.map(e=>(0,r.jsx)(i.Z.TabPane,{title:m(e)},e))}),(0,r.jsx)("div",{className:a.Z.gradientItem})]})})},21945:function(e,t,n){"use strict";n.d(t,{T:function(){return l}});var r=n(789786),i=n(254845),o=n(577729),s=n(653889),a=n(203427);class l extends o.JT{get validateResult(){return this._validateResult}updateValidateMethod(e){this._validateMethod=e}validateImmediately(){this._doValidate()}_initEffect(){this._register((0,s.UQ)((0,i.EH)(this._doValidate)))}_validateResultUpdater(e){Object.keys(e).forEach(t=>{(0,a.v)(this._validateResult[t],e[t])||(this._validateResult[t]=e[t])})}constructor(e){super(),this._validateResult={},this._doValidate=()=>{Object.values(this._formData),Object.values(this._meta);var e=this._validateMethod({formData:this._formData,meta:this._meta});this._validateResultUpdater(e)};var{formData:t,meta:n,validate:r}=e;this._validateMethod=r,this._formData=t,this._meta=n,(0,i.rC)(this),this._initEffect()}}(0,r.gn)([i.LO,(0,r.w6)("design:type","undefined"==typeof IValidatorMethod?Object:IValidatorMethod)],l.prototype,"_validateMethod",void 0),(0,r.gn)([i.LO,(0,r.w6)("design:type","undefined"==typeof Result?Object:Result)],l.prototype,"_validateResult",void 0),(0,r.gn)([i.Fl,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[]),(0,r.w6)("design:returntype",void 0)],l.prototype,"validateResult",null),(0,r.gn)([i.aD,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",["undefined"==typeof IValidatorMethod?Object:IValidatorMethod]),(0,r.w6)("design:returntype",void 0)],l.prototype,"updateValidateMethod",null),(0,r.gn)([i.aD,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[]),(0,r.w6)("design:returntype",void 0)],l.prototype,"validateImmediately",null),(0,r.gn)([i.aD,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",["undefined"==typeof Partial?Object:Partial]),(0,r.w6)("design:returntype",void 0)],l.prototype,"_validateResultUpdater",null)},962604:function(e,t,n){"use strict";n.d(t,{Z:function(){return l},j:function(){return a}});var r=n(203427),i=n(254845);function o(e,t){var n={};return t.forEach(t=>{n[t]=e[t]}),n}function s(e,t,n){var r=Object.keys(t);return Object.keys(e).filter(e=>!n.includes(e)&&r.includes(e))}function a(e,t,n){var i=s(e,t,n),a=o(e,i),l=o(t,i);return(0,r.v)(a,l)}function l(e,t,n){var a=s(e,t,n),l=o(e,a),c=!1;return Object.keys(l).forEach(n=>{(0,r.v)(e[n],t[n])||(t[n]=(0,i.ZN)(l[n]),c=!0)}),c}},612059:function(e,t,n){"use strict";n.d(t,{b:function(){return r}});var r=new(n(181487)).t({size:100,maxAge:6e5})},342077:function(e,t,n){"use strict";n.d(t,{M:function(){return f}});var r=n(461228),i=n(574451),o=n(789786),s=n(577729),a=n(658742),l=n(781440),c=n(461644),u=n(111954),d=n(254845),h=n(116266);class f extends s.JT{get userResource(){return this._userResource}getVideoPlayer(e){var t=this;return(0,r._)(function*(){if(!e)return t._reset();(0,d.z)(()=>{t.observableData.isLoading=!0,t.observableData.isLoadError=!1});try{var n,r=yield t._everCloudHelper.getFileDetail(e),{url:o,key:s,fileName:a}=r,l=(0,i._)(r,["url","key","fileName"]);(0,d.z)(()=>{t.observableData.isLoading=!1}),t._userResource=l;var c=null===(n=t._workspaceService.workspaceList[0])||void 0===n?void 0:n.workspace_id;t._onChangeAssetVideo.fire({videoUrl:o,videoKey:s,assetId:e,workspaceId:null!=c?c:"",videoName:a})}catch(e){(0,d.z)(()=>{t.observableData.isLoadError=!0,t.observableData.isLoading=!1})}})()}_reset(){this._userResource=void 0,this.observableData.isLoading=!1,this.observableData.isLoadError=!1}constructor(e,t,n){super(),this._containerService=e,this._userMaterialsService=t,this._workspaceService=n,this._onChangeAssetVideo=this._register(new a.Q),this.observableData=(0,d.LO)({isLoading:!1,isLoadError:!1}),this.onChangeAssetVideo=this._onChangeAssetVideo.event,this._everCloudHelper=e.createInstance(h.U)}}(0,o.gn)([d.aD,(0,o.w6)("design:type",Function),(0,o.w6)("design:paramtypes",[]),(0,o.w6)("design:returntype",void 0)],f.prototype,"_reset",null),f=(0,o.gn)([(0,o.fM)(0,c.t),(0,o.fM)(1,l.b),(0,o.fM)(2,u.W),(0,o.w6)("design:type",Function),(0,o.w6)("design:paramtypes",[void 0===c.t?Object:c.t,void 0===l.b?Object:l.b,void 0===u.W?Object:u.W])],f)},853374:function(e,t,n){"use strict";n.d(t,{Hz:function(){return r.Hz},Mp:function(){return r.Mp},Q1:function(){return i.Q}}),n(487884),n(389215),n(104690);var r=n(127844);n(655421);var i=n(796241)},182033:function(e,t,n){"use strict";n.d(t,{S3:function(){return v},dh:function(){return o},ij:function(){return s}});var r,i,o,s,a=n(461228),l=n(789786),c=n(254845),u=n(285348),d=n(608476),h=n(364371),f=n(824769),p=n(980014);(r=o||(o={}))[r.Idle=0]="Idle",r[r.Loading=1]="Loading",r[r.Success=2]="Success",r[r.Failure=3]="Failure",(i=s||(s={}))[i.Normal=0]="Normal",i[i.Format=1]="Format",i[i.Size=2]="Size",i[i.Duration=3]="Duration",i[i.Ratio=4]="Ratio",i[i.Resolution=5]="Resolution";class v{get scheduleTask(){return this._observableData.scheduleTask}get selectAuthScopeType(){return this._observableData.selectAuthScopeType}get createTaskStatus(){return this._observableData.createTaskStatus}get updateTaskStatus(){return this._observableData.updateTaskStatus}get deleteTaskStatus(){return this._observableData.deleteTaskStatus}get draftTaskStatus(){return this._observableData.draftTaskStatus}get platformErrorType(){return this._observableData.platformErrorType}validateVideoInfo(e){if(e){var t=this._observableData.selectAuthScopeType,n=(0,f.e5)(t);(0,p.ZB)(n);var{subType:r,size:i,duration:o,width:s,height:a}=e;if(!(r&&i&&o)){(0,c.z)(()=>{this._observableData.platformErrorType=0});return}if(!n.format.includes(r)){(0,c.z)(()=>{this._observableData.platformErrorType=1});return}if(!(i<=n.sizeLimit)){(0,c.z)(()=>{this._observableData.platformErrorType=2});return}if(!(o>=n.minTime&&o<=n.maxTime)){(0,c.z)(()=>{this._observableData.platformErrorType=3});return}if(!(s>=n.minWidth&&a>=n.minHeight)&&t===u.NS.FacebookPage){(0,c.z)(()=>{this._observableData.platformErrorType=5});return}if(!(s/a<=n.maxRatio)&&t===u.NS.FacebookPage){(0,c.z)(()=>{this._observableData.platformErrorType=4});return}(0,c.z)(()=>{this._observableData.platformErrorType=0})}}createScheduleTask(e){var t=this;return(0,a._)(function*(){var n=n=>{e.actionType===d.Cf.CreatePublish?t._observableData.createTaskStatus=n:t._observableData.draftTaskStatus=n};(0,c.z)(()=>{n(1)});var r=yield t._scheduleDataService.create(e);return r.ok?(n(2),r.value):((0,c.z)(()=>{n(3)}),null)})()}updateScheduleTask(e){var t=this;return(0,a._)(function*(){(0,c.z)(()=>{t._observableData.updateTaskStatus=1});var n=yield t._scheduleDataService.update(e);return n.ok?(t._observableData.updateTaskStatus=2,n.value):((0,c.z)(()=>{t._observableData.updateTaskStatus=3}),null)})()}deleteScheduleTask(e){var t=this;return(0,a._)(function*(){return((0,c.z)(()=>{t._observableData.deleteTaskStatus=1}),(yield t._scheduleDataService.cancel(e)).ok)?(t._observableData.deleteTaskStatus=2,!0):((0,c.z)(()=>{t._observableData.deleteTaskStatus=3}),!1)})()}constructor(e,t){this._scheduleDataService=t,this._observableData=(0,c.LO)({createTaskStatus:0,updateTaskStatus:0,deleteTaskStatus:0,draftTaskStatus:0,selectAuthScopeType:u.NS.TikTok,platformErrorType:0,scheduleTask:void 0}),this.setAuthType=e=>{this._observableData.selectAuthScopeType=e},this.setAssetId=e=>{this._observableData.scheduleTask?this._observableData.scheduleTask.assetIdList=[e]:this._observableData.scheduleTask={assetIdList:[e]}},(null==e?void 0:e.scheduleTask)&&(this._observableData.scheduleTask=e.scheduleTask)}}v=(0,l.gn)([(0,l.fM)(1,h.c),(0,l.w6)("design:type",Function),(0,l.w6)("design:paramtypes",[Object,void 0===h.c?Object:h.c])],v)},738366:function(e,t,n){"use strict";n.d(t,{B:function(){return h}});var r=n(120965),i=n(312316),o=n(893526),s=n(758545),a=n(670415),l=n(453766),c=n(840485),u=n(824597),d=n(519914);function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en";switch(e){case"ja-JP":return d.Z;case"ko-KR":return i.Z;case"es-LA":return c.Z;case"pt-BR":return u.Z;case"fr-FR":return r.Z;case"id-ID":return o.Z;case"vi-VN":return s.Z;case"ms-MY":return a.Z;default:return l.Z}}},877472:function(e,t,n){"use strict";n.d(t,{n:function(){return g}});var r=n(461228),i=n(69984),o=n(764112),s=n(772322);n(529114),n(445175);var a=n(195265),l=n(595051),c=n(429907),u=n(218571),d=n(123951),h=n(590447),f=n(114570),p=n(608833),v=n(235137),g=e=>{var t,{productAnchorInfo:n,onClose:g,onConfirm:_}=e,{productLinkManager:m}=(0,u.useContext)(f.kn),{verifyContentResult:y,loadingVerifyContent:S,selectedProductName:b}=(0,v.k)(m,e=>{var t;return{loadingVerifyContent:e.loadingVerifyContent,verifyContentResult:e.verifyContentResult,selectedProductName:null===(t=e.selectedProduct)||void 0===t?void 0:t.name}}),[E,C]=(0,u.useState)("");(0,u.useEffect)(()=>{n.name!==b&&m.verifyProductContent({productName:n.name,platformType:p.d.TikTokShop})},[]);var{run:T}=(0,a.default)((t=(0,r._)(function*(e){C(e),yield m.verifyProductContent({productName:e,platformType:p.d.TikTokShop});var t=m.selectedProduct;m.setSelectedProduct((0,o._)((0,i._)({},t),{name:e}))}),function(e){return t.apply(this,arguments)}),500);function I(){return(I=(0,r._)(function*(){var e=yield m.verifyProductContent({productName:E,platformType:p.d.TikTokShop});(null==e?void 0:e.success)&&_(e)})).apply(this,arguments)}return(0,s.jsxs)("div",{className:h.Z.renameContainer,children:[(0,s.jsxs)("div",{className:h.Z.content,children:[(0,s.jsx)(c.Z,{defaultValue:n.name,onChange:T}),(0,s.jsx)("ul",{className:h.Z.list,children:!y.success&&(0,s.jsx)("li",{children:(0,s.jsx)("span",{className:h.Z.failedMessage,children:d.ZP.t((null==y?void 0:y.failedStarlingKey)||"",{},y.failedReason)||y.failedMessage})})})]}),(0,s.jsxs)("div",{className:h.Z.actionGroup,children:[(0,s.jsx)(l.Z,{type:"default",onClick:g,children:d.ZP.t("cc_ecom_publisher_schedule_cancel",{},"Cancel")}),(0,s.jsx)(l.Z,{type:"primary",loading:S,onClick:function(){return I.apply(this,arguments)},children:d.ZP.t("cc_ecom_publisher_schedule_add_link_new_name_save",{},"Save")})]})]})}},336584:function(e,t,n){"use strict";n.d(t,{V:function(){return r}});var r=(0,n(30276).yh)("product-link")},853904:function(e,t,n){"use strict";n.d(t,{o:function(){return p}});var r=n(772322);n(463844);var i=n(604641),o=n(279134),s=n(218571),a=n(429188),l=n(123951),c=n(115418),u=n(405634),d=n(871484),h=n(709944),f=n(68331),p=(0,a.Pi)(e=>{var{options:t,onRewrite:n,onWriteShorter:a,onWriteLonger:p,onGenerate:v,onClickOutside:g}=e,{showRewrite:_=!0,showWriteShorter:m=!0,showWriteLonger:y=!0,showGenerate:S=!0}=null!=t?t:{showRewrite:!0,showWriteShorter:!0,showWriteLonger:!0,showGenerate:!0},b=(0,s.useMemo)(()=>{var e=[];return _&&e.push({icon:(0,r.jsx)(c.r,{}),title:l.ZP.t("web_ai_writer_btn_rewrite",{},"Rewrite"),onClick:n}),m&&e.push({icon:(0,r.jsx)(u.r,{}),title:l.ZP.t("web_ai_writer_btn_shorten_text",{},"Write shorter"),onClick:a}),y&&e.push({icon:(0,r.jsx)(d.r,{}),title:l.ZP.t("web_ai_writer_btn_expand_text",{},"Writer longer"),onClick:p}),S&&e.push({icon:(0,r.jsx)(h.r,{}),title:l.ZP.t("web_ai_writer_btn_generate_script",{},"Generate script"),suffix:(0,r.jsx)("div",{className:f.Z.generate_suffix,children:"/"}),onClick:v}),e},[_,m,y,S,n,a,p,v]),E=(0,i.default)(void 0,()=>{null==g||g()});return(0,r.jsx)(o.Z,{ref:E,className:f.Z.menu,children:b.map(e=>(0,r.jsx)(o.Z.Item,{"data-smart-writer-outside":!1,onClick:e.onClick,children:(0,r.jsxs)("div",{className:f.Z.item,children:[(0,r.jsx)("div",{className:f.Z.icon_wrapper,children:e.icon}),(0,r.jsx)("div",{className:f.Z.title,children:e.title}),e.suffix]})},e.title))})})},625592:function(e,t,n){"use strict";n.d(t,{B:function(){return T},m:function(){return C}});var r=n(69984),i=n(764112),o=n(772322);n(445175),n(822289),n(334033),n(459360),n(463844),n(387346),n(529114);var s=n(429907),a=n(5622),l=n(196123),c=n(401725),u=n(279134),d=n(221489),h=n(595051),f=n(218571),p=n(105789),v=n.n(p),g=n(123951),_=n(239534),m=n(19556),y=n(659179),S=n(816752),b=n(619962),E=f.forwardRef((e,t)=>{var{title:n,onOk:r,afterClose:i}=e,[l,c]=(0,f.useState)(""),[u,d]=(0,f.useState)(!1),h=()=>{d(!0)};return(0,f.useImperativeHandle)(t,()=>({openModal:h})),(0,o.jsx)(a.Z,{title:n,visible:u,afterClose:i,onOk:()=>{null==r||r(l),d(!1)},onCancel:()=>{d(!1)},okButtonProps:{disabled:!l},okText:g.oc.t("web_ai_writer_btn_feedback_report_submit",{},"Submit"),cancelText:g.oc.t("web_ai_writer_btn_feedback_report_cancel",{},"Cancel"),closable:!1,children:(0,o.jsx)(s.Z.TextArea,{maxLength:500,onChange:c,showWordLimit:!0,style:{height:112}})})}),C=e=>{var{className:t,isActive:n,disabled:r=!1,dropListConfig:i,toolTipPosition:s,dropListPosition:a,showOther:l,onLike:p,onRemoveLike:_}=e,m=(0,f.useRef)(null),[S,C]=(0,f.useState)(!1),T=(0,o.jsxs)(u.Z,{className:b.Z["icon-btn-menu"],onClick:e=>e.stopPropagation(),children:[i.map(e=>(0,o.jsx)(u.Z.Item,{className:b.Z["icon-btn-menu-item"],onClick:()=>{null==p||p(e.value||e.key)},children:g.oc.t(e.key)},e.key)),l&&(0,o.jsx)(u.Z.Item,{className:b.Z["icon-btn-menu-item"],onClick:()=>{var e;null===(e=m.current)||void 0===e||e.openModal()},children:g.oc.t("web_ai_writer_reason_like_other_reason",{},"Other")},"other")]});return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(d.Z,{popupVisible:S,onVisibleChange:C,droplist:T,position:a,trigger:n||r?[]:"click",children:(0,o.jsx)(c.Z,{content:n?g.oc.t("web_ai_writer_hover_remove_like",{},"Unlike"):g.oc.t("web_smart_tools_button_like",{},"Like"),position:s,disabled:S||r,children:(0,o.jsx)(h.Z,{onClick:()=>{n&&(null==_||_())},className:v()(b.Z["icon-btn"],{[b.Z["icon-btn__disabled"]]:r},t),type:"secondary",icon:n?(0,o.jsx)(y.pXF,{size:20}):(0,o.jsx)(y.Pdx,{size:20})})})}),l&&(0,o.jsx)(E,{title:g.oc.t("web_s2v_title_like_video",{},"Tell us why you like this video"),onOk:e=>{null==p||p("other",e),C(!1)},ref:m})]})},T=e=>{var{className:t,isActive:n,disabled:s=!1,dropListConfig:a,toolTipPosition:p,dropListPosition:C,showOther:T,onDislike:I,onClickReport:w,onRemoveDislike:R,reporterParams:N}=e,A=(0,f.useRef)(null),[x,O]=(0,f.useState)(!1),k=(0,o.jsxs)(u.Z,{className:v()(b.Z["dislike-btn-menu"],b.Z["icon-btn-menu"]),onClick:e=>e.stopPropagation(),children:[(0,o.jsxs)("div",{className:b.Z["dislike-menu-inner-wrapper"],children:[a.map(e=>(0,o.jsx)(u.Z.Item,{className:b.Z["icon-btn-menu-item"],onClick:()=>{null==I||I(e.value||e.key)},children:g.oc.t(e.key)},e.key)),T&&(0,o.jsx)(u.Z.Item,{className:b.Z["icon-btn-menu-item"],onClick:()=>{var e;null===(e=A.current)||void 0===e||e.openModal()},children:g.oc.t("web_ai_writer_reason_dislike_other_reason",{},"Other")},"other")]}),N&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l.Z,{className:b.Z["menu-divider"]}),(0,o.jsx)("div",{className:b.Z["dislike-menu-inner-wrapper"],onClick:()=>null==w?void 0:w("report"),children:(0,o.jsx)(m.W,(0,i._)((0,r._)({},N),{cookieConsent:_.g,enableReporter:!0,domain:S._L.getVars(),children:(0,o.jsx)(u.Z.Item,{className:b.Z["icon-btn-menu-item"],children:g.oc.t("web_s2v_report_hover_report",{},"Report")},"report")}))})]})]});return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(d.Z,{droplist:k,position:C,trigger:n||s?[]:"click",popupVisible:x,onVisibleChange:O,children:(0,o.jsx)(c.Z,{content:n?g.oc.t("web_ai_writer_hover_remove_dislike",{},"Remove dislike"):g.oc.t("web_smart_tools_button_dislike",{},"Dislike"),position:p,disabled:x||s,children:(0,o.jsx)(h.Z,{onClick:()=>{n&&(null==R||R())},className:v()(b.Z["icon-btn"],{[b.Z["icon-btn__disabled"]]:s},t),type:"secondary",icon:n?(0,o.jsx)(y.UgH,{size:20}):(0,o.jsx)(y.VnY,{size:20})})})}),T&&(0,o.jsx)(E,{title:g.oc.t("web_s2v_title_dislike_video",{},"Tell us why you don\u2019t like this video"),onOk:e=>{null==I||I("other",e)},ref:A})]})}},955309:function(e,t,n){"use strict";n.d(t,{NG:function(){return o},lu:function(){return s}});var r=n(464830),i=n(778544);function o(e){return r._.updateCurrentZone({region:e}),r._.isAllowSync({scene:i.S.urlToVideo})}function s(e){return r._.updateCurrentZone({region:e}),r._.isAllowSync({scene:i.S.urlToVideo})}},202659:function(e,t,n){"use strict";n.d(t,{z:function(){return c}});var r=n(69984),i=n(764112),o=n(526599),s=n(230759),a=n(73734);class l{getEventParams(){var e,t=(0,s.f)();return(0,i._)((0,r._)({},t),{action:this._params.action,prompt:this._params.prompt,prompt_character_cnt:this._params.promptCharacterCnt,ai_writer_entrance:this._params.aiWriterEntrance,task_id:this._params.taskId,draft_id:this._params.draftId,task_type:this._params.taskType,task_language:this._params.taskLanguage,import_source:this._params.importSource,import_type:this._params.importType,size:this._params.size,format:this._params.format,duration:this._params.duration,resolution:this._params.resolution,from_tool_type:null!==(e=this._params.fromToolType)&&void 0!==e?e:t.from_tool_type,short_length:(0,a.S)(this._params.targetDuration),shorts_cnt:this._params.shortsCnt,shorts_location:this._params.shortsLocation,task_video_category:this._params.taskVideoCategory,task_video_subcategory:this._params.taskVideoSubCategory,caption_template_id:this._params.captionTemplateId,caption_template_name:this._params.captionTemplateName,caption_template_is_vip:this._params.captionTemplateIsVip})}constructor(e){this._params=e,this.eventName="smart_tool_page"}}function c(e,t){(0,o.K)(e,l,[t])}},521745:function(e,t,n){"use strict";n.d(t,{$_:function(){return i},gZ:function(){return o},g_:function(){return r}});var r="/",i="insertSlashContentByHandleV2",o="inline-trigger-v2"},707152:function(e,t,n){"use strict";n.d(t,{A:function(){return s}});var r=n(577729),i=n(556625),o=n(988441);class s extends r.JT{getTools(e){var t=[];switch(e){case i.o.Recommend:t=[o.o.URLToVideo,o.o.RemoveBackground,o.o.LongToShort,o.o.Resize,o.o.ImageToImage,o.o.TextToImage,o.o.ImageUpscaler,o.o.VideoUpscaler];break;case i.o.Video:t=[o.o.Autocut,o.o.TextToVideo,o.o.LongToShort,o.o.URLToVideo,o.o.Script,o.o.RemoveBackground,o.o.Resize,o.o.VideoUpscaler,o.o.VideoSlowMotion,o.o.VideoStabilization];break;case i.o.Image:t=[o.o.ImageToImage,o.o.TextToImage,o.o.ImageUpscaler,o.o.ImageStyleConversion,o.o.ImageStyleAvatar,o.o.ImageRestoration,o.o.ImageAiToning,o.o.ImageColoring,o.o.ImageNightEnhance];break;case i.o.Voice:t=[o.o.TextToSpeech,o.o.AudioVideoTranslator];break;default:t=[]}return t}constructor(...e){super(...e),this._serviceBrand=void 0}}},489941:function(e,t,n){"use strict";n.d(t,{V:function(){return _}});var r=n(69984),i=n(764112),o=n(980014),s=n(640712),a=n(481112),l=n(167154),c=n(619398),u=n(376851),d=n(79428),h=n(420645);function f(e){var t,n,r;return(0,a.jL)(null!==(n=null==e?void 0:e.meta)&&void 0!==n?n:{})&&(t=e.meta.key),{sourceType:l.ov.EverCloud,assetType:c.pS.Material,url:null!==(r=e.downloadUrl)&&void 0!==r?r:"",meta:e.sourceData.meta,key:e.md5,assetId:e.id,filename:e.name,fileType:l.YB.File,owner:e.owner,md5:e.md5,mime:e.mime,size:e.size,updatedAt:e.updatedAt,subType:e.subType,decryptKey:t}}function p(e){var t,n,o=(null==e?void 0:e.previewUrl)?{url:e.previewUrl,key:e.previewKey}:(0,u.i)(e.width,e.height),s=(null==e?void 0:e.sprit)?(0,h.Y)(e.sprit):(0,d.y)({url:null!==(t=e.previewUrl)&&void 0!==t?t:"",key:e.previewKey,width:e.width,height:e.height});return(0,i._)((0,r._)({},f(e)),{fileType:l.YB.Video,cover:o,width:e.width,height:e.height,duration:(null!==(n=e.duration)&&void 0!==n?n:0)/1e3,thumb:s,isVideoTranscoding:0===e.transcodeStatus})}function v(e){var t=Object.entries(e.imageTranscodeInfo||{}).reduce((e,t)=>{var[n,r]=t,{width:i,height:o,preview_url:s,key:a,status_code:l}=r;return 0===l&&s&&(e[n.endsWith("p")||"origin"===n?n:"".concat(n,"p")]={url:s,width:i,height:o,key:a}),e},{}),n=(()=>{if(e.previewUrl)return{url:e.previewUrl,key:e.previewKey};var n,r=null===(n=Object.values(t))||void 0===n?void 0:n[0];return r?{url:r.url,key:r.key}:(0,u.i)(e.width,e.height)})();return(0,i._)((0,r._)({},f(e)),{fileType:l.YB.Image,cover:n,width:e.width,height:e.height,isImgTranscoding:e.imageAsyncResize,imgTranscodeInfo:t})}function g(e){var t;return(0,i._)((0,r._)({},f(e)),{fileType:l.YB.Audio,duration:(null!==(t=e.duration)&&void 0!==t?t:0)/1e3,isAudioTranscoding:0===e.transcodeStatus})}function _(e){if((0,a.Ii)(e)){if((0,a.JI)(null==e?void 0:e.meta))switch(e.type){case"image":return v(e);case"video":return p(e);case"audio":return g(e)}return f(e)}return e instanceof s.qZ?p(e):e instanceof s.Lt?g(e):e instanceof s.or?v(e):e instanceof s.Is?f(e):void(0,o.ss)("no expect file type")}},695280:function(e,t,n){"use strict";n.d(t,{v:function(){return o}});var r=n(461228);class i{next(){var e=this;return(0,r._)(function*(){return(e._continue(),e._currentCursor=yield e._waiting,e._currentCursor)?{value:e._currentCursor,done:!1}:{value:e._currentCursor,done:!0}})()}[Symbol.asyncIterator](){return this}_updateWaiting(){this._waiting=new Promise(e=>{this._resolve=e})}_continue(){var e;this._updateWaiting(),null===(e=this._currentCursor)||void 0===e||e.continue()}constructor(e){this._request=e,this._currentCursor=null,this._request.onsuccess=()=>{this._resolve(this._request.result)},this._request.onerror=()=>{this._resolve(null)}}}function o(e,t,n){return new i(e.openCursor(t,n))}},516173:function(e,t,n){"use strict";n.d(t,{m:function(){return s}});var r=n(920077),i=n(461228),o=n(695280);class s{has(e){return new Promise((t,n)=>{var r=this._transaction.objectStore(this._storeName).openCursor(e);r.onerror=()=>{n(r.error)},r.onsuccess=()=>{t(!!r.result)}})}set(e,t){var n=this;return(0,i._)(function*(){var r=yield n.query(e);return r?t.createTime=r.createTime:t.createTime=Date.now(),t.updateTime=Date.now(),new Promise((e,r)=>{var i=n._transaction.objectStore(n._storeName).put(t);i.onerror=()=>{r(i.error)},i.onsuccess=()=>{e()}})})()}setMany(e){var t=[];for(var n of e)t.push(this.set(n.key,n.value));return new Promise((e,n)=>{Promise.all(t).then(()=>{e()}).catch(e=>{n(e)})})}delete(e){return new Promise((t,n)=>{var r=this._transaction.objectStore(this._storeName).delete(e);r.onerror=()=>{n(r.error)},r.onsuccess=()=>{t()}})}deleteMany(e){var t=[];for(var n of e)t.push(this.delete(n));return new Promise((e,n)=>{Promise.all(t).then(()=>{e()}).catch(e=>{n(e)})})}deleteByIndex(e,t){var n,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:IDBKeyRange.only(t),a=this;return new Promise((n=(0,i._)(function*(t,n){var i,l=a._transaction.objectStore(a._storeName).index(e),c=!1,u=!1;try{for(var d,h=(0,r._)((0,o.v)(l,s));c=!(d=yield h.next()).done;c=!1){var f=d.value;if(!f)break;f.delete()}}catch(e){u=!0,i=e}finally{try{c&&null!=h.return&&(yield h.return())}finally{if(u)throw i}}t()}),function(e,t){return n.apply(this,arguments)}))}query(e){return new Promise((t,n)=>{var r=this._transaction.objectStore(this._storeName).get(e);r.onerror=()=>{n(r.error)},r.onsuccess=()=>{t(this._handleResult(r.result))}})}queryMany(e){var t,n=function(e){i.push(t.query(e).then(t=>(t&&r.set(e,t),t)))},r=new Map,i=[];for(var o of e)t=this,n(o);return new Promise((e,t)=>{Promise.all(i).then(()=>{e(r)}).catch(e=>{t(e)})})}queryByIndex(e,t){var n,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:IDBKeyRange.only(t),a=this;return new Promise((n=(0,i._)(function*(t,n){var i,l=a._transaction.objectStore(a._storeName).index(e),c=[],u=!1,d=!1;try{for(var h,f=(0,r._)((0,o.v)(l,s));u=!(h=yield f.next()).done;u=!1){var p=h.value;if(!p)break;c.push(p.value)}}catch(e){d=!0,i=e}finally{try{u&&null!=f.return&&(yield f.return())}finally{if(d)throw i}}t(c)}),function(e,t){return n.apply(this,arguments)}))}queryByRange(e,t){var n,s=this;return new Promise((n=(0,i._)(function*(n,i){var a,l=s._transaction.objectStore(s._storeName).index(e),c=[],u=!1,d=!1;try{for(var h,f=(0,r._)((0,o.v)(l,t));u=!(h=yield f.next()).done;u=!1){var p=h.value;if(!p)break;c.push(p.value)}}catch(e){d=!0,a=e}finally{try{u&&null!=f.return&&(yield f.return())}finally{if(d)throw a}}n(c)}),function(e,t){return n.apply(this,arguments)}))}queryByConditions(e){var t,n=this;return new Promise((t=(0,i._)(function*(t,i){var s,a=n._transaction.objectStore(n._storeName),l=[],c=!1,u=!1;try{for(var d,h=(0,r._)((0,o.v)(a,null));c=!(d=yield h.next()).done;c=!1){var f=d.value;if(!f)break;e(f.value)&&l.push(f.value)}}catch(e){u=!0,s=e}finally{try{c&&null!=h.return&&(yield h.return())}finally{if(u)throw s}}t(l)}),function(e,n){return t.apply(this,arguments)}))}clear(){return new Promise((e,t)=>{var n=this._transaction.objectStore(this._storeName).clear();n.onerror=()=>{t(n.error)},n.onsuccess=()=>{e()}})}_handleResult(e){if(e&&(void 0===e.maxAge||!(e.updateTime+e.maxAge<Date.now())))return e}constructor(e,t){this._transaction=e,this._storeName=t}}},914334:function(e,t,n){"use strict";n.d(t,{d:function(){return l}});var r=n(461228),i=n(963473),o=n(393167),s=n(94252);class a extends o.fl{_makeFrameBuilder(e){return new s.X(this._video,this._canvas,this._ctx,e)}}function l(e,t){return c.apply(this,arguments)}function c(){return(c=(0,r._)(function*(e,t){var n=document.createElement("video");n.crossOrigin="anonymous",n.src=globalThis.xssNamespace["lvweb/smart-tools"].filterUrl(e,null,{logType:"js.href/src",mode:"black",reportOnly:"all"});var r=yield(0,o.$E)(n);return r.ok?(0,i.oW)(new a(n,t)):r})).apply(this,arguments)}},461644:function(e,t,n){"use strict";n.d(t,{t:function(){return o}});var r=n(30276),i=n(37011),o=(0,r.LO)(i.T)},815767:function(e,t,n){"use strict";n.d(t,{r:function(){return b}});var r=n(461228),i=n(69984),o=n(764112),s=n(789786),a=n(248176),l=n(327736),c=n(669403),u=n(977e3),d=n(816752),h=n(618230),f=n(963473),p=n(808282),v=n(123951),g=n(806797),_=n(743321),m=n(610306),y=n(530487),S=n(980134);class b{get _networkClient(){if(!this._networkClientInstance){var e;this._networkClientInstance=(e=new l.yk().build(l.kk),(0,c.i3)(e),(0,h.V)(e),e)}return this._networkClientInstance}batchGetResources(e){var t=this;return(0,r._)(function*(){try{var n,r,i=t._convertBatchGetResourcesParamsToRequest(e),o=yield t._doBatchGetResource(i),s=null===(n=o.BaseResp)||void 0===n?void 0:n.StatusCode,a=null===(r=o.BaseResp)||void 0===r?void 0:r.StatusMessage;if(0!==s)return(0,f.wf)(null!=s?s:-1,null!=a?a:"");var l=t.parseEffectsToResources(o.data);return(0,f.oW)({list:l})}catch(e){return(0,y.m)(e,-1,"batchGetResourcesByIds api error")}})()}_doBatchGetResource(e){return this._networkClient.post(this._batchApi,e,{withCredentials:!0})}_convertBatchGetResourcesParamsToRequest(e){var t=this._configurationService.abTestManager.getBooleanAbTestValue(_.o.NewTransitionEffectEnabled),n=this._environmentService.isAutoTest||t?u.Nb.New:u.Nb.Old,r=(0,o._)((0,i._)({appVersion:this._environmentService.appVersion,sdkVersion:S.f4,lang:v.ZP.language,region:this._accountService.userProfile.region},e.enterFrom?{enter_from:e.enterFrom}:void 0),{list:[{type:this._configurationService.resourcePanel[this.resourceType],ids:e.ids,appVersion:this._environmentService.appVersion}],cc_web_version:n}),s=this.buildCustomRequest(e);return(0,i._)({},r,s)}buildCustomRequest(e){return{}}get _batchApi(){return"".concat(d._L.getVar("web_domain")).concat(p.bl.GET_RESOURCE_BY_ID)}constructor(e,t,n){this._accountService=e,this._configurationService=t,this._environmentService=n}}b=(0,s.gn)([(0,s.fM)(0,a.Gw),(0,s.fM)(1,g.Ui),(0,s.fM)(2,m.Y),(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[void 0===a.Gw?Object:a.Gw,void 0===g.Ui?Object:g.Ui,void 0===m.Y?Object:m.Y])],b)},759794:function(e,t,n){"use strict";n.d(t,{GM:function(){return i}});var r=e=>e.startsWith("http://")||e.startsWith("https://")?e:"".concat(location.origin).concat(e),i=e=>new URL(r(e))},823894:function(e,t,n){"use strict";n.d(t,{o:function(){return o}});var r=n(461228),i=n(813072);function o(e){var t=null!=e?e:18e5,n=Date.now(),o=[];return function(e,s,a){var l,c,u=a.value;return a.value=(0,r._)(function*(){for(var e=arguments.length,r=Array(e),s=0;s<e;s++)r[s]=arguments[s];var a=(0,i.Z)(Array.from(r),o);if(a||(o=Array.from(r)),l&&a)return l;if(n+t>Date.now()&&c&&a)return c;c=void 0,l=u.apply(this,r);var d=yield l,[h]=d.pair();return!h&&t>0&&(c=d,n=Date.now()),l=void 0,d}),a}}},908983:function(e,t,n){"use strict";n.d(t,{Q:function(){return r}});var r=(0,n(30276).yh)("product-link-data-service")},599662:function(e,t,n){"use strict";n.d(t,{b:function(){return r}});var r={INTELLIGENT_QUOTA:"/lv/v1/intelligence/quota",INTELLIGENT_REPORT:"/lv/v1/intelligence/report",INTELLIGENT_FILE_LIST:"/lv/v1/asset/query"}},295542:function(e,t,n){"use strict";n.d(t,{b:function(){return r}});var r={DETECT_LANGUAGE:"/lv/v1/language/detect",TRANSLATE_LANGUAGE:"/lv/v1/language/translate"}},97825:function(e,t,n){"use strict";n.d(t,{G:function(){return o}}),(r=i||(i={}))[r.UNSPECIFIED=0]="UNSPECIFIED",r[r.AA=1]="AA",r[r.AB=2]="AB",r[r.AE=3]="AE",r[r.AF=4]="AF",r[r.AK=5]="AK",r[r.AM=6]="AM",r[r.AN=7]="AN",r[r.AR=8]="AR",r[r.AS=9]="AS",r[r.AV=10]="AV",r[r.AY=11]="AY",r[r.AZ=12]="AZ",r[r.BA=13]="BA",r[r.BE=14]="BE",r[r.BG=15]="BG",r[r.BH=16]="BH",r[r.BI=17]="BI",r[r.BM=18]="BM",r[r.BN=19]="BN",r[r.BO=20]="BO",r[r.BR=21]="BR",r[r.BS=22]="BS",r[r.CA=23]="CA",r[r.CE=24]="CE",r[r.CH=25]="CH",r[r.CO=26]="CO",r[r.CR=27]="CR",r[r.CS=28]="CS",r[r.CU=29]="CU",r[r.CV=30]="CV",r[r.CY=31]="CY",r[r.DA=32]="DA",r[r.DE=33]="DE",r[r.DV=34]="DV",r[r.DZ=35]="DZ",r[r.EE=36]="EE",r[r.EL=37]="EL",r[r.EN=38]="EN",r[r.EO=39]="EO",r[r.ES=40]="ES",r[r.ET=41]="ET",r[r.EU=42]="EU",r[r.FA=43]="FA",r[r.FF=44]="FF",r[r.FI=45]="FI",r[r.FJ=46]="FJ",r[r.FO=47]="FO",r[r.FR=48]="FR",r[r.FY=49]="FY",r[r.GA=50]="GA",r[r.GD=51]="GD",r[r.GL=52]="GL",r[r.GN=53]="GN",r[r.GU=54]="GU",r[r.GV=55]="GV",r[r.HA=56]="HA",r[r.HE=57]="HE",r[r.HI=58]="HI",r[r.HO=59]="HO",r[r.HR=60]="HR",r[r.HT=61]="HT",r[r.HU=62]="HU",r[r.HY=63]="HY",r[r.HZ=64]="HZ",r[r.IA=65]="IA",r[r.ID=66]="ID",r[r.IE=67]="IE",r[r.IG=68]="IG",r[r.II=69]="II",r[r.IK=70]="IK",r[r.IO=71]="IO",r[r.IS=72]="IS",r[r.IT=73]="IT",r[r.IU=74]="IU",r[r.JA=75]="JA",r[r.JV=76]="JV",r[r.KA=77]="KA",r[r.KG=78]="KG",r[r.KI=79]="KI",r[r.KJ=80]="KJ",r[r.KK=81]="KK",r[r.KL=82]="KL",r[r.KM=83]="KM",r[r.KN=84]="KN",r[r.KO=85]="KO",r[r.KR=86]="KR",r[r.KS=87]="KS",r[r.KU=88]="KU",r[r.KV=89]="KV",r[r.KW=90]="KW",r[r.KY=91]="KY",r[r.LA=92]="LA",r[r.LB=93]="LB",r[r.LG=94]="LG",r[r.LI=95]="LI",r[r.LN=96]="LN",r[r.LO=97]="LO",r[r.LT=98]="LT",r[r.LU=99]="LU",r[r.LV=100]="LV",r[r.MG=101]="MG",r[r.MH=102]="MH",r[r.MI=103]="MI",r[r.MK=104]="MK",r[r.ML=105]="ML",r[r.MN=106]="MN",r[r.MO=107]="MO",r[r.MR=108]="MR",r[r.MS=109]="MS",r[r.MT=110]="MT",r[r.MY=111]="MY",r[r.NA=112]="NA",r[r.NB=113]="NB",r[r.ND=114]="ND",r[r.NE=115]="NE",r[r.NG=116]="NG",r[r.NL=117]="NL",r[r.NN=118]="NN",r[r.NO=119]="NO",r[r.NR=120]="NR",r[r.NV=121]="NV",r[r.NY=122]="NY",r[r.OC=123]="OC",r[r.OJ=124]="OJ",r[r.OM=125]="OM",r[r.OR=126]="OR",r[r.OS=127]="OS",r[r.PA=128]="PA",r[r.PI=129]="PI",r[r.PL=130]="PL",r[r.PS=131]="PS",r[r.PT=132]="PT",r[r.QU=133]="QU",r[r.RM=134]="RM",r[r.RN=135]="RN",r[r.RO=136]="RO",r[r.RU=137]="RU",r[r.RW=138]="RW",r[r.SA=139]="SA",r[r.SC=140]="SC",r[r.SD=141]="SD",r[r.SE=142]="SE",r[r.SG=143]="SG",r[r.SH=144]="SH",r[r.SI=145]="SI",r[r.SK=146]="SK",r[r.SL=147]="SL",r[r.SM=148]="SM",r[r.SN=149]="SN",r[r.SO=150]="SO",r[r.SQ=151]="SQ",r[r.SR=152]="SR",r[r.SS=153]="SS",r[r.ST=154]="ST",r[r.SU=155]="SU",r[r.SV=156]="SV",r[r.SW=157]="SW",r[r.TA=158]="TA",r[r.TE=159]="TE",r[r.TG=160]="TG",r[r.TH=161]="TH",r[r.TI=162]="TI",r[r.TK=163]="TK",r[r.TL=164]="TL",r[r.TN=165]="TN",r[r.TO=166]="TO",r[r.TR=167]="TR",r[r.TS=168]="TS",r[r.TT=169]="TT",r[r.TW=170]="TW",r[r.TY=171]="TY",r[r.UG=172]="UG",r[r.UK=173]="UK",r[r.UR=174]="UR",r[r.UZ=175]="UZ",r[r.VE=176]="VE",r[r.VI=177]="VI",r[r.VO=178]="VO",r[r.WA=179]="WA",r[r.WO=180]="WO",r[r.XH=181]="XH",r[r.YI=182]="YI",r[r.YO=183]="YO",r[r.ZA=184]="ZA",r[r.ZH=185]="ZH",r[r.ZU=186]="ZU",r[r.HI_LATN=1001]="HI_LATN",r[r.ZH_HANT=1002]="ZH_HANT",r[r.CEB=2001]="CEB",r[r.CKB=2002]="CKB",r[r.KMR=2003]="KMR",r[r.UMB=2004]="UMB",r[r.NSO=2005]="NSO",r[r.KAM=2006]="KAM",r[r.LUO=2007]="LUO",r[r.FUV=2008]="FUV",r[r.LZH=3001]="LZH",r[r.ZH_HANT_HK=1003]="ZH_HANT_HK",r[r.ZH_HANT_TW=1004]="ZH_HANT_TW";var r,i,o={0:"unspecified",1:"aa",2:"ab",3:"ae",4:"af",5:"ak",6:"am",7:"an",8:"ar",9:"as",10:"av",11:"ay",12:"az",13:"ba",14:"be",15:"bg",16:"bh",17:"bi",18:"bm",19:"bn",20:"bo",21:"br",22:"bs",23:"ca",24:"ce",25:"ch",26:"co",27:"cr",28:"cs",29:"cu",30:"cv",31:"cy",32:"da",33:"de",34:"dv",35:"dz",36:"ee",37:"el",38:"en",39:"eo",40:"es",41:"et",42:"eu",43:"fa",44:"ff",45:"fi",46:"fj",47:"fo",48:"fr",49:"fy",50:"ga",51:"gd",52:"gl",53:"gn",54:"gu",55:"gv",56:"ha",57:"he",58:"hi",59:"ho",60:"hr",61:"ht",62:"hu",63:"hy",64:"hz",65:"ia",66:"id",67:"ie",68:"ig",69:"ii",70:"ik",71:"io",72:"is",73:"it",74:"iu",75:"ja",76:"jv",77:"ka",78:"kg",79:"ki",80:"kj",81:"kk",82:"kl",83:"km",84:"kn",85:"ko",86:"kr",87:"ks",88:"ku",89:"kv",90:"kw",91:"ky",92:"la",93:"lb",94:"lg",95:"li",96:"ln",97:"lo",98:"lt",99:"lu",100:"lv",101:"mg",102:"mh",103:"mi",104:"mk",105:"ml",106:"mn",107:"mo",108:"mr",109:"ms",110:"mt",111:"my",112:"na",113:"nb",114:"nd",115:"ne",116:"ng",117:"nl",118:"nn",119:"no",120:"nr",121:"nv",122:"ny",123:"oc",124:"oj",125:"om",126:"or",127:"os",128:"pa",129:"pi",130:"pl",131:"ps",132:"pt",133:"qu",134:"rm",135:"rn",136:"ro",137:"ru",138:"rw",139:"sa",140:"sc",141:"sd",142:"se",143:"sg",144:"sh",145:"si",146:"sk",147:"sl",148:"sm",149:"sn",150:"so",151:"sq",152:"sr",153:"ss",154:"st",155:"su",156:"sv",157:"sw",158:"ta",159:"te",160:"tg",161:"th",162:"ti",163:"tk",164:"tl",165:"tn",166:"to",167:"tr",168:"ts",169:"tt",170:"tw",171:"ty",172:"ug",173:"uk",174:"ur",175:"uz",176:"ve",177:"vi",178:"vo",179:"wa",180:"wo",181:"xh",182:"yi",183:"yo",184:"za",185:"zh",186:"zu",1001:"hi-Latn",1002:"zh-Hant",1004:"zh-Hant-TW",1003:"zh-Hant-HK",2001:"ceb",2002:"ckb",2003:"kmr",2004:"umb",2005:"nso",2006:"kam",2007:"luo",2008:"fuv",3001:"lzh"}},620874:function(e,t,n){"use strict";n.d(t,{g:function(){return i},p:function(){return s}});var r,i,o=n(30276);(r=i||(i={}))[r.Trending=0]="Trending",r[r.Hook=1]="Hook",r[r.Engaging=2]="Engaging",r[r.WellStructure=3]="WellStructure",r[r.OnTopic=4]="OnTopic",r[r.Highlight=5]="Highlight";var s=(0,o.yh)("intelligent-data-service")},704885:function(e,t,n){"use strict";n.d(t,{X:function(){return p}});var r=n(789786),i=n(577729),o=n(37011),s=n(597646),a=n(747865),l=n(101930),c=n(395981),u=n(437965),d=n(964312),h=n(142152),f=n(189596);class p extends i.JT{getTone(e,t){return t===s.i.Heycan?this._heycanToneRepository.getResources(e):this._toneRepository.getResources(e)}batchGetTonesByIds(e,t){return t===s.i.Heycan?this._getHeycanToneByIdsRepository.batchGetResources({resourceIds:e.ids}):this._batchGetToneRepository.batchGetResources(e)}getToneCategories(e,t){return t===s.i.Heycan?this._getHeycanToneCategoriesRepository.getCategories(e):this._getToneCategoriesRepository.getCategories(e)}getHeycanToneThirdPartyByIds(e){return this._getHeycanToneThirdPartyByIdRepository.getHeycanToneByIds(e)}constructor(e={},t){super(),this._options=e,this._instantiationService=t,this._toneRepository=this._instantiationService.createInstance(c.i),this._batchGetToneRepository=this._instantiationService.createInstance(a.h),this._getToneCategoriesRepository=this._instantiationService.createInstance(l.Y),this._heycanToneRepository=this._instantiationService.createInstance(u.l),this._getHeycanToneCategoriesRepository=this._instantiationService.createInstance(d.D),this._getHeycanToneByIdsRepository=this._instantiationService.createInstance(h.I),this._getHeycanToneThirdPartyByIdRepository=this._instantiationService.createInstance(f.s),this._options.fixedRegion&&(this._heycanToneRepository.setFixedRegion(this._options.fixedRegion),this._getHeycanToneCategoriesRepository.setFixedRegion(this._options.fixedRegion))}}p=(0,r.gn)([(0,r.fM)(1,o.T),(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[Object,void 0===o.T?Object:o.T])],p)},897317:function(e,t,n){"use strict";n.d(t,{Y:function(){return i},x:function(){return s}});var r,i,o=n(30276);(r=i||(i={})).DEFAULT="default",r.TTS="tts",r.SAMI="sami",r.FRONTIER="frontier",r.COMMERCE="commerce",r.JIANYING="jianying";var s=(0,o.yh)("http-api-setting")},811855:function(e,t,n){"use strict";n.d(t,{R:function(){return a}});var r=n(789786),i=n(211928),o=n(762134),s=n(250047);class a extends o.B{getContentResourceToken(){return this._getResourceTokenSync(this._createContentToken.bind(this),()=>this._contentResourceToken,e=>this._contentResourceToken=e)}_createContentToken(e){var t=this._getContentResourceKey(),n=this.getContentUrl(e);return(0,s.tT)({key:t,url:n},this._downloadService,this.contentFileFilter)}_getContentResourceKey(){return"".concat(this.key,"_content")}constructor(e,t,n){super(e,t,n),this.key=e,this._downloadService=n}}a=(0,r.gn)([(0,r.fM)(2,i.tx),(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",["undefined"==typeof IResourceKey?Object:IResourceKey,"undefined"==typeof Resource?Object:Resource,void 0===i.tx?Object:i.tx])],a)},219382:function(e,t,n){"use strict";n.d(t,{z:()=>ey});let r=n("789786"),i=n("980014"),o=n("963730"),s=n("37011"),a=n("619398"),l=n("251164"),c=n("443062");class u extends l.e{createResource(e,t){return this._instantiationService.createInstance(new o.M(c.e,[e,t]))}constructor(e){super(e),this._instantiationService=e}}u=(0,r.gn)([(0,r.fM)(0,s.T),(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[void 0===s.T?Object:s.T])],u);let d=n("332100"),h=n("485584"),f=n("95775"),p=n("998733"),v=n("811383"),g=n("579110");class _ extends l.e{createResource(e,t){return this._instantiationService.createInstance(new o.M(g.W,[e,t]))}constructor(e){super(e),this._instantiationService=e}}_=(0,r.gn)([(0,r.fM)(0,s.T),(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[void 0===s.T?Object:s.T])],_);let m=n("635389"),y=n("986512"),S=n("766882"),b=n("837825"),E=n("721476");class C extends l.e{createResource(e,t){return this._instantiationService.createInstance(new o.M(E.r,[e,t]))}constructor(e){super(e),this._instantiationService=e}}C=(0,r.gn)([(0,r.fM)(0,s.T),(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[void 0===s.T?Object:s.T])],C);let T=n("215228"),I=n("266858"),w=n("420581"),R=n("350845"),N=n("285558"),A=n("328244"),x=n("359449"),O=n("337558"),k=n("166670"),P=n("112471"),D=n("639670");class M extends l.e{createResource(e,t){return this._instantiationService.createInstance(new o.M(D.C,[e,t]))}constructor(e){super(e),this._instantiationService=e}}M=(0,r.gn)([(0,r.fM)(0,s.T),(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[void 0===s.T?Object:s.T])],M);let L=n("505988"),U=n("323607"),F=n("355778"),j=n("314038"),B=n("303175"),V=n("454032"),H=n("536610"),G=n("911836"),z=n("760584"),Z=n("221354"),W=n("255171"),Y=n("101841"),K=n("627554"),X=n("815281"),q=n("3006"),Q=n("837860"),J=n("956499"),$=n("328441"),ee=n("74130"),et=n("614607"),en=n("617004"),er=n("399515"),ei=n("498242"),eo=n("704595");class es extends l.e{createResource(e,t){return this._instantiationService.createInstance(new o.M(eo.Y,[e,t]))}constructor(e){super(e),this._instantiationService=e}}es=(0,r.gn)([(0,r.fM)(0,s.T),(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[void 0===s.T?Object:s.T])],es);let ea=n("45263"),el=n("246607"),ec=n("284812"),eu=n("186112"),ed=n("318920"),eh=n("57568"),ef=n("370505"),ep=n("179723"),ev=n("933223"),eg=n("228676"),e_=n("187955");class em extends l.e{createResource(e,t){return this._instantiationService.createInstance(new o.M(e_.z,[e,t]))}constructor(e){super(e),this._instantiationService=e}}em=(0,r.gn)([(0,r.fM)(0,s.T),(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[void 0===s.T?Object:s.T])],em);class ey{add(e,t){this._getChildResourceService(t.type).add(e,t)}get(e,t){return this._getChildResourceService(t).get(e)}delete(e,t){this._getChildResourceService(t).delete(e,t)}_getChildResourceService(e){var t=this._childResourceServices.get(e);if(!t){var n=this._childResourceServiceCreator.get(e);if((0,i.Y2)(n,"".concat(e," ResourceService has not register yet. please register it at the resource service constructor!")),n instanceof Function){var r=n();t=this._instantiationService.createInstance(r)}else t=this._instantiationService.createInstance(...n);this._childResourceServices.set(e,t)}return t}_buildTextTemplateResourceServiceSyncDescriptorCreator(){return()=>{var e=[a._g.Font,a._g.Sticker,a._g.TextPreset,a._g.TextMotion,a._g.VideoMotion,a._g.StickerMotion,a._g.ShapeAnimation].map(e=>this._getChildResourceService(e));return new o.M(Z.U,e)}}_buildSubtitleTemplateResourceServiceSyncDescriptorCreator(){return()=>{var e=[a._g.Font,a._g.Sticker,a._g.TextPreset,a._g.TextMotion,a._g.VideoMotion,a._g.StickerMotion,a._g.ShapeAnimation].map(e=>this._getChildResourceService(e));return new o.M(ei.c,e)}}constructor(e){this._childResourceServiceCreator=new Map,this._childResourceServices=new Map,this._instantiationService=e,this._childResourceServiceCreator.set(a._g.TextTemplate,this._buildTextTemplateResourceServiceSyncDescriptorCreator()),this._childResourceServiceCreator.set(a._g.SubtitleTemplate,this._buildSubtitleTemplateResourceServiceSyncDescriptorCreator()),this._childResourceServiceCreator.set(a._g.Font,[k.S]),this._childResourceServiceCreator.set(a._g.Video,[u]),this._childResourceServiceCreator.set(a._g.Shape,[d.I]),this._childResourceServiceCreator.set(a._g.Photo,[f.y]),this._childResourceServiceCreator.set(a._g.Audio,[h.I]),this._childResourceServiceCreator.set(a._g.Mask,[m.C]),this._childResourceServiceCreator.set(a._g.Sticker,[P.K]),this._childResourceServiceCreator.set(a._g.VideoTemplate,[U.N]),this._childResourceServiceCreator.set(a._g.AutoBeautyBody,[N.v]),this._childResourceServiceCreator.set(a._g.AutoBeautyFace,[A.y]),this._childResourceServiceCreator.set(a._g.AutoBeautyShape,[x.F]),this._childResourceServiceCreator.set(a._g.AutoBeautyMakeup,[O._]),this._childResourceServiceCreator.set(a._g.Bubble,[Y.c]),this._childResourceServiceCreator.set(a._g.VideoBackground,[b.E]),this._childResourceServiceCreator.set(a._g.UserVideo,[C]),this._childResourceServiceCreator.set(a._g.UserPhoto,[R.o]),this._childResourceServiceCreator.set(a._g.UserAudio,[L.S]),this._childResourceServiceCreator.set(a._g.UserFile,[M]),this._childResourceServiceCreator.set(a._g.Transition,[y.E]),this._childResourceServiceCreator.set(a._g.TextMotion,[T.J]),this._childResourceServiceCreator.set(a._g.VideoMotion,[I.h]),this._childResourceServiceCreator.set(a._g.StickerMotion,[w.N]),this._childResourceServiceCreator.set(a._g.ArithmeticModel,[F.K]),this._childResourceServiceCreator.set(a._g.Effects,[j.C]),this._childResourceServiceCreator.set(a._g.FaceProp,[j.C]),this._childResourceServiceCreator.set(a._g.Filter,[V.C]),this._childResourceServiceCreator.set(a._g.CurveSpeed,[H.l]),this._childResourceServiceCreator.set(a._g.Mix,[G.g]),this._childResourceServiceCreator.set(a._g.TextPreset,[z.U]),this._childResourceServiceCreator.set(a._g.Tone,[B.u]),this._childResourceServiceCreator.set(a._g.VoiceChange,[S.R]),this._childResourceServiceCreator.set(a._g.CurvePreset,[p.R]),this._childResourceServiceCreator.set(a._g.Integration,[v.s]),this._childResourceServiceCreator.set(a._g.ObjectLock,[_]),this._childResourceServiceCreator.set(a._g.Gif,[W.k]),this._childResourceServiceCreator.set(a._g.ShapeAnimation,[K.P]),this._childResourceServiceCreator.set(a._g.Graffiti,[X.z]),this._childResourceServiceCreator.set(a._g.PathAnimation,[q.m]),this._childResourceServiceCreator.set(a._g.AiAvatarMask,[Q.t]),this._childResourceServiceCreator.set(a._g.Emoji,[J.C]),this._childResourceServiceCreator.set(a._g.SmartColorAdjust,[$.Z]),this._childResourceServiceCreator.set(a._g.AdjustmentPreset,[ee.x]),this._childResourceServiceCreator.set(a._g.DigitalHuman,[et.g]),this._childResourceServiceCreator.set(a._g.ImageFilter,[er.z]),this._childResourceServiceCreator.set(a._g.ImageEffect,[er.z]),this._childResourceServiceCreator.set(a._g.ImageFigureFaceEffect,[en.i]),this._childResourceServiceCreator.set(a._g.ImageFigureMakeupEffect,[en.i]),this._childResourceServiceCreator.set(a._g.ImageFigureBodyEffect,[en.i]),this._childResourceServiceCreator.set(a._g.ImageFigureReshapeEffect,[en.i]),this._childResourceServiceCreator.set(a._g.DreaminaAiVideo,[es]),this._childResourceServiceCreator.set(a._g.DreaminaUserAiVideo,[ea.M]),this._childResourceServiceCreator.set(a._g.DreaminaShowCaseVideo,[el.h]),this._childResourceServiceCreator.set(a._g.TextGlow,[ec.z]),this._childResourceServiceCreator.set(a._g.PhotoDreamina,[eu.c]),this._childResourceServiceCreator.set(a._g.CurveHSL,[ed.x]),this._childResourceServiceCreator.set(a._g.DreaminaLipSyncAudio,[eh.Q]),this._childResourceServiceCreator.set(a._g.VideoDreamina,[ef.H]),this._childResourceServiceCreator.set(a._g.MattingStroke,[ep.U]),this._childResourceServiceCreator.set(a._g.TextArt,[ev.o]),this._childResourceServiceCreator.set(a._g.TextArtIcon,[eg.t]),this._childResourceServiceCreator.set(a._g.ImageSource,[em])}}ey=(0,r.gn)([(0,r.fM)(0,s.T),(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[void 0===s.T?Object:s.T])],ey)},199591:function(e,t,n){"use strict";n.d(t,{p:function(){return d}});var r=n(461228),i=n(789786),o=n(211928),s=n(980014),a=n(466477),l=n(634212),c=n(806797),u=n(455687);class d extends u.Z{getContentUrl(e){return e.fileUrl}doFetch(){var e=this;return(0,r._)(function*(){(0,s.Y2)((0,a.R)(e.value)),(0,s.Y2)(e.value.key,"text art should have an resource id");var[t,n]=(yield e._textArtDataService.queryTextArtItems({itemList:[{itemId:e.value.itemId}]})).pair();if(t)throw Error("doFetch error-".concat(t.code,"-").concat(t.msg));var r=n.itemConfs[0];return{type:e.value.type,key:e.value.key,resourceId:r.iconFileUri,itemId:e.value.itemId,fileUrl:r.iconFileUrl,fileUri:r.iconFileUri,fontId:r.fontId,model:r.model,prompt:r.prompt}})()}constructor(e,t,n,r,i){super(e,t,n),this.key=e,this._downloadService=n,this._textArtDataService=r,this._configurationService=i}}d=(0,i.gn)([(0,i.fM)(2,o.tx),(0,i.fM)(3,l.l),(0,i.fM)(4,c.Ui),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",["undefined"==typeof IResourceKey?Object:IResourceKey,"undefined"==typeof ITextArtIconMeta?Object:ITextArtIconMeta,void 0===o.tx?Object:o.tx,void 0===l.l?Object:l.l,void 0===c.Ui?Object:c.Ui])],d)},979701:function(e,t,n){"use strict";n.d(t,{G:function(){return h}});var r=n(461228),i=n(69984),o=n(789786),s=n(754486),a=n(211928),l=n(980014),c=n(466477),u=n(49978),d=n(806797);class h extends u.${getCover(e){return e.icon.urlList[0]}getContentUrl(e){return e.package.urlList[0]}doFetch(){var e=this;return(0,r._)(function*(){(0,l.Y2)(!(0,c.R)(e.value));var[t,n]=(yield e._textGlowDataService.batchGetTextGlowsByIds({enterFrom:e._configurationService.editorCategory,ids:[e.value.resourceId]})).pair();if(t)throw Error("doFetch error-".concat(t.code,"-").concat(t.msg));return(0,i._)({type:e.value.type},n.list[0])})()}constructor(e,t,n,r,i){super(e,t,n),this.key=e,this._downloadService=n,this._textGlowDataService=r,this._configurationService=i}}h=(0,o.gn)([(0,o.fM)(2,a.tx),(0,o.fM)(3,s.Z),(0,o.fM)(4,d.Ui),(0,o.w6)("design:type",Function),(0,o.w6)("design:paramtypes",["undefined"==typeof IResourceKey?Object:IResourceKey,"undefined"==typeof ITextGlowMeta?Object:ITextGlowMeta,void 0===a.tx?Object:a.tx,void 0===s.Z?Object:s.Z,void 0===d.Ui?Object:d.Ui])],h)},656090:function(e,t,n){"use strict";n.d(t,{V:function(){return r}});var r=(0,n(30276).yh)("text-preset-resource-service")},680482:function(e,t,n){"use strict";var r=n(246513),i=n(583786),o=n(943278),s=n(569379);e.exports=function(e,t){if("Object"!==s(e))throw new r("Assertion failed: Type(O) is not Object");if(!o(t))throw new r("Assertion failed: IsPropertyKey(P) is not true, got "+i(t));return e[t]}},970762:function(e,t,n){"use strict";var r=n(519173)("%Reflect.construct%",!0),i=n(513701);try{i({},"",{"[[Get]]":function(){}})}catch(e){i=null}if(i&&r){var o={},s={};i(s,"length",{"[[Get]]":function(){throw o},"[[Enumerable]]":!0}),e.exports=function(e){try{r(e,s)}catch(e){return e===o}}}else e.exports=function(e){return"function"==typeof e&&!!e.prototype}},569379:function(e,t,n){"use strict";var r=n(320404);e.exports=function(e){return"symbol"==typeof e?"Symbol":"bigint"==typeof e?"BigInt":r(e)}},823086:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(412732);function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,r.Z)(e,t)}},394771:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(494649),i=n(171500);function o(e,t){if(t&&("object"==(0,r.Z)(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(e)}},338513:function(e,t,n){"use strict";n.d(t,{T5:function(){return v},fW:function(){return m},jE:function(){return h},kg:function(){return u}});var r=n(218571),i=n(195291),o=n(498989);let s=(...e)=>t=>{e.forEach(e=>{"function"==typeof e?e(t):e&&(e.current=t)})},a=({renderers:e})=>r.createElement(r.Fragment,null,Object.entries(e).map(([e,t])=>i.createPortal(t.reactElement,t.element,e)));class l extends r.Component{constructor(e){super(e),this.editorContentRef=r.createRef(),this.initialized=!1,this.state={renderers:{}}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){let{editor:e}=this.props;if(e&&e.options.element){if(e.contentComponent)return;let t=this.editorContentRef.current;t.append(...e.options.element.childNodes),e.setOptions({element:t}),e.contentComponent=this,e.createNodeViews(),this.initialized=!0}}maybeFlushSync(e){this.initialized?(0,i.flushSync)(e):e()}setRenderer(e,t){this.maybeFlushSync(()=>{this.setState(({renderers:n})=>({renderers:{...n,[e]:t}}))})}removeRenderer(e){this.maybeFlushSync(()=>{this.setState(({renderers:t})=>{let n={...t};return delete n[e],{renderers:n}})})}componentWillUnmount(){let{editor:e}=this.props;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),e.contentComponent=null,!e.options.element.firstChild))return;let t=document.createElement("div");t.append(...e.options.element.childNodes),e.setOptions({element:t})}render(){let{editor:e,innerRef:t,...n}=this.props;return r.createElement(r.Fragment,null,r.createElement("div",{ref:s(t,this.editorContentRef),...n}),r.createElement(a,{renderers:this.state.renderers}))}}let c=(0,r.forwardRef)((e,t)=>{let n=r.useMemo(()=>Math.floor(4294967295*Math.random()).toString(),[e.editor]);return r.createElement(l,{key:n,innerRef:t,...e})}),u=r.memo(c);class d extends o.ML{constructor(){super(...arguments),this.contentComponent=null}}let h=(e={},t=[])=>{let n=(0,r.useRef)(null),[,i]=(0,r.useState)({}),{onBeforeCreate:o,onBlur:s,onCreate:a,onDestroy:l,onFocus:c,onSelectionUpdate:u,onTransaction:h,onUpdate:f}=e,p=(0,r.useRef)(o),v=(0,r.useRef)(s),g=(0,r.useRef)(a),_=(0,r.useRef)(l),m=(0,r.useRef)(c),y=(0,r.useRef)(u),S=(0,r.useRef)(h),b=(0,r.useRef)(f);return(0,r.useEffect)(()=>{n.current&&(o&&(n.current.off("beforeCreate",p.current),n.current.on("beforeCreate",o),p.current=o),s&&(n.current.off("blur",v.current),n.current.on("blur",s),v.current=s),a&&(n.current.off("create",g.current),n.current.on("create",a),g.current=a),l&&(n.current.off("destroy",_.current),n.current.on("destroy",l),_.current=l),c&&(n.current.off("focus",m.current),n.current.on("focus",c),m.current=c),u&&(n.current.off("selectionUpdate",y.current),n.current.on("selectionUpdate",u),y.current=u),h&&(n.current.off("transaction",S.current),n.current.on("transaction",h),S.current=h),f&&(n.current.off("update",b.current),n.current.on("update",f),b.current=f))},[o,s,a,l,c,u,h,f,n.current]),(0,r.useEffect)(()=>{let t=!0;return n.current=new d(e),n.current.on("transaction",()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{t&&i({})})})}),()=>{t=!1}},t),(0,r.useEffect)(()=>()=>{var e;return null===(e=n.current)||void 0===e?void 0:e.destroy()},[]),n.current};(0,r.createContext)({editor:null}).Consumer;let f=(0,r.createContext)({onDragStart:void 0}),p=()=>(0,r.useContext)(f),v=r.forwardRef((e,t)=>{let{onDragStart:n}=p(),i=e.as||"div";return r.createElement(i,{...e,ref:t,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...e.style}})});class g{constructor(e,{editor:t,props:n={},as:r="div",className:i="",attrs:o}){this.ref=null,this.id=Math.floor(4294967295*Math.random()).toString(),this.component=e,this.editor=t,this.props=n,this.element=document.createElement(r),this.element.classList.add("react-renderer"),i&&this.element.classList.add(...i.split(" ")),o&&Object.keys(o).forEach(e=>{this.element.setAttribute(e,o[e])}),this.render()}render(){var e,t,n;let i=this.component,o=this.props;("function"==typeof i&&i.prototype&&i.prototype.isReactComponent||"object"==typeof i&&(null===(n=i.$$typeof)||void 0===n?void 0:n.toString())==="Symbol(react.forward_ref)")&&(o.ref=e=>{this.ref=e}),this.reactElement=r.createElement(i,{...o}),null===(t=null===(e=this.editor)||void 0===e?void 0:e.contentComponent)||void 0===t||t.setRenderer(this.id,this)}updateProps(e={}){this.props={...this.props,...e},this.render()}destroy(){var e,t;null===(t=null===(e=this.editor)||void 0===e?void 0:e.contentComponent)||void 0===t||t.removeRenderer(this.id)}}class _ extends o.DK{mount(){let e={editor:this.editor,node:this.node,decorations:this.decorations,selected:!1,extension:this.extension,getPos:()=>this.getPos(),updateAttributes:(e={})=>this.updateAttributes(e),deleteNode:()=>this.deleteNode()};if(!this.component.displayName){let e;this.component.displayName=(e=this.extension.name).charAt(0).toUpperCase()+e.substring(1)}let t=e=>{let t=this.component,n=this.onDragStart.bind(this);return r.createElement(r.Fragment,null,r.createElement(f.Provider,{value:{onDragStart:n,nodeViewContentRef:e=>{e&&this.contentDOMElement&&e.firstChild!==this.contentDOMElement&&e.appendChild(this.contentDOMElement)}}},r.createElement(t,{...e})))};t.displayName="ReactNodeView",this.node.isLeaf?this.contentDOMElement=null:this.options.contentDOMElementTag?this.contentDOMElement=document.createElement(this.options.contentDOMElementTag):this.contentDOMElement=document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement&&(this.contentDOMElement.style.whiteSpace="inherit");let n=this.node.isInline?"span":"div";this.options.as&&(n=this.options.as);let{className:i=""}=this.options;this.handleSelectionUpdate=this.handleSelectionUpdate.bind(this),this.editor.on("selectionUpdate",this.handleSelectionUpdate),this.renderer=new g(t,{editor:this.editor,props:e,as:n,className:`node-${this.node.type.name} ${i}`.trim(),attrs:this.options.attrs})}get dom(){var e;if(this.renderer.element.firstElementChild&&!(null===(e=this.renderer.element.firstElementChild)||void 0===e?void 0:e.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}handleSelectionUpdate(){let{from:e,to:t}=this.editor.state.selection;if(e<=this.getPos()&&t>=this.getPos()+this.node.nodeSize){if(this.renderer.props.selected)return;this.selectNode()}else{if(!this.renderer.props.selected)return;this.deselectNode()}}update(e,t){let n=e=>{this.renderer.updateProps(e)};if(e.type!==this.node.type)return!1;if("function"==typeof this.options.update){let r=this.node,i=this.decorations;return this.node=e,this.decorations=t,this.options.update({oldNode:r,oldDecorations:i,newNode:e,newDecorations:t,updateProps:()=>n({node:e,decorations:t})})}return e===this.node&&this.decorations===t||(this.node=e,this.decorations=t,n({node:e,decorations:t}),!0)}selectNode(){this.renderer.updateProps({selected:!0}),this.renderer.element.classList.add("ProseMirror-selectednode")}deselectNode(){this.renderer.updateProps({selected:!1}),this.renderer.element.classList.remove("ProseMirror-selectednode")}destroy(){this.renderer.destroy(),this.editor.off("selectionUpdate",this.handleSelectionUpdate),this.contentDOMElement=null}}function m(e,t){return n=>n.editor.contentComponent?new _(e,n,t):{}}},539952:function(e,t,n){"use strict";n.d(t,{S:function(){return a}});var r=n(540723),i=n(39695),o=n(346997),s=n(167275);class a{subscribeToStateChange(e,t={}){let{handlerIds:n}=t;(0,r.k)("function"==typeof e,"listener must be a function."),(0,r.k)(void 0===n||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");let i=this.store.getState().stateId;return this.store.subscribe(()=>{let t=this.store.getState(),r=t.stateId;try{r!==i&&(r!==i+1||(0,o.co)(t.dirtyHandlerIds,n))&&e()}finally{i=r}})}subscribeToOffsetChange(e){(0,r.k)("function"==typeof e,"listener must be a function.");let t=this.store.getState().dragOffset;return this.store.subscribe(()=>{let n=this.store.getState().dragOffset;n!==t&&(t=n,e())})}canDragSource(e){if(!e)return!1;let t=this.registry.getSource(e);return(0,r.k)(t,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()&&t.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;let t=this.registry.getTarget(e);if((0,r.k)(t,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;let n=this.registry.getTargetType(e),i=this.getItemType();return(0,s.s)(n,i)&&t.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;let t=this.registry.getSource(e,!0);return(0,r.k)(t,`Expected to find a valid source. sourceId=${e}`),!!(this.isDragging()&&this.isSourcePublic())&&this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e)}isOverTarget(e,t={shallow:!1}){if(!e)return!1;let{shallow:n}=t;if(!this.isDragging())return!1;let r=this.registry.getTargetType(e),i=this.getItemType();if(i&&!(0,s.s)(r,i))return!1;let o=this.getTargetIds();if(!o.length)return!1;let a=o.indexOf(e);return n?a===o.length-1:a>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return(0,i.YY)(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return(0,i.ar)(this.store.getState().dragOffset)}constructor(e,t){this.store=e,this.registry=t}}},183137:function(e,t,n){"use strict";n.d(t,{u:function(){return s}});var r=n(453740),i=n(24966);let o={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function s(e=o,t){let{payload:n}=t;switch(t.type){case r.TL:case r.qu:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case r.$T:if((0,i.YJ)(e.clientOffset,n.clientOffset))return e;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e,{clientOffset:n.clientOffset});case r.Bs:case r.rp:return o;default:return e}}},404486:function(e,t,n){"use strict";n.d(t,{K5:function(){return s},g2:function(){return o},rK:function(){return a}});var r=n(150608),i=n(106622);function o(e){let t=1===e.nodeType?e:e.parentElement;if(!t)return null;let{top:n,left:r}=t.getBoundingClientRect();return{x:r,y:n}}function s(e){return{x:e.clientX,y:e.clientY}}function a(e,t,n,s,a){var l;let c,u,d;let h="IMG"===t.nodeName&&((0,r.v)()||!(null===(l=document.documentElement)||void 0===l?void 0:l.contains(t))),f=o(h?e:t),p={x:n.x-f.x,y:n.y-f.y},{offsetWidth:v,offsetHeight:g}=e,{anchorX:_,anchorY:m}=s,{dragPreviewWidth:y,dragPreviewHeight:S}=(c=h?t.width:v,u=h?t.height:g,(0,r.G)()&&h&&(u/=window.devicePixelRatio,c/=window.devicePixelRatio),{dragPreviewWidth:c,dragPreviewHeight:u}),{offsetX:b,offsetY:E}=a;return{x:0===b||b?b:new i.I([0,.5,1],[p.x,p.x/v*y,p.x+y-v]).interpolate(_),y:0===E||E?E:(d=new i.I([0,.5,1],[p.y,p.y/g*S,p.y+S-g]).interpolate(m),(0,r.G)()&&h&&(d+=(window.devicePixelRatio-1)*S),d)}}},287368:function(e,t,n){"use strict";n.d(t,{L:function(){return r}});let r=(0,n(218571).createContext)({dragDropManager:void 0})},370659:function(e,t,n){"use strict";var r,i;n.d(t,{q:function(){return r}}),n(40240),(i=r||(r={})).Video="video_web",i.Photo="photo_web",i.DigitalHuman="digital_human",i.TextTemplate="text-template",i.Sticker="default",i.SubtitleTemplate="subtitle-templates",i.AiAvatarMask="aiavatarmask",i.AutoBeautyShape="auto-beauty",i.AutoBeautyFace="auto-beauty2",i.AutoBeautyBody="auto-beauty3",i.AutoBeautyMakeup="makeup",i.DreaminaAiVideo="ai_ttov_tool",i.DreaminaFont="fonts",i.Tone="tone",i.Effects="effects2",i.FaceProp="face-prop"}}]);