/*!
* @ies/filter-xss v3.1.4
* (c) 2024
*/var e,t;e=this,t=function(e){"use strict";var t=function(){return(t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function n(e,t,n){if(n||2==arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var r=/[^a-zA-Z0-9\\_:.-]/gim,i=/</g,o=/>/g,a=/&#([a-zA-Z0-9]*);?/gim,s=/&quot;/g,c=/&colon;?/gim,u=/&newline;?/gim,l=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,d=/u\s*r\s*l\s*\(.*/gi,f=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,h=/"/g,p=function(e){return e.replace(i,"&lt;").replace(o,"&gt;")},v={indexOf:function(e,t){var n,r;for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return -1},forEach:function(e,t,n){var r,i;for(r=0,i=e.length;r<i;r++)t.call(n,e[r],r,e)},some:function(e,t,n){var r,i;for(r=0,i=e.length;r<i;r++)if(t.call(n,e[r],r,e))return!0;return!1},trim:function(e){return e.replace(/(^\s*)|(\s*$)/g,"")},includes:function(e,t){if("string"==typeof e)return -1!==e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return!0;return!1},spaceIndex:function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1},uniq:function(e){for(var t={},n=[],r=0;r<e.length;r++)t[e[r]]||(n.push(e[r]),t[e[r]]=!0);return n},from:function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t},keys:function(e){var t=[];for(var n in e)t.push(n);return t}};function _(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]?e.substr(1,e.length-2):e}function m(e){var t,n,r,i,o,a,s,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u="",l=0;for(e=function(e){e=e.replace(/rn/g,"n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?t+=String.fromCharCode(r>>6|192)+String.fromCharCode(63&r|128):t+=String.fromCharCode(r>>12|224)+String.fromCharCode(r>>6&63|128)+String.fromCharCode(63&r|128)}return t}(e);l<e.length;)i=(t=e.charCodeAt(l++))>>2,o=(3&t)<<4|(n=e.charCodeAt(l++))>>4,a=(15&n)<<2|(r=e.charCodeAt(l++))>>6,s=63&r,isNaN(n)?a=s=64:isNaN(r)&&(s=64),u=u+c.charAt(i)+c.charAt(o)+c.charAt(a)+c.charAt(s);return u}function g(e){var t,n,r,i,o,a,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c="",u=0;for(e=e.replace(/[^A-Za-z0-9+/=]/g,"");u<e.length;)t=s.indexOf(e.charAt(u++))<<2|(i=s.indexOf(e.charAt(u++)))>>4,n=(15&i)<<4|(o=s.indexOf(e.charAt(u++)))>>2,r=(3&o)<<6|(a=s.indexOf(e.charAt(u++))),c+=String.fromCharCode(t),64!==o&&(c+=String.fromCharCode(n)),64!==a&&(c+=String.fromCharCode(r));return function(e){for(var t="",n=0,r=0,i=0;n<e.length;)(r=e.charCodeAt(n))<128?(t+=String.fromCharCode(r),n++):r>191&&r<224?(t+=String.fromCharCode((31&r)<<6|63&e.charCodeAt(n+1)),n+=2):(t+=String.fromCharCode((15&r)<<12|(63&e.charCodeAt(n+1))<<6|63&e.charCodeAt(n+2)),n+=3);return t}(c)}function y(e,t,n){var r="",i=0,o=!1,a=!1,s=0,c=e.length,u="",l="";e:for(s=0;s<c;s++){var d=e.charAt(s);if(!1===o){if("<"===d){o=s;continue}}else if(!1===a){if("<"===d){r+=n(e.slice(i,s)),o=s,i=s;continue}if(">"===d||s===c-1){r+=n(e.slice(i,o)),u=function(e){var t,n=v.spaceIndex(e);return t=-1===n?e.slice(1,-1):e.slice(1,n+1),"/"===(t=v.trim(t).toLowerCase()).slice(0,1)&&(t=t.slice(1)),"/"===t.slice(-1)&&(t=t.slice(0,-1)),t}(l=e.slice(o,s+1)),r+=t(o,r.length,u,l,"</"===l.slice(0,2)),i=s+1,o=!1;continue}if('"'===d||"'"===d)for(var f=1,h=e.charAt(s-f);""===h.trim()||"="===h;){if("="===h){a=d;continue e}h=e.charAt(s-++f)}}else if(d===a){a=!1;continue}}return i<c&&(r+=n(e.substr(i))),r}function b(e,t){var n=0,i=0,o=[],a=!1,s=e.length;function c(e,n){if(!((e=(e=v.trim(e)).replace(r,"").toLowerCase()).length<1)){var i=t(e,n||"");i&&o.push(i)}}for(var u=0;u<s;u++){var l=e.charAt(u),d=void 0;if(!1!==a||"="!==l){if(!1===a||u!==i){if(/\s|\n|\t/.test(l)){if(e=e.replace(/\s|\n|\t/g," "),!1===a){if(-1===(d=function(e,t){for(;t<e.length;t++){var n=e[t];if(" "!==n)return"="===n?t:-1}return -1}(e,u))){c(v.trim(e.slice(n,u))),a=!1,n=u+1;continue}u=d-1;continue}if(-1===(d=function(e,t){for(;t>0;t--){var n=e[t];if(" "!==n)return"="===n?t:-1}return -1}(e,u-1))){c(a,_(v.trim(e.slice(n,u)))),a=!1,n=u+1;continue}}}else{if(-1===(d=e.indexOf(l,u+1)))break;c(a,v.trim(e.slice(i+1,d))),a=!1,n=(u=d)+1}}else a=e.slice(n,u),n=u+1,i='"'===e.charAt(n)||"'"===e.charAt(n)?n:function(e,t){for(;t<e.length;t++){var n=e[t];if(" "!==n)return"'"===n||'"'===n?t:-1}return -1}(e,u+1)}return n<e.length&&(!1===a?c(e.slice(n)):c(a,_(v.trim(e.slice(n))))),v.trim(o.join(" "))}function w(e,t,n){var r,i;if(n=function(e){for(var t="",n=0,r=e.length;n<r;n++)t+=32>e.charCodeAt(n)?" ":e.charAt(n);return v.trim(t)}(n.replace(s,'"').replace(a,function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))}).replace(c,":").replace(u," ")),"href"===t||"src"===t){if("#"===(n=v.trim(n)))return"#";if("http://"!==n.substr(0,7)&&"https://"!==n.substr(0,8)&&"mailto:"!==n.substr(0,7)&&"tel:"!==n.substr(0,4)&&"data:image/"!==n.substr(0,11)&&"ftp://"!==n.substr(0,6)&&"./"!==n.substr(0,2)&&"../"!==n.substr(0,3)&&"#"!==n[0]&&"/"!==n[0])return""}else if("background"===t){if(l.lastIndex=0,l.test(n))return""}else if("style"===t&&(f.lastIndex=0,f.test(n)||(d.lastIndex=0,d.test(n)&&(l.lastIndex=0,l.test(n)))))return"";return n=p(n.replace(h,"&quot;"))}var x=function(e){return"string"==typeof e?e.replace(/'/g,'"').replace('=""',"").replace(/\s+/g,"").toLowerCase():""},k=function(){function e(e){var t=function(e){var t={};for(var n in e)t[n]=e[n];return t}(e||{});t.stripIgnoreTag&&(t.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),t.onIgnoreTag=function(){return""}),t.whiteList={},t.onTag=function(){},t.onTagAttr=function(){},t.onIgnoreTag=function(){},t.onIgnoreTagAttr=function(){},t.safeAttrValue=w,t.escapeHtml=p,this.options=Object.assign(t,e)}return e.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t,n,r,i,o,a=this.options,s=a.whiteList,c=a.onTag,u=a.onIgnoreTag,l=a.onTagAttr,d=a.onIgnoreTagAttr,f=a.safeAttrValue,h=a.escapeHtml;a.stripBlankChar&&(e=e.split("").filter(function(e){var t=e.charCodeAt(0);return!(127===t||t<=31&&10!==t&&13!==t)}).join("")),a.allowCommentTag||(e=function(e){for(var t="",n=0;n<e.length;){var r=e.indexOf("<!--",n);if(-1===r){t+=e.slice(n);break}t+=e.slice(n,r);var i=e.indexOf("-->",r);if(-1===i)break;n=i+3}return t}(e));var p=!1;a.stripIgnoreTagBody&&(t=a.stripIgnoreTagBody,"function"!=typeof(n=u)&&(n=function(){}),r=!Array.isArray(t),i=[],o=!1,u=(p={onIgnoreTag:function(e,a,s){if(r||-1!==v.indexOf(t,e)){if(s.isClosing){var c=s.position+10;return i.push([!1!==o?o:s.position,c]),o=!1,"[/removed]"}return o||(o=s.position),"[removed]"}return n(e,a,s)},remove:function(e){var t="",n=0;return v.forEach(i,function(r){t+=e.slice(n,r[0]),n=r[1]}),t+=e.slice(n)}}).onIgnoreTag);var _=y(e,function(e,t,n,r,i){var o={sourcePosition:e,position:t,isClosing:i,isWhite:Object.prototype.hasOwnProperty.call(s,n)},a=c(n,r,o);if(null!=a)return a;if(o.isWhite){if(o.isClosing)return"</".concat(n,">");var p=function(e){var t=v.spaceIndex(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var n="/"===(e=v.trim(e.slice(t+1,-1)))[e.length-1];return n&&(e=v.trim(e.slice(0,-1))),{html:e,closing:n}}(r),_=s[n],m=b(p.html,function(e,t){var r=-1!==v.indexOf(_,e),i=l(n,e,t,r);return null==i?r?(t=f(n,e,t,null))?"".concat(e,'="').concat(t,'"'):e:null==(i=d(n,e,t,r))?void 0:i:i});return r="<".concat(n),m&&(r+=" ".concat(m)),p.closing&&(r+=" /"),r+=">"}return null==(a=u(n,r,o))?h(r):a},h);return p&&(_=p.remove(_)),_},e}(),E=!0,S=function(e){return e&&e.Math==Math&&e},O=S("object"==typeof globalThis&&globalThis)||S("object"==typeof window&&window)||S("object"==typeof self&&self)||S("object"==typeof global&&global)||Function("return this")();try{!0!==(E=!!(E=String(E)).startsWith("<%=")||JSON.parse(E))&&"true"!==E||(O=Function("\nvar _checkXSS = function (it) {\n  return it && it.Math == Math && it;\n};\nreturn _checkXSS(typeof globalThis === 'object' && globalThis) ||\n_checkXSS(typeof window === 'object' && window) ||\n_checkXSS(typeof self === 'object' && self) ||\n_checkXSS(typeof global === 'object' && global) ||\nFunction('return this')();\n")())}catch(e){console.log(e)}var A=new(function(){function e(){var e=this;this.batchData=[],this.uniqKeys=new Set,this.timeout=2e3,this.lock=!1,this.isSetedConfig=!1,this.getSlardarBid=function(){var t,n,r="cc_web_smart_tools";if(!v.includes(r,"bid"))return r;if(e.config&&e.config.bid)return e.config.bid;var i=O;if(i&&i._xssBid)return i._xssBid;if(i&&i.slardar&&"function"==typeof i.slardar.config){var o=(i.slardar.config()||{}).bid;if(o)return o}if(i&&i.Slardar&&"function"==typeof i.Slardar.config){var a=(i.Slardar.config()||{}).bid;if(a)return a}return(null===(n=null===(t=null==i?void 0:i.Slardar)||void 0===t?void 0:t._baseParams)||void 0===n?void 0:n.bid)||"argus"},this.getConfigRegion=function(){var t,n="maliva";return v.includes(n,"region")?e.config&&e.config.region?e.config.region:((null===(t=null==O?void 0:O.gfdatav1)||void 0===t?void 0:t.region)||"cn").toLowerCase():n},this.gerReportUrl=function(){var t={cn:g("aHR0cHM6Ly9tb24uemlqaWVhcGkuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),boe:g("aHR0cHM6Ly9tb24uemlqaWVhcGkuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),ttp:g("aHR0cHM6Ly9tb24udXMudGlrdG9rdi5jb20vbW9uaXRvcl9icm93c2VyL2NvbGxlY3QvYmF0Y2gvc2VjdXJpdHkvP2JpZD0="),va:g("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),maliva:g("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),sg:g("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),boei18n:g("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9")}[e.getConfigRegion()];if(t)return t+e.getSlardarBid()}}return e.prototype.setConfig=function(e){this.isSetedConfig||(this.config=e)},e.prototype.upload=function(){var e=this;if(!this.config||!this.config.isCloseSSRReport||(null==O?void 0:O.document)){var t=!1;t=String(!1);try{if((!0===(t=!t.startsWith("<%=")&&JSON.parse(t))||"true"===t)&&!(null==O?void 0:O.document))return}catch(e){console.log(e)}var n=this.gerReportUrl();!this.lock&&n&&0!==this.batchData.length&&(this.lock=!0,setTimeout(function(){var t=e.batchData.slice(0,100);e.batchData=e.batchData.slice(100),O.fetch(n,{method:"post",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).catch(function(e){console.warn("xss defense report error",e)}),e.lock=!1,e.upload()},this.timeout))}},e.prototype.generateKey=function(e){return e.collectKey?[e.collectMode,e.collectKey].join("___"):""},e.prototype.push=function(e){this.batchData.push(e),this.upload()},e.prototype.report=function(e){var t=this.generateKey(e);if(O.fetch&&e.collectKey){var n="SSR";void 0!==O&&void 0!==O.location&&void 0!==O.location.href&&(n=O.location.href),e.documentUrl=n;var r={age:Math.floor(Date.now()),type:"xss",url:n,body:e,"user-agent":""};r.url="".concat(t,"___").concat(e.documentUrl),"SSR"===n&&(r.url="SSR___".concat(r.url),r.body.ssr=!0),this.push(r)}},e}());function T(e,t){return A.setConfig(t),new k(t).process(e)}var C=function(e){return -1===(e=(e=(e=(e=e.replace(/&colon;/gi,":")).replace(/&tab;/gi,"")).replace(/&newline;/gi,"")).replace(/(\t|\n|\r)/g,"")).indexOf("&#")?e.trim().toLowerCase():e.trim().replace(/&#(?:(x)([0-9a-f]+)|([0-9]+));?/gi,function(e,t,n,r){return String.fromCharCode(t?parseInt(n,16):parseInt(r))}).replace(/(\t|\n|\r)/g,"").toLowerCase()};function j(e,t){if(void 0===e&&(e=""),"string"!=typeof e)return!0;if(e=C(e),v.includes(e,"base64")&&!function(e){if(""===e||""===e.trim())return!0;try{return!v.includes(e,"data:text/html;base64")}catch(e){return!0}}(e))return t&&t("data:text/html;base64"),!1;var n=["expression(","behavior:","view-source:"];if(v.some(n,function(t){return -1!==e.indexOf(t)}))return v.forEach(n,function(n){-1!==e.indexOf(n)&&t&&t(n)}),!1;var r=["data:application","data:javascript","data:text/html","data:texthtml"];if(v.some(r,function(t){return -1!==e.indexOf(t)}))return v.forEach(r,function(n){-1!==e.indexOf(n)&&t&&t(n)}),!1;if(e.indexOf("javascript:")>0)return t&&t("javascript:"),!1;if(/^javascript:/i.test(e)){var i=e.slice(11).replace(/\s/g,"").trim();return!!v.some(["void","void(0)","void0","false","undefined",";"],function(e){return e===i})||(t&&t("javascript:"),!1)}return!0}var I=function(e,t){var n,r,i=!1;if(i=String(!1),"string"!=typeof e||(r=Number(1e4),void 0!==n&&(r=n),"NaN"!==r.toString()&&-1!==r&&e.length>=r)||j(e,t))return e;try{if(!0===(i=!i.startsWith("<%=")&&JSON.parse(i))||"true"===i){var o=new URL(e);return o.origin+o.pathname}}catch(e){return console.log(e),"#"}return"#"};function P(e,t,r){if(void 0===e&&(e=""),void 0===t&&(t=[]),"string"!=typeof e)return!0;if(!j(e=C(e)))return!1;var i,o={url:(i=e.match(/^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/)||[])[0],scheme:i[1],slash:i[2],host:i[3],port:i[4],path:i[5],query:i[6],hash:i[7]},a=o.scheme,s=o.host;return r?!!r(e):!(!a||!s)&&(!v.includes(["http","https","file"],a)||("object"==typeof window&&window&&(t=n(n([],t,!0),[location.host],!1)),v.some(t,function(e){return!!(e instanceof RegExp&&e.test(s))||e===s})))}var N=function(e,t){for(var n={},r=0,i=v.keys(e);r<i.length;r++){var o=i[r];Array.isArray(e[o])?n[o]=v.from(e[o]):n[o]=N({},e[o])}for(var a=0,s=v.keys(t);a<s.length;a++)(o=s[a])in e?Array.isArray(e[o])?n[o]=e[o].concat(t[o]):n[o]=N(e[o],t[o]):Array.isArray(t[o])?n[o]=v.from(t[o]):n[o]=N({},t[o]);return n},R={blackList:{a:["folder"],meta:["content"],iframe:["srcdoc"],input:["pattern"],vmlframe:["xmlns"]},blackTags:["script","xml","embed","isindex","object","base","set","handler","animate","payload","import"],blackAttrs:["charset","ns","namespace","formaction","xlink:href","xmlns:xlink","handler","repeat","repeat-start","repeat-end"],blackAttrRegExps:[/^on/],filterList:{param:["value"],video:["poster"],form:["action"]},filterAttrs:["href","src","background","style","dynsrc","lowsrc","content"],specialContentClosure:["title","style","noscript","textarea","xmp","iframe","noembed","noframes"]};try{var D={};D.blackAttrRegExps&&(D.blackAttrRegExps=D.blackAttrRegExps.map(function(e){return new RegExp(e.toString().slice(1,e.toString().length-1))}));var L="merge";v.includes(L,"override")&&(R=D),v.includes(L,"merge")&&(R=N(R,D))}catch(e){console.log(e)}var Z={mode:"black",whiteList:{},blackConfig:R,collect:null,initCollect:function(){Z.collect={blackList:{},blackTags:[],blackAttrs:[],blackAttrRegExps:[],filterAttrs:[],filterList:{},filterProtocol:[]}},removeCollect:function(){var e=function(e){for(var t=0,n=function(n){Array.isArray(e[n])?0===e[n].length?delete e[n]:(e[n]=v.from(v.uniq(e[n])),t+=e[n].length):0===v.keys(e[n]).length?delete e[n]:v.keys(e[n]).forEach(function(r){e[n][r]=v.from(v.uniq(e[n][r])),t+=e[n][r].length})},r=0,i=v.keys(e);r<i.length;r++)n(i[r]);return{count:t,ret:e}}(Z.collect),t=e.count,n=e.ret;return Z.collect=null,{collectKey:0===t?null:JSON.stringify(n),collectMode:"black"}},onIgnoreTag:function(e,t){var n;if(!v.includes(R.blackTags,e))return y(t,function(e,t,n,r,i){if(-1!==n.indexOf("/"))return p(r);if(i)return"</".concat(n,">");var o=function(e){var t,n=(t=/\s|\n|\t/.exec(e))?t.index:-1;if(-1===n)return{html:"",closing:"/"===e[e.length-2]};var r="/"===(e=e.slice(n+1,-1).trim())[e.length-1];return r&&(e=e.slice(0,-1).trim()),{html:e,closing:r}}(r),a=b(o.html,function(e,t){var r,i,o=0;if(R.blackList[n]&&v.includes(R.blackList[n],e)&&(Z.collect.blackList[n]=Z.collect.blackList[n]||[],Z.collect.blackList[n].push(e),o++),R.blackAttrRegExps.length&&R.blackAttrRegExps.some(function(t){return t.test(e)})&&v.forEach(R.blackAttrRegExps,function(t){t.test(e)&&(Z.collect.blackAttrRegExps.push("".concat(t.toString(),"->").concat(e)),o++)}),R.blackAttrs.length&&v.includes(R.blackAttrs,e)&&(R.blackAttrs.push(e),o++),!o){if(Array.isArray(R.specialContentClosure)&&"string"==typeof t&&R.specialContentClosure.find(function(e){return t.includes("</".concat(e,">"))})){null===(r=Z.collect)||void 0===r||r.filterAttrs.push(e);var a="#";return t?"".concat(e,"='").concat(a,"'"):e}return R.filterList&&R.filterList[n]&&v.includes(R.filterList[n],e)?((a=I(t,function(e){var t;null===(t=Z.collect)||void 0===t||t.filterProtocol.push(e)}))!==t&&(Z.collect.filterList[n]=Z.collect.filterList[n]||[],Z.collect.filterList[n].push(e)),t?"".concat(e,"='").concat(a,"'"):e):R.filterAttrs&&v.includes(R.filterAttrs,e)?((a=I(t,function(e){var t;null===(t=Z.collect)||void 0===t||t.filterProtocol.push(e)}))!==t&&(null===(i=Z.collect)||void 0===i||i.filterAttrs.push(e)),t?"".concat(e,"='").concat(a,"'"):e):t?"".concat(e,"='").concat(t,"'"):e}});return r="<".concat(n),a&&(r+=" ".concat(a)),o.closing&&(r+=" /"),r+=">"},p);null===(n=Z.collect)||void 0===n||n.blackTags.push(e)}},M=function(e){var t=e.reportOnly,n=void 0===t||t,r=e.block;return n&&"all"===n?"report":("string"==typeof n&&("true"===n&&(n=!0),"false"===n&&(n=!1)),r?"enforce":n?"report":"enforce")},U=function(e){return function(n,r,i){if(!n||"string"!=typeof n)return n;var o=r;e===T&&(o=Z).initCollect();var a=e(n,o);if(x(a)===x(n))return n;if(!i)return a;var s=i.logType,c=M(i),u=o.removeCollect();return A.report(t(t({type:s,disposition:c},u),{sourceText:m(n.replace(/'/g,'"')),filterText:m(a.replace(/'/g,'"'))})),"enforce"===c?a:n}},V=U(function(e,t){return void 0===t&&(t={}),t&&t.whiteList||(t.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}),new k(t).process(e)}),F=U(T),B=function(e,t,n){var r=[],i=I(e,function(e){r.push(e)});if(i===e)return e;r=v.from(v.uniq(r));var o=t||n||{};if(!o)return i;var a=o.logType,s=M(n);return A.report({type:a,disposition:s,collectKey:r.join("___"),collectData:JSON.stringify(r),collectMode:"black",sourceText:m(e),filterText:m(i)}),"enforce"===s?i:e},z=O._xssProject||{},G=O.xssNamespace||{},W="3.1.4",H={FilterXSS:k,version:W,webpackPluginVersion:"3.1.9",reportOnly:"all",filterXSS:V,_filterXSS:F,filterUrl:B,BlackConfig:Z,project:z,setProjectName:function(e){z[e]=this,O._xssProjectName=e}};G["lvweb/smart-tools"]=H,O.xssNamespace=G,O.Math&&!O.Math.xssNamespace&&(O.Math.xssNamespace=G),z[W]=H,O.globalThis=O,O.getFilterXss=function(){return void 0!==this._xssProjectName?this._xssProject[this._xssProjectName]:H},O.xss=H,O.isSafeUrl=P,O.isSafeDomain=P,O.isSafeProtocol=j,O._xssProject=z,O._xssProjectName&&(z[O._xssProjectName]=H);var K=H.setProjectName.bind(H);e.BlackConfig=Z,e.FilterXSS=k,e._filterXSS=F,e.filterUrl=B,e.filterXSS=V,e.isSafeDomain=P,e.isSafeProtocol=j,e.isSafeUrl=P,e.project=z,e.setProjectName=K,e.setXssNamespace=function(e){var t=e.appId,n=e.bid,r=e.region,i=e.isCloseSSRReport;G[t]=H,Z.bid=n,Z.region=r,Z.enabled=!0,Z.isCloseSSRReport=i},e.xssNamespace=G,Object.defineProperty(e,"__esModule",{value:!0})},"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).xss={}),(self.webpackChunksmart_tools=self.webpackChunksmart_tools||[]).push([["5018"],{822960:function(e,t,n){"use strict";n(642470),n(274759),n(225395),n(697749),n(570593),n(394879)},861868:function(e,t,n){"use strict";n(642470),n(69032)},269448:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(527116),a=n(650093),s=i(n(620401)),c=i(n(857977));t.default=function(e,t){(0,a.set)("initProps",e),this.request=new l(e,t),o.sliderView.init(r(r({},e),{request:this.request}))};var u=function(e,t){var n,i=e.scene,o=e.aid,a=e.language,s=void 0===a?"":a,c=e.subjectAid,u=e.aff_multi_login,l=void 0===u?0:u,d=e.generalParams,f=void 0===d?{}:d;if("web"===t){var h={aid:o};"aff"===(void 0===i?"normal":i)&&(h.subject_aid=void 0===c?0:c),1===l&&(h.aff_multi_login=1),n=h}if("sso"===t||"auth"===t){var h={aid:o};1===l&&(h.aff_multi_login=1),n=h}if(n=r(r({},n),{account_sdk_source:t}),f)try{n=r(r({},f),n)}catch(e){console.error("[error], generalParams is not object!")}return s&&(n=r(r({},n),{language:s})),n},l=function(e,t){var n;return(void 0===t&&(t="web"),null===(n=(0,a.get)("initProps"))||void 0===n?void 0:n.fetch)?(0,c.default)():(0,s.default)(u(e,t))}},574496:function(e,t,n){"use strict";t.default=void 0;var r=n(218571);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}t.default=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=function(e){if(Array.isArray(e))return e}(e=(0,r.useState)(t))||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),2!==n.length);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,2)||function(e,t){if(e){if("string"==typeof e)return a(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,2)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=n[0],s=n[1];return[i,(0,r.useCallback)(function(e){s(function(t){return o(o({},t),"function"==typeof e?e(t):e)})},[])]}},298621:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r="IWZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBlPW51bGwsdD1bXSxzPTAsYT0hMTtzZWxmLmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLChmdW5jdGlvbihvKXtzd2l0Y2goby5kYXRhLm1zZyl7Y2FzZSJjb25maWd1cmF0aW9uIjplPW5ldyBzZWxmLlZpZGVvRGVjb2Rlcih7b3V0cHV0OmZ1bmN0aW9uKG8pe2E9ITAscyYmY2xlYXJUaW1lb3V0KHMpO3ZhciBuPXQuc2hpZnQoKTtuP3NlbGYucG9zdE1lc3NhZ2Uoe3R5cGU6IkRFQ09ERUQiLHdpZHRoOm8uZGlzcGxheVdpZHRoLGhlaWdodDpvLmRpc3BsYXlIZWlnaHQsaW5mbzpuLGJ1ZmZlcjpvfSxbb10pOm8uY2xvc2UoKSxlLmRlY29kZVF1ZXVlU2l6ZT09PXQubGVuZ3RoJiZzZWxmLnBvc3RNZXNzYWdlKHt0eXBlOiJCQVRDSF9GSU5JU0hfRkxBRyJ9KX0sZXJyb3I6ZnVuY3Rpb24oZSl7Y29uc29sZS5sb2coIltXZWJjb2RlY1dvcmtlcl06IixlKSwiQ29kZWMgcmVjbGFpbWVkIGR1ZSB0byBpbmFjdGl2aXR5LiIhPT1lLm1lc3NhZ2UmJnNlbGYucG9zdE1lc3NhZ2Uoe3R5cGU6IkZBSUxFRCIsbWVzc2FnZTplJiZlLm1lc3NhZ2V9KX19KSxzZWxmLlZpZGVvRGVjb2Rlci5pc0NvbmZpZ1N1cHBvcnRlZChvLmRhdGEuZGF0YSkudGhlbigoZnVuY3Rpb24odCl7dC5zdXBwb3J0ZWQmJihlLmNvbmZpZ3VyZShvLmRhdGEuZGF0YSksY29uc29sZS5sb2coIltXZWJjb2RlY1dvcmtlcl06IiwiaXNDb25maWdTdXBwb3J0ZWQiLHQpKX0pKS50aGVuKChmdW5jdGlvbigpe3NlbGYucG9zdE1lc3NhZ2Uoe3R5cGU6IkRFQ09ERVJfUkVBRFkifSkscz1zZXRUaW1lb3V0KChmdW5jdGlvbigpe2F8fHNlbGYucG9zdE1lc3NhZ2Uoe3R5cGU6IkZBSUxFRCIsbWVzc2FnZToibm8gZnJhbWUgb3V0cHV0In0pfSksMmUzKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7c2VsZi5wb3N0TWVzc2FnZSh7dHlwZToiRkFJTEVEIixtZXNzYWdlOmUmJmUubWVzc2FnZX0pfSkpO2JyZWFrO2Nhc2UiZGVjb2RlIjp2YXIgbj1vLmRhdGEuZGF0YSxpPW8uZGF0YS5pbmZvO3QucHVzaChpKTt2YXIgZD1uLmJ5dGVMZW5ndGgtNCxjPW5ldyBEYXRhVmlldyhuZXcgQXJyYXlCdWZmZXIoNCkpO2Muc2V0VWludDMyKDAsZCwhMSksbi5zZXQobmV3IFVpbnQ4QXJyYXkoYy5idWZmZXIpLDApLGkua2V5ZnJhbWUmJmUuZmx1c2goKTt2YXIgcj1uZXcgc2VsZi5FbmNvZGVkVmlkZW9DaHVuayh7dHlwZTppLmtleWZyYW1lPyJrZXkiOiJkZWx0YSIsdGltZXN0YW1wOmkucHRzLGRhdGE6bn0pO2UuZGVjb2RlKHIpO2JyZWFrO2Nhc2UiZGVzdHJveSI6ZSYmKGUuZmx1c2goKSxlLmNsb3NlKCkpLGNsZWFyVGltZW91dChzKTticmVhaztjYXNlImNoZWNrRGVjb2RlIjpzZWxmLnBvc3RNZXNzYWdlKHt0eXBlOiJDSEVDS19UT19ERUNPREUiLGRhdGE6MD09PU1hdGguYWJzKGUuZGVjb2RlUXVldWVTaXplLXQubGVuZ3RoKX0pfX0pKX0oKTsK",i="undefined"!=typeof window&&window.Blob&&new Blob([atob(r)],{type:"text/javascript;charset=utf-8"});function o(){var e=i&&(window.URL||window.webkitURL).createObjectURL(i);try{return e?new Worker(e,{}):new Worker("data:application/javascript;base64,"+r,{type:"module"})}finally{e&&(window.URL||window.webkitURL).revokeObjectURL(e)}}},944e3:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(571456),i=n(397280),o=n(873398),a=n(683132),s=n(227478),c=n(700141),u=n(76697),l=n(859933),d=n(927133),f=n(962472),h={LOW_LATENCY:1,NO_AUDIO:2,NO_VIDEO:3},p=function(e){(0,r.XW)(n,e);var t=(0,r.WY)(n);function n(){var e;return(0,r.PA)(this,n),(e=t.call(this)).TAG="XGVideo",e._proxyProps(),e._isLive=!0,e._vMeta=null,e._aMeta=null,e._resizeObserver=null,e._eventsBackup=[],e._hevc="h265"===(0,s.tT)().preloadDecoder,e._hevc||(e._degradeVideo=document.createElement("video")),e._debounceSeek=(0,a.Ds)(e._seek.bind((0,r.Lc)(e)),300),e._onTouchEnd=e._onTouchEnd.bind((0,r.Lc)(e)),e.analyse=new d.Z,e}return(0,r.qH)(n,[{key:"_proxyProps",value:function(){var e=this;Object.getOwnPropertyNames(n.prototype).forEach(function(t){/^__/.test(t)&&Object.defineProperty(e,t.replace("__",""),{get:function(){try{return this[t]}catch(e){}return 0},set:function(e){try{this[t]=e}catch(e){}}})})}},{key:"addEventListener",value:function(e,t,i){(0,r.U2)((0,r.IP)(n.prototype),"addEventListener",this).call(this,e,t,i),this._degradeVideo&&this._eventsBackup.push([e,t,i])}},{key:"removeEventListener",value:function(e,t,i){(0,r.U2)((0,r.IP)(n.prototype),"removeEventListener",this).call(this,e,t,i),this._degradeVideo&&(this._eventsBackup=this._eventsBackup.filter(function(n){return!(n.eventName===e&&n.handler===t&&n.capture===i)}))}},{key:"setAttribute",value:function(e,t){var i;(0,r.U2)((0,r.IP)(n.prototype),"setAttribute",this).call(this,e,t),"src"!==e&&(null===(i=this._degradeVideo)||void 0===i||i.setAttribute(e,t))}},{key:"_init",value:function(){this.analyse.reset(),this.timeline=new u.Z({volume:this.volume,canvas:this.querySelector("canvas"),videoContext:this.videoContext,videoDecode:this.videoDecode,maxVideoHeight:this.getAttribute("maxVideoHeight"),endLevel:parseInt(this.getAttribute("endLevel"))},this),a.kg.log(this.TAG,"timeline init"),this._noSleep=new i.Z,this._logFirstFrame=!1,this._playRequest=null,this._degradeVideoUserGestured=!1,this._bindEvents(),this._vMeta&&!this.videoDecode&&this.setVideoMeta(this._vMeta),this._glCtxOptions&&(this.glCtxOptions=this._glCtxOptions),this.timeline&&(this.innerDegrade&&this.timeline.emit(l.ZP.TIMELINE.INNER_DEGRADE),this.timeline.emit(l.ZP.TIMELINE.SET_PLAY_MODE,this._isLive?"LIVE":"VOD"),this.timeline.emit(l.ZP.TIMELINE.SET_PLAYBACKRATE,this.playbackRate),this.muted=this.muted)}},{key:"_bindEvents",value:function(){var e=this;this.timeline.on(l.ZP.TIMELINE.PLAY_EVENT,function(t,n){if(t===l.NW.LOADEDDATA){var r;e.querySelector("canvas")||(a.kg.log(e.TAG,"_bindEvents, appendChild canvas"),e.appendChild(e.canvas)),e.canvas.style.display="block",null===(r=e.timeline)||void 0===r||r.emit(l.ZP.TIMELINE.SET_PLAYBACKRATE,e.playbackRate)}if((t===l.NW.LOADEDMETADATA||t===l.NW.RESIZE)&&Promise.resolve().then(function(){e.updateVideoPostion()}),t===l.NW.ERROR){if(a.kg.warn(e.TAG,"detect error:",null==n?void 0:n.message),e.pause(),e._disabled(!0),e.innerDegrade||5===e.decoderMode){e.degradeInfo={decodeFps:e.decodeFps,bitrate:e.bitrate,wasmInitCost:e.wasmInitCost,fps:e.fps,url:e.src,msg:null==n?void 0:n.message,decoderMode:e.decoderMode},e._innerDispatchEvent("lowdecode");return}e._err=n}if(t===l.NW.LOW_DECODE){e._disabled(),e.degradeInfo={decodeFps:e.decodeFps,bitrate:e.bitrate,wasmInitCost:e.wasmInitCost,fps:e.fps,url:e.src,decoderMode:e.decoderMode},e._innerDispatchEvent(l.R_[t],e.degradeInfo);return}if(t===l.NW.LARGE_AV_GAP&&(e.unsyncInfo=n),t===l.NW.ENDED){if(e.paused)return;e.pause()}t===l.NW.PROGRESS&&e._noSleep.toPlay(),t===l.NW.WAITING&&e.analyse.addWaiting(),t===l.NW.SEEKING&&e.analyse.addSeeking(),t===l.NW.SEEKED&&e.analyse.addSeeked(),e._innerDispatchEvent(l.R_[t],n)})}},{key:"_disabled",value:function(e){if(this.innerDegrade||e){if(e){(0,s.tT)().disabledWhenErrorOccur&&(0,c.DO)(1);return}if(!(0,s.tT)().evaluateVVCount){if(this.decodeFps/this.fps<=.6&&this.bitrate<2e6){(0,c.DO)(1);return}(0,c.DO)(2)}}}},{key:"degrade",value:function(e){var t=this;this.querySelector("canvas")?this.replaceChild(this._degradeVideo,this.canvas):this.appendChild(this._degradeVideo),this._eventsBackup.forEach(function(e){var i,o=(0,r.ZQ)(e,3),a=o[0],s=o[1],c=o[2];(0,r.U2)((0,r.IP)(n.prototype),"removeEventListener",t).call(t,a,s,c),null===(i=t._degradeVideo)||void 0===i||i.addEventListener(a,s,c)}),this._eventsBackup=[],this.destroy(),e&&(this._degradeVideo.muted=!1,this._degradeVideo.src=e,this._degradeVideo.load())}},{key:"disconnectedCallback",value:function(){a.kg.log(this.TAG,"video disconnected"),document.removeEventListener("touchend",this._onTouchEnd,!0),this.destroy(!0),this._resizeObserver&&this._resizeObserver.disconnect(this)}},{key:"connectedCallback",value:function(){var e=this;a.kg.log(this.TAG,"video connected to document",performance.now()),this.timeline||this._init(),this.style.width="100%",this.style.height="100%",this.style.position="absolute",this.style.left="0px",this.style.top="0px",document.addEventListener("touchend",this._onTouchEnd,!0),ResizeObserver&&(this._resizeObserver=new ResizeObserver(function(t){var n;null!==(n=e.timeline)&&void 0!==n&&n.ready&&e.updateVideoPostion()}),this._resizeObserver.observe(this))}},{key:"_onTouchEnd",value:function(){(0,o.fC)(),this._degradeVideoInteract(),this._noSleep&&this._noSleep.enable()}},{key:"_degradeVideoInteract",value:function(){var e=this;if(this._degradeVideo&&(1===this.innerDegrade||3===this.innerDegrade)){if(this._degradeVideoUserGestured)return;var t=this._degradeVideo.play();t&&t.then(function(){e._degradeVideo.pause(),e._degradeVideoUserGestured=!0}).catch(function(e){console.log("degrade video: ",e.message)})}}},{key:"play",value:function(e){var t=this;if(this.timeline){a.kg.log(this.TAG,"play() called, ready:".concat(this.timeline.ready,", paused:").concat(this.timeline.paused,", force:").concat(e)),this._degradeVideoInteract();var n=0;if(this.timeline.ready&&this.timeline.paused||e){if(e=e||this._isLive,this._playRequest=null,!e)return this.timeline.emit(l.ZP.TIMELINE.DO_PLAY),this._innerDispatchEvent("play"),Promise.resolve();this.destroy(),this._init(),n=setTimeout(function(){try{t._innerDispatchEvent("waiting")}catch(e){}},300)}return this._playRequest||!this.timeline.ready||this.timeline.paused?(a.kg.log(this.TAG,"request play!"),this._playRequest=this._playRequest||new Promise(function(e,r){t.timeline._paused=!1,t._innerDispatchEvent("play"),t._noSleep.enable(),t.timeline.once("ready",function(){a.kg.log(t.TAG,"timeline emit ready"),clearTimeout(n),t.timeline.play().then(e).catch(r).finally(function(){t._playRequest=null})})}),this.autoplay=!0,this._playRequest):Promise.resolve()}}},{key:"pause",value:function(){this._playRequest=null,this.timeline&&this.timeline.pause();try{this._noSleep.disable(),(0,o.BR)()}catch(e){}}},{key:"load",value:function(){}},{key:"appendBuffer",value:function(e,t){if(this.timeline&&!this._err){if(this._adaptTracks(e,t),!this._logFirstFrame){var n=e&&e.samples[0],r=t&&t.samples[0];if(!n&&!r)return;if(n||r){var i=(null==e?void 0:e.duration)/((null==e?void 0:e.formatTimescale)||1/0),o=(null==t?void 0:t.duration)/((null==t?void 0:t.formatTimescale)||1/0);a.kg.warn(this.TAG,"video firstDts:".concat(n&&n.dts," , audio firstDts:").concat(r&&r.dts," videoTrack.duration=").concat(i,", audioTrack.duration=").concat(o)),this._logFirstFrame=!0,(i||o)&&(this.setPlayMode("VOD"),this.timeline.emit(l.ZP.TIMELINE.SET_PLAY_MODE,this._isLive?"LIVE":"VOD"),this.duration=Math.min(i||o,o||i)),this.analyse.addFirstData()}this.lowlatency&&(a.kg.warn(this.TAG,"single track! type=",h.LOW_LATENCY),this.timeline.emit(l.ZP.TIMELINE.SINGLE_TRACK,h.LOW_LATENCY)),t.exist()||(a.kg.warn(this.TAG,"single track! type=",h.NO_AUDIO),this.timeline.emit(l.ZP.TIMELINE.SINGLE_TRACK,h.NO_AUDIO)),e.exist()||(a.kg.warn(this.TAG,"single track! type=",h.NO_VIDEO),this.timeline.emit(l.ZP.TIMELINE.SINGLE_TRACK,h.NO_VIDEO))}e.formatTimescale&&e.samples.forEach(function(t){t.dts=Math.floor(t.dts/e.formatTimescale*1e3),t.pts=Math.floor(t.pts/e.formatTimescale*1e3)}),t.formatTimescale&&t.samples.forEach(function(e){e.dts=Math.floor(e.dts/t.formatTimescale*1e3),e.pts=Math.floor(e.pts/t.formatTimescale*1e3)}),this.timeline.appendBuffer(e,t)}}},{key:"_adaptTracks",value:function(e,t){var n,r;void 0!==e.baseMediaDecodeTime||(Object.keys(e.meta).forEach(function(t){e[t]=e.meta[t]}),e.vps=[e.meta.vps],e.sps=[e.meta.sps],e.pps=[e.meta.pps],e.width=e.codecWidth,e.height=e.codecHeight,e.exist||(e.exist=function(){return!0}),e.baseDts||(e.baseDts=null===(n=e.samples[0])||void 0===n?void 0:n.dts),t.baseDts||(t.baseDts=null===(r=t.samples[0])||void 0===r?void 0:r.dts),e.samples.forEach(function(t){t.keyframe=!!t.isKeyframe,t.dts-=e.baseDts,t.pts=t.dts+t.cts,t.units=t.nals.map(function(e){return e.body}),t.nals=null}),Object.keys(t.meta).forEach(function(e){t[e]=t.meta[e]}),t.samples.forEach(function(e){e.size=e.data.length,e.dts-=t.baseDts}),t.exist||(t.exist=function(){return!0}))}},{key:"setAudioMeta",value:function(e){this._aMeta=e,this.timeline.emit(l.ZP.TIMELINE.SET_METADATA,"audio",e)}},{key:"setVideoMeta",value:function(e){(this._isLive||!this._vMeta)&&(this.timeline.emit(l.ZP.TIMELINE.SET_METADATA,"video",e),this._vMeta=e)}},{key:"setDecodeMode",value:function(e){this.setAttribute("decodeMode",e)}},{key:"setPlayMode",value:function(e){this._isLive="LIVE"===e}},{key:"endOfStream",value:function(){var e;this.currentTime&&(null===(e=this.timeline)||void 0===e||e.emit(l.ZP.TIMELINE.END_OF_STREAM))}},{key:"updateVideoPostion",value:function(){var e;null===(e=this.timeline)||void 0===e||e.emit(l.ZP.VIDEO.UPDATE_VIDEO_FILLTYPE,this.xgfillType,this.containerLayout)}},{key:"_innerDispatchEvent",value:function(e,t){this.dispatchEvent(new CustomEvent(e,{detail:t}))}},{key:"destroy",value:function(e){this.timeline&&(this._noSleep.destroy(),a.kg.log(this.TAG,"call destroy"),this.timeline.emit(l.ZP.TIMELINE.DESTROY,e),this.querySelector("video")&&this.removeChild(this.querySelector("video")),this.timeline=null,this._err=null,this._noSleep=null,this._eventsBackup=[])}},{key:"updateObjectPosition",value:function(e,t){this.timeline.emit(l.ZP.VIDEO.UPDATE_VIDEO_COVER_POSITION,this.containerLayout,e,t),this._degradeVideo&&(this._degradeVideo.style.objectPosition="".concat(100*e,"% ").concat(100*t,"%"))}},{key:"setVideoDecode",value:function(){a.kg.log(this.TAG,"set videoDecode",this.videoDecode),this.videoDecode&&this.timeline&&this.timeline.videoRender&&(this.timeline.videoRender.videoDecode=this.videoDecode)}},{key:"live",get:function(){return this._isLive}},{key:"lowlatency",get:function(){return"true"===this.getAttribute("lowlatency")},set:function(e){this.setAttribute("lowlatency",e)}},{key:"autoplay",get:function(){return"true"===this.getAttribute("autoplay")},set:function(e){this.setAttribute("autoplay",e)}},{key:"__canvas",get:function(){return this.timeline.canvas}},{key:"__ended",get:function(){return .5>Math.abs(this.currentTime-this.duration)}},{key:"__width",get:function(){return this.getAttribute("width")||this.videoWidth},set:function(e){this.setAttribute("width","number"==typeof e?"".concat(e,"px"):e),this.canvas.width=e}},{key:"__height",get:function(){return this.getAttribute("height")},set:function(e){this.setAttribute("height","number"==typeof e?"".concat(e,"px"):e),this.canvas.height=e}},{key:"__videoWidth",get:function(){return this.canvas.width}},{key:"__videoHeight",get:function(){return this.canvas.height}},{key:"__volume",get:function(){return Number(this.getAttribute("volume"))},set:function(e){e<=0&&(e=0),e>=1&&(e=1),this.setAttribute("volume",e),this.muted||this.timeline.emit(l.ZP.TIMELINE.UPDATE_VOLUME,e)}},{key:"__muted",get:function(){return"true"===this.getAttribute("muted")},set:function(e){this.setAttribute("muted",e),this._degradeVideoInteract(),this._noSleep.enable(),this.timeline.emit(l.ZP.TIMELINE.UPDATE_VOLUME,e?0:this.volume)}},{key:"__currentTime",get:function(){return this.timeline?Math.min(this.timeline.currentTime,this.timeline.duration):0},set:function(e){this._debounceSeek(e)}},{key:"_seek",value:function(e){this.timeline&&(this.buffered.length||this.play(),this.paused&&!this._isLive&&0===e&&this.play(),this.timeline.seek(Number(e)))}},{key:"__duration",get:function(){return this._isLive?1/0:this.timeline.duration},set:function(e){this.timeline.emit(l.ZP.TIMELINE.SET_VIDEO_DURATION,e),this._innerDispatchEvent("durationchange")}},{key:"__seeking",get:function(){return this.timeline.seeking}},{key:"__paused",get:function(){return this.timeline.paused}},{key:"__fps",get:function(){return this.timeline.fps}},{key:"__decodeFps",get:function(){return this.timeline.decodeFps}},{key:"__decodeCost",get:function(){return parseInt(this.timeline.decodeCost)}},{key:"__renderCost",get:function(){return this.timeline.renderCost}},{key:"__wasmInitCost",get:function(){return this.timeline.wasmInitCost}},{key:"__totalSize",get:function(){return this.timeline.totalSize}},{key:"__bitrate",get:function(){return this.timeline.bitrate}},{key:"__gopLength",get:function(){return this.timeline.gopLength}},{key:"__readyState",get:function(){return this.timeline.readyState}},{key:"__buffered",get:function(){return this.timeline.buffered}},{key:"__decoderMode",get:function(){return this.timeline.decoderMode}},{key:"src",get:function(){return this.getAttribute("src")||""},set:function(e){a.kg.log(this.TAG,"set src ",e),this.setAttribute("src",e),this._vMeta=null,this.play(!0),this.timeline||this._init(),this._innerDispatchEvent("loadstart"),(0,c.X2)()}},{key:"currentSrc",get:function(){return this.getAttribute("src")||""}},{key:"playbackRate",get:function(){return parseFloat(this.getAttribute("playbackrate")||1)},set:function(e){var t;this.setAttribute("playbackrate",e),null===(t=this.timeline)||void 0===t||t.emit(l.ZP.TIMELINE.SET_PLAYBACKRATE,e)}},{key:"networkState",get:function(){return 1}},{key:"preloadTime",get:function(){var e=this.getAttribute("preloadtime");if(e){var t=Number.parseFloat(e);if(t>0&&!Number.isNaN(t))return t}return 1/0},set:function(e){e&&Number(e)>0&&this.setAttribute("preloadtime",e)}},{key:"innerDegrade",get:function(){return parseInt(this.getAttribute("innerdegrade"))}},{key:"__glCtxOptions",set:function(e){this._glCtxOptions=e,this.timeline.emit(l.ZP.TIMELINE.UPDATE_GL_OPTIONS,e)}},{key:"__error",get:function(){return this._err},set:function(e){this.timeline.emit(l.ZP.TIMELINE.PLAY_EVENT,l.NW.ERROR,e)}},{key:"degradeVideo",get:function(){return this._degradeVideo}},{key:"degradeInfo",get:function(){return this._deradeInfo},set:function(e){this._deradeInfo=e}},{key:"unsyncInfo",get:function(){return this._unsyncInfo},set:function(e){this._unsyncInfo=e}},{key:"xgfillType",get:function(){return this.parentNode.getAttribute("data-xgfill")}},{key:"containerLayout",get:function(){var e=this.parentNode;return{width:e.clientWidth,height:e.clientHeight}}},{key:"videoDecode",get:function(){return"7"===this.getAttribute("decodeMode")}},{key:"audioMedia",get:function(){var e,t;return null===(e=this.timeline)||void 0===e?void 0:null===(t=e.audioRender)||void 0===t?void 0:t.media}},{key:"getStats",value:function(){return this.analyse.getStats(this)}},{key:"getSeekElapses",value:function(){return this.analyse.seekElapses()}},{key:"dump",value:function(){var e=this.buffered;return console.log(e),Array(e.length).fill(0).map(function(t,n){return[e.start(n),e.end(n)]})}}],[{key:"version",get:function(){return"0.2.2"}},{key:"init",value:function(e){var t=e.h264Url,r=e.h264AsmUrl,i=e.h265AsmUrl,o=e.h265Url,a=e.h265ThreadUrl,s=e.h265SimdUrl,c=e.hevcWorkerUrl,u=e.avcWorkerUrl,l=e.timerWorkerUrl;n.h264Url=t,n.h265Url=o,n.h265AsmUrl=i,n.h264AsmUrl=r,n.h265ThreadUrl=a,n.h265SimdUrl=s,n.hevcWorkerUrl=c,n.avcWorkerUrl=u,n.timerWorkerUrl=l}},{key:"getDecodeCapacity",value:function(){return(0,s.tT)()}},{key:"getDeviceCapacity",value:function(){return(0,s.MP)()}},{key:"setDecodeCapacity",value:function(e){(0,s.rM)(e),e.preloadDecoder&&f.Z.genDecoder().catch(function(){})}},{key:"genDecoder",value:function(e){return f.Z.genDecoder(e)}},{key:"cleanDisabled",value:function(){(0,c.J2)()}},{key:"isSupported",value:function(){return!!(0,s.lF)()&&!1===(0,c.mt)()}}]),n}("undefined"!=typeof HTMLElement?HTMLElement:function(){});(0,r._x)(p,"decoderCache",f.Z)},153898:function(e,t,n){"use strict";n.d(t,{qB:function(){return r.qB},rT:function(){return r.rT}});var r=n(700203)},758399:function(e,t,n){"use strict";n.d(t,{r:function(){return d}});var r=n(103733),i=n(564471),o=n(269511),a=n(670483),s=n(477204);function c(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,i)}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}var d=function(){var e;function t(){var e=this;(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,t),u(this,"arrayBuffers",[]),u(this,"locked",!1),u(this,"webSocket",void 0),u(this,"sourceBuffer",void 0),u(this,"connected",void 0),u(this,"start",function(n){var d,f,h,p,v,_,m=n.url,g=n.token,y=n.appkey,b=n.config,w=n.onStart,x=n.onMessage,k=n.onComplete,E=n.onClose,S=n.onSocketError,O=n.onServerError,A=n.debug,T=void 0!==A&&A;null===(h=e.webSocket)||void 0===h||h.close();var C=null!==(v=null===(p=b.audio_config)||void 0===p?void 0:p.format)&&void 0!==v?v:a.q.mp3,j=t.isTypeSupported(C);j&&((_=new MediaSource).onsourceopen=function(){var t;e.sourceBuffer=null===(t=_)||void 0===t?void 0:t.addSourceBuffer((0,s.bh)(C)),e.sourceBuffer.onupdateend=function(){return e.addChunks()}});var I=new WebSocket(m);e.webSocket=I,I.onopen=function(){T&&console.info("TTS streaming connected"),e.connected=!0,null==w||w(),I.send(JSON.stringify((0,s.to)({token:g,appkey:y,config:b})))};var P=(0,r.R)(I,"message").pipe((0,i.b)((d=function(e){return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,function(t){switch(t.label){case 0:if(!l(e.data,Blob))return[3,2];return[4,e.data.arrayBuffer()];case 1:return[2,t.sent()];case 2:return[2,e.data];case 3:return[2]}})},f=function(){var e=this,t=arguments;return new Promise(function(n,r){var i=d.apply(e,t);function o(e){c(i,n,r,o,a,"next",e)}function a(e){c(i,n,r,o,a,"throw",e)}o(void 0)})},function(e){return f.apply(this,arguments)})),(0,o.U)(function(t){if(l(t,ArrayBuffer))i=t,null==x||x({event:a.z.TaskAudio,buffer:i,message_id:"",namespace:"TTS",status_code:2e7,status_text:"",task_id:""});else try{var n,r,i,o,c=JSON.parse(t);if(2e7!==c.status_code){null==O||O(c);return}c.data&&(i=(0,s.RG)(c.data),c.event=a.z.TaskTimestamp,delete c.data),null==x||x((n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){u(e,t,n[t])})}return e}({},c),r={buffer:i},r=null!=r?r:{},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(r)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}),n)),c.event===a.z.TaskFinished&&(null===(o=e.webSocket)||void 0===o||o.close())}catch(e){T&&console.error(e)}j&&i&&(e.arrayBuffers.push(i),e.addChunks())})).subscribe();return I.onclose=function(){if(P.unsubscribe(),e.connected=!1,T&&console.info("TTS streaming disconnected"),j)var t=setInterval(function(){var n,r=0===e.arrayBuffers.length,i=e.sourceBuffer&&!e.sourceBuffer.updating;if(r&&i){try{null===(n=_)||void 0===n||n.endOfStream()}catch(e){T&&console.error(e)}clearInterval(t),null==k||k()}},0);else e.arrayBuffers=[],null==k||k();null==E||E()},I.onerror=function(e){return null==S?void 0:S(e)},_?URL.createObjectURL(_):""})}return e=[{key:"addChunks",value:function(){var e=this.sourceBuffer,t=this.arrayBuffers;if(!this.locked){if(this.locked=!0,t.length&&e&&!e.updating)try{e.appendBuffer(t.shift())}catch(e){console.error(e)}this.locked=!1}}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}();u(d,"revokeUrl",function(e){e&&URL.revokeObjectURL(e)}),u(d,"isTypeSupported",function(e){try{return MediaSource.isTypeSupported((0,s.bh)(e))}catch(e){return!1}})},907028:function(){var e=Element.prototype.removeChild,t=Node.prototype.removeChild;Element.prototype.removeChild=function(t){return t.parentNode!==this&&this instanceof HTMLElement&&this.closest(".editor-kit-container")?t:e.call(this,t)},Node.prototype.removeChild=function(e){return e.parentNode!==this&&this instanceof HTMLElement&&this.closest(".editor-kit-container")?e:t.call(this,e)}},556855:function(e,t,n){"use strict";function r(e,t){return{left:e.left-t.left,right:e.right-t.left,top:e.top-t.top,bottom:e.bottom-t.top}}function i(e,t){var n;void 0!==t.line&&(n=e.length()-1,t.line=Math.max(Math.min(n,t.line),0),void 0!==t.offset&&(e=e.getLine(t.line).getModelText().length-1,t.offset=Math.max(Math.min(e,t.offset),0)))}function o(){return{left:0,right:0,top:0,bottom:0,width:0,height:0}}function a(e){return{left:e.left,top:e.top,bottom:e.bottom,right:e.right,width:e.width,height:e.height}}function s(e,t){return[e.zoneId,e.line,e.offset,t].filter(function(e){return void 0!==e}).join("-")}n.d(t,{BZ:function(){return o},ah:function(){return s},r3:function(){return a},s8:function(){return r},xR:function(){return i}})},41792:function(e,t,n){"use strict";n.d(t,{_:function(){return o},a:function(){return a},b:function(){return s},c:function(){return c},d:function(){return i},i:function(){return d},s:function(){return u},t:function(){return l}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function s(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function c(e,t,n){void 0===e&&(e={}),void 0===t&&(t={}),"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var r=o({},t);for(var i in n||(r=Object.keys(r).reduce(function(e,t){return null!==r[t]&&""!==r[t]&&(e[t]=r[t]),e},{})),e)void 0!==e[i]&&void 0===t[i]&&(r[i]=e[i]);return Object.keys(r).length>0?r:void 0}function u(e,t){return void 0===t&&(t=!0),Object.keys(e).reduce(function(n,r){return(!1!==t||e[r])&&(n[r]="string"==typeof e[r]?e[r]:String(e[r])),n},{})}function l(e,t,n){if(void 0===e&&(e={}),void 0===t&&(t={}),void 0===n&&(n=!1),"object"!=typeof e)return t;if("object"==typeof t){if(!n)return t;var r=Object.keys(t).reduce(function(n,r){return void 0===e[r]&&(n[r]=t[r]),n},{});return Object.keys(r).length>0?r:void 0}}function d(e,t){void 0===e&&(e={}),void 0===t&&(t={}),e=e||{};var n=Object.keys(t).reduce(function(n,r){return t[r]!==e[r]&&void 0!==e[r]&&(n[r]=t[r]),n},{});return Object.keys(e).reduce(function(n,r){return e[r]!==t[r]&&void 0===t[r]&&(n[r]=""),n},n)}},680842:function(e,t,n){"use strict";n.d(t,{g:function(){return o}});var r=n(789771),i=n(540648);function o(e){var t=document.createElement("span");return(0,r.T)(t,e),t.setAttribute("data-zero-space","true"),t.textContent=i.T6,t}},922810:function(e,t,n){"use strict";n.d(t,{z:function(){return h}});var r="\ud800-\udfff",i="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\u1ab0-\\u1aff\\u1dc0-\\u1dff]",o="\ud83c[\udffb-\udfff]",a="[^"+r+"]",s="(?:\ud83c[\udde6-\uddff]){2}",c="[\ud800-\udbff][\udc00-\udfff]",u="(?:"+i+"|"+o+")?",l="[\\ufe0e\\ufe0f]?",d="(?:\\u200d(?:"+[a,s,c].join("|")+")"+(l+u)+")*",f=RegExp(o+"(?="+o+")|"+("(?:"+[""+a+i+"?",i,s,c,"["+r+"]"].join("|"))+")"+(l+u+d),"g");function h(e){return e.match(f)||[]}},579419:function(e,t,n){"use strict";function r(e,t){var n=t&&t.cache?t.cache:c,r=t&&t.serializer?t.serializer:a;return(t&&t.strategy?t.strategy:function(e,t){var n,r,a=1===e.length?i:o;return n=t.cache.create(),r=t.serializer,a.bind(this,e,n,r)})(e,{cache:n,serializer:r})}function i(e,t,n,r){var i=null==r||"number"==typeof r||"boolean"==typeof r?r:n(r),o=t.get(i);return void 0===o&&(o=e.call(this,r),t.set(i,o)),o}function o(e,t,n){var r=Array.prototype.slice.call(arguments,3),i=n(r),o=t.get(i);return void 0===o&&(o=e.apply(this,r),t.set(i,o)),o}n.d(t,{A:function(){return u},H:function(){return r}});var a=function(){return JSON.stringify(arguments)};function s(){this.cache=Object.create(null)}s.prototype.get=function(e){return this.cache[e]},s.prototype.set=function(e,t){this.cache[e]=t};var c={create:function(){return new s}},u={variadic:function(e,t){var n,r;return n=t.cache.create(),r=t.serializer,o.bind(this,e,n,r)},monadic:function(e,t){var n,r;return n=t.cache.create(),r=t.serializer,i.bind(this,e,n,r)}}},813888:function(e,t,n){"use strict";n.d(t,{ZP:function(){return u}});var r,i,o=n(92233),a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function s(e,t,n){function r(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function i(){return!e||"string"==typeof e}void 0===n&&(n=null);for(var o="string"!=typeof t?[].concat(t):t.split(".");o.length>1;){if(i())return{};var a=r(o.shift());!e[a]&&n&&(e[a]=new n),e=e[a]}return i()?{}:{obj:e,k:r(o.shift())}}(r=i||(i={})).keepRaw="keepRaw",r.replaceAnyway="replaceAnyway",i.replaceAnyway;var c={memoize:!1,memoizeFallback:!1,bindI18n:!1,bindI18nStore:!1,onParseError:i.replaceAnyway},u=function(){function e(){this.mem={}}return e.staticInit=function(t){e._i18nextInstance=t},e.prototype.init=function(t,n){var r=this;void 0===t&&(t=e._i18nextInstance);var i={};if((null==t?void 0:t.options)&&(t.options.i18nFormat&&(i=t.options.i18nFormat),i.onParseError=t.options.onParseError,i.missingInterpolationHandler=t.options.missingInterpolationHandler,i.icuConfig=t.options.icuConfig,i.ignoreWarning=!!t.options.ignoreWarning),this.options=Object.assign(c,n,i),this.formats=this.options.formats,t){var a=this.options,s=a.bindI18n,u=a.bindI18nStore,l=a.memoize;t.IntlMessageFormat=o.ZP,this.IntlMessageFormat=o.ZP,t.ICU=this,l&&(s&&t.on(s,function(){return r.clearCache()}),u&&t.store.on(u,function(){return r.clearCache()}))}this.options.localeData&&("[object Array]"===Object.prototype.toString.apply(this.options.localeData)?this.options.localeData.forEach(function(e){return r.addLocaleData(e)}):this.addLocaleData(this.options.localeData))},e.prototype.addLocaleData=function(e){("[object Array]"===Object.prototype.toString.apply(e)?e:[e]).forEach(function(e){e&&e.locale&&o.ZP.__addLocaleData(e)})},e.prototype.addUserDefinedFormats=function(e){this.formats=this.formats?a(a({},this.formats),e):e},e.prototype.checkMissingInterpolation=function(e,t,n,r,o){if(!1===(this.options.icuConfig||{}).strict)return n;for(var a={},s=0;s<e.length;s++){var c=e[s];if(1===c.type){var u=c.value;if(null===n[u]||void 0===n[u]){if("function"==typeof this.options.missingInterpolationHandler){var l=this.options.missingInterpolationHandler({key:o,text:t,locale:r,interpolation:{key:u,val:n[u]}});if("string"==typeof l){a[u]=l;continue}}switch(this.options.onParseError){case i.keepRaw:throw Error();case i.replaceAnyway:a[u]="{"+u+"}";continue}if("function"==typeof this.options.onParseError){console.warn("[DEPRECATED] onParseError is deprecated, please use 'missingInterpolationHandler' instead of");var d=this.options.onParseError(t,u,r,this.IntlMessageFormat);if(!0===d)throw Error();a[u]="string"==typeof d?d:"{"+u+"}"}else this.options.ignoreWarning||console.warn('[Starling ICU Warning] The interpolation parameter "{'+u+'}" is missing in the translation text "'+t+'" for the key "'+o+"\"\nSuggestions: check whether the value is null or undefined. Try using empty string '' as fallback! e.g I18n.t('key', { apple: count || '' })"),a[u]="{"+u+"}"}}}return Object.assign({},n,a)},e.prototype.parse=function(e,t,n,r,i,o){var a,c,u,l,d=o&&o.resolved&&o.resolved.res,f=this.options.memoize&&n+"."+r+"."+i.replace(/\./g,"###");!d&&t.thirdParamFallback&&t.fallbackText&&(e=t.fallbackText),this.options.memoize&&(l=function(e,t){var n=s(e,t),r=n.obj,i=n.k;if(r)return r[i]}(this.mem,f));try{return!l&&(l=new this.IntlMessageFormat(e,n,this.formats,(this.options.icuConfig||{}).formatOptions),this.options.memoize&&(this.options.memoizeFallback||!o||d))&&(a=this.mem,c=l,(u=s(a,f,Object)).obj[u.k]=c),l.format(this.checkMissingInterpolation(l.getAst(),e,t||{},n,i))}catch(t){return e}},e.prototype.addLookupKeys=function(e,t,n,r,i){return e},e.prototype.clearCache=function(){this.mem={}},e.type="i18nFormat",e._i18nextInstance=null,e}();u.name},943805:function(e,t,n){"use strict";n.d(t,{r:function(){return i}});var r=n(218571),i=function(e){var t=e.callback,n=e.children,i=(0,r.useRef)(!1);return(0,r.useLayoutEffect)(function(){i.current||(i.current=!0,t())},[t]),n}},880564:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var r=n(744889).Z},437008:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var r=n(405304).Z},292516:function(e,t,n){"use strict";n.d(t,{Z:function(){return y},o:function(){return g}});var r=n(50906),i=n.n(r),o=n(970767),a=n.n(o),s=n(56052),c=n(698698),u=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,v=(e,t,n)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_=(e,t)=>{for(var n in t||(t={}))h.call(t,n)&&v(e,n,t[n]);if(f)for(var n of f(t))p.call(t,n)&&v(e,n,t[n]);return e},m=(e,t)=>l(e,d(t));let g={data:{},timestamp:0};var y=class{constructor(e="BaseStorageWrapper",t=!1){this.insertDataByStorageName=(e,t,n,r)=>{c.Z.info(`[${this.name}]: insertDataByStorageName`,{data:n,storageName:t,timestamp:r});let{data:i={},timestamp:o=0}=e[t];if(o<r){let o=a()({},n,i);e[t]={data:o,timestamp:r}}},this.getConsentData=(e,t)=>{c.Z.info(`[${this.name}]: getConsentData`,{userInfo:e,keys:t});let n={},{user_id:r=""}=null!=e?e:{},i=this.getConsentStore(e);return((null==t?void 0:t.length)?t:Object.keys(i.consentEntityValidationMap)).forEach(e=>{var t,o,a,c;switch(i.consentEntityValidationMap[e]){case s.yv.BOTH:n[e]=i[s.mL.BOTH_CONSENT].data[e];break;case s.yv.DEVICE_ID:n[e]=i[s.mL.DEVICE_CONSENT].data[e];break;case s.yv.USER_ID:n[e]=i[s.mL.USER_CONSENT].data[e];break;case s.yv.ANY:{let u=i[s.mL.USER_CONSENT].data[e],l=i[s.mL.DEVICE_CONSENT].data[e],d=null!=(o=null==(t=null==u?void 0:u.record)?void 0:t.created_at)?o:0,f=null!=(c=null==(a=null==l?void 0:l.record)?void 0:a.created_at)?c:0;r&&d>=f?n[e]=u:n[e]=l}}}),n},this.getNotificationData=e=>(c.Z.info(`[${this.name}]: getNotificationData`,{userInfo:e}),this.getNotificationStore(e).notification.data),this.splitConsentEntityData=(e,t)=>{c.Z.info(`[${this.name}]: splitConsentEntityData`,{userInfo:t,data:e});let n={},r={},i={},o={},{device_id:a="",user_id:u=""}=null!=t?t:{};return e&&Object.keys(e).forEach(t=>{let c=e[t];if(c)switch(o[t]=c.validator,c.validator){case s.yv.ANY:a&&(n[t]=c),u&&(r[t]=c);break;case s.yv.DEVICE_ID:a&&(n[t]=c);break;case s.yv.USER_ID:u&&(r[t]=c);break;case s.yv.BOTH:u&&a&&(i[t]=c)}}),{deviceConsentData:n,userConsentData:r,bothRequiredConsentData:i,consentEntityValidationMap:o}},this.insertDataIntoStore=(e,t,n)=>{c.Z.info(`[${this.name}]: insertDataIntoStore`,{userInfo:n,data:e,timestamp:t});let r=this.getConsentStore(n),{deviceConsentData:i,userConsentData:o,bothRequiredConsentData:u,consentEntityValidationMap:l}=this.splitConsentEntityData(e,n);return this.insertDataByStorageName(r,s.mL.DEVICE_CONSENT,i,t),this.insertDataByStorageName(r,s.mL.USER_CONSENT,o,t),this.insertDataByStorageName(r,s.mL.BOTH_CONSENT,u,t),r.consentEntityValidationMap=a()({},l,r.consentEntityValidationMap),r},this._formatConsentRecord=e=>{let{key:t,type:n,name:r,category:i,validator:o,record:a}=null!=e?e:{};return a&&n&&r&&i&&o&&t?m(_({},a),{entity_key:t,entity_type:n,entity_name:r,entity_category:i,entity_validator:o}):null},this.getRecord=(e,t)=>{c.Z.info(`[${this.name}]: getRecord`,{userInfo:t,key:e});let n=this.getConsentData(t,[e]),r=this._formatConsentRecord(null==n?void 0:n[e]);return r?this.shouldClone?i()(r):r:(c.Z.info(`[${this.name}]: getRecord - no record for ${e}`,{key:e}),null)},this.getEntity=(e,t)=>{var n;c.Z.info(`[${this.name}]: getEntity`,{userInfo:t,key:e});let r=this.getConsentData(t,[e]),o=null!=(n=null==r?void 0:r[e])?n:null;return(o||c.Z.info(`[${this.name}]: getEntity - no entity for ${e}`,{key:e}),this.shouldClone)?i()(o):o},this.getEntities=(e,t)=>{var n;c.Z.info(`[${this.name}]: getEntities`,{userInfo:t,keys:e});let r=[],o=null!=(n=this.getConsentData(t,e))?n:{};if(null==e?void 0:e.length){let t=[];e.forEach(e=>{var n;let a=null!=(n=null==o?void 0:o[e])?n:null;a?r.push(this.shouldClone?i()(a):a):t.push(e)}),t.length&&c.Z.info(`[${this.name}]: getEntities - missing some entities`,{entityKeys:t})}else Object.keys(null!=o?o:{}).forEach(e=>{var t;let n=null!=(t=null==o?void 0:o[e])?t:null;n&&r.push(this.shouldClone?i()(n):n)});return r},this.getRecords=(e,t)=>{c.Z.info(`[${this.name}]: getRecords`,{userInfo:t,keys:e});let n=[],r=this.getConsentData(t,e);if(null==e?void 0:e.length){let t=[];e.forEach(e=>{let o=this._formatConsentRecord(null==r?void 0:r[e]);o?n.push(this.shouldClone?i()(o):o):t.push(e)}),t.length&&c.Z.info(`[${this.name}]: getRecords - missing some records`,{entityKeys:t})}else Object.keys(null!=r?r:{}).forEach(e=>{let t=this._formatConsentRecord(null==r?void 0:r[e]);t&&n.push(this.shouldClone?i()(t):t)});return n},this.clean=()=>{this.cleanConsentData(),this.cleanNotificationData()},this.destruct=()=>{this.clean()},this.name=e,this.shouldClone=t}}},18299:function(){},175874:function(){},712249:function(){},627996:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r={result:"result-Iuf_m1",icon:"icon-_4gjGM",title:"title-iJgcck",content:"content-zu6M2Z",buttons:"buttons-wVUEiQ"}},357257:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r={historyPanelWrapper:"historyPanelWrapper-_dGLxK",historyPanel:"historyPanel-vzk40H",historyHeader:"historyHeader-ykmwo4",historyList:"historyList-SdDszb",historyItem:"historyItem-b7qJeP",historyItem__player:"historyItem__player-xrQNuG",historyItemPlayer:"historyItem__player-xrQNuG",historyItem__buttons:"historyItem__buttons-emwaJC",historyItemButtons:"historyItem__buttons-emwaJC",audioPlayer:"audioPlayer-fyZfnK",videoPlayer:"videoPlayer-vznBMx"}},450407:function(e,t,n){"use strict";var r=n(211996),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,a={};return e&&r.forEach(e.split("\n"),function(e){o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t&&!(a[t]&&i.indexOf(t)>=0)&&("set-cookie"===t?a[t]=(a[t]?a[t]:[]).concat([n]):a[t]=a[t]?a[t]+", "+n:n)}),a}},348530:function(e,t,n){var r;r=function(e){return e.pad.Iso97971={pad:function(t,n){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,n)},unpad:function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--}},e.pad.Iso97971},e.exports=r(n(359302),n(967272))},795363:function(e,t,n){"use strict";n.d(t,{F:function(){return f}});var r=n(34522),i=n(470922),o=n(157215),a=n(769026),s=n(445049),c=n(465054),u=n(286354),l=n(457494),d=function(e,t){var n=new Map;return t.forEach(function(e){return n.set(e.node,e)}),e.map(function(e){return n.get(e)}).filter(u.$K)},f=function(e,t){var n=(0,c.v)((0,a._2)(e).length>0?document:(0,a.Xi)(e).ownerDocument),f=(0,o.K)(e).filter(u.IS),h=(0,l.V0)(n||e,e,f),p=new Map,v=(0,i.pw)(f,p),_=v.filter(function(e){var t=e.node;return(0,u.IS)(t)});if(_[0]){var m=(0,i.pw)([h],p).map(function(e){return e.node}),g=d(m,_),y=g.map(function(e){return e.node}),b=g.filter(function(e){return e.tabIndex>=0}).map(function(e){return e.node}),w=(0,r.V)(y,b,m,n,t);if(w===r.Z){var x=(0,s.H)(v,b,(0,l.o$)(f,p))||(0,s.H)(v,y,(0,l.o$)(f,p));return x?{node:x}:void console.warn("focus-lock: cannot find any node to move focus into")}return void 0===w?w:g[w]}}},32016:function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},948244:function(e,t,n){"use strict";n(218571)},163786:function(e,t,n){"use strict";var r=n(254845);if(!n(218571).useState)throw Error("mobx-react-lite requires React with Hooks support");if(!r.rC)throw Error("mobx-react-lite@3 requires mobx at least version 6 to be available")},254845:function(e,t,n){"use strict";function r(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("number"==typeof e?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}n.d(t,{$$:function(){return e1},EH:function(){return tZ},Fl:function(){return eY},Gf:function(){return tH},LO:function(){return eG},U5:function(){return tV},ZN:function(){return t2},aD:function(){return tN},cp:function(){return eu},jQ:function(){return tG},ky:function(){return nr},le:function(){return tb},mJ:function(){return tc},p6:function(){return el},rC:function(){return nt},so:function(){return ea},wM:function(){return ts},z:function(){return tD}});var i,o,a,s,c,u,l,d,f,h,p,v,_,m,g,y,b={};function w(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:b}var x=Object.assign,k=Object.getOwnPropertyDescriptor,E=Object.defineProperty,S=Object.prototype,O=[];Object.freeze(O);var A={};Object.freeze(A);var T="undefined"!=typeof Proxy,C=Object.toString();function j(){T||r("Proxy not available")}function I(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var P=function(){};function N(e){return"function"==typeof e}function R(e){switch(typeof e){case"string":case"symbol":case"number":return!0}return!1}function D(e){return null!==e&&"object"==typeof e}function L(e){if(!D(e))return!1;var t=Object.getPrototypeOf(e);if(null==t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n.toString()===C}function Z(e){var t=null==e?void 0:e.constructor;return!!t&&("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName)}function M(e,t,n){E(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function U(e,t,n){E(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function V(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return D(e)&&!0===e[n]}}function F(e){return e instanceof Map}function B(e){return e instanceof Set}var z=void 0!==Object.getOwnPropertySymbols,G="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:z?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function W(e){return null===e?null:"object"==typeof e?""+e:e}function H(e,t){return S.hasOwnProperty.call(e,t)}var K=Object.getOwnPropertyDescriptors||function(e){var t={};return G(e).forEach(function(n){t[n]=k(e,n)}),t};function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(r.key),r)}}function q(e,t,n){return t&&Y(e.prototype,t),n&&Y(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function X(){return(X=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function J(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Q(e,t)}function Q(e,t){return(Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function $(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function et(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ee(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ee(e,void 0)}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var en=Symbol("mobx-stored-annotations");function er(e){return Object.assign(function(t,n){if(eo(n))return e.decorate_20223_(t,n);ei(t,n,e)},e)}function ei(e,t,n){H(e,en)||M(e,en,X({},e[en])),"override"===n.annotationType_||(e[en][t]=n)}function eo(e){return"object"==typeof e&&"string"==typeof e.kind}var ea=Symbol("mobx administration"),es=function(){function e(e){void 0===e&&(e="Atom"),this.name_=void 0,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=p.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=e}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(e){return e()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(e){return e()})},t.reportObserved=function(){return tg(this)},t.reportChanged=function(){t_(),ty(this),tm()},t.toString=function(){return this.name_},e}(),ec=V("Atom",es);function eu(e,t,n){void 0===t&&(t=P),void 0===n&&(n=P);var r=new es(e);return t!==P&&tB("onBO",r,t,void 0),n!==P&&tF(r,n),r}var el={identity:function(e,t){return e===t},structural:function(e,t){return nF(e,t)},default:function(e,t){return Object.is?Object.is(e,t):e===t?0!==e||1/e==1/t:e!=e&&t!=t},shallow:function(e,t){return nF(e,t,1)}};function ed(e,t,n){return t0(e)?e:Array.isArray(e)?eG.array(e,{name:n}):L(e)?eG.object(e,void 0,{name:n}):F(e)?eG.map(e,{name:n}):B(e)?eG.set(e,{name:n}):"function"!=typeof e||tL(e)||t$(e)?e:Z(e)?tJ(e):tR(n,e)}function ef(e){return e}function eh(e,t){return{annotationType_:e,options_:t,make_:ep,extend_:ev,decorate_20223_:e_}}function ep(e,t,n,r){if(null!=(i=this.options_)&&i.bound)return null===this.extend_(e,t,n,!1)?0:1;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(tL(n.value))return 1;var i,o=em(e,this,t,n,!1);return E(r,t,o),2}function ev(e,t,n,r){var i=em(e,this,t,n);return e.defineProperty_(t,i,r)}function e_(e,t){var n,i,o,a,s,c,u=t.kind,l=t.name,d=t.addInitializer,f=this;if("field"==u){d(function(){ei(this,l,f)});return}if("method"==u)return tL(e)||(n=e,e=e$(null!=(i=null==(o=f.options_)?void 0:o.name)?i:l.toString(),n,null!=(a=null==(s=f.options_)?void 0:s.autoAction)&&a)),null!=(c=this.options_)&&c.bound&&d(function(){var e=this[l].bind(this);e.isMobxAction=!0,this[l]=e}),e;r("Cannot apply '"+f.annotationType_+"' to '"+String(l)+"' (kind: "+u+"):\n'"+f.annotationType_+"' can only be used on properties with a function value.")}function em(e,t,n,r,i){void 0===i&&(i=th.safeDescriptors),t.annotationType_,r.value;var o,a,s,c,u,l,d,f,h=r.value;return null!=(o=t.options_)&&o.bound&&(h=h.bind(null!=(f=e.proxy_)?f:e.target_)),{value:e$(null!=(a=null==(s=t.options_)?void 0:s.name)?a:n.toString(),h,null!=(c=null==(u=t.options_)?void 0:u.autoAction)&&c,null!=(l=t.options_)&&l.bound?null!=(d=e.proxy_)?d:e.target_:void 0),configurable:!i||e.isPlainObject_,enumerable:!1,writable:!i}}function eg(e,t){return{annotationType_:e,options_:t,make_:ey,extend_:eb,decorate_20223_:ew}}function ey(e,t,n,r){if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(null!=(i=this.options_)&&i.bound&&(!H(e.target_,t)||!t$(e.target_[t]))&&null===this.extend_(e,t,n,!1))return 0;if(t$(n.value))return 1;var i,o=ex(e,this,t,n,!1,!1);return E(r,t,o),2}function eb(e,t,n,r){var i,o=ex(e,this,t,n,null==(i=this.options_)?void 0:i.bound);return e.defineProperty_(t,o,r)}function ew(e,t){var n,r=t.name,i=t.addInitializer;return t$(e)||(e=tJ(e)),null!=(n=this.options_)&&n.bound&&i(function(){var e=this[r].bind(this);e.isMobXFlow=!0,this[r]=e}),e}function ex(e,t,n,r,i,o){void 0===o&&(o=th.safeDescriptors),t.annotationType_,r.value;var a,s=r.value;return t$(s)||(s=tJ(s)),i&&((s=s.bind(null!=(a=e.proxy_)?a:e.target_)).isMobXFlow=!0),{value:s,configurable:!o||e.isPlainObject_,enumerable:!1,writable:!o}}function ek(e,t){return{annotationType_:e,options_:t,make_:eE,extend_:eS,decorate_20223_:eO}}function eE(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function eS(e,t,n,r){return this.annotationType_,n.get,e.defineComputedProperty_(t,X({},this.options_,{get:n.get,set:n.set}),r)}function eO(e,t){var n=this,r=t.name;return(0,t.addInitializer)(function(){var t=nS(this)[ea],i=X({},n.options_,{get:e,context:this});i.name||(i.name="ObservableObject."+r.toString()),t.values_.set(r,new e4(i))}),function(){return this[ea].getObservablePropValue_(r)}}function eA(e,t){return{annotationType_:e,options_:t,make_:eT,extend_:eC,decorate_20223_:ej}}function eT(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function eC(e,t,n,r){var i,o;return this.annotationType_,e.defineObservableProperty_(t,n.value,null!=(i=null==(o=this.options_)?void 0:o.enhancer)?i:ed,r)}function ej(e,t){var n=this,r=t.kind,i=t.name,o=new WeakSet;function a(e,t){var r,a,s=nS(e)[ea],c=new e6(t,null!=(r=null==(a=n.options_)?void 0:a.enhancer)?r:ed,"ObservableObject."+i.toString(),!1);s.values_.set(i,c),o.add(e)}if("accessor"==r)return{get:function(){return o.has(this)||a(this,e.get.call(this)),this[ea].getObservablePropValue_(i)},set:function(e){return o.has(this)||a(this,e),this[ea].setObservablePropValue_(i,e)},init:function(e){return o.has(this)||a(this,e),e}}}var eI=eP();function eP(e){return{annotationType_:"true",options_:e,make_:eN,extend_:eR,decorate_20223_:eD}}function eN(e,t,n,r){if(n.get)return eY.make_(e,t,n,r);if(n.set){var i,o,a,s,c,u=e$(t.toString(),n.set);return r===e.target_?null===e.defineProperty_(t,{configurable:!th.safeDescriptors||e.isPlainObject_,set:u})?0:2:(E(r,t,{configurable:!0,set:u}),2)}if(r!==e.target_&&"function"==typeof n.value)return Z(n.value)?(null!=(s=this.options_)&&s.autoBind?tJ.bound:tJ).make_(e,t,n,r):(null!=(a=this.options_)&&a.autoBind?tR.bound:tR).make_(e,t,n,r);var l=(null==(i=this.options_)?void 0:i.deep)===!1?eG.ref:eG;return"function"==typeof n.value&&null!=(o=this.options_)&&o.autoBind&&(n.value=n.value.bind(null!=(c=e.proxy_)?c:e.target_)),l.make_(e,t,n,r)}function eR(e,t,n,r){var i,o,a;return n.get?eY.extend_(e,t,n,r):n.set?e.defineProperty_(t,{configurable:!th.safeDescriptors||e.isPlainObject_,set:e$(t.toString(),n.set)},r):("function"==typeof n.value&&null!=(i=this.options_)&&i.autoBind&&(n.value=n.value.bind(null!=(a=e.proxy_)?a:e.target_)),((null==(o=this.options_)?void 0:o.deep)===!1?eG.ref:eG).extend_(e,t,n,r))}function eD(e,t){r("'"+this.annotationType_+"' cannot be used as a decorator")}var eL={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(eL);var eZ=eA("observable"),eM=eA("observable.ref",{enhancer:ef}),eU=eA("observable.shallow",{enhancer:function(e,t,n){return null==e||nT(e)||np(e)||ng(e)||nw(e)?e:Array.isArray(e)?eG.array(e,{name:n,deep:!1}):L(e)?eG.object(e,void 0,{name:n,deep:!1}):F(e)?eG.map(e,{name:n,deep:!1}):B(e)?eG.set(e,{name:n,deep:!1}):void 0}}),eV=eA("observable.struct",{enhancer:function(e,t){return nF(e,t)?t:e}}),eF=er(eZ);function eB(e){var t,n,r;return!0===e.deep?ed:!1===e.deep?ef:(t=e.defaultDecorator)&&null!=(n=null==(r=t.options_)?void 0:r.enhancer)?n:ed}function ez(e,t,n){if(eo(t))return eZ.decorate_20223_(e,t);if(R(t)){ei(e,t,eZ);return}return t0(e)?e:L(e)?eG.object(e,t,n):Array.isArray(e)?eG.array(e,t):F(e)?eG.map(e,t):B(e)?eG.set(e,t):"object"==typeof e&&null!==e?e:eG.box(e,t)}x(ez,eF);var eG=x(ez,{box:function(e,t){var n=t||eL;return new e6(e,eB(n),n.name,!0,n.equals)},array:function(e,t){var n=t||eL;return(!1===th.useProxies||!1===n.proxy?function(e,t,n){return new nR(e,t,n)}:function(e,t,n,r){return void 0===n&&(n="ObservableArray"),void 0===r&&(r=!1),j(),nU(function(){var i=new ns(n,t,r,!1);U(i.values_,ea,i);var o=new Proxy(i.values_,na);return i.proxy_=o,e&&e.length&&i.spliceWithArray_(0,0,e),o})})(e,eB(n),n.name)},map:function(e,t){var n=t||eL;return new nm(e,eB(n),n.name)},set:function(e,t){var n=t||eL;return new nb(e,eB(n),n.name)},object:function(e,t,n){return nU(function(){var r,i,o;return tW(!1===th.useProxies||(null==n?void 0:n.proxy)===!1?nS({},n):(r={},j(),null!=(o=(i=(r=nS(r,n))[ea]).proxy_)?o:i.proxy_=new Proxy(r,t6)),e,t)})},ref:er(eM),shallow:er(eU),deep:eF,struct:er(eV)}),eW="computed",eH=ek(eW),eK=ek("computed.struct",{equals:el.structural}),eY=function(e,t){if(eo(t))return eH.decorate_20223_(e,t);if(R(t))return ei(e,t,eH);if(L(e))return er(ek(eW,e));var n=L(t)?t:{};return n.get=e,n.name||(n.name=e.name||""),new e4(n)};Object.assign(eY,eH),eY.struct=er(eK);var eq=0,eX=1,eJ=null!=(l=null==(d=k(function(){},"name"))?void 0:d.configurable)&&l,eQ={value:"action",configurable:!0,writable:!1,enumerable:!1};function e$(e,t,n,r){function i(){return e0(e,n,t,r||this,arguments)}return void 0===n&&(n=!1),i.isMobxAction=!0,i.toString=function(){return t.toString()},eJ&&(eQ.value=e,E(i,"name",eQ)),i}function e0(e,t,n,i,o){var a,s,c,u,l=(a=th.trackingDerivation,s=!t||!a,t_(),c=th.allowStateChanges,s&&(to(),c=e2(!0)),eq=(u={runAsAction_:s,prevDerivation_:a,prevAllowStateChanges_:c,prevAllowStateReads_:ts(!0),notifySpy_:!1,startTime_:0,actionId_:eX++,parentActionId_:eq}).actionId_,u);try{return n.apply(i,o)}catch(e){throw l.error_=e,e}finally{eq!==l.actionId_&&r(30),eq=l.parentActionId_,void 0!==l.error_&&(th.suppressReactionErrors=!0),e5(l.prevAllowStateChanges_),tc(l.prevAllowStateReads_),tm(),l.runAsAction_&&ta(l.prevDerivation_),th.suppressReactionErrors=!1}}function e1(e,t){var n=e2(e);try{return t()}finally{e5(n)}}function e2(e){var t=th.allowStateChanges;return th.allowStateChanges=e,t}function e5(e){th.allowStateChanges=e}f=Symbol.toPrimitive;var e6=function(e){function t(t,n,r,i,o){var a;return void 0===r&&(r="ObservableValue"),void 0===i&&(i=!0),void 0===o&&(o=el.default),(a=e.call(this,r)||this).enhancer=void 0,a.name_=void 0,a.equals=void 0,a.hasUnreportedChange_=!1,a.interceptors_=void 0,a.changeListeners_=void 0,a.value_=void 0,a.dehancer=void 0,a.enhancer=n,a.name_=r,a.equals=o,a.value_=n(t,void 0,r),a}J(t,e);var n=t.prototype;return n.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},n.set=function(e){this.value_,(e=this.prepareNewValue_(e))!==th.UNCHANGED&&this.setNewValue_(e)},n.prepareNewValue_=function(e){if(t8(this)){var t=t4(this,{object:this,type:no,newValue:e});if(!t)return th.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value_,this.name_),this.equals(this.value_,e)?th.UNCHANGED:e},n.setNewValue_=function(e){var t=this.value_;this.value_=e,this.reportChanged(),t9(this)&&ne(this,{type:no,object:this,newValue:e,oldValue:t})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(e){return t3(this,e)},n.observe_=function(e,t){return t&&e({observableKind:"value",debugObjectName:this.name_,object:this,type:no,newValue:this.value_,oldValue:void 0}),t7(this,e)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return W(this.get())},n[f]=function(){return this.valueOf()},t}(es),e8=V("ObservableValue",e6);function e3(e,t,n){return n?e|=t:e&=~t,e}h=Symbol.toPrimitive;var e4=function(){function e(e){this.dependenciesState_=p.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=p.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new e7(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=v.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,e.get||r(31),this.derivation=e.get,this.name_=e.name||"ComputedValue",e.set&&(this.setter_=e$("ComputedValue-setter",e.set)),this.equals_=e.equals||(e.compareStructural||e.struct?el.structural:el.default),this.scope_=e.context,this.requiresReaction_=e.requiresReaction,this.keepAlive_=!!e.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){this.lowestObserverState_===p.UP_TO_DATE_&&(this.lowestObserverState_=p.POSSIBLY_STALE_,this.observers_.forEach(function(e){e.dependenciesState_===p.UP_TO_DATE_&&(e.dependenciesState_=p.POSSIBLY_STALE_,e.onBecomeStale_())}))},t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(e){return e()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(e){return e()})},t.get=function(){if(this.isComputing&&r(32,this.name_,this.derivation),0!==th.inBatch||0!==this.observers_.size||this.keepAlive_){if(tg(this),tt(this)){var e,t=th.trackingContext;this.keepAlive_&&!t&&(th.trackingContext=this),this.trackAndCompute()&&(e=this,e.lowestObserverState_!==p.STALE_&&(e.lowestObserverState_=p.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===p.POSSIBLY_STALE_?t.dependenciesState_=p.STALE_:t.dependenciesState_===p.UP_TO_DATE_&&(e.lowestObserverState_=p.UP_TO_DATE_)}))),th.trackingContext=t}}else tt(this)&&(this.warnAboutUntrackedRead_(),t_(),this.value_=this.computeValue_(!1),tm());var n=this.value_;if(te(n))throw n.cause;return n},t.set=function(e){if(this.setter_){this.isRunningSetter&&r(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,e)}finally{this.isRunningSetter=!1}}else r(34,this.name_)},t.trackAndCompute=function(){var e=this.value_,t=this.dependenciesState_===p.NOT_TRACKING_,n=this.computeValue_(!0),r=t||te(e)||te(n)||!this.equals_(e,n);return r&&(this.value_=n),r},t.computeValue_=function(e){this.isComputing=!0;var t,n=e2(!1);if(e)t=tn(this,this.derivation,this.scope_);else if(!0===th.disableErrorBoundaries)t=this.derivation.call(this.scope_);else try{t=this.derivation.call(this.scope_)}catch(e){t=new e7(e)}return e5(n),this.isComputing=!1,t},t.suspend_=function(){this.keepAlive_||(tr(this),this.value_=void 0)},t.observe_=function(e,t){var n=this,r=!0,i=void 0;return tZ(function(){var o=n.get();if(!r||t){var a=to();e({observableKind:"computed",debugObjectName:n.name_,type:no,object:n,newValue:o,oldValue:i}),ta(a)}r=!1,i=o})},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return W(this.get())},t[h]=function(){return this.valueOf()},q(e,[{key:"isComputing",get:function(){return!!(this.flags_&e.isComputingMask_)},set:function(t){this.flags_=e3(this.flags_,e.isComputingMask_,t)}},{key:"isRunningSetter",get:function(){return!!(this.flags_&e.isRunningSetterMask_)},set:function(t){this.flags_=e3(this.flags_,e.isRunningSetterMask_,t)}},{key:"isBeingObserved",get:function(){return!!(this.flags_&e.isBeingObservedMask_)},set:function(t){this.flags_=e3(this.flags_,e.isBeingObservedMask_,t)}},{key:"isPendingUnobservation",get:function(){return!!(this.flags_&e.isPendingUnobservationMask_)},set:function(t){this.flags_=e3(this.flags_,e.isPendingUnobservationMask_,t)}}]),e}();e4.isComputingMask_=1,e4.isRunningSetterMask_=2,e4.isBeingObservedMask_=4,e4.isPendingUnobservationMask_=8;var e9=V("ComputedValue",e4);(i=p||(p={}))[i.NOT_TRACKING_=-1]="NOT_TRACKING_",i[i.UP_TO_DATE_=0]="UP_TO_DATE_",i[i.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",i[i.STALE_=2]="STALE_",(o=v||(v={}))[o.NONE=0]="NONE",o[o.LOG=1]="LOG",o[o.BREAK=2]="BREAK";var e7=function(e){this.cause=void 0,this.cause=e};function te(e){return e instanceof e7}function tt(e){switch(e.dependenciesState_){case p.UP_TO_DATE_:return!1;case p.NOT_TRACKING_:case p.STALE_:return!0;case p.POSSIBLY_STALE_:for(var t=ts(!0),n=to(),r=e.observing_,i=r.length,o=0;o<i;o++){var a=r[o];if(e9(a)){if(th.disableErrorBoundaries)a.get();else try{a.get()}catch(e){return ta(n),tc(t),!0}if(e.dependenciesState_===p.STALE_)return ta(n),tc(t),!0}}return tu(e),ta(n),tc(t),!1}}function tn(e,t,n){var r,i=ts(!0);tu(e),e.newObserving_=Array(0===e.runId_?100:e.observing_.length),e.unboundDepsCount_=0,e.runId_=++th.runId;var o=th.trackingDerivation;if(th.trackingDerivation=e,th.inBatch++,!0===th.disableErrorBoundaries)r=t.call(n);else try{r=t.call(n)}catch(e){r=new e7(e)}return th.inBatch--,th.trackingDerivation=o,function(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=p.UP_TO_DATE_,i=0,o=e.unboundDepsCount_,a=0;a<o;a++){var s=n[a];0===s.diffValue_&&(s.diffValue_=1,i!==a&&(n[i]=s),i++),s.dependenciesState_>r&&(r=s.dependenciesState_)}for(n.length=i,e.newObserving_=null,o=t.length;o--;){var c=t[o];0===c.diffValue_&&tp(c,e),c.diffValue_=0}for(;i--;){var u=n[i];1===u.diffValue_&&(u.diffValue_=0,u.observers_.add(e),u.lowestObserverState_>e.dependenciesState_&&(u.lowestObserverState_=e.dependenciesState_))}r!==p.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}(e),tc(i),r}function tr(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)tp(t[n],e);e.dependenciesState_=p.NOT_TRACKING_}function ti(e){var t=to();try{return e()}finally{ta(t)}}function to(){var e=th.trackingDerivation;return th.trackingDerivation=null,e}function ta(e){th.trackingDerivation=e}function ts(e){var t=th.allowStateReads;return th.allowStateReads=e,t}function tc(e){th.allowStateReads=e}function tu(e){if(e.dependenciesState_!==p.UP_TO_DATE_){e.dependenciesState_=p.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=p.UP_TO_DATE_}}var tl=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},td=!0,tf=!1,th=((a=w()).__mobxInstanceCount>0&&!a.__mobxGlobals&&(td=!1),a.__mobxGlobals&&a.__mobxGlobals.version!==new tl().version&&(td=!1),td)?a.__mobxGlobals?(a.__mobxInstanceCount+=1,a.__mobxGlobals.UNCHANGED||(a.__mobxGlobals.UNCHANGED={}),a.__mobxGlobals):(a.__mobxInstanceCount=1,a.__mobxGlobals=new tl):(setTimeout(function(){tf||r(35)},1),new tl);function tp(e,t){e.observers_.delete(t),0===e.observers_.size&&tv(e)}function tv(e){!1===e.isPendingUnobservation&&(e.isPendingUnobservation=!0,th.pendingUnobservations.push(e))}function t_(){th.inBatch++}function tm(){if(0==--th.inBatch){tx();for(var e=th.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,0===n.observers_.size&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof e4&&n.suspend_())}th.pendingUnobservations=[]}}function tg(e){var t=th.trackingDerivation;return null!==t?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved&&th.trackingContext&&(e.isBeingObserved=!0,e.onBO())),e.isBeingObserved):(0===e.observers_.size&&th.inBatch>0&&tv(e),!1)}function ty(e){e.lowestObserverState_!==p.STALE_&&(e.lowestObserverState_=p.STALE_,e.observers_.forEach(function(e){e.dependenciesState_===p.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=p.STALE_}))}var tb=function(){function e(e,t,n,r){void 0===e&&(e="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=p.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=v.NONE,this.name_=e,this.onInvalidate_=t,this.errorHandler_=n,this.requiresObservable_=r}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,th.pendingReactions.push(this),tx())},t.isScheduled=function(){return this.isScheduled_},t.runReaction_=function(){if(!this.isDisposed_){t_(),this.isScheduled_=!1;var e=th.trackingContext;if(th.trackingContext=this,tt(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(e){this.reportExceptionInDerivation_(e)}}th.trackingContext=e,tm()}},t.track=function(e){if(!this.isDisposed_){t_(),this.isRunning_=!0;var t=th.trackingContext;th.trackingContext=this;var n=tn(this,e,void 0);th.trackingContext=t,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&tr(this),te(n)&&this.reportExceptionInDerivation_(n.cause),tm()}},t.reportExceptionInDerivation_=function(e){var t=this;if(this.errorHandler_){this.errorHandler_(e,this);return}if(th.disableErrorBoundaries)throw e;th.suppressReactionErrors||console.error("[mobx] uncaught error in '"+this+"'",e),th.globalReactionErrorHandlers.forEach(function(n){return n(e,t)})},t.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(t_(),tr(this),tm()))},t.getDisposer_=function(e){var t=this,n=function n(){t.dispose(),null==e||null==e.removeEventListener||e.removeEventListener("abort",n)};return null==e||null==e.addEventListener||e.addEventListener("abort",n),n[ea]=this,n},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(e){void 0===e&&(e=!1)},e}(),tw=function(e){return e()};function tx(){th.inBatch>0||th.isRunningReactions||tw(tk)}function tk(){th.isRunningReactions=!0;for(var e=th.pendingReactions,t=0;e.length>0;){100==++t&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction_()}th.isRunningReactions=!1}var tE=V("Reaction",tb),tS="action",tO="autoAction",tA="<unnamed action>",tT=eh(tS),tC=eh("action.bound",{bound:!0}),tj=eh(tO,{autoAction:!0}),tI=eh("autoAction.bound",{autoAction:!0,bound:!0});function tP(e){return function(t,n){return N(t)?e$(t.name||tA,t,e):N(n)?e$(t,n,e):eo(n)?(e?tj:tT).decorate_20223_(t,n):R(n)?ei(t,n,e?tj:tT):R(t)?er(eh(e?tO:tS,{name:t,autoAction:e})):void 0}}var tN=tP(!1);Object.assign(tN,tT);var tR=tP(!0);function tD(e){return e0(e.name||tA,!1,e,this,void 0)}function tL(e){return N(e)&&!0===e.isMobxAction}function tZ(e,t){void 0===t&&(t=A);var n,r,i,o,a,s,c=null!=(n=null==(r=t)?void 0:r.name)?n:"Autorun";if(t.scheduler||t.delay){var u=tU(t),l=!1;s=new tb(c,function(){l||(l=!0,u(function(){l=!1,s.isDisposed_||s.track(d)}))},t.onError,t.requiresObservable)}else s=new tb(c,function(){this.track(d)},t.onError,t.requiresObservable);function d(){e(s)}return null!=(i=t)&&null!=(o=i.signal)&&o.aborted||s.schedule_(),s.getDisposer_(null==(a=t)?void 0:a.signal)}Object.assign(tR,tj),tN.bound=er(tC),tR.bound=er(tI);var tM=function(e){return e()};function tU(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:tM}function tV(e,t,n){void 0===n&&(n=A);var r,i,o,a,s,c,u=null!=(i=n.name)?i:"Reaction",l=tN(u,n.onError?(r=n.onError,function(){try{return t.apply(this,arguments)}catch(e){r.call(this,e)}}):t),d=!n.scheduler&&!n.delay,f=tU(n),h=!0,p=!1,v=n.compareStructural?el.structural:n.equals||el.default,_=new tb(u,function(){h||d?m():p||(p=!0,f(m))},n.onError,n.requiresObservable);function m(){if(p=!1,!_.isDisposed_){var t=!1,r=c;_.track(function(){var n=e1(!1,function(){return e(_)});t=h||!v(c,n),c=n}),h&&n.fireImmediately?l(c,r,_):!h&&t&&l(c,r,_),h=!1}}return null!=(o=n)&&null!=(a=o.signal)&&a.aborted||_.schedule_(),_.getDisposer_(null==(s=n)?void 0:s.signal)}function tF(e,t,n){return tB("onBUO",e,t,n)}function tB(e,t,n,r){var i="function"==typeof r?nZ(t,n):nZ(t),o=N(r)?r:n,a=e+"L";return i[a]?i[a].add(o):i[a]=new Set([o]),function(){var e=i[a];e&&(e.delete(o),0===e.size&&delete i[a])}}var tz="always";function tG(e){!0===e.isolateGlobalState&&function(){if((th.pendingReactions.length||th.inBatch||th.isRunningReactions)&&r(36),tf=!0,td){var e=w();0==--e.__mobxInstanceCount&&(e.__mobxGlobals=void 0),th=new tl}}();var t,n,i=e.useProxies,o=e.enforceActions;if(void 0!==i&&(th.useProxies=i===tz||"never"!==i&&"undefined"!=typeof Proxy),"ifavailable"===i&&(th.verifyProxies=!0),void 0!==o){var a=o===tz?tz:"observed"===o;th.enforceActions=a,th.allowStateChanges=!0!==a&&a!==tz}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(t){t in e&&(th[t]=!!e[t])}),th.allowStateReads=!th.observableRequiresReaction,e.reactionScheduler&&(t=e.reactionScheduler,n=tw,tw=function(e){return t(function(){return n(e)})})}function tW(e,t,n,r){var i=K(t);return nU(function(){var t=nS(e,r)[ea];G(i).forEach(function(e){t.extend_(e,i[e],!n||!(e in n)||n[e])})}),e}function tH(e,t){return function e(t){var n={name:t.name_};return t.observing_&&t.observing_.length>0&&(n.dependencies=Array.from(new Set(t.observing_)).map(e)),n}(nZ(e,t))}var tK=0;function tY(){this.message="FLOW_CANCELLED"}tY.prototype=Object.create(Error.prototype);var tq=eg("flow"),tX=eg("flow.bound",{bound:!0}),tJ=Object.assign(function(e,t){if(eo(t))return tq.decorate_20223_(e,t);if(R(t))return ei(e,t,tq);var n=e.name||"<unnamed flow>",r=function(){var t,r=arguments,i=++tK,o=tN(n+" - runid: "+i+" - init",e).apply(this,r),a=void 0,s=new Promise(function(e,r){var s=0;function c(e){var t;a=void 0;try{t=tN(n+" - runid: "+i+" - yield "+s++,o.next).call(o,e)}catch(e){return r(e)}l(t)}function u(e){var t;a=void 0;try{t=tN(n+" - runid: "+i+" - yield "+s++,o.throw).call(o,e)}catch(e){return r(e)}l(t)}function l(t){if(N(null==t?void 0:t.then)){t.then(l,r);return}return t.done?e(t.value):(a=Promise.resolve(t.value)).then(c,u)}t=r,c(void 0)});return s.cancel=tN(n+" - runid: "+i+" - cancel",function(){try{a&&tQ(a);var e=o.return(void 0),n=Promise.resolve(e.value);n.then(P,P),tQ(n),t(new tY)}catch(e){t(e)}}),s};return r.isMobXFlow=!0,r},tq);function tQ(e){N(e.cancel)&&e.cancel()}function t$(e){return(null==e?void 0:e.isMobXFlow)===!0}function t0(e){return!!e&&(nT(e)||!!e[ea]||ec(e)||tE(e)||e9(e))}function t1(e,t,n){return e.set(t,n),n}function t2(e,t){return function e(t,n){if(null==t||"object"!=typeof t||t instanceof Date||!t0(t))return t;if(e8(t)||e9(t))return e(t.get(),n);if(n.has(t))return n.get(t);if(np(t)){var i=t1(n,t,Array(t.length));return t.forEach(function(t,r){i[r]=e(t,n)}),i}if(nw(t)){var o=t1(n,t,new Set);return t.forEach(function(t){o.add(e(t,n))}),o}if(ng(t)){var a=t1(n,t,new Map);return t.forEach(function(t,r){a.set(r,e(t,n))}),a}var s=t1(n,t,{});return(function(e){if(nT(e))return e[ea].ownKeys_();r(38)})(t).forEach(function(r){S.propertyIsEnumerable.call(t,r)&&(s[r]=e(t[r],n))}),s}(e,new Map)}function t5(e,t){void 0===t&&(t=void 0),t_();try{return e.apply(t)}finally{tm()}}tJ.bound=er(tX);var t6={has:function(e,t){return e[ea].has_(t)},get:function(e,t){return e[ea].get_(t)},set:function(e,t,n){var r;return!!R(t)&&(null==(r=e[ea].set_(t,n,!0))||r)},deleteProperty:function(e,t){var n;return!!R(t)&&(null==(n=e[ea].delete_(t,!0))||n)},defineProperty:function(e,t,n){var r;return null==(r=e[ea].defineProperty_(t,n))||r},ownKeys:function(e){return e[ea].ownKeys_()},preventExtensions:function(e){r(13)}};function t8(e){return void 0!==e.interceptors_&&e.interceptors_.length>0}function t3(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),I(function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)})}function t4(e,t){var n=to();try{for(var i=[].concat(e.interceptors_||[]),o=0,a=i.length;o<a&&((t=i[o](t))&&!t.type&&r(14),t);o++);return t}finally{ta(n)}}function t9(e){return void 0!==e.changeListeners_&&e.changeListeners_.length>0}function t7(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),I(function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)})}function ne(e,t){var n=to(),r=e.changeListeners_;if(r){r=r.slice();for(var i=0,o=r.length;i<o;i++)r[i](t);ta(n)}}function nt(e,t,n){return nU(function(){var r=nS(e,n)[ea];null!=t||(H(e,en)||M(e,en,X({},e[en])),t=e[en]),G(t).forEach(function(e){return r.make_(e,t[e])})}),e}var nn=Symbol("mobx-keys");function nr(e,t,n){return L(e)?tW(e,e,t,n):(nU(function(){var r=nS(e,n)[ea];if(!e[nn]){var i=Object.getPrototypeOf(e),o=new Set([].concat(G(e),G(i)));o.delete("constructor"),o.delete(ea),M(i,nn,o)}e[nn].forEach(function(e){return r.make_(e,!t||!(e in t)||t[e])})}),e)}var ni="splice",no="update",na={get:function(e,t){var n=e[ea];return t===ea?n:"length"===t?n.getArrayLength_():"string"!=typeof t||isNaN(t)?H(nc,t)?nc[t]:e[t]:n.get_(parseInt(t))},set:function(e,t,n){var r=e[ea];return"length"===t&&r.setArrayLength_(n),"symbol"==typeof t||isNaN(t)?e[t]=n:r.set_(parseInt(t),n),!0},preventExtensions:function(){r(15)}},ns=function(){function e(e,t,n,r){void 0===e&&(e="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=n,this.legacyMode_=r,this.atom_=new es(e),this.enhancer_=function(e,n){return t(e,n,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.dehanceValues_=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},t.intercept_=function(e){return t3(this,e)},t.observe_=function(e,t){return void 0===t&&(t=!1),t&&e({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),t7(this,e)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(e){("number"!=typeof e||isNaN(e)||e<0)&&r("Out of range: "+e);var t=this.values_.length;if(e!==t){if(e>t){for(var n=Array(e-t),i=0;i<e-t;i++)n[i]=void 0;this.spliceWithArray_(t,0,n)}else this.spliceWithArray_(e,t-e)}},t.updateArrayLength_=function(e,t){e!==this.lastKnownLength_&&r(16),this.lastKnownLength_+=t,this.legacyMode_&&t>0&&nL(e+t+1)},t.spliceWithArray_=function(e,t,n){var r=this;this.atom_;var i=this.values_.length;if(void 0===e?e=0:e>i?e=i:e<0&&(e=Math.max(0,i+e)),t=1==arguments.length?i-e:null==t?0:Math.max(0,Math.min(t,i-e)),void 0===n&&(n=O),t8(this)){var o=t4(this,{object:this.proxy_,type:ni,index:e,removedCount:t,added:n});if(!o)return O;t=o.removedCount,n=o.added}if(n=0===n.length?n:n.map(function(e){return r.enhancer_(e,void 0)}),this.legacyMode_){var a=n.length-t;this.updateArrayLength_(i,a)}var s=this.spliceItemsIntoValues_(e,t,n);return(0!==t||0!==n.length)&&this.notifyArraySplice_(e,n,s),this.dehanceValues_(s)},t.spliceItemsIntoValues_=function(e,t,n){if(n.length<1e4){var r;return(r=this.values_).splice.apply(r,[e,t].concat(n))}var i=this.values_.slice(e,e+t),o=this.values_.slice(e+t);this.values_.length+=n.length-t;for(var a=0;a<n.length;a++)this.values_[e+a]=n[a];for(var s=0;s<o.length;s++)this.values_[e+n.length+s]=o[s];return i},t.notifyArrayChildUpdate_=function(e,t,n){var r=!this.owned_&&!1,i=t9(this),o=i||r?{observableKind:"array",object:this.proxy_,type:no,debugObjectName:this.atom_.name_,index:e,newValue:t,oldValue:n}:null;this.atom_.reportChanged(),i&&ne(this,o)},t.notifyArraySplice_=function(e,t,n){var r=!this.owned_&&!1,i=t9(this),o=i||r?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:ni,index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;this.atom_.reportChanged(),i&&ne(this,o)},t.get_=function(e){if(this.legacyMode_&&e>=this.values_.length){console.warn("[mobx] Out of bounds read: "+e);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[e])},t.set_=function(e,t){var n=this.values_;if(this.legacyMode_&&e>n.length&&r(17,e,n.length),e<n.length){this.atom_;var i=n[e];if(t8(this)){var o=t4(this,{type:no,object:this.proxy_,index:e,newValue:t});if(!o)return;t=o.newValue}(t=this.enhancer_(t,i))!==i&&(n[e]=t,this.notifyArrayChildUpdate_(e,t,i))}else{for(var a=Array(e+1-n.length),s=0;s<a.length-1;s++)a[s]=void 0;a[a.length-1]=t,this.spliceWithArray_(n.length,0,a)}},e}(),nc={clear:function(){return this.splice(0)},replace:function(e){var t=this[ea];return t.spliceWithArray_(0,t.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=this[ea];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray_(e);case 2:return o.spliceWithArray_(e,t)}return o.spliceWithArray_(e,t,r)},spliceWithArray:function(e,t,n){return this[ea].spliceWithArray_(e,t,n)},push:function(){for(var e=this[ea],t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.spliceWithArray_(e.values_.length,0,n),e.values_.length},pop:function(){return this.splice(Math.max(this[ea].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[ea],t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.spliceWithArray_(0,0,n),e.values_.length},reverse:function(){return th.trackingDerivation&&r(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){th.trackingDerivation&&r(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var t=this[ea],n=t.dehanceValues_(t.values_).indexOf(e);return n>-1&&(this.splice(n,1),!0)}};function nu(e,t){"function"==typeof Array.prototype[e]&&(nc[e]=t(e))}function nl(e){return function(){var t=this[ea];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function nd(e){return function(t,n){var r=this,i=this[ea];return i.atom_.reportObserved(),i.dehanceValues_(i.values_)[e](function(e,i){return t.call(n,e,i,r)})}}function nf(e){return function(){var t=this,n=this[ea];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),i=arguments[0];return arguments[0]=function(e,n,r){return i(e,n,r,t)},r[e].apply(r,arguments)}}nu("at",nl),nu("concat",nl),nu("flat",nl),nu("includes",nl),nu("indexOf",nl),nu("join",nl),nu("lastIndexOf",nl),nu("slice",nl),nu("toString",nl),nu("toLocaleString",nl),nu("toSorted",nl),nu("toSpliced",nl),nu("with",nl),nu("every",nd),nu("filter",nd),nu("find",nd),nu("findIndex",nd),nu("findLast",nd),nu("findLastIndex",nd),nu("flatMap",nd),nu("forEach",nd),nu("map",nd),nu("some",nd),nu("toReversed",nd),nu("reduce",nf),nu("reduceRight",nf);var nh=V("ObservableArrayAdministration",ns);function np(e){return D(e)&&nh(e[ea])}var nv={},n_="delete";_=Symbol.iterator,m=Symbol.toStringTag;var nm=function(){function e(e,t,n){var i=this;void 0===t&&(t=ed),void 0===n&&(n="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[ea]=nv,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=t,this.name_=n,N(Map)||r(18),nU(function(){i.keysAtom_=eu("ObservableMap.keys()"),i.data_=new Map,i.hasMap_=new Map,e&&i.merge(e)})}var t=e.prototype;return t.has_=function(e){return this.data_.has(e)},t.has=function(e){var t=this;if(!th.trackingDerivation)return this.has_(e);var n=this.hasMap_.get(e);if(!n){var r=n=new e6(this.has_(e),ef,"ObservableMap.key?",!1);this.hasMap_.set(e,r),tF(r,function(){return t.hasMap_.delete(e)})}return n.get()},t.set=function(e,t){var n=this.has_(e);if(t8(this)){var r=t4(this,{type:n?no:"add",object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return n?this.updateValue_(e,t):this.addValue_(e,t),this},t.delete=function(e){var t=this;if(this.keysAtom_,t8(this)&&!t4(this,{type:n_,object:this,name:e}))return!1;if(this.has_(e)){var n=t9(this),r=n?{observableKind:"map",debugObjectName:this.name_,type:n_,object:this,oldValue:this.data_.get(e).value_,name:e}:null;return t5(function(){var n;t.keysAtom_.reportChanged(),null==(n=t.hasMap_.get(e))||n.setNewValue_(!1),t.data_.get(e).setNewValue_(void 0),t.data_.delete(e)}),n&&ne(this,r),!0}return!1},t.updateValue_=function(e,t){var n=this.data_.get(e);if((t=n.prepareNewValue_(t))!==th.UNCHANGED){var r=t9(this),i=r?{observableKind:"map",debugObjectName:this.name_,type:no,object:this,oldValue:n.value_,name:e,newValue:t}:null;n.setNewValue_(t),r&&ne(this,i)}},t.addValue_=function(e,t){var n=this;this.keysAtom_,t5(function(){var r,i=new e6(t,n.enhancer_,"ObservableMap.key",!1);n.data_.set(e,i),t=i.value_,null==(r=n.hasMap_.get(e))||r.setNewValue_(!0),n.keysAtom_.reportChanged()});var r=t9(this),i=r?{observableKind:"map",debugObjectName:this.name_,type:"add",object:this,name:e,newValue:t}:null;r&&ne(this,i)},t.get=function(e){return this.has(e)?this.dehanceValue_(this.data_.get(e).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var e=this,t=this.keys();return nz({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:e.get(i)}}})},t.entries=function(){var e=this,t=this.keys();return nz({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:[i,e.get(i)]}}})},t[_]=function(){return this.entries()},t.forEach=function(e,t){for(var n,r=et(this);!(n=r()).done;){var i=n.value,o=i[0],a=i[1];e.call(t,a,o,this)}},t.merge=function(e){var t=this;return ng(e)&&(e=new Map(e)),t5(function(){L(e)?(function(e){var t=Object.keys(e);if(!z)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter(function(t){return S.propertyIsEnumerable.call(e,t)})):t})(e).forEach(function(n){return t.set(n,e[n])}):Array.isArray(e)?e.forEach(function(e){var n=e[0],r=e[1];return t.set(n,r)}):F(e)?(e.constructor!==Map&&r(19,e),e.forEach(function(e,n){return t.set(n,e)})):null!=e&&r(20,e)}),this},t.clear=function(){var e=this;t5(function(){ti(function(){for(var t,n=et(e.keys());!(t=n()).done;){var r=t.value;e.delete(r)}})})},t.replace=function(e){var t=this;return t5(function(){for(var n,i=function(e){if(F(e)||ng(e))return e;if(Array.isArray(e))return new Map(e);if(!L(e))return r(21,e);var t=new Map;for(var n in e)t.set(n,e[n]);return t}(e),o=new Map,a=!1,s=et(t.data_.keys());!(n=s()).done;){var c=n.value;if(!i.has(c)){if(t.delete(c))a=!0;else{var u=t.data_.get(c);o.set(c,u)}}}for(var l,d=et(i.entries());!(l=d()).done;){var f=l.value,h=f[0],p=f[1],v=t.data_.has(h);if(t.set(h,p),t.data_.has(h)){var _=t.data_.get(h);o.set(h,_),v||(a=!0)}}if(!a){if(t.data_.size!==o.size)t.keysAtom_.reportChanged();else for(var m=t.data_.keys(),g=o.keys(),y=m.next(),b=g.next();!y.done;){if(y.value!==b.value){t.keysAtom_.reportChanged();break}y=m.next(),b=g.next()}}t.data_=o}),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(e,t){return t7(this,e)},t.intercept_=function(e){return t3(this,e)},q(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:m,get:function(){return"Map"}}]),e}(),ng=V("ObservableMap",nm),ny={};g=Symbol.iterator,y=Symbol.toStringTag;var nb=function(){function e(e,t,n){var i=this;void 0===t&&(t=ed),void 0===n&&(n="ObservableSet"),this.name_=void 0,this[ea]=ny,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=n,N(Set)||r(22),this.enhancer_=function(e,r){return t(e,r,n)},nU(function(){i.atom_=eu(i.name_),e&&i.replace(e)})}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.clear=function(){var e=this;t5(function(){ti(function(){for(var t,n=et(e.data_.values());!(t=n()).done;){var r=t.value;e.delete(r)}})})},t.forEach=function(e,t){for(var n,r=et(this);!(n=r()).done;){var i=n.value;e.call(t,i,i,this)}},t.add=function(e){var t=this;if(this.atom_,t8(this)&&!t4(this,{type:"add",object:this,newValue:e}))return this;if(!this.has(e)){t5(function(){t.data_.add(t.enhancer_(e,void 0)),t.atom_.reportChanged()});var n=t9(this),r=n?{observableKind:"set",debugObjectName:this.name_,type:"add",object:this,newValue:e}:null;n&&ne(this,r)}return this},t.delete=function(e){var t=this;if(t8(this)&&!t4(this,{type:n_,object:this,oldValue:e}))return!1;if(this.has(e)){var n=t9(this),r=n?{observableKind:"set",debugObjectName:this.name_,type:n_,object:this,oldValue:e}:null;return t5(function(){t.atom_.reportChanged(),t.data_.delete(e)}),n&&ne(this,r),!0}return!1},t.has=function(e){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(e))},t.entries=function(){var e=0,t=Array.from(this.keys()),n=Array.from(this.values());return nz({next:function(){var r=e;return e+=1,r<n.length?{value:[t[r],n[r]],done:!1}:{done:!0}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var e=this,t=0,n=Array.from(this.data_.values());return nz({next:function(){return t<n.length?{value:e.dehanceValue_(n[t++]),done:!1}:{done:!0}}})},t.replace=function(e){var t=this;return nw(e)&&(e=new Set(e)),t5(function(){Array.isArray(e)?(t.clear(),e.forEach(function(e){return t.add(e)})):B(e)?(t.clear(),e.forEach(function(e){return t.add(e)})):null!=e&&r("Cannot initialize set from "+e)}),this},t.observe_=function(e,t){return t7(this,e)},t.intercept_=function(e){return t3(this,e)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[g]=function(){return this.values()},q(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:y,get:function(){return"Set"}}]),e}(),nw=V("ObservableSet",nb),nx=Object.create(null),nk="remove",nE=function(){function e(e,t,n,r){void 0===t&&(t=new Map),void 0===r&&(r=eI),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=e,this.values_=t,this.name_=n,this.defaultAnnotation_=r,this.keysAtom_=new es("ObservableObject.keys"),this.isPlainObject_=L(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(e){return this.values_.get(e).get()},t.setObservablePropValue_=function(e,t){var n=this.values_.get(e);if(n instanceof e4)return n.set(t),!0;if(t8(this)){var r=t4(this,{type:no,object:this.proxy_||this.target_,name:e,newValue:t});if(!r)return null;t=r.newValue}if((t=n.prepareNewValue_(t))!==th.UNCHANGED){var i=t9(this),o=i?{type:no,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:n.value_,name:e,newValue:t}:null;n.setNewValue_(t),i&&ne(this,o)}return!0},t.get_=function(e){return th.trackingDerivation&&!H(this.target_,e)&&this.has_(e),this.target_[e]},t.set_=function(e,t,n){return(void 0===n&&(n=!1),H(this.target_,e))?this.values_.has(e)?this.setObservablePropValue_(e,t):n?Reflect.set(this.target_,e,t):(this.target_[e]=t,!0):this.extend_(e,{value:t,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,n)},t.has_=function(e){if(!th.trackingDerivation)return e in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var t=this.pendingKeys_.get(e);return t||(t=new e6(e in this.target_,ef,"ObservableObject.key?",!1),this.pendingKeys_.set(e,t)),t.get()},t.make_=function(e,t){if(!0===t&&(t=this.defaultAnnotation_),!1!==t){if(!(e in this.target_)){var n;if(null!=(n=this.target_[en])&&n[e])return;r(1,t.annotationType_,this.name_+"."+e.toString())}for(var i=this.target_;i&&i!==S;){var o=k(i,e);if(o){var a=t.make_(this,e,o,i);if(0===a)return;if(1===a)break}i=Object.getPrototypeOf(i)}nC(this,t,e)}},t.extend_=function(e,t,n,r){if(void 0===r&&(r=!1),!0===n&&(n=this.defaultAnnotation_),!1===n)return this.defineProperty_(e,t,r);var i=n.extend_(this,e,t,r);return i&&nC(this,n,e),i},t.defineProperty_=function(e,t,n){void 0===n&&(n=!1),this.keysAtom_;try{t_();var r=this.delete_(e);if(!r)return r;if(t8(this)){var i=t4(this,{object:this.proxy_||this.target_,name:e,type:"add",newValue:t.value});if(!i)return null;var o=i.newValue;t.value!==o&&(t=X({},t,{value:o}))}if(n){if(!Reflect.defineProperty(this.target_,e,t))return!1}else E(this.target_,e,t);this.notifyPropertyAddition_(e,t.value)}finally{tm()}return!0},t.defineObservableProperty_=function(e,t,n,r){void 0===r&&(r=!1),this.keysAtom_;try{t_();var i=this.delete_(e);if(!i)return i;if(t8(this)){var o=t4(this,{object:this.proxy_||this.target_,name:e,type:"add",newValue:t});if(!o)return null;t=o.newValue}var a=nA(e),s={configurable:!th.safeDescriptors||this.isPlainObject_,enumerable:!0,get:a.get,set:a.set};if(r){if(!Reflect.defineProperty(this.target_,e,s))return!1}else E(this.target_,e,s);var c=new e6(t,n,"ObservableObject.key",!1);this.values_.set(e,c),this.notifyPropertyAddition_(e,c.value_)}finally{tm()}return!0},t.defineComputedProperty_=function(e,t,n){void 0===n&&(n=!1),this.keysAtom_;try{t_();var r=this.delete_(e);if(!r)return r;if(t8(this)&&!t4(this,{object:this.proxy_||this.target_,name:e,type:"add",newValue:void 0}))return null;t.name||(t.name="ObservableObject.key"),t.context=this.proxy_||this.target_;var i=nA(e),o={configurable:!th.safeDescriptors||this.isPlainObject_,enumerable:!1,get:i.get,set:i.set};if(n){if(!Reflect.defineProperty(this.target_,e,o))return!1}else E(this.target_,e,o);this.values_.set(e,new e4(t)),this.notifyPropertyAddition_(e,void 0)}finally{tm()}return!0},t.delete_=function(e,t){if(void 0===t&&(t=!1),this.keysAtom_,!H(this.target_,e))return!0;if(t8(this)&&!t4(this,{object:this.proxy_||this.target_,name:e,type:nk}))return null;try{t_();var n,r,i,o=t9(this),a=this.values_.get(e),s=void 0;if(!a&&o&&(s=null==(i=k(this.target_,e))?void 0:i.value),t){if(!Reflect.deleteProperty(this.target_,e))return!1}else delete this.target_[e];if(a&&(this.values_.delete(e),a instanceof e6&&(s=a.value_),ty(a)),this.keysAtom_.reportChanged(),null==(n=this.pendingKeys_)||null==(r=n.get(e))||r.set(e in this.target_),o){var c={type:nk,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:s,name:e};o&&ne(this,c)}}finally{tm()}return!0},t.observe_=function(e,t){return t7(this,e)},t.intercept_=function(e){return t3(this,e)},t.notifyPropertyAddition_=function(e,t){var n,r,i=t9(this);if(i){var o=i?{type:"add",observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:e,newValue:t}:null;i&&ne(this,o)}null==(n=this.pendingKeys_)||null==(r=n.get(e))||r.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),G(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function nS(e,t){if(H(e,ea))return e;var n,r,i=null!=(r=null==t?void 0:t.name)?r:"ObservableObject",o=new nE(e,new Map,String(i),t?null!=(n=t.defaultDecorator)?n:eP(t):void 0);return M(e,ea,o),e}var nO=V("ObservableObjectAdministration",nE);function nA(e){return nx[e]||(nx[e]={get:function(){return this[ea].getObservablePropValue_(e)},set:function(t){return this[ea].setObservablePropValue_(e,t)}})}function nT(e){return!!D(e)&&nO(e[ea])}function nC(e,t,n){var r;null==(r=e.target_[en])||delete r[n]}var nj=nD(0),nI=(s=!1,Object.defineProperty(c={},"0",{set:function(){s=!0}}),Object.create(c)["0"]=1,!1===s),nP=0,nN=function(){};u=Array.prototype,Object.setPrototypeOf?Object.setPrototypeOf(nN.prototype,u):void 0!==nN.prototype.__proto__?nN.prototype.__proto__=u:nN.prototype=u;var nR=function(e,t,n){function r(t,n,r,i){var o;return void 0===r&&(r="ObservableArray"),void 0===i&&(i=!1),o=e.call(this)||this,nU(function(){var e=new ns(r,n,i,!0);e.proxy_=$(o),U($(o),ea,e),t&&t.length&&o.spliceWithArray(0,0,t),nI&&Object.defineProperty($(o),"0",nj)}),o}J(r,e);var i=r.prototype;return i.concat=function(){this[ea].atom_.reportObserved();for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Array.prototype.concat.apply(this.slice(),t.map(function(e){return np(e)?e.slice():e}))},i[n]=function(){var e=this,t=0;return nz({next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})},q(r,[{key:"length",get:function(){return this[ea].getArrayLength_()},set:function(e){this[ea].setArrayLength_(e)}},{key:t,get:function(){return"Array"}}]),r}(nN,Symbol.toStringTag,Symbol.iterator);function nD(e){return{enumerable:!1,configurable:!0,get:function(){return this[ea].get_(e)},set:function(t){this[ea].set_(e,t)}}}function nL(e){if(e>nP){for(var t,n=nP;n<e+100;n++)t=n,E(nR.prototype,""+t,nD(t));nP=e}}function nZ(e,t){if("object"==typeof e&&null!==e){if(np(e))return void 0!==t&&r(23),e[ea].atom_;if(nw(e))return e.atom_;if(ng(e)){if(void 0===t)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||r(25,t,nM(e)),n}if(nT(e)){if(!t)return r(26);var i=e[ea].values_.get(t);return i||r(27,t,nM(e)),i}if(ec(e)||e9(e)||tE(e))return e}else if(N(e)&&tE(e[ea]))return e[ea];r(28)}function nM(e,t){var n;if(void 0!==t)n=nZ(e,t);else{if(tL(e))return e.name;n=nT(e)||ng(e)||nw(e)?function e(t,n){return(t||r(29),void 0!==n)?e(nZ(t,n)):ec(t)||e9(t)||tE(t)||ng(t)||nw(t)?t:t[ea]?t[ea]:void r(24,t)}(e):nZ(e)}return n.name_}function nU(e){var t=to(),n=e2(!0);t_();try{return e()}finally{tm(),e5(n),ta(t)}}Object.entries(nc).forEach(function(e){var t=e[0],n=e[1];"concat"!==t&&M(nR.prototype,t,n)}),nL(1e3);var nV=S.toString;function nF(e,t,n){return void 0===n&&(n=-1),function e(t,n,r,i,o){if(t===n)return 0!==t||1/t==1/n;if(null==t||null==n)return!1;if(t!=t)return n!=n;var a=typeof t;if("function"!==a&&"object"!==a&&"object"!=typeof n)return!1;var s=nV.call(t);if(s!==nV.call(n))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+t==""+n;case"[object Number]":if(+t!=+t)return+n!=+n;return 0==+t?1/+t==1/n:+t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(t)===Symbol.valueOf.call(n);case"[object Map]":case"[object Set]":r>=0&&r++}t=nB(t),n=nB(n);var c="[object Array]"===s;if(!c){if("object"!=typeof t||"object"!=typeof n)return!1;var u=t.constructor,l=n.constructor;if(u!==l&&!(N(u)&&u instanceof u&&N(l)&&l instanceof l)&&"constructor"in t&&"constructor"in n)return!1}if(0===r)return!1;r<0&&(r=-1),o=o||[];for(var d=(i=i||[]).length;d--;)if(i[d]===t)return o[d]===n;if(i.push(t),o.push(n),c){if((d=t.length)!==n.length)return!1;for(;d--;)if(!e(t[d],n[d],r-1,i,o))return!1}else{var f,h=Object.keys(t);if(d=h.length,Object.keys(n).length!==d)return!1;for(;d--;)if(!(H(n,f=h[d])&&e(t[f],n[f],r-1,i,o)))return!1}return i.pop(),o.pop(),!0}(e,t,n)}function nB(e){return np(e)?e.slice():F(e)||ng(e)||B(e)||nw(e)?Array.from(e.entries()):e}function nz(e){return e[Symbol.iterator]=nG,e}function nG(){return this}["Symbol","Map","Set"].forEach(function(e){void 0===w()[e]&&r("MobX requires global '"+e+"' to be available or polyfilled")}),"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}},extras:{getDebugName:nM},$mobx:ea})},743907:function(e,t,n){"use strict";n.d(t,{SV:function(){return a}});var r=n(218571);let i=(0,r.createContext)(null),o={didCatch:!1,error:null};class a extends r.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=o}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){let{error:e}=this.state;if(null!==e){for(var t,n,r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];null===(t=(n=this.props).onReset)||void 0===t||t.call(n,{args:i,reason:"imperative-api"}),this.setState(o)}}componentDidCatch(e,t){var n,r;null===(n=(r=this.props).onError)||void 0===n||n.call(r,e,t)}componentDidUpdate(e,t){let{didCatch:n}=this.state,{resetKeys:r}=this.props;if(n&&null!==t.error&&function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.length!==t.length||e.some((e,n)=>!Object.is(e,t[n]))}(e.resetKeys,r)){var i,a;null===(i=(a=this.props).onReset)||void 0===i||i.call(a,{next:r,prev:e.resetKeys,reason:"keys"}),this.setState(o)}}render(){let{children:e,fallbackRender:t,FallbackComponent:n,fallback:o}=this.props,{didCatch:a,error:s}=this.state,c=e;if(a){let e={error:s,resetErrorBoundary:this.resetErrorBoundary};if("function"==typeof t)c=t(e);else if(n)c=(0,r.createElement)(n,e);else if(null===o||(0,r.isValidElement)(o))c=o;else throw s}return(0,r.createElement)(i.Provider,{value:{didCatch:a,error:s,resetErrorBoundary:this.resetErrorBoundary}},c)}}},218571:function(e,t,n){"use strict";e.exports=n(873146)},375107:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var r=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some(function(e,r){return e[0]===t&&(n=r,!0)}),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),i="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,o=void 0!==n.g&&n.g.Math===Math?n.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),a="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)},s=["top","right","bottom","left","width","height","size","weight"],c="undefined"!=typeof MutationObserver,u=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function o(){n&&(n=!1,e()),r&&c()}function s(){a(o)}function c(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(s,20);i=e}return c}(this.refresh.bind(this),0)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},e.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),c?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;s.some(function(e){return!!~n.indexOf(e)})&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),l=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},d=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||o},f=_(0,0,0,0);function h(e){return parseFloat(e)||0}function p(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(t,n){return t+h(e["border-"+n+"-width"])},0)}var v="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof d(e).SVGGraphicsElement}:function(e){return e instanceof d(e).SVGElement&&"function"==typeof e.getBBox};function _(e,t,n,r){return{x:e,y:t,width:n,height:r}}var m=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=_(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=function(e){if(!i)return f;if(v(e)){var t;return _(0,0,(t=e.getBBox()).width,t.height)}return function(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return f;var r=d(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=e["padding-"+i];t[i]=h(o)}return t}(r),o=i.left+i.right,a=i.top+i.bottom,s=h(r.width),c=h(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==t&&(s-=p(r,"left","right")+o),Math.round(c+a)!==n&&(c-=p(r,"top","bottom")+a)),e!==d(e).document.documentElement){var u=Math.round(s+o)-t,l=Math.round(c+a)-n;1!==Math.abs(u)&&(s-=u),1!==Math.abs(l)&&(c-=l)}return _(i.left,i.top,s,c)}(e)}(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),g=function(e,t){var n,r,i,o,a,s=(n=t.x,r=t.y,i=t.width,o=t.height,l(a=Object.create(("undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object).prototype),{x:n,y:r,width:i,height:o,top:r,right:n+i,bottom:o+r,left:n}),a);l(this,{target:e,contentRect:s})},y=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new r,"function"!=typeof e)throw TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new m(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new g(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),b="undefined"!=typeof WeakMap?new WeakMap:new r,w=function e(t){if(!(this instanceof e))throw TypeError("Cannot call a class as a function.");if(!arguments.length)throw TypeError("1 argument required, but only 0 present.");var n=new y(t,u.getInstance(),this);b.set(this,n)};["observe","unobserve","disconnect"].forEach(function(e){w.prototype[e]=function(){var t;return(t=b.get(this))[e].apply(t,arguments)}});let x=void 0!==o.ResizeObserver?o.ResizeObserver:w},882314:function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.d(t,{m:function(){return r}})},609526:function(e,t,n){"use strict";var r=n(852932);e.exports=function(){if(String.prototype.matchAll)try{"".matchAll(RegExp.prototype)}catch(e){return String.prototype.matchAll}return r}},831015:function(e,t,n){"use strict";var r=n(374532);e.exports=function(){return String.prototype.trim&&"\u200B"==="\u200B".trim()&&"\u180E"==="\u180E".trim()&&"_\u180E"==="_\u180E".trim()&&"\u180E_"==="\u180E_".trim()?String.prototype.trim:r}},592899:function(e,t,n){"use strict";n.d(t,{_:function(){return s},s:function(){return a}});var r=n(789786);function i(e){return e}function o(e,t){void 0===t&&(t=i);var n=[],r=!1;return{read:function(){if(r)throw Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var i=t(e,r);return n.push(i),function(){n=n.filter(function(e){return e!==i})}},assignSyncMedium:function(e){for(r=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){r=!0;var t=[];if(n.length){var i=n;n=[],i.forEach(e),t=n}var o=function(){var n=t;t=[],n.forEach(e)},a=function(){return Promise.resolve().then(o)};a(),n={push:function(e){t.push(e),a()},filter:function(e){return t=t.filter(e),n}}}}}function a(e,t){return void 0===t&&(t=i),o(e,t)}function s(e){void 0===e&&(e={});var t=o(null);return t.options=(0,r.pi)({async:!0,ssr:!1},e),t}},304701:function(e,t,n){"use strict";n.d(t,{Y:function(){return o}});var r=n(623621),i=["Boolean","Number","String","Undefined","Null","Date","Object"],o=function(){function e(t,n){(0,r.PA)(this,e),this.name=t||"",this._prefix="[".concat(this.name,"]"),e.disabled=(null==n?void 0:n.disabled)||!0,this.logCacheLevel=(null==n?void 0:n.logCacheLevel)||3,this.logMaxSize=(null==n?void 0:n.logMaxSize)||204800,this.logSize=0,this.logTextArray=[]}return(0,r.qH)(e,[{key:"debug",value:function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];this.logCache.apply(this,[1].concat(r)),e.disabled||(t=console).debug.apply(t,[this._prefix,a()].concat(r))}},{key:"log",value:function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];this.logCache.apply(this,[2].concat(r)),e.disabled||(t=console).log.apply(t,[this._prefix,a()].concat(r))}},{key:"warn",value:function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];this.logCache.apply(this,[3].concat(r)),e.disabled||(t=console).warn.apply(t,[this._prefix,a()].concat(r))}},{key:"error",value:function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];this.logCache.apply(this,[4].concat(r)),e.disabled||(t=console).error.apply(t,[this._prefix,a()].concat(r))}},{key:"logCache",value:function(e){if(!(e<this.logCacheLevel)){var t="";try{for(var n=arguments.length,o=Array(n>1?n-1:0),s=1;s<n;s++)o[s-1]=arguments[s];var c=o.map(function(e){return function e(t,n,o){o||(o=1),n||(n=2);var a={};if(!t||"object"!==(0,r.Ac)(t))return t;var s=Object.prototype.toString.call(t).slice(8,-1);if(!i.includes(s))return s;if(!(o>n)){for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&(o===n?a[c]=function(e){if("object"!==(0,r.Ac)(e))return e;var t=Object.prototype.toString.call(e).slice(8,-1);switch(t){case"Array":case"Uint8Array":case"ArrayBuffer":return t+"["+e.length+"]";case"Object":return"{}";default:return t}}(t[c]):"object"===(0,r.Ac)(t[c])?a[c]=e(t[c],n,o+1):a[c]=t[c]);return a}}(e)});t=this._prefix+a()+JSON.stringify(c)}catch(e){return}if(e>=this.logCacheLevel&&(this.logSize+=t.length,this.logTextArray.push(t)),this.logSize>this.logMaxSize){var u=this.logTextArray.shift();this.logSize-=u.length}}}},{key:"getLogCache",value:function(){var e=this.logTextArray.join("\n");return this.reset(),e}},{key:"reset",value:function(){this.logTextArray=[],this.logSize=0}},{key:"table",value:function(){var t;e.disabled||(console.group(this._prefix),(t=console).table.apply(t,arguments),console.groupEnd())}},{key:"setLogLevel",value:function(e){this.logCacheLevel=e}}],[{key:"enable",value:function(){e.disabled=!1}},{key:"disable",value:function(){e.disabled=!0}}]),e}();function a(){return new Date().toLocaleString()}(0,r._x)(o,"disabled",!0)},632331:function(e,t,n){"use strict";n.d(t,{b:function(){return s}});var r=n(949024),i=n(400880),o=n(35004),a=n(744091),s=function(){function e(){(0,r.PA)(this,e)}return(0,r.qH)(e,null,[{key:"box",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=8+(n=n.filter(Boolean)).reduce(function(e,t){return e+t.byteLength},0),o=new Uint8Array(i);o[0]=i>>24&255,o[1]=i>>16&255,o[2]=i>>8&255,o[3]=255&i,o.set(e,4);var a=8;return n.forEach(function(e){o.set(e,a),a+=e.byteLength}),o}},{key:"ftyp",value:function(t){return t.find(function(e){return e.type===i.Vc.VIDEO&&e.codecType===i._e.HEVC})?e.FTYPHEV1:e.FTYPAVC1}},{key:"initSegment",value:function(t){var n=e.ftyp(t);return(0,o.gJ)(n,e.moov(t))}},{key:"pssh",value:function(t){var n=new Uint8Array([1,0,0,0].concat([16,119,239,236,192,178,77,2,172,227,60,30,82,226,251,75],[0,0,0,1],(0,o.Qc)(t.kid),[0,0,0,0]));return e.box(e.types.pssh,n)}},{key:"moov",value:function(t){if(!t[0].useEME||!t[0].encv&&!t[0].enca)return e.box.apply(e,[e.types.moov,e.mvhd(t[0].mvhdDurtion||t[0].duration,t[0].mvhdTimecale||t[0].timescale)].concat((0,r.u)(t.map(function(t){return e.trak(t)})),[e.mvex(t)]));t[0].pssh||(t[0].pssh={kid:t[0].kid});var n=this.pssh(t[0].pssh);return e.box.apply(e,[e.types.moov,e.mvhd(t[0].mvhdDurtion||t[0].duration,t[0].mvhdTimecale||t[0].timescale),e.mvex(t)].concat((0,r.u)(t.map(function(t){return e.trak(t)})),[n]))}},{key:"mvhd",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9e4;return e.box(e.types.mvhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,n>>24&255,n>>16&255,n>>8&255,255&n,t>>24&255,t>>16&255,t>>8&255,255&t,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))}},{key:"trak",value:function(t){return e.box(e.types.trak,e.tkhd(t.id,t.tkhdDuration||0,t.width,t.height),e.mdia(t))}},{key:"tkhd",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return e.box(e.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,t>>24&255,t>>16&255,t>>8&255,255&t,0,0,0,0,n>>24&255,n>>16&255,n>>8&255,255&n,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,r>>8&255,255&r,0,0,i>>8&255,255&i,0,0]))}},{key:"mdia",value:function(t){return e.box(e.types.mdia,e.mdhd(t.duration,t.timescale),e.hdlr(t.type),e.minf(t))}},{key:"mdhd",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9e4;return e.box(e.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,n>>24&255,n>>16&255,n>>8&255,255&n,t>>24&255,t>>16&255,t>>8&255,255&t,85,196,0,0]))}},{key:"hdlr",value:function(t){return e.box(e.types.hdlr,e.HDLR_TYPES[t])}},{key:"minf",value:function(t){return e.box(e.types.minf,t.type===i.Vc.VIDEO?e.VMHD:e.SMHD,e.DINF,e.stbl(t))}},{key:"stbl",value:function(t){var n=[];return t&&t.ext&&t.ext.stss&&n.push(e.stss(t.ext.stss.entries)),e.box(e.types.stbl,e.stsd(t),e.STTS,n[0],e.STSC,e.STSZ,e.STCO)}},{key:"stsd",value:function(t){var n;return n="audio"===t.type?t.useEME&&t.enca?e.enca(t):e.mp4a(t):t.useEME&&t.encv?e.encv(t):e.avc1hev1(t),e.box(e.types.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),n)}},{key:"enca",value:function(t){var n=t.enca.channelCount,r=t.enca.sampleRate,i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,n,0,16,0,0,0,0,r>>8&255,255&r,0,0]),o=e.esds(t.config),a=e.sinf(t.enca);return e.box(e.types.enca,i,o,a)}},{key:"encv",value:function(t){var n,i,o=t.sps.length>0?t.sps[0]:[],a=t.pps.length>0?t.pps[0]:[],s=t.width,c=t.height,u=t.sarRatio[0],l=t.sarRatio[1],d=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,s>>8&255,255&s,c>>8&255,255&c,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),f=new Uint8Array((n=(i=[1,o[1],o[2],o[3],255,225,o.length>>>8&255,255&o.length]).concat.apply(i,(0,r.u)(o)).concat([1,a.length>>>8&255,255&a.length])).concat.apply(n,(0,r.u)(a))),h=new Uint8Array([0,0,88,57,0,15,200,192,0,4,86,72]),p=e.sinf(t.encv),v=new Uint8Array([u>>24,u>>16&255,u>>8&255,255&u,l>>24,l>>16&255,l>>8&255,255&l]);return e.box(e.types.encv,d,e.box(e.types.avcC,f),e.box(e.types.btrt,h),p,e.box(e.types.pasp,v))}},{key:"schi",value:function(t){var n=new Uint8Array([]),r=e.tenc(t);return e.box(e.types.schi,n,r)}},{key:"tenc",value:function(t){var n=new Uint8Array([0,0,0,0,0,0,255&t.default_IsEncrypted,255&t.default_IV_size].concat((0,o.Qc)(t.default_KID)));return e.box(e.types.tenc,n)}},{key:"sinf",value:function(t){var n=new Uint8Array([]),r=new Uint8Array([t.data_format.charCodeAt(0),t.data_format.charCodeAt(1),t.data_format.charCodeAt(2),t.data_format.charCodeAt(3)]),i=new Uint8Array([0,0,0,0,99,101,110,99,0,1,0,0]),o=e.schi(t);return e.box(e.types.sinf,n,e.box(e.types.frma,r),e.box(e.types.schm,i),o)}},{key:"avc1hev1",value:function(t){var n=t.codecType===i._e.HEVC,r=n?e.types.hvc1:e.types.avc1,o=n?e.hvcC(t):e.avcC(t),a=[new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,t.width>>8&255,255&t.width,t.height>>8&255,255&t.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),o];return n?a.push(e.box(e.types.fiel,new Uint8Array([1,0]))):t.sarRatio&&t.sarRatio.length>1&&a.push(e.pasp(t.sarRatio)),e.box.apply(e,[r].concat(a))}},{key:"avcC",value:function(t){var n,i,o,a=[],s=[];return t.sps.forEach(function(e){o=e.byteLength,a.push(o>>>8&255),a.push(255&o),a.push.apply(a,(0,r.u)(e))}),t.pps.forEach(function(e){o=e.byteLength,s.push(o>>>8&255),s.push(255&o),s.push.apply(s,(0,r.u)(e))}),e.box(e.types.avcC,new Uint8Array((n=(i=[1,a[3],a[4],a[5],255,224|t.sps.length]).concat.apply(i,a).concat([t.pps.length])).concat.apply(n,s)))}},{key:"hvcC",value:function(t){var n,i=t.hvcC;if(i instanceof ArrayBuffer||i instanceof Uint8Array)return i;var o=t.vps,a=t.sps,s=t.pps;if(i){var c=i.generalProfileCompatibilityFlags,u=i.generalConstraintIndicatorFlags,l=(o.length&&1)+(a.length&&1)+(s.length&&1);n=[1,i.generalProfileSpace<<6|i.generalTierFlag<<5|i.generalProfileIdc,c>>>24,c>>>16,c>>>8,c,u[0],u[1],u[2],u[3],u[4],u[5],i.generalLevelIdc,240,0,252,252|i.chromaFormatIdc,248|i.bitDepthLumaMinus8,248|i.bitDepthChromaMinus8,0,0,i.numTemporalLayers<<3|i.temporalIdNested<<2|3,l];var d=function(e){var t;n.push(e.length>>8,e.length),(t=n).push.apply(t,(0,r.u)(e))};o.length&&(n.push(160,0,o.length),o.forEach(d)),a.length&&(n.push(161,0,a.length),a.forEach(d)),s.length&&(n.push(162,0,s.length),s.forEach(d))}else n=[1,1,96,0,0,0,144,0,0,0,0,0,93,240,0,252,253,248,248,0,0,15,3,160,0,1,0,24,64,1,12,1,255,255,1,96,0,0,3,0,144,0,0,3,0,0,3,0,93,153,152,9,161,0,1,0,45,66,1,1,1,96,0,0,3,0,144,0,0,3,0,0,3,0,93,160,2,128,128,45,22,89,153,164,147,43,154,128,128,128,130,0,0,3,0,2,0,0,3,0,50,16,162,0,1,0,7,68,1,193,114,180,98,64];return e.box(e.types.hvcC,new Uint8Array(n))}},{key:"pasp",value:function(t){var n=(0,r.ZQ)(t,2),i=n[0],o=n[1];return e.box(e.types.pasp,new Uint8Array([i>>24,i>>16&255,i>>8&255,255&i,o>>24,o>>16&255,o>>8&255,255&o]))}},{key:"mp4a",value:function(t){return e.box(e.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,t.sampleRate>>8&255,255&t.sampleRate,0,0]),t.config.length?e.esds(t.config):void 0)}},{key:"esds",value:function(t){var n=t.length;return e.box(e.types.esds,new Uint8Array([0,0,0,0,3,23+n,0,0,0,4,15+n,64,21,0,6,0,0,0,218,192,0,0,218,192,5].concat([n]).concat(t).concat([6,1,2])))}},{key:"mvex",value:function(t){return e.box.apply(e,[e.types.mvex].concat((0,r.u)(t.map(function(t){return e.trex(t.id)}))))}},{key:"trex",value:function(t){return e.box(e.types.trex,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}},{key:"trex1",value:function(t){return e.box(e.types.trex,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t,0,0,0,1,0,0,2,0,0,0,0,0,0,1,0,0]))}},{key:"trex2",value:function(t){return e.box(e.types.trex,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t,0,0,0,1,0,0,4,0,0,0,0,0,2,0,0,0]))}},{key:"moof",value:function(t){return e.box.apply(e,[e.types.moof,e.mfhd(t[0].samples?t[0].samples[0].gopId:0)].concat((0,r.u)(t.map(function(t){return e.traf(t)}))))}},{key:"mfhd",value:function(t){return e.box(e.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))}},{key:"traf",value:function(t){var n=e.tfhd(t.id),r=e.tfdt(t,t.baseMediaDecodeTime),i=0;if(t.isVideo&&t.videoSenc&&t.videoSenc.forEach(function(e){i+=8,e.subsamples&&e.subsamples.length&&(i+=2+6*e.subsamples.length)}),t.videoSencLength=i,t.useEME&&(t.isVideoEncryption||t.isAudioEncryption)){if(t.isVideoEncryption){if(t.isVideo){var o=e.saiz(t),a=e.saio(t),s=e.trun1(t),c=e.senc(t);return e.box(e.types.traf,n,r,o,a,s,c)}if(t.isAudioEncryption){var u=e.sbgp(),l=e.saiz(t),d=e.saio(t),f=e.senc(t),h=e.trun1(t);return e.box(e.types.traf,n,r,u,l,d,f,h)}var p=e.sbgp(),v=e.trun1(t);return e.box(e.types.traf,n,r,p,v)}if(t.isVideo){var _=e.trun1(t);return e.box(e.types.traf,n,r,_)}var m=e.sbgp(),g=e.saiz(t),y=e.saio(t),b=e.senc(t),w=e.trun1(t);return e.box(e.types.traf,n,r,m,g,y,b,w)}var x=e.sdtp(t);return e.box(e.types.traf,n,r,x,e.trun(t.samples,x.byteLength+76))}},{key:"sdtp",value:function(t){var n=new a.Z;return t.samples.forEach(function(e){n.write(new Uint8Array(t.isVideo?[e.keyframe?32:16]:[16]))}),e.box(e.types.sdtp,this.extension(0,0),n.buffer)}},{key:"trun1",value:function(t){var n=new a.Z,r=a.Z.writeUint32(t.samples.length),i=null;if(t.isVideo){var o=t.videoSencLength;i=a.Z.writeUint32(16*t.samples.length+o+149),!t.isVideoEncryption&&t.isAudioEncryption&&(i=a.Z.writeUint32(16*t.samples.length+92))}else{var s=12*t.samples.length+124;t.isAudioEncryption&&(s=12*t.samples.length+8*t.audioSenc.length+177),i=a.Z.writeUint32(s)}return t.samples.forEach(function(e){n.write(a.Z.writeUint32(e.duration)),n.write(a.Z.writeUint32(e.size)),n.write(a.Z.writeUint32(e.keyframe?33554432:65536)),t.isVideo&&n.write(a.Z.writeUint32(e.cts?e.cts:0))}),e.box(e.types.trun,this.extension(0,t.flags),r,i,n.buffer)}},{key:"senc",value:function(t){var n=new a.Z,r=t.samples.length,i=t.isVideo?16:8,o=t.isVideo?2:0,s=[],c=0;return t.isVideo?(s=t.videoSenc,c=t.videoSencLength):s=t.audioSenc,c=c||i*r,n.write(a.Z.writeUint32(16+c),e.types.senc,this.extension(0,o)),n.write(a.Z.writeUint32(r)),s.forEach(function(e){for(var t=0;t<e.InitializationVector.length;t++)n.write(new Uint8Array([e.InitializationVector[t]]));e.subsamples&&e.subsamples.length&&(n.write(a.Z.writeUint16(e.subsamples.length)),e.subsamples.forEach(function(e){n.write(a.Z.writeUint16(e.BytesOfClearData)),n.write(a.Z.writeUint32(e.BytesOfProtectedData))}))}),n.buffer}},{key:"saio",value:function(t){var n=12*t.samples.length+141;!t.isVideo&&t.isAudioEncryption&&(n=149);var r=new Uint8Array([1,0,0,0,0,0,0,1,0,0,0,0,n>>24&255,n>>16&255,n>>8&255,255&n]);return e.box(e.types.saio,r)}},{key:"saiz",value:function(t){var n=t.samples.length,r=new Uint8Array([0,0,0,0,16,n>>24&255,n>>16&255,n>>8&255,255&n]);return e.box(e.types.saiz,r)}},{key:"sbgp",value:function(){var t=new Uint8Array([114,111,108,108,0,0,0,1,0,0,1,25,0,0,0,1]);return e.box(e.types.sbgp,this.extension(0,0),t)}},{key:"extension",value:function(e,t){return new Uint8Array([e,t>>16&255,t>>8&255,255&t])}},{key:"tfhd",value:function(t){return e.box(e.types.tfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))}},{key:"tfdt",value:function(t,n){var r=Math.floor(n/4294967296),i=Math.floor(n%4294967296);return t.useEME&&(t.isVideoEncryption||t.isAudioEncryption)?e.box(e.types.tfdt,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i])):e.box(e.types.tfdt,new Uint8Array([1,0,0,0,r>>24,r>>16&255,r>>8&255,255&r,i>>24,i>>16&255,i>>8&255,255&i]))}},{key:"trun",value:function(t,n){var r=t.length,i=12+16*r;n+=8+i;var o=new Uint8Array(i);o.set([0,0,15,1,r>>>24&255,r>>>16&255,r>>>8&255,255&r,n>>>24&255,n>>>16&255,n>>>8&255,255&n],0);for(var a=0;a<r;a++){var s=t[a],c=s.duration,u=s.size,l=s.flag,d=void 0===l?{}:l,f=s.cts,h=void 0===f?0:f;o.set([c>>>24&255,c>>>16&255,c>>>8&255,255&c,u>>>24&255,u>>>16&255,u>>>8&255,255&u,d.isLeading<<2|(null===d.dependsOn||void 0===d.dependsOn?1:d.dependsOn),d.isDependedOn<<6|d.hasRedundancy<<4|d.paddingValue<<1|(null===d.isNonSyncSample||void 0===d.isNonSyncSample?1:d.isNonSyncSample),61440&d.degradationPriority,15&d.degradationPriority,h>>>24&255,h>>>16&255,h>>>8&255,255&h],12+16*a)}return e.box(e.types.trun,o)}},{key:"moovMP4",value:function(t){return e.box.apply(e,[e.types.moov,e.mvhd(t[0].duration,t[0].timescale)].concat((0,r.u)(t.map(function(t){return e.trackMP4(t)}))))}},{key:"trackMP4",value:function(t){return e.box(e.types.trak,e.tkhd(t.id,t.duration,t.width,t.height),e.mdiaMP4(t))}},{key:"mdiaMP4",value:function(t){return e.box(e.types.mdia,e.mdhd(t.duration,t.timescale),e.hdlr(t.type),e.minfMP4(t))}},{key:"minfMP4",value:function(t){return e.box(e.types.minf,t.type===i.Vc.VIDEO?e.VMHD:e.SMHD,e.DINF,e.stblMP4(t))}},{key:"stblMP4",value:function(t){var n=t.ext,r=[e.stsd(t),e.stts(n.stts),e.stsc(n.stsc),e.stsz(n.stsz),e.stco(n.stco)];return n.stss.length&&r.push(e.stss(n.stss)),n.ctts.length&&r.push(e.ctts(n.ctts)),e.box.apply(e,[e.types.stbl].concat(r))}},{key:"stts",value:function(t){var n=t.length,r=new Uint8Array(8*n),i=0;return t.forEach(function(e){var t=e.value,n=e.count;r.set([n>>24,n>>16&255,n>>8&255,255&n,t>>24,t>>16&255,t>>8&255,255&t],i),i+=8}),e.box(e.types.stts,(0,o.gJ)(new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n]),r))}},{key:"stsc",value:function(t){var n=t.length,r=new Uint8Array(12*n),i=0;return t.forEach(function(e){var t=e.firstChunk,n=e.samplesPerChunk,o=e.sampleDescIndex;r.set([t>>24,t>>16&255,t>>8&255,255&t,n>>24,n>>16&255,n>>8&255,255&n,o>>24,o>>16&255,o>>8&255,255&o],i),i+=12}),e.box(e.types.stsc,(0,o.gJ)(new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n]),r))}},{key:"stsz",value:function(t){var n=t.length,r=new Uint8Array(4*n),i=0;return t.forEach(function(e){r.set([e>>24,e>>16&255,e>>8&255,255&e],i),i+=4}),e.box(e.types.stsz,(0,o.gJ)(new Uint8Array([0,0,0,0,0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n]),r))}},{key:"stco",value:function(t){var n=t.length,r=new Uint8Array(4*n),i=0;return t.forEach(function(e){r.set([e>>24,e>>16&255,e>>8&255,255&e],i),i+=4}),e.box(e.types.stco,(0,o.gJ)(new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n]),r))}},{key:"stss",value:function(t){var n=t.length,r=new Uint8Array(4*n),i=0;return t.forEach(function(e){r.set([e>>24,e>>16&255,e>>8&255,255&e],i),i+=4}),e.box(e.types.stss,(0,o.gJ)(new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n]),r))}},{key:"ctts",value:function(t){var n=t.length,r=new Uint8Array(8*n),i=0;return t.forEach(function(e){var t=e.value,n=e.count;r.set([n>>24,n>>16&255,n>>8&255,255&n,t>>24,t>>16&255,t>>8&255,255&t],i),i+=8}),e.box(e.types.ctts,(0,o.gJ)(new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n]),r))}},{key:"styp",value:function(){return e.box(e.types.styp,new Uint8Array([109,115,100,104,0,0,0,0,109,115,100,104,109,115,105,120]))}},{key:"sidx",value:function(t){var n=t.timescale,r=t.samples[0].duration,i=r*t.samples.length,o=t.samples[0].sampleOffset*r,a=8;t.samples.forEach(function(e){a+=e.size});var s=0;if(t.isVideo){var c,u=0;t.videoSenc&&(c=t.videoSenc),t.isVideo&&c.forEach(function(e){u+=8,e.subsamples&&e.subsamples.length&&(u+=2+6*e.subsamples.length)}),t.videoSencLength=u,s=a+141+16*t.samples.length+u,t.useEME&&t.isAudioEncryption&&!t.isVideoEncryption&&(s=a+16*t.samples.length+84)}else s=a+116+12*t.samples.length,t.useEME&&t.isAudioEncryption&&(s=a+169+12*t.samples.length+8*t.audioSenc.length);var l=new Uint8Array([0,0,0,0,0,0,0,255&t.id,n>>24&255,n>>16&255,n>>8&255,255&n,o>>24&255,o>>16&255,o>>8&255,255&o,0,0,0,0,0,0,0,1,0,s>>16&255,s>>8&255,255&s,i>>24&255,i>>16&255,i>>8&255,255&i,144,0,0,0]);return e.box(e.types.sidx,l)}},{key:"mdat",value:function(t){return e.box(e.types.mdat,t)}}]),e}();(0,r._x)(s,"types",["avc1","avcC","hvc1","hvcC","dinf","dref","esds","ftyp","hdlr","mdat","mdhd","mdia","mfhd","minf","moof","moov","mp4a","mvex","mvhd","pasp","stbl","stco","stsc","stsd","stsz","stts","tfdt","tfhd","traf","trak","trex","tkhd","vmhd","smhd","ctts","stss","styp","pssh","sidx","sbgp","saiz","saio","senc","trun","encv","enca","sinf","btrt","frma","tenc","schm","schi","mehd","fiel","sdtp"].reduce(function(e,t){return e[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)],e},Object.create(null))),(0,r._x)(s,"HDLR_TYPES",{video:new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),audio:new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0])}),(0,r._x)(s,"FTYPAVC1",s.box(s.types.ftyp,new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]))),(0,r._x)(s,"FTYPHEV1",s.box(s.types.ftyp,new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,104,101,118,49]))),(0,r._x)(s,"DINF",s.box(s.types.dinf,s.box(s.types.dref,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1])))),(0,r._x)(s,"VMHD",s.box(s.types.vmhd,new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]))),(0,r._x)(s,"SMHD",s.box(s.types.smhd,new Uint8Array([0,0,0,0,0,0,0,0]))),(0,r._x)(s,"StblTable",new Uint8Array([0,0,0,0,0,0,0,0])),(0,r._x)(s,"STTS",s.box(s.types.stts,s.StblTable)),(0,r._x)(s,"STSC",s.box(s.types.stsc,s.StblTable)),(0,r._x)(s,"STSZ",s.box(s.types.stsz,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]))),(0,r._x)(s,"STCO",s.box(s.types.stco,s.StblTable))},814694:function(e,t,n){"use strict";n.d(t,{Vc:function(){return r},_e:function(){return i}});var r={VIDEO:"video",AUDIO:"audio",METADATA:"metadata"},i={AVC:"avc",HEVC:"hevc"}},996706:function(e,t,n){"use strict";n.d(t,{F7:function(){return l},P2:function(){return c},VQ:function(){return u},ZP:function(){return a}});var r=n(486097),i=n(166782),o=n(775516),a={};function s(e){var t=(0,r.Ac)(e);return null!==e&&("object"===t||"function"===t)}function c(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw TypeError("Expected a function");return s(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),function(e,t,n){var r,i,o,a,c,u,l=0,d=!1,f=!1,h=!0,p=!t&&0!==t&&"function"==typeof window.requestAnimationFrame;if("function"!=typeof e)throw TypeError("Expected a function");function v(t){var n=r,o=i;return r=i=void 0,l=t,a=e.apply(o,n)}function _(e,t){return p?(window.cancelAnimationFrame(c),window.requestAnimationFrame(e)):setTimeout(e,t)}function m(e){var n=e-u,r=e-l;return void 0===u||n>=t||n<0||f&&r>=o}function g(){var e,n,r,i=Date.now();if(m(i))return y(i);c=_(g,(e=i-u,n=i-l,r=t-e,f?Math.min(r,o-n):r))}function y(e){return(c=void 0,h&&r)?v(e):(r=i=void 0,a)}function b(){for(var e,n=Date.now(),o=m(n),s=arguments.length,h=Array(s),p=0;p<s;p++)h[p]=arguments[p];if(r=h,i=this,u=n,o){if(void 0===c)return l=e=u,c=_(g,t),d?v(e):a;if(f)return c=_(g,t),v(u)}return void 0===c&&(c=_(g,t)),a}return t=+t||0,s(n)&&(d=!!n.leading,o=(f="maxWait"in n)?Math.max(+n.maxWait||0,t):o,h="trailing"in n?!!n.trailing:h),b.cancel=function(){void 0!==c&&function(e){if(p)return window.cancelAnimationFrame(e);clearTimeout(e)}(c),l=0,r=u=i=c=void 0},b.flush=function(){return void 0===c?a:y(Date.now())},b.pending=function(){return void 0!==c},b}(e,t,{leading:r,trailing:i,maxWait:t})}function u(){var e=(document.documentElement.getAttribute("lang")||navigator.language||"zh-cn").toLocaleLowerCase();return"zh-cn"===e&&(e="zh"),e}function l(e,t,n){if(e){var r=e.getAttribute(n);return!!r&&r===t&&("VIDEO"===e.tagName||"AUDIO"===e.tagName)}}a.createDom=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=document.createElement(e);return i.className=r,i.innerHTML=t,Object.keys(n).forEach(function(t){var r=n[t];"video"===e||"audio"===e||"live-video"===e?r&&i.setAttribute(t,r):i.setAttribute(t,r)}),i},a.createDomFromHtml=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";try{var r=document.createElement("div");r.innerHTML=e;var o=r.children;if(r=null,o.length>0)return o=o[0],n&&a.addClass(o,n),t&&Object.keys(t).forEach(function(e){o.setAttribute(e,t[e])}),o;return null}catch(e){return i.Z.logError("util.createDomFromHtml",e),null}},a.hasClass=function(e,t){if(!e||!t)return!1;try{return Array.prototype.some.call(e.classList,function(e){return e===t})}catch(i){var n=e.className&&"object"===(0,r.Ac)(e.className)?e.getAttribute("class"):e.className;return n&&!!n.match(RegExp("(\\s|^)"+t+"(\\s|$)"))}},a.addClass=function(e,t){if(e&&t)try{t.replace(/(^\s+|\s+$)/g,"").split(/\s+/g).forEach(function(t){t&&e.classList.add(t)})}catch(n){a.hasClass(e,t)||(e.className&&"object"===(0,r.Ac)(e.className)?e.setAttribute("class",e.getAttribute("class")+" "+t):e.className+=" "+t)}},a.removeClass=function(e,t){if(e&&t)try{t.replace(/(^\s+|\s+$)/g,"").split(/\s+/g).forEach(function(t){t&&e.classList.remove(t)})}catch(n){a.hasClass(e,t)&&t.split(/\s+/g).forEach(function(t){var n=RegExp("(\\s|^)"+t+"(\\s|$)");e.className&&"object"===(0,r.Ac)(e.className)?e.setAttribute("class",e.getAttribute("class").replace(n," ")):e.className=e.className.replace(n," ")})}},a.toggleClass=function(e,t){e&&t.split(/\s+/g).forEach(function(t){a.hasClass(e,t)?a.removeClass(e,t):a.addClass(e,t)})},a.classNames=function(){for(var e=arguments,t=[],n=function(n){"String"===a.typeOf(e[n])?t.push(e[n]):"Object"===a.typeOf(e[n])&&Object.keys(e[n]).map(function(r){e[n][r]&&t.push(r)})},r=0;r<arguments.length;r++)n(r);return t.join(" ")},a.findDom=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,n=arguments.length>1?arguments[1]:void 0;try{e=t.querySelector(n)}catch(r){i.Z.logError("util.findDom",r),0===n.indexOf("#")&&(e=t.getElementById(n.slice(1)))}return e},a.getCss=function(e,t){return e.currentStyle?e.currentStyle[t]:document.defaultView.getComputedStyle(e,!1)[t]},a.padStart=function(e,t,n){for(var r=String(n),i=t>>0,o=Math.ceil(i/r.length),a=[],s=String(e);o--;)a.push(r);return a.join("").substring(0,i-s.length)+s},a.format=function(e){if(window.isNaN(e))return"";e=Math.round(e);var t=a.padStart(Math.floor(e/3600),2,0),n=a.padStart(Math.floor((e-3600*t)/60),2,0),r=a.padStart(Math.floor(e-3600*t-60*n),2,0);return("00"===t?[n,r]:[t,n,r]).join(":")},a.event=function(e){if(e.touches){var t=e.touches[0]||e.changedTouches[0];e.clientX=t.clientX||0,e.clientY=t.clientY||0,e.offsetX=t.pageX-t.target.offsetLeft,e.offsetY=t.pageY-t.target.offsetTop}e._target=e.target||e.srcElement},a.typeOf=function(e){return Object.prototype.toString.call(e).match(/([^\s.*]+)(?=]$)/g)[0]},a.deepCopy=function(e,t){if("Object"===a.typeOf(t)&&"Object"===a.typeOf(e))return Object.keys(t).forEach(function(n){"Object"!==a.typeOf(t[n])||t[n]instanceof Node?"Array"===a.typeOf(t[n])?e[n]="Array"===a.typeOf(e[n])?e[n].concat(t[n]):t[n]:e[n]=t[n]:void 0===e[n]||void 0===e[n]?e[n]=t[n]:a.deepCopy(e[n],t[n])}),e},a.deepMerge=function(e,t){return Object.keys(t).map(function(n){if("Array"===a.typeOf(t[n])&&"Array"===a.typeOf(e[n])){if("Array"===a.typeOf(e[n])){var i;(i=e[n]).push.apply(i,(0,r.u)(t[n]))}}else a.typeOf(e[n])!==a.typeOf(t[n])||null===e[n]||"Object"!==a.typeOf(e[n])||t[n]instanceof window.Node?null!==t[n]&&(e[n]=t[n]):a.deepMerge(e[n],t[n])}),e},a.getBgImage=function(e){var t=(e.currentStyle||window.getComputedStyle(e,null)).backgroundImage;if(!t||"none"===t)return"";var n=document.createElement("a");return n.href=t.replace(/url\("|"\)/g,""),n.href},a.copyDom=function(e){if(!e||1!==e.nodeType)return"";var t=document.createElement(e.tagName);return Array.prototype.forEach.call(e.attributes,function(e){t.setAttribute(e.name,e.value)}),e.innerHTML&&(t.innerHTML=e.innerHTML),t},a.setInterval=function(e,t,n,r){e._interval[t]||(e._interval[t]=window.setInterval(n.bind(e),r))},a.clearInterval=function(e,t){clearInterval(e._interval[t]),e._interval[t]=null},a.setTimeout=function(e,t,n){e._timers||(e._timers=[]);var r=setTimeout(function(){t(),a.clearTimeout(e,r)},n);return e._timers.push(r),r},a.clearTimeout=function(e,t){var n=e._timers;if("Array"===a.typeOf(n)){for(var r=0;r<n.length;r++)if(n[r]===t){n.splice(r,1),clearTimeout(t);break}}else clearTimeout(t)},a.clearAllTimers=function(e){var t=e._timers;"Array"===a.typeOf(t)&&(t.map(function(e){clearTimeout(e)}),e._timerIds=[])},a.createImgBtn=function(e,t,n,r){var i,o,s,c=a.createDom("xg-".concat(e),"",{},"xgplayer-".concat(e,"-img"));return c.style.backgroundImage='url("'.concat(t,'")'),n&&r&&(["px","rem","em","pt","dp","vw","vh","vm","%"].every(function(e){return!(n.indexOf(e)>-1&&r.indexOf(e)>-1)||(i=parseFloat(n.slice(0,n.indexOf(e)).trim()),o=parseFloat(r.slice(0,r.indexOf(e)).trim()),s=e,!1)}),c.style.width="".concat(i).concat(s),c.style.height="".concat(o).concat(s),c.style.backgroundSize="".concat(i).concat(s," ").concat(o).concat(s),"start"===e?c.style.margin="-".concat(o/2).concat(s," auto auto -").concat(i/2).concat(s):c.style.margin="auto 5px auto 5px"),c},a.Hex2RGBA=function(e,t){var n=[];if(/^\#[0-9A-F]{3}$/i.test(e)){var r="#";e.replace(/[0-9A-F]/ig,function(e){r+=e+e}),e=r}return/^#[0-9A-F]{6}$/i.test(e)?(e.replace(/[0-9A-F]{2}/ig,function(e){n.push(parseInt(e,16))}),"rgba(".concat(n.join(","),", ").concat(t,")")):"rgba(255, 255, 255, 0.1)"},a.getFullScreenEl=function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement},a.checkIsFunction=function(e){return e&&"function"==typeof e},a.checkIsObject=function(e){return null!==e&&"object"===(0,r.Ac)(e)},a.hide=function(e){e.style.display="none"},a.show=function(e,t){e.style.display=t||"block"},a.isUndefined=function(e){if(null==e)return!0},a.isNotNull=function(e){return null!=e},a.setStyleFromCsstext=function(e,t){t&&("String"===a.typeOf(t)?t.replace(/\s+/g,"").split(";").map(function(t){if(t){var n=t.split(":");n.length>1&&(e.style[n[0]]=n[1])}}):Object.keys(t).map(function(n){e.style[n]=t[n]}))},a.filterStyleFromText=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["width","height","top","left","bottom","right","position","z-index","padding","margin","transform"],n=e.style.cssText;if(!n)return{};var r=n.replace(/\s+/g,"").split(";"),i={},o={};return r.map(function(e){if(e){var n=e.split(":");n.length>1&&(function(e,t){for(var n=0,r=t.length;n<r;n++)if(e.indexOf(t[n])>-1)return!0;return!1}(n[0],t)?i[n[0]]=n[1]:o[n[0]]=n[1])}}),e.setAttribute("style",""),Object.keys(o).map(function(t){e.style[t]=o[t]}),i},a.getStyleFromCsstext=function(e){var t=e.style.cssText;if(!t)return{};var n=t.replace(/\s+/g,"").split(";"),r={};return n.map(function(e){if(e){var t=e.split(":");t.length>1&&(r[t[0]]=t[1])}}),r},a.preloadImg=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};if(e){var r=new window.Image;r.onload=function(e){r=null,t&&t(e)},r.onerror=function(e){r=null,n&&n(e)},r.src=e}},a.stopPropagation=function(e){e&&e.stopPropagation()},a.scrollTop=function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},a.scrollLeft=function(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0},a.checkTouchSupport=function(){return"ontouchstart"in window},a.getBuffered2=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,n=[],r=0;r<e.length;r++)n.push({start:.5>e.start(r)?0:e.start(r),end:e.end(r)});n.sort(function(e,t){return e.start-t.start||t.end-e.end});var i=[];if(t)for(var a=0;a<n.length;a++){var s=i.length;if(s){var c=i[s-1].end;n[a].start-c<t?n[a].end>c&&(i[s-1].end=n[a].end):i.push(n[a])}else i.push(n[a])}else i=n;return new o.Z(i)},a.getEventPos=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e.touches&&e.touches.length>0&&(e=e.touches[0]),{x:e.x/t,y:e.y/t,clientX:e.clientX/t,clientY:e.clientY/t,offsetX:e.offsetX/t,offsetY:e.offsetY/t,pageX:e.pageX/t,pageY:e.pageY/t}},a.requestAnimationFrame=function(e){var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(t)return t(e)},a.getHostFromUrl=function(e){if("String"!==a.typeOf(e))return"";var t=e.split("/"),n="";return t.length>3&&t[2]&&(n=t[2]),n},a.cancelAnimationFrame=function(e){var t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.cancelRequestAnimationFrame;t&&t(e)},a.isMSE=function(e){return!!(e&&e instanceof HTMLMediaElement)&&(/^blob/.test(e.currentSrc)||/^blob/.test(e.src))},a.isBlob=function(e){return"string"==typeof e&&/^blob/.test(e)},a.generateSessionId=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=new Date().getTime();try{e=parseInt(e)}catch(t){e=0}return t+=e,window.performance&&"function"==typeof window.performance.now&&(t+=parseInt(window.performance.now())),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?n:3&n|8).toString(16)})},a.createEvent=function(e){var t;return"function"==typeof window.Event?t=new Event(e):(t=document.createEvent("Event")).initEvent(e,!0,!0),t},a.adjustTimeByDuration=function(e,t,n){return t&&e&&(e>t||n&&e<t)?t:e},a.createPositionBar=function(e,t){var n=a.createDom("xg-bar","",{"data-index":-1},e);return t.appendChild(n),n},a.getTransformStyle=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0,scale:1,rotate:0},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n={scale:"".concat(e.scale||1),translate:"".concat(e.x||0,"%, ").concat(e.y||0,"%"),rotate:"".concat(e.rotate||0,"deg")};return Object.keys(n).forEach(function(e){var r=RegExp("".concat(e,"\\([^\\(]+\\)"),"g"),i="".concat(e,"(").concat(n[e],")");r.test(t)?(r.lastIndex=-1,t=t.replace(r,i)):t+="".concat(i," ")}),t},a.convertDeg=function(e){return 1>=Math.abs(e)?360*e:e%360},a.getIndexByTime=function(e,t){var n=t.length,r=-1;if(n<1)return r;if(e<=t[0].end||n<2)r=0;else if(e>t[n-1].end)r=n-1;else for(var i=1;i<n;i++)if(e>t[i-1].end&&e<=t[i].end){r=i;break}return r},a.getOffsetCurrentTime=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=-1;if((r=n>=0&&n<t.length?n:a.getIndexByTime(e,t))<0)return -1;var i=t.length,o=t[r],s=o.start,c=o.end,u=o.cTime,l=o.offset;return e<s?u:e>=s&&e<=c?e-l:e>c&&r>=i-1?c:-1},a.getCurrentTimeByOffset=function(e,t){var n=-1;if(!t||t.length<0)return e;for(var r=0;r<t.length;r++)if(e<=t[r].duration){n=r;break}if(-1!==n){var i=t[n].start;return n-1<0?i+e:i+(e-t[n-1].duration)}return e}},857570:function(e,t,n){"use strict";function r(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:void 0}function i(e){if(r()){var t=function(){var e=r();if(e&&"__xstate__"in e)return e.__xstate__}();t&&t.register(e)}}n.d(t,{R:function(){return r},g:function(){return i}})},188770:function(e,t,n){"use strict";e.exports=n.p+"static/image/media-publish.003448eb.png"},234694:function(e,t,n){"use strict";n.d(t,{r:function(){return a}});var r=n(69984),i=n(764112),o=n(772322);n(218571);var a=e=>(0,o.jsx)("svg",(0,i._)((0,r._)({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),{children:(0,o.jsx)("path",{fill:"#FAFBFF",fillRule:"evenodd",d:"M2.5 13.25a.407.407 0 0 1-.406-.407V3.157c0-.225.182-.407.407-.407h.498c.225 0 .407.182.407.407v9.686A.407.407 0 0 1 3 13.25zm2.848-5.907a.465.465 0 0 0-.465.465v.382c0 .257.208.465.465.465h6.154l-2.489 2.489a.465.465 0 0 0 0 .657l.27.27a.465.465 0 0 0 .658 0l3.609-3.608a.656.656 0 0 0 0-.928L9.941 3.926a.465.465 0 0 0-.657 0l-.27.27a.465.465 0 0 0 0 .658l2.488 2.489z",clipRule:"evenodd"})}))},906207:function(e,t,n){"use strict";n.d(t,{r:function(){return a}});var r=n(69984),i=n(764112),o=n(772322);n(218571);var a=e=>(0,o.jsxs)("svg",(0,i._)((0,r._)({xmlns:"http://www.w3.org/2000/svg",width:19,height:19,fill:"none",viewBox:"0 0 19 19"},e),{children:[(0,o.jsx)("path",{fill:"#000",fillOpacity:.01,d:"M0 0h18.6v18.6H0z"}),(0,o.jsxs)("g",{fill:"#16161D",children:[(0,o.jsx)("path",{fillRule:"evenodd",d:"m9.271 14.722 2.191-4.789c.177-.386.562-.633.987-.633h3.83V3.875a1.55 1.55 0 0 0-1.55-1.55H3.878a1.55 1.55 0 0 0-1.55 1.55v9.297c0 .856.693 1.55 1.55 1.55zM4.963 6.2a.31.31 0 0 0-.31.31v.465c0 .17.139.31.31.31h5.58a.31.31 0 0 0 .31-.31V6.51a.31.31 0 0 0-.31-.31zm0 2.325a.31.31 0 0 0-.31.31V9.3c0 .17.139.31.31.31h3.255a.31.31 0 0 0 .31-.31v-.465a.31.31 0 0 0-.31-.31z",clipRule:"evenodd"}),(0,o.jsx)("path",{d:"m12.617 10.85-1.764 4.65h1.658l.722-1.902.639 1.902h1.635l-1.563-4.65zM16.278 10.85h1.55v4.65h-1.55z"})]})]}))},743978:function(e,t,n){"use strict";n.d(t,{r:function(){return a}});var r=n(69984),i=n(764112),o=n(772322);n(218571);var a=e=>(0,o.jsxs)("svg",(0,i._)((0,r._)({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none",viewBox:"0 0 20 20"},e),{children:[(0,o.jsx)("path",{fill:"currentColor",d:"M6.588 1.508a.375.375 0 0 0-.672 0l-.91 1.83-1.83.91a.375.375 0 0 0 0 .671l1.83.911.91 1.83a.375.375 0 0 0 .672 0l.91-1.83 1.83-.91a.375.375 0 0 0 0-.672l-1.83-.91zM15.755 11.508a.375.375 0 0 0-.672 0l-.633 1.273-1.273.634a.375.375 0 0 0 0 .671l1.273.634.633 1.273a.375.375 0 0 0 .672 0l.633-1.273 1.273-.634a.375.375 0 0 0 0-.671l-1.273-.634z"}),(0,o.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M2.52 14.15c-.651.65-.651 1.706 0 2.357l1.178 1.178c.65.651 1.706.651 2.357 0L17.197 6.543c.65-.65.65-1.706 0-2.357l-1.179-1.178a1.667 1.667 0 0 0-2.357 0zm8.905-6.548-7.727 7.726 1.178 1.179 7.727-7.727zm1.178-1.179 2.237-2.237 1.178 1.179-2.236 2.237z",clipRule:"evenodd"})]}))},939453:function(e,t,n){"use strict";n.d(t,{Ts:function(){return w},am:function(){return x},e$:function(){return u},fx:function(){return l},oO:function(){return y},rA:function(){return m},uF:function(){return b}});var r,i,o,a,s,c,u,l,d=n(461228),f=n(69984),h=n(764112),p=n(944252),v=n(676113);(r=u||(u={})).VIDEO_PLAY_URL="video_play_url",r.VIDEO_COVER_URL="video_cover_url",r.VIDEO_COVER_WIDTH="video_cover_width",r.VIDEO_COVER_HEIGHT="video_cover_height";var _=v.Z.create();_.interceptors.request.use(e=>(e.headers["x-idc-region"]="va",e));var m=(i=(0,d._)(function*(e){var{aid:t,app_name:n}=p.x,r=new FormData;return r.append("aid",t),r.append("watermark","1"),r.append("app_name",n),r.append("image",e),yield _({method:"post",url:"/feedback/image/v1/upload/",data:r})}),function(e){return i.apply(this,arguments)}),g=(o=(0,d._)(function*(e){var{aid:t,appkey:n,app_name:r}=p.x;e.append("aid",t),e.append("app_name",r),e.append("appkey",n),e.append("multi_image","1");var i=yield _({method:"post",url:"/feedback/2/post_message/?appkey=".concat(n,"&app_name=").concat(r,"&aid=").concat(t),data:e,headers:{"Content-Type":"multipart/form-data"}}),o=i.data;if(0!==o.err_code)throw o;return i}),function(e){return o.apply(this,arguments)}),y=(a=(0,d._)(function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",{feedType:n,content:r,currentLanguage:i,imgList:o,contact:a,fromPlatform:s,detailType:c,appVersion:u,channel:l,isVip:d,extra_params:h={}}=e,p=o.map(e=>({image_width:e.ImageWidth,image_height:e.ImageHeight,image_uri:e.ImageUri})),v={is_private_image:1,feedType:n,web_id:t,fromPlatform:s,detailType:c},_=new FormData;return _.append("content",r),_.append("image_list",JSON.stringify(p)),(null==e?void 0:e.video_play_url)&&_.append("video_list",JSON.stringify([{vid:null==e?void 0:e.video_play_url}])),_.append("contact",a||""),_.append("extra_persistent_params",JSON.stringify(v)),_.append("extra_params",JSON.stringify((0,f._)({},v,h))),_.append("language",null!=i?i:""),_.append("app_version",u),_.append("channel",null!=l?l:""),void 0!==d&&_.append("is_vip",d?"1":"0"),yield g(_)}),function(e){return a.apply(this,arguments)});(s=l||(l={}))[s.Feedback=1]="Feedback",s[s.AgeFeedback=2]="AgeFeedback";var b=(c=(0,d._)(function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",{content:n,imgList:r,problemList:i,contact:o,currentLanguage:a,appVersion:s,isVip:c,channel:u,extra_params:l={},type:d=1}=e,p=r.map(e=>({image_width:e.ImageWidth,image_height:e.ImageHeight,image_uri:e.ImageUri})),v={is_private_image:1,web_id:t};1===d&&(v=(0,h._)((0,f._)({},v),{problemList:i.map((e,t)=>"".concat(t+1,"\u3001").concat(e)).join(", ")}));var _=new FormData;return _.append("content","".concat(1===d?"\u3010Export & Share\u3011":"\u3010Export & Share - UserAge\u3011").concat(n)),_.append("image_list",JSON.stringify(p)),_.append("contact",null!=o?o:""),_.append("extra_persistent_params",JSON.stringify(v)),_.append("extra_params",JSON.stringify((0,f._)({},v,l))),_.append("language",null!=a?a:""),_.append("app_version",null!=s?s:""),_.append("channel",null!=u?u:""),void 0!==c&&_.append("is_vip",c?"1":"0"),yield g(_)}),function(e){return c.apply(this,arguments)}),w=()=>_.get("https://sf16-muse-va.ibytedtos.com/obj/ies-fe-bee-maliva/bee_prod/biz_149/bee_prod_149_bee_publish_680.json").then(e=>e.data),x=()=>v.Z.get("https://sf16-muse-va.ibytedtos.com/obj/ies-fe-bee-maliva/bee_prod/biz_149/bee_prod_149_bee_publish_898.json").then(e=>{var t;return null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.bee_dsrc_941})},776256:function(e,t,n){"use strict";n.d(t,{_:function(){return o}});class r extends Error{constructor(e){super("Page is in background, request cancelled"),this.name="RequestCancelledError",this.url=e}}var i=(e,t)=>t.some(t=>"string"==typeof t?e===t:t.test(e)),o=(e,t)=>{e.interceptors.request.use(e=>{var{enableURL:n}=t,o="undefined"!=typeof document&&document.hidden,a=!!e.url&&i(e.url,n);return o&&a?(console.warn("Page is in background, request cancelled:",e.url),Promise.reject(new r(e.url))):e})}},703034:function(e,t,n){"use strict";n.d(t,{S:function(){return _}});var r=n(772322);n(5410),n(529114);var i=n(699482),o=n(595051),a=n(218571),s=n(152155),c=n.n(s),u=n(123951),l=n(659179),d=n(161422),f=n(158065),h=n(554487),p=n(740910),v=n(124337);n(391105);var _=e=>{var t,n,s,_,m,g,y,b,w,x,{isSaveFail:k,isSaving:E,errorCode:S,errorTitle:O,errorMessage:A,isSupportExpand:T,process:C,handleClose:j,saveStateOperatesCallback:I,disableCancelConfirm:P,precision:N=0}=e,[R,D]=(0,a.useState)(0),[L,Z]=(0,a.useState)(!1),[M,U]=(0,a.useState)(S===d.D3.INSUFFICIENT_SPACE);(0,a.useEffect)(()=>{U(S===d.D3.INSUFFICIENT_SPACE)},[S]);var V=(0,a.useMemo)(()=>({[d.D3.BELOW_VERSION]:{icon:(0,r.jsx)(l.qrM,{size:80}),button:{context:u.ZP.t("web_ttam_refresh",{},"Refresh"),fn:()=>{null==I||I("refresh")}}},[d.D3.DELETED_MATERIAL]:{icon:(0,r.jsx)(l.jRU,{size:80}),button:{context:u.ZP.t("web_edit_project",{},"Edit project"),fn:()=>{null==j||j(),null==I||I("edit_project")}}},[d.D3.INVALID_MATERIAL]:{icon:(0,r.jsx)(l.jRU,{size:80}),button:{context:u.ZP.t("web_edit_project",{},"Edit project"),fn:()=>{null==j||j(),null==I||I("edit_project")}}},[d.D3.DELETED_PACKAGE]:{icon:(0,r.jsx)(l.Nq8,{size:80}),button:{context:u.ZP.t("back_to_workbench",{},"Back to Cloud"),fn:()=>{null==j||j(),null==I||I("goto_platform")}}},[d.D3.INSUFFICIENT_SPACE]:{icon:(0,r.jsx)(r.Fragment,{}),button:{context:u.ZP.t("back_to_workbench",{},"Back to Cloud"),errorMessage:T?(0,r.jsx)(r.Fragment,{children:u.ZP.t("web_cloud_storage_full2",{"text-href":e=>(0,r.jsx)("span",{style:{color:"var(--lvv-color-main-default)",cursor:"pointer"},onClick:()=>null==I?void 0:I("retry"),children:e})},"Cloud space ran out. Upgrade to expand storage or manage in Cloud and <text-href>try again</text-href>.")}):(0,r.jsx)(r.Fragment,{children:u.ZP.t("web_cloud_ ran_out",{"text-href":e=>(0,r.jsx)("span",{style:{color:"var(--lvv-color-main-default)",cursor:"pointer"},onClick:()=>null==I?void 0:I("retry"),children:e})},"Cloud space ran out. Manage in Cloud and <text-href>try again</text-href>.")}),fn:()=>{null==I||I("goto_platform")}}},[d.D3.INVALID_TOKEN]:{icon:(0,r.jsx)(l.CbK,{size:80}),button:{context:R<2?u.ZP.t("try_again_web",{},"Try again"):u.ZP.t("web_ttam_refresh",{},"Refresh"),fn:()=>{if(R<2)D(e=>e+1),null==I||I("retry");else{var e,t,n;null===(n=window)||void 0===n||null===(t=n.location)||void 0===t||null===(e=t.reload)||void 0===e||e.call(t)}}}},[d.D3.SAVE_TIMEOUT]:{icon:(0,r.jsx)(r.Fragment,{}),button:{context:u.ZP.t("web_export_button_back_to_editor",{},"Go back to editor"),fn:()=>{null==j||j()}}},ELSE:{icon:(0,r.jsx)(l.CbK,{size:80}),button:{context:R<2?u.ZP.t("try_again_web",{},"Try again"):u.ZP.t("web_ttam_refresh",{},"Refresh"),fn:()=>{if(R<2)D(e=>e+1),null==I||I("retry");else{var e,t,n;null===(n=window)||void 0===n||null===(t=n.location)||void 0===t||null===(e=t.reload)||void 0===e||e.call(t)}}}}}),[R]),F=()=>{null==I||I("cancelExport"),null==j||j()},B=N>0?Math.floor(10*N*(null!=C?C:0))/(10*N):Math.floor(null!=C?C:0);return(0,r.jsxs)("div",{className:c()("saveProcess",{isFail:k,isSaving:E}),children:[(0,r.jsx)(p.Q,{title:u.ZP.t("cancel_running_export",{},"Cancel export?"),content:u.ZP.t("no_stored_cloud",{},"If you cancel export, your video will not be saved to Cloud Space."),confirmContext:u.ZP.t("cancel_tiktok",{},"Cancel"),cancelContext:u.ZP.t("goback",{},"Go back"),visible:L,onOk:F,onCancel:()=>Z(e=>!e)}),(0,r.jsxs)("div",{className:"saveProcess-saving",children:[(0,r.jsx)(i.Z,{value:B,suffix:(0,r.jsx)("div",{className:"statistic-percent",children:"%"}),className:"statistic",precision:N,countUp:!0,styleValue:{color:"#0fbf60"}}),(0,r.jsx)("div",{className:"title",children:u.ZP.t("save_web_ing",{},"Saving Video...")}),(0,r.jsx)("div",{className:"context",children:u.ZP.t("web_not_ close_the browser",{},"Do not close the browser while the video is being saved")}),(0,r.jsx)(o.Z,{className:"saveProcess-btn-font",type:"secondary",onClick:()=>{P?F():Z(e=>!e)},children:u.ZP.t("cancel_export",{},"Cancel export")})]}),(0,r.jsxs)("div",{className:"saveProcess-fail",children:[(0,r.jsx)("div",{className:"icon",children:S&&null!==(b=null==V?void 0:null===(t=V[S])||void 0===t?void 0:t.icon)&&void 0!==b?b:V.ELSE.icon}),(0,r.jsxs)("div",{className:"title",style:S===d.D3.SAVE_TIMEOUT?{color:"var(--lvv-color-warning-primary)"}:{},children:[S===d.D3.SAVE_TIMEOUT?(0,r.jsx)(l.PGu,{}):(0,r.jsx)(l.FKg,{}),O||u.ZP.t("couldnot_save",{},"Couldn\u2019t save")]}),(0,r.jsx)("div",{className:"context",children:S&&M?null==V?void 0:null===(s=V[S])||void 0===s?void 0:null===(n=s.button)||void 0===n?void 0:n.errorMessage:A||u.ZP.t("netwoek_web_error_web_cannot_web_save",{},"Network error. Couldn't save project")}),(0,r.jsxs)("div",{className:"btn-controller",children:[(0,r.jsx)(o.Z,{type:M?"secondary":"primary",className:c()("saveProcess-btn-font",{"spaceFull-goCloud-button":M}),onClick:S&&null!==(w=null==V?void 0:null===(m=V[S])||void 0===m?void 0:null===(_=m.button)||void 0===_?void 0:_.fn)&&void 0!==w?w:V.ELSE.button.fn,children:S&&null!==(x=null==V?void 0:null===(y=V[S])||void 0===y?void 0:null===(g=y.button)||void 0===g?void 0:g.context)&&void 0!==x?x:V.ELSE.button.context}),S===d.D3.SAVE_TIMEOUT?(0,r.jsx)(o.Z,{type:"secondary",className:c()("saveProcess-btn-font",{"spaceFull-goCloud-button":!0}),onClick:()=>null==I?void 0:I("retry"),children:u.ZP.t("web_continue_export",{},"Continue")}):null,M&&T&&(0,r.jsx)(o.Z,{type:"primary",onClick:()=>{var e,t,n,r,i;(0,f.Cj)().report({action:f.s7.upgrade}),null===(i=(0,v.H7)())||void 0===i||null===(r=i.expandInstanceInfo)||void 0===r||null===(n=r.expandModal)||void 0===n||n.show({type:"CAPACITY_BUY",reporterParams:{enterFrom:"export_panel",currentPage:null===(t=(0,v.H7)())||void 0===t?void 0:null===(e=t.extraData)||void 0===e?void 0:e.currentPage,pageFrom:h.K1.spaceLimitUpgrade}})},children:u.ZP.t("web_ttam_enlarge",{},"Upgrade")})]})]})]})}},998332:function(e,t,n){"use strict";n.d(t,{E:function(){return d}});var r=n(69984),i=n(764112),o=n(574451),a=n(772322);n(218571);var s=n(152155),c=n.n(s),u=n(266316),l=n(659179);n(565660);var d=e=>{var{className:t,options:n,activeOption:s=null==n?void 0:n[0],optionChange:d}=e,f=(0,o._)(e,["className","options","activeOption","optionChange"]),h=(0,a.jsx)(a.Fragment,{children:null==n?void 0:n.map(e=>{var{value:t,label:n}=e;return(0,a.jsxs)("span",{className:"select-container",onClick:()=>{null==d||d(e)},children:[s.value===e.value&&(0,a.jsx)(l.axJ,{}),(0,a.jsx)("span",{children:n})]},t)})});return(0,a.jsx)(u.Z,(0,i._)((0,r._)({className:c()("simple-select",t)},f),{hideArrow:!0,content:h}))}},675348:function(e,t,n){"use strict";n.d(t,{sH:()=>z});let r=n("461228"),i=n("69984"),o=n("764112"),a=n("574451"),s=n("772322");n("733501"),n("822289"),n("529114");let c=n("921195"),u=n("5622"),l=n("218571"),d=n("152155"),f=n.n(d),h=n("868593"),p=n("454078"),v=n("709650"),_=n("282893"),m=n("793676"),g=n("659179"),y=n("124656"),b=n("554269"),w=n("130814"),x=n("123688"),k=n("4103"),E=n("975236"),S=n("737236"),O=n("565346"),A=n("270913"),T=n("711802"),C=n("427462"),j=n("442884");n("349601");let I=n("781494");n("939624");let P=n("37055"),N=n("123951"),R=n("335091"),D=n("782248"),L=n("437069"),Z=e=>{var{isMobile:t,onBackToSignUp:n}=e,[r,i]=(0,l.useState)(""),o=(0,p.t)(),[a,u]=(0,l.useState)(""),[d,h]=(0,l.useState)(!1),[v,g]=(0,l.useState)(0),[y,b]=(0,l.useState)(0),[w]=(0,_.L)(o),k=w.context.newEmailSignInRef,[,E]=(0,_.L)(k),S=(0,m.v)(k,e=>e.context.email),O=(0,m.v)(k,e=>e.context.resendEmailCodeCountDown),A=(0,m.v)(k,e=>e.matches("signUp.sendingEmailCode")),T=(0,l.useMemo)(()=>{var e=void 0===O?x.tF:O;return N.oc.t("web_accounts_text_recend_code",{number0:e},"Resend code in {number0}s").replace(/\d+/,e=>'<span class="lv_new_sign_in_panel_wide-code-count-down-num">'.concat(e,"</span>"))},[O]);(0,l.useEffect)(()=>{E({type:"INIT_SEND_CODE_ERROR_CB",func:e=>{parseInt(null==e?void 0:e.error_code,10)===R.B.SIGN_UP_CODE.SEND_CODE_ERROR_CODE.SENDING_FREQUENTLY?I.Z.error(N.oc.t("many_code_later")):I.Z.error(N.oc.t("fail_sign_try_again")),E({type:"BACK_TO_ENTER_CODE"})}})},[]),(0,l.useEffect)(()=>{var e=null;return 10===v&&(e=setTimeout(()=>{g(0)},18e5)),()=>{e&&clearTimeout(e)}},[v]),(0,l.useEffect)(()=>{var e=null;return 5===y&&(e=setTimeout(()=>{b(0)},18e5)),()=>{e&&clearTimeout(e)}},[y]);var C=(0,l.useCallback)(e=>{h(!1);var t=null==e?void 0:e.data.message;parseInt(t,10)===R.B.SIGN_UP_CODE.REGISTER_ERROR_CODE.CODE_WRONG||parseInt(t,10)===R.B.SIGN_UP_CODE.REGISTER_ERROR_CODE.CODE_EXPIRED||1702===parseInt(t,10)?(u(N.oc.t("web_signin_error_wrong_verification_code",{},"Wrong verification code. Try again.")),g(v+1)):I.Z.error(N.oc.t("fail_sign_try_again"))},[v,u,g]),j=e=>{var t=e||r;if(""===t){u(N.oc.t("fill_the_text"));return}h(!0),E({type:"VERIFY_EMAIL_CODE",emailCode:t,onPass:()=>{h(!1)},onError:C})};return(0,s.jsxs)("div",{className:"lv_new_sign_in_panel_wide-code-detail",children:[(0,s.jsx)(L.Z,{style:{top:32,zIndex:99},onClick:n,text:N.oc.t("web_accounts_btn_sign_up_if_no_account",{},"Sign up")}),(0,s.jsx)("h2",{className:"lv_new_sign_in_panel_wide-code-title",children:N.oc.t("web_signin_title_confirm_email",{},"Confirm your email")}),(0,s.jsx)("span",{className:"lv_new_sign_in_panel_wide-code-tip",children:N.oc.t("code_sent_to_email",{placeholder:" ".concat(S)})}),d&&(0,s.jsx)(c.Z,{loading:d,className:"lv_new_sign_in_panel_wide-code-loading",children:(0,s.jsx)(s.Fragment,{})}),(0,s.jsxs)("div",{className:f()("lv_new_sign_in_panel_wide-code-input-wrapper",{"lv_new_sign_in_panel_wide-code-input-wrapper-warn":""!==a}),children:[(0,s.jsx)(D.Z,{value:r,onChange:e=>{E({type:"SAVE_EMAIL_CODE",emailCode:e}),i(e),u(""),(null==e?void 0:e.length)===6&&j(e)},onPressEnter:j,warn:!!a,size:t?"small":"default",newVersion:!0}),""!==a?(0,s.jsx)("div",{className:"lv_new_sign_in_panel_wide-code-warn",children:a}):null]}),0===O||5===y?(0,s.jsx)("div",{className:f()("lv_new_sign_in_panel_wide-code-resend",{disbaled:A||5===y}),onClick:()=>{A||5===y||(b(y+1),E({type:"REPORT_SIGN_IN_ACTION",action:"resend"}),E({type:"RESEND",code:P.SEND_CODE_TYPE.REGISTER_RETRY}))},children:N.oc.t("web_signin_button_resend_code_email",{action0:e=>(0,s.jsx)("span",{className:f()("lv_new_sign_in_panel_wide-code-resend-button"),children:e})},"<action0>Resend code</action0>")}):(0,s.jsx)("div",{className:"lv_new_sign_in_panel_wide-code-count-down",dangerouslySetInnerHTML:{__html:globalThis.xssNamespace["lvweb/smart-tools"]._filterXSS(T,null,{logType:"react.dangerouslySetInnerHTML",mode:"black",reportOnly:"all",block:!0})}})]})},M=n("552506"),U=n("330953"),V=n("853812"),F=n("50751");n("631303");var B=e=>{var t,{isFromModal:n,isShowIcon:o=!1,center:a=!0,signType:u=k.ki.signUp,params:d,isMobile:b=!1,resourceList:w,title:I,customConfig:P,openUnderAgeModal:N,onLoginSuccess:R,toSignUpCb:D,toLogInCb:L,toForgetPwdCb:B,onClose:z}=e,G=(0,p.t)(),[W,H]=(0,_.L)(G),{loginReportParams:K}=W.context,Y=W.context.newEmailSignInRef,q=W.context.thirdPartSignInRef,X=W.context.teamInviteRef,J=W.context.userInviteRef,[Q]=(0,_.L)(J),[$,ee]=(0,_.L)(X),[et,en]=(0,_.L)(Y),[er,ei]=(0,_.L)(q),eo=(0,m.v)(G,e=>e.context.isBOE),ea=(0,m.v)(G,e=>e.context.accountConfig),es=(0,m.v)(G,e=>e.context.loginMode),ec=(0,m.v)(G,e=>{var t,n;return null===(n=e.context)||void 0===n?void 0:null===(t=n.inviteInfo)||void 0===t?void 0:t.isInvitePage}),eu=(0,m.v)(Y,e=>e.context.source),el=(0,m.v)(Y,e=>e.context.currentWindow),ed=(0,m.v)(G,e=>e.context.passport),[ef,eh]=(0,l.useState)(!1),ep=["fillBirthday.fillingBirthday","fillingBirthday"].some(er.matches),ev=new URLSearchParams(window.location.search),{isFromTeamInvite:e_,isFromTeamApply:em}=(0,v.p)(),eg=e_||em;(0,l.useEffect)(()=>{H({type:"UPDATE_REPORT_PARAMS",params:(0,i._)({pageEnterFrom:(null==K?void 0:K.pageEnterFrom)||"",currentPage:(null==K?void 0:K.currentPage)||"",statusEnterFrom:(null==K?void 0:K.statusEnterFrom)||""},d)})},[]),(0,l.useEffect)(()=>{var e=ev.get("redirect_url");e_&&e&&ee({type:"REFRESH",newLink:"".concat(location.origin).concat(decodeURIComponent(e))})},[]),(0,l.useEffect)(()=>{en({type:"INIT_LOGIN_SUCCESS_CB",func:()=>{null==R||R()}}),ei({type:"INIT_LOGIN_SUCCESS_CB",func:()=>{null==R||R()}})},[]),(0,l.useEffect)(()=>{switch(u){case k.ki.logIn:en("TO_SIGN_IN");break;case k.ki.signUp:en("TO_SIGN_UP");break;case k.ki.forgetPwd:en("TO_FORGET_PWD")}},[u]),(0,l.useEffect)(()=>{function e(){return(e=(0,r._)(function*(){yield ed()})).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[ed]);var ey=()=>{en({type:"REPORT_SIGN_IN_ACTION",action:"sign_up"}),en({type:"SAVE_PASSWORD",password:""}),D?D():en("TO_SIGN_UP")},eb=()=>{en({type:"REPORT_SIGN_IN_ACTION",action:"log_in"}),en({type:"SAVE_PASSWORD",password:""}),L?L():en("TO_SIGN_IN")},ew=()=>{en({type:"SAVE_EMAIL",email:""}),en({type:"SAVE_PASSWORD",password:""}),eh(!1)};return(0,s.jsxs)("div",{className:f()("lv_new_sign_in_panel_wide-".concat(null!==(t=null==P?void 0:P.col)&&void 0!==t?t:1,"-col-wrapper"),{modal:n,center:a,mobile:b}),"data-lv-theme-force":(null==P?void 0:P.theme)===F.Q.Dark?"dark":"light",children:[!b&&(null==P?void 0:P.col)===2&&(0,s.jsx)(U.Z,{loginMode:es,isFromModal:n,resourceList:w}),(0,s.jsxs)(c.Z,{loading:["noSign.checking","hasSign","loginOrganization","showTrustModal","waitBusinessLogin"].some(W.matches)||["forgetPwd.checkResetCode","signUp.registering"].some(et.matches)||["unknow"].some(Q.matches)||e_&&!["error","hasInfo"].some($.matches),size:28,children:[(0,s.jsx)(h.ZP,{className:f()("focus-lock-wrapper"),children:(0,s.jsxs)(s.Fragment,{children:[el!==x.L4.FILL_IN_BASE_INFO||ef||ep?null:(0,s.jsx)("div",{className:f()("lv_new_sign_in_panel_wide-right-wrapper"),children:(0,s.jsx)(T.Z,{showTeamInviteInfo:eg,isShowIcon:o,thirdPartSignIn:(0,s.jsx)(E.M,{service:q,signType:u,isBOE:eo,accountConfig:ea,showGoogleBtn:!n}),emailSignIn:(0,s.jsx)(S.S,{toEmailTypeSignIn:()=>{eh(!0),en({type:"REPORT_SIGN_IN_ACTION",action:"email"}),G.send({type:"UPDATE_REPORT_PARAMS",params:{pageEnterFrom:(null==K?void 0:K.pageEnterFrom)||"",currentPage:(null==K?void 0:K.currentPage)||"",statusEnterFrom:(null==K?void 0:K.statusEnterFrom)||"",type:"email"}}),u===k.ki.logIn?en("TO_SIGN_IN"):en("TO_SIGN_UP")},toEmailTypeSignUp:()=>{eh(!0),en({type:"REPORT_SIGN_IN_ACTION",action:"sign_up"}),G.send({type:"UPDATE_REPORT_PARAMS",params:{pageEnterFrom:(null==K?void 0:K.pageEnterFrom)||"",currentPage:(null==K?void 0:K.currentPage)||"",statusEnterFrom:(null==K?void 0:K.statusEnterFrom)||"",type:"email"}}),en({type:"SAVE_PASSWORD",password:""}),D?D():en("TO_SIGN_UP")},isBeta:null==P?void 0:P.isBeta}),scanSignIn:(0,s.jsx)(O.n,{service:q,signType:u,newVersion:!0}),customConfig:P,title:I,isFromModal:n})}),el===x.L4.FILL_IN_BASE_INFO&&ef&&(0,s.jsxs)("div",{className:f()("lv_new_sign_in_panel_wide-right-wrapper"),children:[eu===y.C.LoginIn?(0,s.jsx)(M.Z,{showTeamInviteInfo:eg,toForgetPwd:()=>{en({type:"SAVE_PASSWORD",password:""}),B?B():en("TO_FORGET_PWD")},toSignUp:ey,toBasePage:ew}):null,eu===y.C.SignUp?(0,s.jsx)(V.Z,{showTeamInviteInfo:eg,toLogIn:eb,toBasePage:ew}):null]}),el===x.L4.FORGET_PWD_INFO?(0,s.jsx)("div",{className:f()("lv_new_sign_in_panel_wide-enter-code-wrapper"),children:(0,s.jsx)(C.Z,{toLogIn:eb})}):null,el===x.L4.ENTER_VERIFICATION_CODE?(0,s.jsx)("div",{className:f()("lv_new_sign_in_panel_wide-enter-code-wrapper"),children:(0,s.jsx)(Z,{isInvitePage:ec,onBackToSignUp:ey,isFromModal:n,isMobile:b})}):null,(el===x.L4.ENTER_BIRTHDAY||ep)&&(0,s.jsx)("div",{className:f()("lv_new_sign_in_panel_wide-enter-code-wrapper"),children:(0,s.jsx)(j.Z,{theme:null==P?void 0:P.theme,isFromModal:n,isMobile:b,brandName:null==P?void 0:P.brandName,onBack:()=>{if(ep){ei({type:"AUTH_FAIL"});return}en({type:"BACK_TO_ENTER_CODE"})},onAgeErrorBack:()=>{if(ep){ei({type:"AUTH_FAIL"});return}en({type:"RETURN_SIGN_IN"}),eh(!1)},openUnderAgeModal:N})})]})}),(0,s.jsx)(A._C,{})]}),z&&(0,s.jsx)(g.sSQ,{size:20,className:"lv_new_sign_in_panel_wide-close",onClick:()=>{en({type:"REPORT_SIGN_IN_ACTION",action:"close"}),null==z||z()},fill:"currentColor"})]})},z=e=>{var{visible:t,signType:n,closable:r,maskClosable:c=!1,closableABTest:d,params:f={},setVisible:h,onLoginSuccess:p,title:v,resourceList:_,customConfig:m,className:g,openUnderAgeModal:y}=e,x=(0,a._)(e,["visible","signType","closable","maskClosable","closableABTest","params","setVisible","onLoginSuccess","title","resourceList","customConfig","className","openUnderAgeModal"]),[k,E]=(0,l.useState)(void 0),S=(0,l.useMemo)(()=>"boolean"==typeof r?!r:k,[r,k]);function O(){null==h||h(!1)}return(0,l.useEffect)(()=>{d&&(0,b.y)().getABTestConfigSilent("login_modal_closable",!0).then(e=>{E(!e)}),E(!r)},[d,r]),(0,l.useEffect)(()=>{t&&new w.F().report({action:"show"}),d&&t&&void 0!==k&&(0,b.y)().getABTestConfig("login_modal_closable",!0)},[t,d,k]),(0,s.jsx)(u.Z,(0,i._)({visible:t,modalRender:function(){return(0,s.jsx)(B,{signType:n,onLoginSuccess:p,onClose:S?void 0:O,params:(0,o._)((0,i._)({},f),{pageType:"popup"}),center:!0,isFromModal:!0,title:v,resourceList:_,customConfig:m,openUnderAgeModal:y})},onCancel:S?void 0:O,unmountOnExit:!0,maskStyle:{zIndex:1002},wrapStyle:{zIndex:1002},maskClosable:c,autoFocus:!1},x))}},582693:function(e,t,n){"use strict";n.d(t,{J:function(){return r}});var r={ALREADY_SUBSCRIBE_USER:"34010104"}},514132:function(e,t,n){"use strict";n.d(t,{A:function(){return o}});var r=n(806061),i=n(736951),o=(0,r.C)({id:"LvAsyncFuncExec",initial:"execing",states:{execing:{invoke:{id:"invokeAsyncFunc",src:"invokeAsyncFunc",onDone:{target:"success",actions:"notifySuccess"},onError:{target:"fail",actions:"notifyError"}}},success:{type:"final"},fail:{type:"final"}}},{services:{invokeAsyncFunc:e=>e.task.func()},actions:{notifySuccess:(0,i.lj)((e,t)=>({type:"EXEC_SUCCESS",id:e.id,data:t.data})),notifyError:(0,i.lj)((e,t)=>({type:"EXEC_FAIL",id:e.id,data:t.data}))}})},686810:function(e,t,n){"use strict";n.d(t,{j:function(){return g}});var r=n(461228),i=n(69984),o=n(764112),a=n(789786),s=n(677684),c=n(968822),u=n(855548),l=n(834457),d=n(727133),f=n(921748),h=n(145014),p=n(91933),v=n(625656),_=n(111265),m=n(123951);class g{getCommercialPhotoTaskDetail(e){var t=this;return(0,r._)(function*(){var n={task_ids:e.taskIds,app_id:p.AF},{url:r,hostNameType:i}=f.cj.GetCommercialPhotoTaskDetail;try{var o,a,s=yield t._service.post("".concat(t._getDomain()).concat(r),n,{[h.Tf]:i});return{taskList:null!==(a=null===(o=s.task_list)||void 0===o?void 0:o.map(e=>t._formatTaskInfo(e)))&&void 0!==a?a:[]}}catch(e){return{taskList:[]}}})()}bindCommercialPhotoTask(e){var t=this;return(0,r._)(function*(){var n={task_id:e.taskId,draft_id:e.draftId,workspace_id:e.workspaceId,is_unbind:e.isUnBind,app_id:p.AF},{url:r,hostNameType:i}=f.cj.BindCommercialPhotoTask;yield t._service.post("".concat(t._getDomain()).concat(r),n,{[h.Tf]:i})})()}getCommercialPhotoTaskDrafts(e){var t=this;return(0,r._)(function*(){var n={task_id:e.taskId,app_id:p.AF},{url:r,hostNameType:i}=f.cj.GetCommercialPhotoTaskDrafts;try{var o,a,s=yield t._service.post("".concat(t._getDomain()).concat(r),n,{[h.Tf]:i});return{draftInfo:null!==(a=null===(o=s.draft_info)||void 0===o?void 0:o.map(e=>({draftId:e.draft_id,workspaceId:e.workspace_id})))&&void 0!==a?a:[]}}catch(e){return{draftInfo:[]}}})()}_formatImageUrl(e){return e?/(http|https):\/\//.test(e)?e:"".concat(f.v5).concat(e).concat(f.WL):""}_formatTaskInfo(e){var{task_id:t,main_type:n,sub_type:r,description:i,require_reward:o,task_limit:a,visible_start_time:s,visible_end_time:c,task_start_time:u,task_end_time:l,update_time:d,status:f}=e,h="",p="";try{var v,_,m=JSON.parse(i);h=m.title,p=this._formatImageUrl(null===(_=m.cover_img_url)||void 0===_?void 0:null===(v=_.head_cover)||void 0===v?void 0:v.uri)}catch(e){console.error("test1",e)}return{title:h,img:p,taskId:t,mainType:n,subType:r,description:i,status:f,requireReward:o,taskLimit:a,visibleStartTime:s,visibleEndTime:c,taskStartTime:u,taskEndTime:l,updateTime:d}}_getDomain(){var e,t=(null===(e=window.__locationInfo)||void 0===e?void 0:e.web_idc)===v.ie.SG?"sg":"va";return f.hL.replace("feed-api","feed-api-".concat(t))}constructor(){var e,t,r,{Country:a={Code:""}}=null!==(t=null===(e=n.g)||void 0===e?void 0:e.ip_location_info)&&void 0!==t?t:{};this._service=new s.Z().setDefaultConfig((0,o._)((0,i._)({},_.s0),{headers:(0,o._)((0,i._)({},_.s0.headers),{lan:null!==(r=m.ZP.language)&&void 0!==r?r:"en",tdid:"",loc:a.Code}),withCredentials:!0})).addInterceptor([new l.g({}),new c.$,new u.b]).build()}}(0,a.gn)([(0,d.V)(),(0,a.w6)("design:type",Function),(0,a.w6)("design:paramtypes",["undefined"==typeof GetCommercialPhotoTaskDetailReq?Object:GetCommercialPhotoTaskDetailReq]),(0,a.w6)("design:returntype",Promise)],g.prototype,"getCommercialPhotoTaskDetail",null),(0,a.gn)([(0,d.V)(),(0,a.w6)("design:type",Function),(0,a.w6)("design:paramtypes",["undefined"==typeof BindCommercialPhotoTaskReq?Object:BindCommercialPhotoTaskReq]),(0,a.w6)("design:returntype",Promise)],g.prototype,"bindCommercialPhotoTask",null),(0,a.gn)([(0,d.V)(),(0,a.w6)("design:type",Function),(0,a.w6)("design:paramtypes",["undefined"==typeof GetCommercialPhotoTaskDraftsReq?Object:GetCommercialPhotoTaskDraftsReq]),(0,a.w6)("design:returntype",Promise)],g.prototype,"getCommercialPhotoTaskDrafts",null)},968822:function(e,t,n){"use strict";n.d(t,{$:function(){return c}});var r=n(69984),i=n(764112),o=n(886199),a=n(850025),s=n(776625);class c extends a.X{constructor(...e){super(...e),this.request={onFulfilled:e=>{var t,n=(0,i._)((0,r._)({},(0,s.O)({url:null!==(t=e.url)&&void 0!==t?t:"",pf:o.PF,appvr:o.QW,tdid:""})),{"sign-ver":o.p1,pf:o.PF,appvr:o.QW});return Object.assign(e,{headers:(0,r._)({},e.headers,n)}),e}}}}},886199:function(e,t,n){"use strict";n.d(t,{L8:function(){return d},PF:function(){return o},QW:function(){return a},QZ:function(){return u},Ry:function(){return l},Rz:function(){return f},kP:function(){return c},p1:function(){return i},yD:function(){return s}});var r=n(460198),i=1,o="7",a="5.8.0",s=20,c=50,u="feed",l="template",d={GetCategories:{hostNameType:r.b_.Default,url:"/lv/v1/cc_web/plane/get_collections"},GetTemplatesAccordCategory:{hostNameType:r.b_.Default,url:"/lv/v1/cc_web/plane/get_collection_templates"},GetRecentList:{hostNameType:r.b_.Default,url:"/lv/v1/editor/template/recent_list"},ReportRecently:{hostNameType:r.b_.Default,url:"/lv/v1/editor/use_report"},GetTemplateDetail:{hostNameType:r.b_.Default,url:"/lv/v1/cc_web/plane/get_template_detail"},GetTemplateHotWords:{hostNameType:r.b_.Default,url:"/lv/v1/cc_web/replicate/get_search_words"},SearchTemplates:{hostNameType:r.b_.Default,url:"/lv/v1/cc_web/replicate/search_templates"},GetAllTemplateRatio:{HostNameType:r.b_.Default,url:"https://sf16-muse-va.ibytedtos.com/obj/ies-fe-bee-maliva/bee_prod/biz_49/bee_prod_49_bee_publish_709.json"},GetTemplateScenes:{HostNameType:r.b_.Default,url:"https://sf16-muse-va.ibytedtos.com/obj/ies-fe-bee-maliva/bee_prod/biz_149/bee_prod_149_bee_publish_835.json"},GetBatchCategories:{hostNameType:r.b_.Default,url:"/lv/v1/cc_web/plane/get_categories"},GetBatchTemplatesByCategory:{hostNameType:r.b_.Default,url:"/lv/v1/cc_web/plane/batch_get_collection_templates"},GetPresets:{hostNameType:r.b_.Default,url:"/lv/v1/cc_web/plane/get_collection_presets"},GetPresetDetail:{hostNameType:r.b_.Default,url:"/lv/v1/cc_web/plane/preset_template_detail"},PostDeletePresetsTemplate:{hostNameType:r.b_.Default,url:"/lv/v1/cc_web/plane/del_presets_template"},FuzzySearchTemplateByTitle:{hostNameType:r.b_.Default,url:"/lv/v1/cc_web/plane/fuzzy_search_templates"}},f={0:[0],1:[1],2:[2],3:[3],4:[4],">4":[5,1e4]}},629584:function(e,t,n){"use strict";n.d(t,{EJ:function(){return c},aW:function(){return a},tv:function(){return u}});var r=n(69984),i=n(460198),o=e=>{var t,n,[r,i]=null!==(t=e.image.large_images)&&void 0!==t?t:[],{id:o,effect_id:a,source:s,title:c,copyright:u,is_business:l,aspect_ratio:d}=e.common_attr;return{resourceId:o,effectId:a,source:s,cardUrl:null==r?void 0:r.image_url,width:null==r?void 0:r.width,height:null==r?void 0:r.height,previewUrl:null==i?void 0:i.image_url,orderInfo:e.order_info,title:c,copyrightName:null!==(n=null==u?void 0:u.copyright_text)&&void 0!==n?n:"Deposit",artistName:null==u?void 0:u.artist_name,copyrightLogo:null==u?void 0:u.copyright_logo,previewWidth:null==i?void 0:i.width,previewHeight:null==i?void 0:i.height,isCommercial:l,aspectRatio:d}},a=(e,t)=>e.map(e=>t?(0,r._)({},o(e),t):o(e)),s=e=>{var t,[n]=null!==(t=e.image.large_images)&&void 0!==t?t:[],[r]=e.common_attr.item_urls,{id:i,effect_id:o,source:a,title:s,copyright:c,is_business:u,aspect_ratio:l}=e.common_attr;return{resourceId:i,effectId:o,source:a,cardUrl:n.image_url,width:n.width,height:n.height,previewUrl:r,orderInfo:e.order_info,title:s,copyrightName:null==c?void 0:c.copyright_text,artistName:null==c?void 0:c.artist_name,copyrightLogo:null==c?void 0:c.copyright_logo,isCommercial:u,aspectRatio:l}},c=(e,t)=>e.map(e=>t?(0,r._)({},s(e),t):s(e)),u=e=>{var{common_attr:t}=e;return t.source===i.iJ.TuChong?s(e):o(e)}},191167:function(e,t,n){"use strict";n.d(t,{V:function(){return r}});var r={FILM_ASSET:"10001",MID_PRODUCT:"40001",AIGC_VIDEO:"60001"}},158651:function(e,t,n){"use strict";n.d(t,{a:function(){return a}});var r=n(461228),i=n(37754),o=n(640712);class a extends i.Z{uploadDone(){return new Promise((e,t)=>{if(this.result){"success"===this.result.status?e(this.result):t(this.result);return}this.finishListenQueue.push([e,t])})}done(){return new Promise((e,t)=>{if(this.result){"success"===this.result.status?e(this.result):t(this.result);return}this.finishListenQueue.push([e,t])})}cancel(){var e=this;return(0,r._)(function*(){return yield e.sdk.sdk.cancel_upload(e.requestId)})()}append(e){var t=this;return(0,r._)(function*(){return t.sdk.appendClipToUpload(t.requestId,e.seqNo,e.file,e.isLast)})()}destroy(){super.destroy(),this.finishListenQueue=[],this.sdk.eventBus.removeListener(o.zW.UploadIdle,this.onIdleHandler),this.sdk.eventBus.removeListener(o.zW.UploadProgress,this.onProgressHandler),this.sdk.eventBus.removeListener(o.zW.UploadFinish,this.onFinishHandler)}_onIdleHandler(e){var t;null===(t=this.onIdle)||void 0===t||t.call(this,e)}_onProgressHandler(e){var t;null===(t=this.onProgress)||void 0===t||t.call(this,{done:e.bytes_done})}_onFinishHandler(e){var t=this;return(0,r._)(function*(){var n,r,i,o;for(var a of(e.completed?e.stream_clip_transcode?t.result={status:"success",uploadId:e.stream_clip_transcode.upload_id,bucketKey:e.stream_clip_transcode.bucket_key,streamId:e.stream_clip_transcode.stream_id,streamM3u8:e.stream_clip_transcode.stream_m3u8,streamMp4:e.stream_clip_transcode.stream_mp4,streamMd5:e.stream_clip_transcode.stream_md5,coverUrl:e.stream_clip_transcode.cover_url,spriteUrl:e.stream_clip_transcode.sprite_url,streamDuration:e.stream_clip_transcode.stream_duration}:t.result={status:"error",errInfo:{code:"NO_TRANSCODE_INFO",msg:"NO_TRANSCODE_INFO"}}:e.cancelled?(t.result={status:"cancel"},null===(r=t.onError)||void 0===r||r.call(t,t.result)):(t.result={status:"error",errInfo:e.error_info,failedPartList:(null===(i=e.stream_clip_err_ext)||void 0===i?void 0:i.part_num)?[e.stream_clip_err_ext.part_num]:[]},null===(o=t.onError)||void 0===o||o.call(t,t.result)),t.finishListenQueue))"success"===t.result.status?a[0](t.result):a[1](t.result);null===(n=t.onFinish)||void 0===n||n.call(t,t.result),t.destroy()})()}eventFilter(e){return t=>{var{request_id:n}=t;n===this.requestId&&e(t)}}constructor({requestId:e},t){super(e,t),this.finishListenQueue=[],this.onIdleHandler=this.eventFilter(this._onIdleHandler.bind(this)),this.onProgressHandler=this.eventFilter(this._onProgressHandler.bind(this)),this.onFinishHandler=this.eventFilter(this._onFinishHandler.bind(this)),this.sdk.eventBus.addListener(o.zW.UploadIdle,this.onIdleHandler),this.sdk.eventBus.addListener(o.zW.UploadProgress,this.onProgressHandler),this.sdk.eventBus.addListener(o.zW.UploadFinish,this.onFinishHandler)}}},364731:function(e,t,n){"use strict";n.d(t,{K:function(){return i}});var r=n(37754);class i extends r.Z{destroy(){super.destroy()}}},535801:function(e,t,n){"use strict";n.d(t,{s:function(){return r.s}});var r=n(430366)},599985:function(){"use strict";var e,t;(t=e||(e={}))[t.COLOR=1]="COLOR",t[t.TEXTURE=2]="TEXTURE"},246709:function(e,t,n){"use strict";var r,i,o;n(24949),(o=r||(r={})).Dark="dark",o.Light="light",(i||(i={})).Theme="lv-theme"},479628:function(e,t,n){"use strict";n.d(t,{k:function(){return v}});var r,i,o,a,s=n(461228),c=n(577729),u=n(963473),l=n(980014),d=n(900268),f=n(432019),h=n(818351),p=n(658742);(r=o||(o={}))[r.INIT=1001]="INIT",r[r.START=1002]="START",r[r.UPDATE=1003]="UPDATE",r[r.end=1004]="end",(i=a||(a={}))[i.INIT=2001]="INIT",i[i.OTHERS=2002]="OTHERS";class v extends c.JT{calcFileMd5(e){var t,n=this;return new Promise((t=(0,s._)(function*(t,r){yield n._awaitInitLocker.awaitForInit();try{yield n._mutex.lock(),yield n._start();var i,o,a=0,c=new FileReader,l=!0,d=()=>{var t=a*n._chunkSize,r=t+n._chunkSize;r+n._chunkSize>=e.size&&(l=!1,r=e.size),c.readAsArrayBuffer(e.slice(t,r))};c.onload=(i=(0,s._)(function*(e){try{var i=e.target.result,o=yield n._update(i);o.ok||r(o),a++,l?d():t(n._end())}catch(e){t((0,u.Mx)(-1,"update chunk failure",e))}}),function(e){return i.apply(this,arguments)}),c.onerror=e=>{var r;null===(r=n._onError)||void 0===r||r.call(n,(0,u.wf)(-1,"read file failure:".concat(null==e?void 0:e.message),e)),t((0,u.wf)(-1,"read file failure:".concat(null==e?void 0:e.message)))},d()}catch(e){null===(o=n._onError)||void 0===o||o.call(n,(0,u.wf)(-1,"calc md5 worker init failure",e)),t((0,u.wf)(-1,"calc md5 worker init failure",e))}}),function(e,n){return t.apply(this,arguments)})).finally(()=>{this._mutex.unLock()})}dispose(){this._worker&&(this._worker.terminate(),this._worker=null),super.dispose()}_bootstrap(){var e=this;return(0,s._)(function*(){(0,l.Y2)(!e._worker,"thr bootstrap method has been called");try{return e._worker=yield e._initWorker(),e._awaitInitLocker.initDone(),(0,u.ly)()}catch(t){return e._awaitInitLocker.initDone({reject:t}),(0,u.wf)(-1,null==t?void 0:t.message)}})()}_start(){var e=this;return(0,s._)(function*(){yield e._sendStartToWasm()})()}_update(e){var t=this;return(0,s._)(function*(){return yield t._sendUpdateToWasm(e),(0,u.ly)()})()}_end(){var e=this;return(0,s._)(function*(){var t=yield e._sendEndToWasm();return(0,u.oW)(t)})()}_initWorker(){(0,l.Y2)(this._entryAddress&&this._wasmAddress,"not found cdn.");var e,t,n=this;return Promise.all([fetch(this._entryAddress),fetch(this._wasmAddress)]).then((e=(0,s._)(function*(e){return{entry:yield e[0].arrayBuffer(),wasm:yield e[1].arrayBuffer()}}),function(t){return e.apply(this,arguments)})).then((t=(0,s._)(function*(e){var t=new Worker(URL.createObjectURL(new Blob([new Uint8Array(e.entry)],{type:"text/javascript"})));return t.onmessage=e=>{var[t,r]=e.data;switch(String(t)){case"".concat(2001):n._wasmInitEmitter.fire();case"".concat(2002):n._wasmOthersEmitter.fire(r);break;default:(0,l.ss)("invalid event:".concat(t))}n._wasmOthersEmitter.fire([String(t),r])},t.postMessage([1001,n._getU8ASABFromAB(e.wasm)]),yield n._actionDone(n._wasmInitEmitter.event),t}),function(e){return t.apply(this,arguments)}))}_getU8ASABFromAB(e){var t=new Uint8Array(e);return new Uint8Array(new SharedArrayBuffer(t.byteLength)),t}_actionDone(e){return new Promise(t=>{(0,d.V)(e)(e=>{t(e)})})}_sendStartToWasm(){var e=this;return(0,s._)(function*(){(0,l.Y2)(e._worker,"worker must existed, before send"),e._worker.postMessage([1002]),yield e._actionDone(e._wasmOthersEmitter.event)})()}_sendUpdateToWasm(e){var t=this;return(0,s._)(function*(){(0,l.Y2)(t._worker,"worker must existed, before send"),t._worker.postMessage([1003,t._getU8ASABFromAB(e)]),yield t._actionDone(t._wasmOthersEmitter.event)})()}_sendEndToWasm(){return(0,l.Y2)(this._worker,"worker must existed, before send"),this._worker.postMessage([1004]),this._actionDone(this._wasmOthersEmitter.event)}constructor(e){super(),this._worker=null,this._chunkSize=5242880,this._awaitInitLocker=new f.G,this._mutex=new h.L,this._wasmOthersEmitter=this._store.add(new p.Q),this._wasmInitEmitter=this._store.add(new p.Q),this._entryAddress=e.entryCDN,this._wasmAddress=e.wasmCDN,this._onError=e.onError,this._bootstrap()}}},997282:function(e,t,n){"use strict";n.d(t,{U:function(){return r}});class r{get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}dispose(){this._handle.dispose()}constructor(e,t){this._didRun=!1,this._executor=()=>{try{this._value=e()}catch(e){this._error=e}finally{this._didRun=!0}},this._handle=t(()=>this._executor())}}},542840:function(e,t,n){"use strict";n.d(t,{S:function(){return o}});var r=n(141191),i=n(646334);class o{get isDisposed(){return this._isDisposed}dispose(){if(this._isDisposed){console.warn(Error("DisposableStore has disposed.").stack);return}(0,i.U9)(this),this._isDisposed=!0,this.clear()}clear(){if(0!==this._toDispose.size){for(var e of this._toDispose)(0,r.D)(this.constructor.name,e.constructor.name);var t=[];for(var n of this._toDispose)try{n.dispose()}catch(e){t.push(e)}if(this._toDispose.clear(),t.length>0)throw AggregateError(t,"find error when dispose store.")}}add(e){if(!e)return e;if(e===this)throw Error("Cannot register a disposable on itself.");return(0,i.PB)(e,this),this._isDisposed?o.DISABLE_DISPOSED_WARNING||console.warn(Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(e),e}constructor(){this._toDispose=new Set,this._isDisposed=!1,(0,i.FN)(this)}}o.DISABLE_DISPOSED_WARNING=!1},618230:function(e,t,n){"use strict";n.d(t,{V:function(){return a}});var r=n(69984),i="network-client-retry-plugin";function o(e){var t=(null==e?void 0:e[i])||{};return t.retryCount=t.retryCount||0,t}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.interceptors.request.use(e=>{var t=o(e);return t.lastRequestTime=Date.now(),e[i]=t,e}),e.interceptors.response.use(void 0,n=>{var a=null==n?void 0:n.config;if(!a)return Promise.reject(n);var{retries:s=1,isRetry:c=()=>!0,retryDelay:u=200,resetTimeout:l=!0}=(0,r._)({},t,null==a?void 0:a[i]),d=o(a);if((c(n)||d.canRetry)&&d.retryCount<s){d.retryCount+=1;var f="number"==typeof u?u:u(d.retryCount,n);if(e.defaults.agent===a.agent&&delete a.agent,e.defaults.httpAgent===a.httpAgent&&delete a.httpAgent,e.defaults.httpsAgent===a.httpsAgent&&delete a.httpsAgent,!l&&a.timeout&&d.lastRequestTime){var h=Date.now()-d.lastRequestTime;a.timeout=Math.max(a.timeout-h-f,1)}return a.transformRequest=[e=>e],new Promise(t=>setTimeout(()=>t(e(a)),f))}return Promise.reject(n)}),e}},774502:function(e,t,n){"use strict";n.d(t,{w:function(){return o}});var r=n(561915);function i(e,t){return e.getSortIndex()-t.getSortIndex()}class o{get timerTasks(){return this._timerTasks}get waitingTasks(){return this._waitingTasks}advance(e){for(var t=this._timerTasks.peek();null!==t;){if(null===t.getCallback())this._timerTasks.remove();else{if(!(t.getStartTime()<=e))return;this._timerTasks.remove(),t.setSortIndex(t.getExpirationTime()),this._waitingTasks.insert(t)}t=this._timerTasks.peek()}}constructor(){this._timerTasks=new r.H(i),this._waitingTasks=new r.H(i)}}},437659:function(e,t,n){"use strict";n.d(t,{i:function(){return i}});var r=n(980014);class i{getCallback(){return this._callback}setCallback(e){(0,r.Y2)(void 0===this._callback,"cant overlay callback."),this._callback=e}clearCallback(){this._callback=void 0}getStartTime(){return this._startTime}setStartTime(e){this._startTime=e}getExpirationTime(){return this._expirationTime}setExpirationTime(e){this._expirationTime=e}setSortIndex(e){this._sortIndex=e}getSortIndex(){return this._sortIndex}constructor(e,t,n){this._startTime=t,this._expirationTime=n,this._sortIndex=-1,this._callback=e}}},896719:function(e,t,n){"use strict";n.d(t,{Q:function(){return o}});var r=n(27914),i=n(877886);function o(){return n.g.window?new i.p:new r._}},820106:function(e,t,n){"use strict";n.d(t,{J:function(){return h}});var r=n(781440),i=n(136255),o=n.n(i),a=n(258337),s=n(356541),c=n(640712),u=n(167154),l=n(619398),d=n(655982),f=n(247869);function h(e){var t=e.containerService.invokeFunction(e=>e.get(r.b)),n=(0,f.O)(e.containerService,e.notificationGenerator);return e.tasks.map(r=>{var i=o().getType(r.name);return e.containerService.createInstance(a.p,{fromWorkspaceId:e.fromWorkspaceId,toWorkspaceId:e.toWorkspaceId,data:{sourceType:u.ov.EverCloud,assetType:l.pS.Material,key:"",filename:r.name,fileType:i?(0,c.Gt)(i):(0,c.eF)({file:{name:r.name,fileType:""}}),owner:"",md5:"",mime:null!=i?i:"",size:r.size,createdAt:Date.now().valueOf(),updatedAt:Date.now().valueOf(),cover:{url:r.coverUrl}},payinPayoutHelper:e.payinPayoutHelper,autoUpload:e.autoUpload,addModelToDraft:(0,d.s)(e.containerService),uploadMaterialLifecycleHelper:new s.$({taskId:r.id,fromWorkspaceId:e.fromWorkspaceId,thirdpartyUploader:e.thirdpartyUploader,userMaterialService:t,payinPayoutHelper:e.payinPayoutHelper,notificationService:n}),notificationService:n})})}},860884:function(e,t,n){"use strict";n.d(t,{FW:function(){return s},Lj:function(){return a},Rs:function(){return i}});var r,i,o=n(318455);function a(e){var t,r=(0,o.gO)(),i=0===Object.keys(r).length;if(location.search&&i){var a=o.m4.create(n.g.location.href);(0,o.PZ)(a.getAllQueryParameterValues()),r=(0,o.gO)()}var s=r[e.name];if(s)switch(e.paramType){case 0:default:return s;case 1:return s?isNaN(t=parseFloat(s))?0:t:void 0}}function s(e){var t={};return e.forEach(e=>{t[e.name]=a(e)}),t}(r=i||(i={}))[r.String=0]="String",r[r.Integer=1]="Integer"},260370:function(e,t,n){"use strict";n.d(t,{y:function(){return i}});var r=n(218571),i=(e,t,n)=>{var i=(0,r.useRef)(null);(0,r.useEffect)(()=>{if(!e.current){var r;null===(r=i.current)||void 0===r||r.disconnect(),i.current=null;return}return i.current=new ResizeObserver(t),i.current.observe(e.current,n),()=>{var e;null===(e=i.current)||void 0===e||e.disconnect(),i.current=null}},[t,e,n])}},785394:function(e,t,n){"use strict";n.d(t,{t:function(){return c}});var r=n(461228),i=n(69984),o=n(772322),a=n(218571),s=(0,a.lazy)((0,r._)(function*(){var{LvCookieBanner:e}=yield Promise.all([n.e("8583"),n.e("3173"),n.e("7716"),n.e("9680")]).then(n.bind(n,661706));return{default:t=>(0,o.jsx)(e,(0,i._)({},t))}})),c=e=>(0,o.jsx)(a.Suspense,{children:(0,o.jsx)(s,(0,i._)({},e))})},17636:function(e,t,n){"use strict";n.d(t,{U:()=>v});let r=n("461228"),i=n("123951"),o=n("184568"),a=n("90191"),s=n("786377"),c=n("382838"),u=n("577729"),l=n("980014"),d=n("432019"),f=n("641117"),h=n("318455");class p extends u.JT{get currentLocale(){return(0,l.ZB)(this._locale),this._locale.getCurrentLocale()}get supportLanguages(){return(0,l.ZB)(this._locale),this._locale.getSupportLocales()}changeLocale(e){this._locale.setCurrentLocale(e);var t=(0,h.vB)();location.href=globalThis.xssNamespace["lvweb/smart-tools"].filterUrl("".concat(location.pathname,"?").concat(t),null,{logType:"js.href/src",mode:"black",reportOnly:"all"})}allowToRender(){var e=this;return(0,r._)(function*(){yield e._initAwaitLock.awaitForInit()})()}_overwriteI18nT(){var{t:e}=i.ZP,{searchParams:t}=new URL(window.location.href);t.get("__debug_i18n__");var n=new Map;i.ZP.t=(t,r,o)=>{if(r&&Object.values(r).some(e=>"function"==typeof e))return e.call(i.ZP,t,r,o);var{language:a}=i.ZP,s=JSON.stringify({k:t,o:r,f:o});n.has(a)||n.set(a,new Map);var c=n.get(a),u=c.get(s);if(u){var{value:l}=u;return l}var d=e.call(i.ZP,t,r,o);return c.set(s,{value:d}),d}}_bootstrap(e){var{customLocaleParam:t,namespace:n,specifyLocale:r,apiKey:u,injectI18nResource:l,maxRetryLoadCounts:d=5,lazyUpdate:h=!1}=e,p=t?new f.O(t):new c.uL({locale:r,countryCode:void 0,getBrowserLang:()=>window.navigator.language,cookieGetter:s.Z.get.bind(s.Z),cookieSetter:s.Z.set.bind(s.Z)});this._locale=p;var v=p.getSupportLocales().map(e=>e.locale),_=p.getCurrentLocale(),m=()=>{this._initAwaitLock.hasBeenDone||this._initAwaitLock.initDone()},g=e=>{if(!e){var t=1;i.ZP.use((0,o.registerBackendPlugin)({loadOptions:{apiKey:null!=u?u:"38d171503ca311ee866b4ff6c924e0e2",namespace:null!=n?n:"WebClient",TEAChannelDomain:"",zoneHost:"https://starling-va.capcutapi.com",timeout:8e3,lazyUpdate:h},simpleLoad:!0,on:{done:()=>{m()},fallback:e=>{t>=d?m():(i.ZP.i18nInstance.instance.reloadResources(),t++)}},fallbackTexts:{}}))}i.ZP.use(a.p6).init({lng:_,supportedLngs:v,fallbackLng:["en"],thirdParamFallback:!0,saveMissing:!0,resources:e,missingKeyHandler:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n]}},e?m:void 0)};this._overwriteI18nT();var{localesMap:y,__injectedI18nUrl:b}=window;l&&l.lng===_&&(!b||(null==b?void 0:b.includes(null==y?void 0:y[_])))?l.resources.then(e=>{e?g(e):g()}).catch(()=>{g()}):g()}constructor(e){super(),this._initAwaitLock=new d.G,this._bootstrap(e)}}function v(e){return _.apply(this,arguments)}function _(){return(_=(0,r._)(function*(e){var t=new p(null!=e?e:{});return yield t.allowToRender(),t})).apply(this,arguments)}},72230:function(e,t,n){"use strict";n.d(t,{Cx:function(){return r.C},Ww:function(){return i.W},iw:function(){return o.i}}),n(933185);var r=n(552012);n(702990),n(299075);var i=n(20923);n(871386);var o=n(811363)},938546:function(e,t,n){"use strict";n.d(t,{$:function(){return b}});var r=n(461228),i=n(69984),o=n(764112),a=n(772322);n(5410),n(822289),n(349601),n(529114);var s=n(699482),c=n(5622),u=n(781494),l=n(595051),d=n(439409),f=n(898733),h=n(123951),p=n(659179),v=n(193320),_=n(218571),m=n(771268),g=n(624804),y=n(400921),b=(0,v.Pi)(e=>{var{exportManagerStore:t}=(0,_.useContext)(d.bi),{downloadManager:n,handleDownloadDialogClose:v,handleCancel:b}=e,[w,x]=(0,_.useState)(0),k=(0,_.useRef)(),[E,S]=(0,_.useState)(!1),{taskProgress:O=0,taskStatus:A,isCanceling:T,fileId:C="",fileName:j="",fileWorkspaceId:I="",coverImgUrl:P,downloadUrl:N}=(null==t?void 0:t.observableData)||{},{isLoadError:R,isLoading:D,videoDownloadUrl:L}=n.observableData,Z=A===m.tN.Processing||A===m.tN.Idle;return(0,_.useEffect)(()=>{if(A===m.tN.Cancel){null==v||v();return}if(Z)x(Math.max(O,w));else{var e;A===m.tN.Success&&n.init({fileId:C,fileName:j,fileWorkspaceId:I,downloadUrl:N}),null===(e=k.current)||void 0===e||e.close(),x(0)}},[T,w,n,O,A,C,j,I,v]),(0,_.useEffect)(()=>{D||R||!L||E||(n.autoDownloadVideo(),S(!0))},[n,E,R,D,L]),(0,a.jsxs)("div",{className:y.Z.downloadVideoExport,children:[Z&&(0,a.jsxs)("div",{className:y.Z.progress,children:[(0,a.jsx)(s.Z,{value:w.toFixed(),suffix:(0,a.jsx)("div",{className:y.Z.unit,children:"%"}),className:y.Z.percent,countUp:!0,styleValue:{color:"#0fbf60"}}),(0,a.jsx)("div",{className:y.Z.text,children:"Video rendering..."}),(0,a.jsx)(l.Z,{className:y.Z.cancelBtn,onClick:()=>{k.current=c.Z.confirm({icon:null,title:h.ZP.t("cancel_running_export",{},"Cancel exporting?"),content:h.ZP.t("no_stored_cloud",{},"Your video will not be saved in Cloud."),okText:h.ZP.t("cancel_tiktok",{},"Cancel"),cancelText:h.ZP.t("goback",{},"Go back"),onOk:(0,r._)(function*(){yield null==b?void 0:b(),u.Z.success({content:h.ZP.t("cancel_success",{},"Cancel successfully")}),null==v||v()})})},loading:T,children:h.ZP.t("web_cancel",{},"Cancel")})]}),A===m.tN.Success&&(0,a.jsxs)(a.Fragment,{children:[D?(0,a.jsxs)("div",{className:y.Z.loading,children:[(0,a.jsx)(g.I,{}),(0,a.jsx)("div",{className:y.Z.desc,children:h.ZP.t("loading_resources",{},"Loading resources...")})]}):null,R?(0,a.jsxs)("div",{className:y.Z.loadError,children:[(0,a.jsx)(p.Y88,{size:68,className:y.Z.icon}),(0,a.jsx)("div",{className:y.Z.desc,children:h.ZP.t("web_delete_move_file")})]}):null,D||R?null:(0,a.jsxs)("div",{className:y.Z.successContainer,children:[P?(0,a.jsx)("div",{className:y.Z.coverImgContainer,children:(0,a.jsx)("img",{src:globalThis.xssNamespace["lvweb/smart-tools"].filterUrl(P,null,{logType:"js.href/src",mode:"black",reportOnly:"all"}),className:y.Z.coverImg})}):null,(0,a.jsxs)("div",{className:y.Z.success,children:[(0,a.jsxs)("div",{className:y.Z.title,children:[(0,a.jsx)(p.PvJ,{className:y.Z.icon,size:16}),(0,a.jsx)("span",{children:h.ZP.t("export_successfully",{},"Export successfully")})]}),(0,a.jsx)("div",{className:y.Z.desc,children:h.ZP.t("ccecommerce_video_export_auto_downloading",{},"The video is automatically downloading to your computer.")})]})]})]}),(0,a.jsx)("div",{className:y.Z.exportVideo,children:(0,a.jsx)(f.l,(0,o._)((0,i._)({},e),{exportManagerStore:t,handleDownloadDialogClose:v}))})]})})},488914:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(69984),i=n(772322);n(529114),n(188506),n(445175),n(873221);var o=n(595051),a=n(948106),s=n(429907),c=n(911169),u=n(123951),l=n(218571),d=n(826934),f=n(574268),h=n(562190),p=c.Z.Item,v=e=>{var{config:t={},onChange:n,isHideFileNameOption:v,channelId:_=h.Bv.Download,isExporting:m,exportTips:g="",onExport:y,blackButton:b=!0,nameDisabled:w=!0,customExportBtnText:x}=e,k=(0,r._)({},d.g5,t),[E,S]=(0,l.useState)(!1),{name:O,quality:A,fps:T,format:C}=k,[j]=c.Z.useForm();return(0,l.useEffect)(()=>j.setFieldValue("name",O),[j,O]),(0,l.useEffect)(()=>j.setFieldValue("quality",A),[j,A]),(0,l.useEffect)(()=>j.setFieldValue("fps",T),[j,T]),(0,l.useEffect)(()=>j.setFieldValue("format",C),[j,C]),(0,i.jsxs)("div",{className:f.Z.exportFormContainer,children:[(0,i.jsxs)(c.Z,{form:j,id:"form",size:"small",layout:"vertical",initialValues:k,labelCol:{span:6,offset:0},wrapperCol:{span:18,offset:0},onChange:n,className:f.Z.main,children:[!v&&(0,i.jsx)(p,{label:u.ZP.t("cc_ecom_create_video_export_setting_name",{},"Name"),field:"name",rules:[{validator:(e,t)=>e?t():t(u.ZP.t("cc_ecom_create_video_export_error_name",{},"Enter a name"))}],children:(0,i.jsx)(s.Z,{size:"small",autoComplete:"off",placeholder:u.ZP.t("cc_ecom_create_video_export_enter_name_placeholder",{},"Enter name"),maxLength:50,disabled:w})}),(0,i.jsx)(p,{label:u.ZP.t("cc_ecom_create_video_export_setting_reso",{},"Resolution"),field:"definition",children:(0,i.jsx)(a.Z,{size:"small",defaultActiveFirstOption:!1,renderFormat:(e,t)=>{var n;return null===(n=d.ec.find(e=>e.value===t))||void 0===n?void 0:n.key},children:d.ec.map(e=>{var t=d.bt[e.value];return(0,i.jsx)(a.Z.Option,{value:e.value,children:(0,i.jsxs)("div",{className:f.Z.resolutionOption,children:[(0,i.jsx)("span",{children:e.key}),t&&(0,i.jsx)("span",{className:f.Z["resolution-option__desc"],children:t})]})},e.key)})})}),(0,i.jsx)(p,{label:u.ZP.t("cc_ecom_create_video_export_setting_quality",{},"Quality"),field:"quality",children:(0,i.jsx)(a.Z,{size:"small",defaultActiveFirstOption:!1,children:d.tG.map(e=>{var t=e.label;return(0,i.jsx)(a.Z.Option,{value:e.value,children:(0,i.jsx)(t,{})},e.value)})})}),(0,i.jsx)(p,{label:u.ZP.t("cc_ecom_create_video_export_setting_rate",{},"Frame rate"),field:"fps",children:(0,i.jsx)(a.Z,{size:"small",defaultActiveFirstOption:!1,children:d.zD.map(e=>(0,i.jsx)(a.Z.Option,{value:e.value,children:e.key},e.key))})}),(0,i.jsx)(p,{label:u.ZP.t("cc_ecom_create_video_export_setting_formate",{},"Format"),field:"format",children:(0,i.jsx)(a.Z,{size:"small",defaultActiveFirstOption:!1,children:d.tO.map(e=>(0,i.jsx)(a.Z.Option,{value:e.value,children:e.key},e.key))})})]}),(0,i.jsx)("div",{className:b?f.Z.footerBlack:f.Z.footerNormal,children:(0,i.jsx)(o.Z,{size:"large",type:"primary",className:f.Z.export,onClick:()=>{var e=j.getFields();S(!0),y(_,e)},loading:void 0!==m?m:E,children:x||u.ZP.t("cc_ecom_create_video_export_button",{},"Export")})}),g&&(0,i.jsx)("div",{className:f.Z.exportTips,children:g})]})}},566819:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(772322);n(9557);var i=n(867065);n(218571);var o=n(963242),a=n(659179);n(302387);let s=e=>{var{volume:t,setVolume:n,onVolume:s}=e,c=Math.round(100*t);return(0,r.jsx)(o.Z,{trigger:"hover",className:"template-control-volume",hideArrow:!0,triggerProps:{popupAlign:{top:24}},content:(0,r.jsxs)("div",{className:"volume-content",children:[(0,r.jsx)("div",{className:"text",children:c}),(0,r.jsx)(i.Z,{value:null!=c?c:0,onChange:e=>{n(e/100)},tooltipVisible:!1,vertical:!0})]}),children:(0,r.jsx)("div",{className:"video-controls-volume",children:0===t?(0,r.jsx)(a.EFi,{size:16,onClick:()=>{n(.6),null==s||s("unmute")}}):(0,r.jsx)(a.ioX,{size:16,onClick:()=>{n(0),null==s||s("mute")}})})})}},749279:function(e,t,n){"use strict";n.d(t,{p:function(){return o}});var r=n(285348),i=n(636771);function o(e,t){return t.length?t:i._.includes(e)?[e]:[r.NS.TikTok]}},729181:function(e,t,n){"use strict";n.d(t,{Y:function(){return i}});var r=n(123951);function i(e){return r.ZP.t("cc_ecom_publisher_schedule_title",{},"Schedule")}},605866:function(e,t,n){"use strict";n.d(t,{U:function(){return Z}});var r=n(772322);n(349601),n(822289);var i=n(781494),o=n(5622),a=n(218571),s=n(429188),c=n(813727),u=n(917761),l=n(565523),d=n(718179),f=n(113022),h=n(34484),p=n(647071),v=n(619598),_=n(122236),m=n(887893),g=n(722236),y=n(852711),b=n(195894),w=n(6090),x=n(193968),k=n(509564),E=n(164837),S=n(910009),O=n(583741),A=n(405859),T=n(909599),C=n(619152),j=n(845119),I=n(539326),P=n(860824),N=n(202659),R=n(980868),D=n(689187),L=n(867396),Z=(0,s.Pi)(()=>{var{i18n:e}=(0,c.$)(),t=(0,O.B)(),n=(0,l.G)(A.J),s=(0,l.G)(T.Y),[Z,M]=(0,a.useState)(null),[U,V]=(0,a.useState)(!1),[F,B]=(0,a.useState)(null),[z,G]=(0,a.useState)(!1),W=(0,a.useRef)(!1),{pageLifeCycle:H,theme:K,textEditorManager:Y}=n,{smartWriterManager:q}=s,X=!!([E.jp.AiProcessing,E.jp.AiProcessFailed].some(e=>e===H)||E.jp.DefaultEmpty&&q.smartWriterResults.length>0),J=()=>{setTimeout(()=>{var{editor:t}=Y;if(V(!!(0,b.z)(t,f.w)),t.isEmpty()){G(!0),B(e.t("web_textvideo_toast_enter_srcipt_generate",{},"Can\u2019t generate a video without a script"));return}var n=t.getText();if(!n){G(!0);return}s.aiScriptText=n;var r=n.trim();if(RegExp("^[^A-Za-z0-9\\s\\p{P}\\p{Emoji}]+$","gu").test(r)){G(!0),B(e.t("web_textvideo_desc_english_script_required",{},"Currently the video can only be generated from English scripts."));return}if(RegExp("^[\\p{P}\\d\\s\\p{Emoji}]+$","u").test(r)||!r.length){G(!0),B(e.t("web_textvideo_desc_valid_content_required",{},"Your script doesn\u2019t contain valid content."));return}G(!1),B(null)},0)};return(0,a.useEffect)(()=>{var e=document.querySelector("#ai-script-generate-editor-wrapper");e&&M(e)},[]),(0,a.useEffect)(()=>{Z&&Y.editor.focusAtEnd()},[Z]),(0,r.jsx)("div",{className:L.Z["ai-script-generate-wrapper"],id:"ai-script-generate-wrapper",children:(0,r.jsxs)("div",{className:L.Z["ai-script-generate-main-container"],children:[(0,r.jsxs)("div",{className:L.Z["ai-script-generate-editor-header"],children:[(0,r.jsx)("img",{className:L.Z["ai-script-generate-editor-icon"],width:27.5,height:28,src:globalThis.xssNamespace["lvweb/smart-tools"].filterUrl(K===u.h.Light?R:D,null,{logType:"js.href/src",mode:"black",reportOnly:"all"}),alt:e.t("web_textvideo_text_create_your_script_first",{},"Generate script")}),e.t("web_textvideo_text_create_your_script_first",{},"Generate script")]}),(0,r.jsx)("div",{className:L.Z["ai-script-generate-divider"]}),(0,r.jsx)("div",{className:L.Z["ai-script-generate-editor-wrapper"],style:{userSelect:U?void 0:"text"},id:"ai-script-generate-editor-wrapper",onClick:()=>{U||Y.editor.focus()},children:Z?(0,r.jsx)(w.h,{businessKey:"cc_ttv_ai_script_editor",getPlugins:n=>[new f.s(n,e=>(0,r.jsx)(d.$U,{instantiationService:t,children:(0,r.jsx)(I.n,{triggerFrom:e.triggerFrom,onClose:e.onClose,onConfirm:e.onConfirm})})),new h.G(n,{firstLinePlaceholder:e.t("web_textvideo_text_useAI_or_enter",{},"Press \u201C/\u201D to use AI writer to generate script, or enter a script yourself."),mainPlaceholder:e.t("web_textvideo_text_useAI_or_enter",{},"Press \u201C/\u201D to use AI writer to generate script, or enter a script yourself.")}),new p.U(n),new v.Uu(n),new _.d,new m.W(n,{limit:3e3,renderTips:(e,t)=>(0,r.jsx)(j.I,{wordCount:e,limit:t}),lineContentFilter:e=>e.replace(/\s+$/,""),container:()=>document.querySelector("#ai-script-generate-wrapper"),onOverLimit:()=>{W.current||(W.current=!0,i.Z.warning({id:"ai-script-generate-out-of-limit",content:e.t("web_textvideo_toast_supports_upto_3000",{placeholder0:3e3},"Enter no more than {placeholder0} characters")}),(0,P.E)(t,{reason:"script_limit"}))},onNotOverLimit:()=>{W.current=!1}}),new g.x(n,{sessionStorageKey:"cc_ttv_ai_script_editor",onRestore:e=>{var t=e.getText();s.aiScriptText=t},shouldRestore:()=>Promise.resolve(!!s.aiScriptText)})],onInit:e=>{Y.setEditor(e),window.editor=e,J()},schema:new x.V({[f.w]:{display:k.v.block,displayEnter:!1}}),onChange:J,scroller:Z,getViewPortPadding:()=>({top:30,bottom:30})}):null}),(0,r.jsx)("div",{className:L.Z["ai-script-generate-divider"]}),(0,r.jsxs)("div",{className:L.Z["ai-script-generate-footer"],children:[(0,r.jsx)(C.x,{theme:K,onClick:()=>{U||(Y.editor.execCommand(y.CO),(0,N.z)(t,{action:"ai_writer"}))},disable:X,dataSmartWriterOutside:U,disabledToolTip:U,children:e.t("web_textvideo_title_smart_writer",{},"AI writer")}),(0,r.jsx)(S.H,{type:"normal",style:{height:"36px"},disabled:X||z,onClick:()=>{var{editor:n}=Y;if(!U){if((0,b._Q)(n,e=>e.replace(/\s+$/,""))>3e3){o.Z.warning({title:e.t("web_textvideo_toast_unable_to_generate",{},"Couldn\u2019t generate"),content:e.t("web_textvideo_toast_maximum_number_3000",{placeholder0:3e3},"Enter no more than {placeholder0} characters."),okText:e.t("web_textvideo_button_go_to_modify",{},"OK")}),(0,P.E)(t,{});return}s.setAiGeneratePopupVisible(!0),s.aiScriptText=n.getText(),(0,N.z)(t,{action:"generate"})}},toolTip:{disabledContent:F||""},children:e.t("web_textvideo_button_generate_video",{},"Generate video")})]})]})})})},297857:function(e,t,n){"use strict";n.d(t,{x:function(){return s}});var r=n(772322);n(218571);var i=n(105789),o=n.n(i),a=n(131010),s=e=>{var{className:t,style:n,label:i,children:s}=e;return(0,r.jsxs)("div",{className:o()(t),style:n,children:[i&&(0,r.jsx)("div",{className:a.Z.label,children:i}),s]})}},442426:function(e,t,n){"use strict";n.d(t,{g:function(){return f}});var r=n(69984),i=n(772322),o=n(218571),a=n(105789),s=n.n(a),c=n(565523),u=n(909599),l=n(994961);function d(e,t,n,r){e.style.height="".concat(t,"px"),e.style.height="".concat(e.scrollHeight>n?n:e.scrollHeight,"px"),null==r||r(e.style.height!=="".concat(t,"px"))}var f=(0,o.forwardRef)((e,t)=>{var{value:n,className:a,style:f,placeholder:h,minLineHeight:p=20,maxLineHeight:v=80,maxLength:_,textareaProps:m,onBreak:g,onChange:y,onSubmit:b}=e,{smartWriterManager:w}=(0,c.G)(u.Y),x=(0,o.useRef)(null),k=(0,o.useRef)(!0);function E(e){e.stopPropagation();var{value:t}=e.target;"number"==typeof _&&t.length>_||(d(e.target,p,v,g),null==y||y(t))}return(0,o.useEffect)(()=>{x.current&&d(x.current,p,v,g)},[n,p,v,g]),(0,o.useImperativeHandle)(t,()=>x.current),(0,i.jsx)("textarea",(0,r._)({className:s()(l.Z.textarea,a),style:f,ref:x,value:n,placeholder:h,onChange:E,onPaste:e=>e.stopPropagation(),onCopy:e=>e.stopPropagation(),onCompositionStart:function(e){e.stopPropagation(),k.current=!1},onCompositionEnd:function(){k.current=!0},onKeyDown:function(e){"Escape"!==e.key&&e.stopPropagation(),(e.ctrlKey||e.metaKey)&&("Enter"===e.key||"Return"===e.key)&&(e.preventDefault(),E(e),null==b||b("shortkey"))},onFocus:function(){w.focus=!0},onBlur:function(){w.focus=!1}},m))})},197914:function(e,t,n){"use strict";n.d(t,{P:function(){return r}});var r={SHOPIFY_EMBEDDED:"shopify_embedded",SHOP:"shop",PRODUCT_ID:"product_id",UTM_SOURCE:"utm_source",UTM_CAMPAIGN:"utm_campaign",UTM_MEDIUM:"utm_medium"}},856905:function(e,t,n){"use strict";n.d(t,{$:function(){return u}});var r=n(751057),i=n(184620),o=n(293793),a=n(980014),s=n(52533),c=n(218571);function u(e){var{el:t,zeroAt:n,controlledProgress:u,showSelfProgress:l,onDragMove:d,onDragStart:f,onDragEnd:h,throttle:p,cancelThrottleSeek:v}=e,[_,m]=(0,c.useState)(0),[g,y,b]=(0,i.default)(!1);(0,c.useEffect)(()=>{g||(0,s.Z)(u)||m(u)},[u]);var w=(0,o.default)(e=>{var r=null==t?void 0:t.getBoundingClientRect();if(!r)return 0;var i=0;return"left"===n?i=(e.x-r.x)/r.width:"right"===n?i=1-(e.x-r.x)/r.width:"top"===n?i=(e.y-r.y)/r.height:"bottom"===n?i=1-(e.y-r.y)/r.height:(0,a.ss)(),Math.max(0,Math.min(i,1))}),x=g||l||(0,s.Z)(u)?_:u,{run:k}=(0,r.default)(e=>null==d?void 0:d(e),p||1),E=(0,o.default)(e=>{null==v||v(),y(!0);var t=w(e);m(t),null==f||f(t)}),S=(0,o.default)(e=>{if(b()){y(!1);var t=w(e);m(t),null==h||h(t)}}),O=(0,o.default)(e=>{if(b()){var t=w(e);m(t),k(t)}});return(0,c.useEffect)(()=>(document.addEventListener("mouseup",S),document.addEventListener("mousemove",O),null==t||t.addEventListener("mousedown",E),()=>{document.removeEventListener("mouseup",S),document.removeEventListener("mousemove",O),null==t||t.removeEventListener("mousedown",E)}),[t,E,O,S]),{progress:x,isDragging:g}}},980509:function(e,t,n){"use strict";n.d(t,{h:function(){return j}});var r=n(772322);n(936039),n(822289),n(529114);var i=n(802406),o=n(5622),a=n(595051),s=n(105789),c=n.n(s),u=n(429188),l=n(253223),d=n(565523),f=n(659179),h=n(415433),p=n(161643),v=n(658384),_=n(374341),m=n(273508),g=n(583741),y=n(101568),b=n(955309),w=n(986306),x=n(248176),k=n(226134),E=n(938103),S=n(414203),O=n(123951),A=n(202659),T=n(530385),C=n(672970),j=(0,u.Pi)(e=>{var t,n,{leftSlot:s,rightSlot:u,handleBackHome:j,contentSlot:I,smartToolType:P}=e,N=c()(C.Z.headerWrapper,"lv-theme","lv-theme-force_dark"),R=(0,g.B)(),D=(0,d.G)(_.j),L=(0,y.E)(D.userProfile),Z=(0,b.NG)(L),M=(0,d.G)(l.X).getTheme(),U=(0,E.K)(),V=(0,w._)(),F=(0,d.G)(m.u).getAppConfigurationValue("titlebar"),B=(0,d.G)(x.Gw),z=(0,d.G)(k.w);return(0,r.jsxs)("header",{className:N,"lv-theme":"dark","lv-theme-version":"2.0",style:null==F?void 0:F.style,children:[null!==(n=null==F?void 0:null===(t=F.customLogo)||void 0===t?void 0:t.call(F))&&void 0!==n?n:(0,r.jsxs)("div",{className:C.Z.leftSlot,children:[(0,r.jsx)("div",{className:C.Z.logo,onClick:function(){(0,A.z)(R,{action:"back"}),function(){var{Title:e,Paragraph:t}=i.Z,n=o.Z.confirm({simple:!0,closable:!1,title:null,className:"go-back-modal",content:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e,{className:"title",heading:6,children:O.ZP.t("web_tool_cancel_confirm1",{},"Save this project\uFF1F")}),(0,r.jsx)(t,{children:O.ZP.t("web_tool_cancel_confirm2",{},"You haven\u2019t saved your project.")})]}),footer:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.Z,{type:"secondary",style:{boxShadow:"none"},onClick:()=>{(0,A.z)(R,{action:"back_continue"}),n.close()},children:O.ZP.t("web_stay",{},"Cancel")}),(0,r.jsx)(a.Z,{type:"primary",status:"danger",onClick:()=>{null==j||j(),(0,A.z)(R,{action:"back_confirm"}),window.sessionStorage.clear();var e=B.hasLogin?p.HF:p.P3;window.location.replace(globalThis.xssNamespace["lvweb/smart-tools"].filterUrl("".concat(e,"?enter_from=page_header&from_page=smart_tool_page"),null,{logType:"js.window.location",mode:"black",reportOnly:"all"})),window.sessionStorage.clear(),n.close()},children:O.ZP.t("web_leave",{},"Leave")})]})})}()},children:(0,r.jsx)(f.JBY,{})}),(0,r.jsx)("div",{className:C.Z.split}),(0,r.jsx)("div",{className:C.Z.allToolsWrapper,children:(0,r.jsx)(h.L,{smartToolType:null!=P?P:v.lQ.TextToVideo,theme:M,userInfo:D.userProfile,isShowU2V:Z,isShowLongToShort:U,isShowAvTranslator:V,onClick:(e,t)=>{(0,T.E)(R,{action:"click",category:t,toolType:v.mb[(0,S.j)(e)]||""})},handleToolEntranceShow:(e,t)=>{(0,T.E)(R,{action:"show",category:t,toolType:v.mb[(0,S.j)(e)]||""})},getAbTestConfig:(e,t)=>z.getABTestVar(e,t)})}),null==s?void 0:s()]}),(0,r.jsx)("div",{className:C.Z.contentSlot,children:null==I?void 0:I()}),(0,r.jsx)("div",{className:C.Z.rightSlot,children:null==u?void 0:u()})]})})},355016:function(e,t,n){"use strict";var r,i;n.d(t,{d:()=>i,Z:()=>m});let o=n("69984"),a=n("764112"),s=n("772322"),c=n("218571"),u=n("105789"),l=n.n(u),d=n("198532"),f=n("395903"),h=n("430367"),p=n("2875"),v=n("209640"),_=n("729201");(r=i||(i={}))[r.GRID=0]="GRID",r[r.LIST=1]="LIST";let m=e=>{var{multiple:t=!1,data:n=[],value:r,onSelect:i,loading:u,mode:m=0,folder:g=[],onDirectorySelect:y,status:b,onRetry:w}=e,x=0===m,k=(0,c.useRef)(null),{isScrolling:E}=function(e){var[t,n]=(0,c.useState)(!1),r=(0,c.useRef)();return(0,d.default)("scroll",()=>{e.current&&(n(!0),r.current&&clearTimeout(r.current),r.current=setTimeout(()=>{n(!1)},50))},{target:()=>e.current}),{isScrolling:t}}(k),S=e=>{if(Array.isArray(r)){var n=r.findIndex(t=>t===e);t?(-1===n?r.push(e):r.splice(n,1),null==i||i([...r])):-1===n?null==i||i([e]):null==i||i([])}else r===e?null==i||i(""):null==i||i(e)},O=e=>Array.isArray(r)?r.findIndex(t=>t===e)>-1:r===e;return(0,s.jsx)("div",{ref:k,className:l()(x?p.Z.materialSelectorContentWrapGrid:p.Z.materialSelectorContentWrapList,{[p.Z.isScrolling]:E,[p.Z.materialSelectorContentWrapListEmpty]:b===v.q.Empty}),children:(()=>{switch(b){case v.q.Empty:return(0,s.jsx)(_.bO,{});case v.q.Loading:return(0,s.jsx)(_.$,{isGrid:x});case v.q.Error:return(0,s.jsx)(_.V_,{onRetry:w});case v.q.Success:return(0,s.jsxs)(s.Fragment,{children:[null==g?void 0:g.map(e=>{if(!e)return(0,s.jsx)(s.Fragment,{});var{itemCount:t,name:n,assetId:r,sourcePath:i}=e;return(0,c.createElement)(f.a,(0,a._)((0,o._)({},e),{key:r,name:n,isGrid:x,itemCount:t,onDirectorySelect:y,assetId:r,sourcePath:i}))}),null==n?void 0:n.map(e=>{if(!e)return(0,s.jsx)(s.Fragment,{});var{md5:n,filename:r}=e,{cover:i}=e,{duration:u}=e;return(0,c.createElement)(h.y,(0,a._)((0,o._)({},e),{key:null!=n?n:"",md5:null!=n?n:"",name:null!=r?r:"",time:u,selectMaterial:S,isChecked:O,cover:i,isGrid:x,multiple:t}))}),n.length+g.length===0&&(0,s.jsx)(_.bO,{})]});default:return(0,s.jsx)(s.Fragment,{})}})()})}},355472:function(e,t,n){"use strict";n.d(t,{Z:function(){return T}});var r=n(772322);n(822289),n(463844),n(901456),n(387346),n(334033),n(529114);var i=n(5622),o=n(279134),a=n(389902),s=n(221489),c=n(196123),u=n(595051),l=n(160848),d=n(763676),f=n(218571),h=n(429188),p=n(633896),v=n(966054),_=n(587465),m=n(105789),g=n.n(m),y=n(247130),b=n(234694),w=n(966254),x=n(426759),k=n(123951),E=n(381164),S=n(813727),O=n(980014),A=(0,h.Pi)(f.forwardRef((e,t)=>{var{result:n,tips:i,onDownload:a,onEditMore:h,editMoreLoading:m,downloadLoading:g,onDelete:b,globalMediaPlayerManager:x,onPlayResult:S}=e,A=null,T=(0,f.useRef)(null),{localId:C}=n;(0,f.useImperativeHandle)(t,()=>({pause:()=>{T.current&&T.current.pause()},play:()=>{T.current&&T.current.play()}})),(0,f.useEffect)(()=>{var e=x.onPlayingChange(e=>{e!==C&&T.current&&T.current.pause()});return()=>{e.dispose()}},[C]);var j=(0,f.useCallback)(()=>{x.changePlaying(C),(0,O.Y2)((0,d.pe)(n)),S(n)},[C,S,n]);if((0,d.$p)(n))return(0,r.jsx)(p.H,{progress:n.progress,tips:i,leftMinute:null==n?void 0:n.min});if((0,d.JR)(n))return(0,r.jsx)(E.K,{onDelete:()=>b(n.localId),style:{height:n.type===d.XM.AUDIO?160:206}});if("video"===n.previewAsset.type?A=(0,r.jsx)(_.c,{result:n,ref:T,onPlay:j}):"audio"===n.previewAsset.type&&(A=(0,r.jsx)(v.g,{result:n,ref:T,onPlay:j})),!A)return null;var I=(0,r.jsx)(o.Z,{children:"downloadOptions"in n&&n.downloadOptions.map(e=>(0,r.jsx)(o.Z.Item,{onClick:()=>a(n,e.assets),disabled:0===e.assets.length,children:e.title},e.title))});return(0,r.jsxs)("div",{className:l.Z.cardItem,children:[(0,r.jsxs)("div",{className:l.Z.mainContainer,children:[(0,r.jsx)("div",{className:l.Z.cardItemTitle,children:"".concat((0,w.p)(n.createTime)," ").concat(n.title)}),A]}),(0,r.jsx)(c.Z,{className:l.Z.divider}),(0,r.jsxs)("div",{className:l.Z.cardItemButtonContainer,children:[(0,r.jsx)(s.Z,{droplist:I,trigger:"click",children:(0,r.jsxs)(u.Z,{className:l.Z.cardItemButton,loading:g,children:[(0,r.jsx)(y.UWx,{size:16,className:l.Z.buttonIcon}),(0,r.jsx)("span",{className:l.Z.cardItemButtonText,children:k.ZP.t("web_voice_download",{},"Download")})]})}),(0,r.jsxs)(u.Z,{className:l.Z.cardItemButton,onClick:()=>h(n),loading:m,children:[(0,r.jsx)(y.TvC,{size:16,className:l.Z.buttonIcon}),(0,r.jsx)("span",{className:l.Z.cardItemButtonText,children:k.ZP.t("web_voice_edit_more",{},"Edit more")})]})]})]})}));let T=(0,h.Pi)(e=>{var{resultListManager:t,className:n,style:o,isFold:s,onFoldChange:c,globalMediaPlayerManager:u,tips:d,showFoldIcon:h=!1,emptyDescription:p,needPromote:v,onDownloadResult:_,onEditResult:m,onPlayResult:y}=e,{viewStore:w}=t,{memoryResult:E,idToLoadingMap:O}=w,{i18n:T}=(0,S.$)(),C=(0,f.useRef)(null),j=(0,f.useCallback)((e,n)=>{t.downloadResult(e,n,v),_()},[]),I=(0,f.useCallback)(e=>{e.derivedDraft?i.Z.confirm({title:T.t("web_voice_previous_open",{},"Open your last project?"),okText:T.t("web_voice_open",{},"Open"),cancelText:T.t("web_voice_create_new_draft",{},"Create new"),onOk:()=>{var n=t.makeUrl(e.derivedDraft.draftId,e.derivedDraft.workspaceId);window.open(n,"_blank","noopener"),m(!1)},cancelButtonProps:{onMouseUpCapture:()=>{t.jumpToEditor(e)}}}):(t.jumpToEditor(e),m(!0))},[T,t]),P=(0,f.useCallback)(e=>{t.deleteLocalResult(e)},[t]),N=e=>{if(w.hasGeneratingResults)return e.preventDefault(),""};(0,f.useEffect)(()=>{window.addEventListener("beforeunload",N);var e=t.onAddResult(()=>{C.current&&C.current.scrollTo({top:0})});return()=>{e.dispose(),window.removeEventListener("beforeunload",N)}},[]);var R=(0,f.useRef)({});return R.current={},E.forEach(e=>{var{localId:t}=e;R.current[t]=f.createRef()}),(0,r.jsxs)("div",{className:g()(l.Z.resultPanel,n,s&&l.Z.fold),style:o,tabIndex:-1,onBlur:()=>{Object.keys(R.current).forEach(e=>{var t;null===(t=R.current[e].current)||void 0===t||t.pause()})},children:[(0,r.jsxs)("div",{className:l.Z.titleBar,children:[(0,r.jsx)("span",{className:l.Z.title,children:k.ZP.t("web_translate_results_title",{},"Results")}),h?(0,r.jsx)(b.r,{className:l.Z.foldIcon,onClick:()=>null==c?void 0:c(!0)}):null]}),(0,r.jsx)("div",{className:l.Z.content,ref:C,children:0===E.length?(0,r.jsx)(a.Z,{style:{marginTop:160},icon:(0,r.jsx)(x.r,{}),description:p}):E.map(e=>{var{download:t,editMore:n}=O[e.localId];return(0,r.jsx)(A,{ref:R.current[e.localId],globalMediaPlayerManager:u,onDownload:j,onEditMore:I,onPlayResult:y,downloadLoading:t,editMoreLoading:n,onDelete:P,result:e,tips:d},e.localId)})})]})})},587465:function(e,t,n){"use strict";n.d(t,{c:function(){return d}});var r=n(772322),i=n(160848),o=n(105789),a=n.n(o),s=n(500377),c=n(524164),u=n(218571),l=n(408541),d=u.forwardRef((e,t)=>{var{result:n,className:o,onPlay:d}=e,[f,h]=(0,u.useState)(220),p=(0,u.useRef)((0,l.Rl)()),v=()=>{if(!n.height||!n.width)return 220;var e=document.getElementById("result-video-card_".concat(p.current));if(!e)return 220;var t=e.clientWidth;h(n.height*(t/n.width))};return(0,r.jsx)("div",{className:a()(i.Z.videoCard,o),id:"result-video-card_".concat(p.current),style:{height:"".concat(f,"px")},children:(0,r.jsx)(c.R,{ref:t,allowUpdate:!0,onPlayCallback:d,playerConfig:{url:n.previewAsset.previewUrl,decryptKey:n.previewAsset.previewKey,plugins:n.previewAsset.previewKey?[s.default]:[],Mp4EncryptPlayer:{useEME:!1,keyValue:n.previewAsset.previewKey}},onStateUpdate:()=>{v()}})})})},137996:function(e,t,n){"use strict";n.d(t,{t:function(){return s}});var r=n(526599),i=n(657893),o=n(860884);class a{getEventParams(){return{is_from_editor:0,edit_type:this._params.editType,action:this._params.action,current_page:"smart_tool_page",tab_name:(0,o.Lj)(i.o1),sub_tab:(0,o.Lj)(i.Lc)}}constructor(e){this._params=e,this.eventName="export_panel"}}function s(e,t){(0,r.K)(e,a,[t])}},690302:function(e,t,n){"use strict";n.d(t,{u:function(){return h}});var r=n(69984),i=n(764112),o=n(619398),a=n(390256),s=e=>({entryId:e.entry_id,assetId:e.asset_id,parentId:e.parent_id,meta:JSON.parse(""===e.meta?"{}":e.meta),name:e.filename,size:e.size,updatedAt:Number(e.updated_at),createdAt:Number(e.create_at),sourcePath:[""],owner:e.owner,creator:e.creator,md5:e.md5}),c=e=>(0,i._)((0,r._)({},s(e)),{type:"file"}),u=e=>{var t;return{details:null===(t=e.detail_infos)||void 0===t?void 0:t.map(e=>({frameCount:e.frame_count,height:e.height,width:e.width,url:e.url,encryptKey:e.encrypted_key})),common:{singleFrameHeight:e.common_info.single_frame_height,singleFrameWidth:e.common_info.single_frame_width,totalSetNum:e.common_info.total_set_num}}},l=e=>{var t;return{url:null==e?void 0:null===(t=e.preview_url)||void 0===t?void 0:t.bucket_key_360p,key:null==e?void 0:e.preview_key}},d={video:{assert:e=>e.file_type===a.Tv.Video,transform:e=>(0,i._)((0,r._)({},s(e)),{type:"video",sprites:u(e.sprite_frame),duration:e.duration,cover:l(e),imageAsyncResize:e.image_async_resize,width:e.width,height:e.height})},image:{assert:e=>e.file_type===a.Tv.Image,transform:e=>(0,i._)((0,r._)({},s(e)),{type:"image",cover:l(e),imageAsyncResize:e.image_async_resize})},"live-photo":{assert:e=>e.file_type===a.Tv.LivePhoto,transform:e=>(0,i._)((0,r._)({},s(e)),{type:"live-photo",cover:l(e),imageAsyncResize:e.image_async_resize})},audio:{assert:e=>e.file_type===a.Tv.Audio,transform:e=>(0,i._)((0,r._)({},s(e)),{type:"audio",duration:e.duration})}},f={folder:{assert:e=>e.asset_type===o.pS.Folder,transform:e=>(0,i._)((0,r._)({},s(e)),{type:"folder",itemCount:e.child_file_num,openTime:Number(e.open_time),cover:l(e),imageAsyncResize:e.image_async_resize})},exported:{assert:e=>e.asset_type===o.pS.Exported,transform:e=>(0,i._)((0,r._)({},s(e)),{type:"film",sprites:u(e.sprite_frame),duration:e.duration,cover:l(e),imageAsyncResize:e.image_async_resize,width:e.width,height:e.height})},asset:{assert:e=>e.asset_type===o.pS.Material&&Object.values(d).some(t=>{var{assert:n}=t;return n(e)}),transform:e=>Object.values(d).find(t=>{var{assert:n}=t;return n(e)}).transform(e)},package:{assert:e=>e.asset_type===o.pS.Package,transform:e=>{var t=c(e);return(0,r._)((0,i._)((0,r._)({},t),{type:"package",packageType:e.sub_type,covers:[l(e)],imageAsyncResize:e.image_async_resize}),t.meta.draft.canvasInfo)}}},h=e=>e.map(e=>{var t,n=Object.values(f).find(t=>{var{assert:n}=t;return n(e)});return(null!==(t=null==n?void 0:n.transform)&&void 0!==t?t:c)(e)})},545791:function(e,t,n){"use strict";n.d(t,{b:function(){return r}});var r={GET_MATERIAL_LIST:"/lv/v1/asset/list",GET_MATERIALS_BY_IDS:"/lv/v1/asset/detail",COPY_MATERIAL_TO_WORKSPACE:"/lv/v1/asset/copy",DELETE_MATERIALS:"/lv/v1/asset/delete",QUERY_PROCESS:"/lv/v1/asset/query_process",CREATE_ASSET:"/lv/v1/asset/create",GET_ASSET_QUERY:"/lv/v1/asset/query",LABEL_AS_EXPORTED:"/lv/v1/asset/label_as_exported",PROMOTE_ASSET:"/lv/v1/ever_photo/promote_asset"}},545967:function(e,t,n){"use strict";n.d(t,{g:function(){return c}});var r=n(69984),i=n(764112),o=n(577729),a=n(227114),s=n(247093);class c extends o.JT{success(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._addNotification(e,a.zb.Success,t,n)}info(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._addNotification(e,a.zb.Info,t,n)}warning(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._addNotification(e,a.zb.Warning,t,n)}error(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._addNotification(e,a.zb.Error,t,n)}normal(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._addNotification(e,a.zb.Normal,t,n)}loading(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._addNotification(e,a.zb.Loading,t,n)}updateLoading(e,t,n){s.Z[a.zb.Loading]((0,r._)({id:e,content:t},n))}close(e,t){this._removeNotificationFromList(e)}_addNotification(e,t,n,o){var a=this._findDuplicated(e);a?a.close():this._notificationList.length===this._maxNotifications&&this._notificationList[0].close();var c=Date.now(),u=s.Z[t]((0,i._)((0,r._)({content:e,onClose:()=>this._onClose(c)},o),{style:n.style})),l=()=>{this._isNotificationExisted(c)&&(u(),this._removeNotificationFromList(c))};return this._notificationList.push({message:e,severity:t,id:c,close:l}),{closeNotification:l,id:c}}_findDuplicated(e){return this._notificationList.find(t=>t.message===e)}constructor(...e){super(...e),this._notificationList=[],this._maxNotifications=a.DT,this._isNotificationExisted=e=>-1!==this._notificationList.findIndex(t=>t.id===e),this._removeNotificationFromList=e=>{this._notificationList=this._notificationList.filter(t=>t.id!==e)},this._onClose=e=>{this._removeNotificationFromList(e)}}}},35681:function(e,t,n){"use strict";n.d(t,{E_:function(){return h},Ec:function(){return l},HA:function(){return u},NB:function(){return f},SW:function(){return s},Y_:function(){return _},b5:function(){return a},j9:function(){return m},ks:function(){return v},nr:function(){return c},rM:function(){return d},vI:function(){return p}});var r,i,o=n(295233);(r=i||(i={}))[r.KvError=11e4]="KvError",r[r.KvSetError=110001]="KvSetError",r[r.KvSetOverSize=110002]="KvSetOverSize",r[r.KvDeleteError=110003]="KvDeleteError",r[r.KvQueryError=110004]="KvQueryError",r[r.KvClearError=110005]="KvClearError",r[r.KvKeyNotFound=110006]="KvKeyNotFound",r[r.DbDatabaseNotFound=111001]="DbDatabaseNotFound",r[r.DbTableNotFound=111002]="DbTableNotFound",r[r.DbConnectError=111003]="DbConnectError",r[r.DbQuotaExceeded=111004]="DbQuotaExceeded",r[r.DbSetError=111005]="DbSetError",r[r.DbDeleteError=111006]="DbDeleteError",r[r.DbQueryError=111007]="DbQueryError",r[r.DbClearError=111008]="DbClearError",r[r.DbCleanupError=111009]="DbCleanupError",r[r.DbTransactionError=111010]="DbTransactionError";var a=(0,o.i)(11e4,"key value storage fail."),s=(0,o.i)(110001,"set key value storage fail.");(0,o.i)(110002,"set key value storage oversize.");var c=(0,o.i)(110003,"delete key value storage fail."),u=(0,o.i)(110004,"query key value storage fail."),l=(0,o.i)(110005,"clear key value storage fail.");(0,o.i)(110003,"delete key value storage not found."),(0,o.i)(111001,"database not found."),(0,o.i)(111002,"table not found.");var d=(0,o.i)(111003,"connect db fail.");(0,o.i)(111004,"db quota exceeded.");var f=(0,o.i)(111005,"set database fail."),h=(0,o.i)(111006,"delete database fail."),p=(0,o.i)(111007,"query database fail."),v=(0,o.i)(111008,"clear database fail."),_=(0,o.i)(111009,"cleanup database fail."),m=(0,o.i)(111010,"invoke transaction fail.")},575849:function(e,t,n){"use strict";n.d(t,{_:function(){return g}});var r,i,o,a,s=n(920077),c=n(461228),u=n(789786),l=n(68624),d=n(548946),f=n(963473),h=n(883002),p=n(35681),v=n(810381),_=n(695280),m=n(872625);(r=o||(o={}))[r.Idle=0]="Idle",r[r.Running=1]="Running",(i=a||(a={}))[i.Minor=0]="Minor",i[i.Major=1]="Major";class g{mark(){this._mark||(this._mark=!0,(0,l.n)(()=>{this.cleanup((0,d.fC)())}))}cleanup(e){return(this._mark=!1,1===this._status)?Promise.resolve((0,f.ly)()):(this._status=1,this._cleanup(e))}_calcType(){return(this._times=this._times%3,3==this._times++)?1:0}_cleanup(e){var t=this;return(0,c._)(function*(){var e;e=0===t._calcType()?.5:1,t._reportService.reportDevEvent("idb-cleanup",{percent:e});try{return yield t._cleanupDatabases(e),t._reportService.reportDevEvent("idb-cleanup-success",{percent:e}),(0,f.ly)()}catch(n){return t._reportService.reportDevError("idb-cleanup-error",n,{percent:e.toString()}),(0,p.Y_)(n)}finally{t._status=0}})()}_getCount(e){return new Promise((t,n)=>{var r=e.count();r.onsuccess=()=>{t(r.result)},r.onerror=e=>{n(e)}})}_cleanupTable(e,t,n){var r,i=this;return new Promise((r=(0,c._)(function*(r,o){var a=e.transaction(t,"readwrite"),c=a.objectStore(t);if(!c.indexNames.contains("updateTime")){r();return}a.onabort=()=>{o(a.error)},a.onerror=()=>{o(a.error)},a.oncomplete=()=>{r()};var u,l=c.index("updateTime"),d=IDBKeyRange.lowerBound(0),f=Math.floor((yield i._getCount(l))*n),h=0,p=!1,v=!1;try{for(var m,g=(0,s._)((0,_.v)(l,d,"next"));p=!(m=yield g.next()).done;p=!1){var y=m.value;if(y&&h<f)y.delete(),h++;else break}}catch(e){v=!0,u=e}finally{try{p&&null!=g.return&&(yield g.return())}finally{if(v)throw u}}}),function(e,t){return r.apply(this,arguments)}))}_cleanupDatabases(e){var t=this;return(0,c._)(function*(){for(var n of t._schemas.keys()){var r=yield t._databasePool.getDatabase(n);for(var i of r.objectStoreNames)yield t._cleanupTable(r,i,e)}})()}constructor(e,t,n){this._schemas=e,this._databasePool=t,this._reportService=n,this._status=0,this._times=0,this._mark=!1}}(0,u.gn)([(0,h.lI)("storage","cleanup"),(0,u.w6)("design:type",Function),(0,u.w6)("design:paramtypes",[void 0===d._y?Object:d._y]),(0,u.w6)("design:returntype","undefined"==typeof Promise?Object:Promise)],g.prototype,"cleanup",null),g=(0,u.gn)([(0,u.fM)(2,v.m),(0,u.w6)("design:type",Function),(0,u.w6)("design:paramtypes",["undefined"==typeof Map?Object:Map,void 0===m.T?Object:m.T,void 0===v.m?Object:v.m])],g)},352885:function(e,t,n){"use strict";n.d(t,{X:function(){return h}});var r=n(461228),i=n(789786),o=n(838255),a=n(980014),s=n(900268),c=n(818351),u=n(658742),l=n(474520),d=n(444133),f=n(464292);class h extends d.q{getSessionId(){return this._sdk.getSessionId()}getWebId(){var e=this;return(0,r._)(function*(){if(e._webId||(yield e._webIdMutexLock.lockShared(),e._webId))return e._webId;var t=yield new Promise(t=>{e._sdk.getToken(t,3e3)});return e._webIdMutexLock.unLockShared(),e._webId=t.web_id,e._webId})()}_canReport(){return!!this._cookieConsent.enable}_initSdk(e,t){var n,r;this._sdk.init({channel_domain:e.channelDomain,app_id:e.appId,disable_auto_pv:e.disableAutoPv,disable_sdk_monitor:!this._cookieConsent.enable,channel:e.channel,enable_ab_test:null!==(n=e.enableAbTest)&&void 0!==n&&n,ab_channel_domain:null!==(r=e.abChannelDomain)&&void 0!==r?r:"",autotrack:e.autoTrack,disable_webid:!!e.webId,max_report:e.maxReportMerge,reportTime:e.reportInterval}),e.disableAutoPv||super.disableReportPv(),this.setConfig(t),e.webId&&(this._webId=e.webId,this._sdk.config({web_id:e.webId})),!e.webId&&t.enableTTWid&&((0,a.Y2)(t.ttWidUnionHost,"must pass ttWidUnionHost when enableTTWid(true) and webId(no)."),this._prepareTtWebId(e.appId,t.ttWidUnionHost)),this._preparePermission()}_startSdk(){this._canReport()&&((0,a.Y2)(this._cookieConsent.enable),this._running||(this._sdk.start(),this._running=!0),this._flush())}_prepareTtWebId(e,t){var n=this;return(0,r._)(function*(){yield n._webIdMutexLock.lock(),(0,f.t)(e,t,n._sdk).then(e=>{e.ok||n._onBindTtWidError.fire()}).finally(()=>{n._webIdMutexLock.unLock()})})()}_preparePermission(){this._cookieConsent.enable||(0,s.V)(this._cookieConsent.onEnableChange)(()=>{this._startSdk()})}constructor(e,t,n){super(),this._cookieConsent=n,this._sdk=o.Z,this._running=!1,this._webId="",this._webIdMutexLock=new c.L,this._onBindTtWidError=new u.Q,this.onBindTtWidError=this._onBindTtWidError.event,this._initSdk(e,t),this._startSdk()}}h=(0,i.gn)([(0,i.fM)(2,l.n),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",["undefined"==typeof IOverseaInitOptions?Object:IOverseaInitOptions,"undefined"==typeof IBaseConfig?Object:IBaseConfig,void 0===l.n?Object:l.n])],h)},253223:function(e,t,n){"use strict";n.d(t,{X:function(){return r}});var r=(0,n(30276).yh)("theme-service")},846138:function(e,t,n){"use strict";n.d(t,{J:function(){return u}});var r=n(894508),i=n(963730),o=n(653889),a=n(183489),s=n(942515),c=n(646334);class u extends r.F{createChild(e){return new u(e,this)}dispose(){for(var e of this._childs)e.dispose();for(var[t,n]of(this._parent instanceof u&&this._parent._childs.delete(this),this._services.entries))if(!(n instanceof i.M)&&n!==this&&(0,o.Wf)(n)){var r;switch(null===(r=this.services.ownerships)||void 0===r?void 0:r.get(t)){case a.x.Reference:break;case a.x.Owned:default:n.dispose()}}}constructor(e=new s.y,t){super(e,t,e=>{(0,c.PB)(e,this)}),this._childs=new Set,this._parent instanceof u&&this._parent._childs.add(this)}}},27133:function(e,t,n){"use strict";n.d(t,{X:function(){return r}});var r=(0,n(30276).yh)("auto-beauty-data-service")},862601:function(e,t,n){"use strict";n.d(t,{v:function(){return r}});class r{setVar(e,t){this._map.get(e)&&void 0===t||this._map.set(e,t)}setVars(e){for(var t in e)this.setVar(t,e[t])}getVar(e){return this._map.get(e)}getVars(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e=0===e.length?Array.from(this._map.keys()):e;var t={};for(var n of e)t[n]=this._map.get(n);return t}constructor(e){this._map=new Map,this.setVars(e)}}},701733:function(e,t,n){"use strict";n.d(t,{A:function(){return _}});var r=n(461228),i=n(69984),o=n(789786),a=n(248176),s=n(327736),c=n(669403),u=n(816752),l=n(618230),d=n(963473),f=n(724499),h=n(470114),p=n(123951),v=n(530487);class _{get _networkClient(){if(!this._networkClientInstance){var e;this._networkClientInstance=(e=new s.yk().build(s.kk),(0,c.i3)(e),(0,l.V)(e),e)}return this._networkClientInstance}batchGetResources(e){var t=this;return(0,r._)(function*(){try{var n,r,i=yield t._networkClient.post(t._batchGetResourcesApi,t._convertParamsToRequest(e),(0,h._)(t._accountService.userProfile.region,p.ZP.language)),o=Number(null!==(n=i.ret)&&void 0!==n?n:0),a=null!==(r=i.errmsg)&&void 0!==r?r:"";if(0!==o)return(0,d.wf)(null!=o?o:-1,null!=a?a:"");var s=t._convertResponseToResourcesData(e,i);return(0,d.oW)(s)}catch(e){return(0,v.m)(e,-1,"[".concat(t.resourceType,"] batchGetResources api error"))}})()}buildCustomRequest(e){return{}}_convertParamsToRequest(e){var{items:t}=e,n=this.buildCustomRequest(e);return(0,i._)({},{items:t},n)}_convertResponseToResourcesData(e,t){return{list:t.data.effect_item_list.map(e=>this.parseHeycanResponseDataToResources(e))}}get _batchGetResourcesApi(){return"".concat(u._L.getVar("web_domain")).concat(f.bl.GET_THIRD_PARTY_RESOURCES_BY_ID)}constructor(e){this._accountService=e}}_=(0,o.gn)([(0,o.fM)(0,a.Gw),(0,o.w6)("design:type",Function),(0,o.w6)("design:paramtypes",[void 0===a.Gw?Object:a.Gw])],_)},103385:function(e,t,n){"use strict";n.d(t,{D:function(){return a}});var r=n(461228),i=n(394483),o=n(251705);function a(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(a)return e.postWithCache=e.post,e;var s=e.post;return e.postWithCache=(0,r._)(function*(){for(var e,r,a,c,u,l=arguments.length,d=Array(l),f=0;f<l;f++)d[f]=arguments[f];var h=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["appVersion","sdkVersion"];return Object.keys(t).filter(e=>-1===n.indexOf(e)).sort((e,t)=>e.localeCompare(t)).reduce((n,r)=>{var i=t[r];return(Array.isArray(i)?i=i.join(","):"object"==typeof i&&null!==i&&(i=e(i)),""===n)?"".concat(r,"_").concat(i):"".concat(n,"_").concat(r,"_").concat(i)},"")}(null!==(a=d[1])&&void 0!==a?a:{}),p=n?"".concat(n,"_").concat(h):h,v=(null===(e=d[1])||void 0===e?void 0:e.sortingPosition)!==0;if(!v){var _=yield t.database.connect(i.P.id,o.m.name);if(_.ok){u=_.value;var m=yield u.query(p);m.ok&&m.value&&(c=m.value)}}if(c)return s.apply(this,d).then(e=>{u&&e&&u.set(p,{id:p,request:d,response:e,maxAge:432e5})}),c.response;var g=yield s.apply(this,d),y=(null==g?void 0:null===(r=g.BaseResp)||void 0===r?void 0:r.StatusCode)===0;return u&&y&&!v&&u.set(p,{id:p,request:d,response:g,maxAge:432e5}),g}),e}},614562:function(e,t,n){"use strict";n.d(t,{s:function(){return r}});var r=(0,n(30276).yh)("curve-preset-data-service")},966210:function(e,t,n){"use strict";n.d(t,{_:function(){return r}});var r=(0,n(30276).yh)("draft-save-data-service")},609841:function(e,t,n){"use strict";n.d(t,{$:function(){return f}});var r=n(461228),i=n(327736),o=n(669403),a=n(89772),s=n(816752),c=n(618230),u=n(963473),l=n(883215),d=n(530487);class f{get _networkClient(){if(!this._networkClientInstance){var e;this._networkClientInstance=(e=new i.yk().build({headers:{"Content-Type":"application/json"}}),(0,o.i3)(e),(0,a.mH)(e),(0,c.V)(e),e)}return this._networkClientInstance}getToken(){var e=this;return(0,r._)(function*(){try{var t=yield e._networkClient.request({method:"post",url:e._api,withCredentials:!0});if("0"!==t.ret)return(0,u.wf)(Number(t.ret),t.errmsg);return(0,u.oW)({token:t.data.token,appKey:t.data.app_key})}catch(e){return(0,d.m)(e,-1,"getToken api error.")}})()}get _api(){return"".concat(s._L.getVar("web_domain")).concat(l.b.TEXT_TO_SPEECH)}}},976892:function(e,t,n){"use strict";n.d(t,{z:function(){return r}});var r=(0,n(30276).yh)("text-to-speech-data-service")},271846:function(e,t,n){"use strict";n.d(t,{k:function(){return c}});var r=n(789786),i=n(211928),o=n(861479),a=n(250047),s=n(977e3);class c extends o.i{getCoverResourceToken(){return this._getResourceTokenSync(this._createCoverToken.bind(this),()=>this._coverResourceToken,e=>this._coverResourceToken=e)}_createCoverToken(e){var t=this._getCoverResourceKey(),{url:n,decryptKey:r,shouldAutoDecrypt:i}=this.getCover(e);return(0,a.MZ)({key:t,url:n,decryptKey:r,shouldAutoDecrypt:i,encryptType:s.PS.AES_CBC},this._downloadService)}_getCoverResourceKey(){return"".concat(this.key,"_cover")}constructor(e,t,n){super(e,t),this.key=e,this._downloadService=n}}c=(0,r.gn)([(0,r.fM)(2,i.tx),(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",["undefined"==typeof IResourceKey?Object:IResourceKey,"undefined"==typeof Resource?Object:Resource,void 0===i.tx?Object:i.tx])],c)},551453:function(e,t,n){"use strict";n.d(t,{V:function(){return f}});var r=n(461228),i=n(69984),o=n(789786),a=n(211928),s=n(980014),c=n(466477),u=n(963046),l=n(811855),d=n(806797);class f extends l.R{getCover(e){return e.icon.urlList[0]}getContentUrl(e){return e.package.urlList[0]}get contentFileFilter(){return e=>"config.json"===e}doFetch(){var e=this;return(0,r._)(function*(){(0,s.Y2)(!(0,c.R)(e.value));var[t,n]=(yield e._curveSpeedDataService.batchGetCurveSpeedsByIds({enterFrom:e._configurationService.editorCategory,ids:[e.value.resourceId]})).pair();if(t)throw Error("doFetch error-".concat(t.code,"-").concat(t.msg));return(0,i._)({type:e.value.type},n.list[0])})()}constructor(e,t,n,r,i){super(e,t,n),this.key=e,this._downloadService=n,this._curveSpeedDataService=r,this._configurationService=i}}f=(0,o.gn)([(0,o.fM)(2,a.tx),(0,o.fM)(3,u.r),(0,o.fM)(4,d.Ui),(0,o.w6)("design:type",Function),(0,o.w6)("design:paramtypes",["undefined"==typeof IResourceKey?Object:IResourceKey,"undefined"==typeof ICurveSpeedMeta?Object:ICurveSpeedMeta,void 0===a.tx?Object:a.tx,void 0===u.r?Object:u.r,void 0===d.Ui?Object:d.Ui])],f)},399515:function(e,t,n){"use strict";n.d(t,{z:function(){return c}});var r=n(789786),i=n(251164),o=n(276665),a=n(963730),s=n(37011);class c extends i.e{createResource(e,t){return this._instantiationService.createInstance(new a.M(o.W,[e,t]))}constructor(e){super(e),this._instantiationService=e}}c=(0,r.gn)([(0,r.fM)(0,s.T),(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[void 0===s.T?Object:s.T])],c)},788559:function(e,t,n){"use strict";n.d(t,{a:function(){return h}});var r=n(461228),i=n(69984),o=n(789786),a=n(847025),s=n(211928),c=n(980014),u=n(466477),l=n(250047),d=n(998803),f=n(806797);class h extends d.m{getLightCoverResourceToken(){return this._getResourceTokenSync(this._createLightCoverToken.bind(this),()=>this._lightCoverResourceToken,e=>this._lightCoverResourceToken=e)}getDarkCoverResourceToken(){return this._getResourceTokenSync(this._createDarkCoverToken.bind(this),()=>this._darkCoverResourceToken,e=>this._darkCoverResourceToken=e)}_createDarkCoverToken(e){var t=this._getDarkCoverResourceKey(),n=e.themeIcon.dark.urlList[0];return(0,l.MZ)({key:t,url:n,md5:e.md5},this._downloadService)}_createLightCoverToken(e){var t=this._getLightCoverResourceKey(),n=e.themeIcon.light.urlList[0];return(0,l.MZ)({key:t,url:n,md5:e.md5},this._downloadService)}_getCoverResourceKey(){return"".concat(this.key,"_cover")}_getLightCoverResourceKey(){return"".concat(this._getCoverResourceKey(),"_light")}_getDarkCoverResourceKey(){return"".concat(this._getCoverResourceKey(),"_dark")}getContentUrl(e){return e.package.urlList[0]}doFetch(){var e=this;return(0,r._)(function*(){(0,c.Y2)(!(0,u.R)(e.value));var[t,n]=(yield e._maskDataService.batchGetMasksByIds({enterFrom:e._configurationService.editorCategory,ids:[e.value.resourceId]})).pair();if(t)throw Error("doFetch error-".concat(t.code,"-").concat(t.msg));return(0,i._)({type:e.value.type},n.list[0])})()}constructor(e,t,n,r,i){super(e,t,n),this.key=e,this._downloadService=n,this._maskDataService=r,this._configurationService=i}}h=(0,o.gn)([(0,o.fM)(2,s.tx),(0,o.fM)(3,a.n),(0,o.fM)(4,f.Ui),(0,o.w6)("design:type",Function),(0,o.w6)("design:paramtypes",["undefined"==typeof IResourceKey?Object:IResourceKey,"undefined"==typeof IMaskMeta?Object:IMaskMeta,void 0===s.tx?Object:s.tx,void 0===a.n?Object:a.n,void 0===f.Ui?Object:f.Ui])],h)},920961:function(e,t,n){"use strict";n.d(t,{h:()=>f});let r=n("461228"),i=n("69984"),o=n("789786");var a=(0,n("30276").yh)("path-animation-data-service");let s=n("211928"),c=n("980014"),u=n("466477"),l=n("49978"),d=n("806797");class f extends l.${getCover(e){return e.icon.urlList[0]}getContentUrl(e){return e.package.urlList[0]}get contentFilePathAnimation(){return e=>e.endsWith(".json")}doFetch(){var e=this;return(0,r._)(function*(){(0,c.Y2)(!(0,u.R)(e.value));var[t,n]=(yield e._pathAnimationDataService.batchGetPathAnimationsByIds({enterFrom:e._configurationService.editorCategory,ids:[e.value.resourceId]})).pair();if(t)throw Error("doFetch error-".concat(t.code,"-").concat(t.msg));return(0,i._)({type:e.value.type},n.list[0])})()}constructor(e,t,n,r,i){super(e,t,n),this.key=e,this._downloadService=n,this._pathAnimationDataService=r,this._configurationService=i}}f=(0,o.gn)([(0,o.fM)(2,s.tx),(0,o.fM)(3,a),(0,o.fM)(4,d.Ui),(0,o.w6)("design:type",Function),(0,o.w6)("design:paramtypes",["undefined"==typeof IResourceKey?Object:IResourceKey,"undefined"==typeof IPathAnimationMeta?Object:IPathAnimationMeta,void 0===s.tx?Object:s.tx,void 0===a?Object:a,void 0===d.Ui?Object:d.Ui])],f)},929739:function(e,t,n){"use strict";n.d(t,{P:()=>f});let r=n("461228"),i=n("69984"),o=n("789786");var a=(0,n("30276").yh)("shape-animation-data-service");let s=n("211928"),c=n("980014"),u=n("466477"),l=n("49978"),d=n("806797");class f extends l.${getCover(e){return e.icon.urlList[0]}getContentUrl(e){return e.package.urlList[0]}get contentFileShapeAnimation(){return e=>e.endsWith(".json")}doFetch(){var e=this;return(0,r._)(function*(){(0,c.Y2)(!(0,u.R)(e.value));var[t,n]=(yield e._shapeAnimationDataService.batchGetShapeAnimationsByIds({enterFrom:e._configurationService.editorCategory,ids:[e.value.resourceId]})).pair();if(t)throw Error("doFetch error-".concat(t.code,"-").concat(t.msg));return(0,i._)({type:e.value.type},n.list[0])})()}constructor(e,t,n,r,i){super(e,t,n),this.key=e,this._downloadService=n,this._shapeAnimationDataService=r,this._configurationService=i}}f=(0,o.gn)([(0,o.fM)(2,s.tx),(0,o.fM)(3,a),(0,o.fM)(4,d.Ui),(0,o.w6)("design:type",Function),(0,o.w6)("design:paramtypes",["undefined"==typeof IResourceKey?Object:IResourceKey,"undefined"==typeof IShapeAnimationMeta?Object:IShapeAnimationMeta,void 0===s.tx?Object:s.tx,void 0===a?Object:a,void 0===d.Ui?Object:d.Ui])],f)},332100:function(e,t,n){"use strict";n.d(t,{I:function(){return f}});var r=n(461228),i=n(789786),o=n(251164),a=n(610306),s=n(963730),c=n(37011),u=n(980014),l=n(432019),d=n(41239);class f extends o.e{createResource(e,t){return this._instantiationService.createInstance(new s.M(d.p,[e,t]))}constructor(e){super(e),this._instantiationService=e}}f=(0,i.gn)([(0,i.fM)(0,c.T),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[void 0===c.T?Object:c.T])],f),(0,i.gn)([(0,i.fM)(0,a.Y),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[void 0===a.Y?Object:a.Y])],class{load(){var e=this;return(0,r._)(function*(){e.environmentService.isProd?e._svgResource=yield Promise.all([n.e("8583"),n.e("3173"),n.e("7716"),n.e("9680")]).then(n.t.bind(n,421687,19)):e._svgResource=yield Promise.all([n.e("8583"),n.e("3173"),n.e("7716"),n.e("9680")]).then(n.t.bind(n,86573,19)),e.initAwaitLock.initDone()})()}get(e){(0,u.ZB)(this._svgResource);var t=this._svgResource.svgMap.find(t=>t.id===e);return null==t?void 0:t.svg}getAll(){return this._svgResource}constructor(e){this.environmentService=e,this.initAwaitLock=new l.G}})},211151:function(e,t,n){"use strict";n.d(t,{d:function(){return r},z:function(){return i}});var r={name:"resource-meta",key:"key",index:[{name:"updateTime",unique:!1}]},i={name:"resource",key:"uniqueIdWithDecryptHash",index:[{name:"updateTime",unique:!1}]}},556548:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=null},543302:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(535591),i=n(156940),o=n(556548),a=n(966465).Buffer;function s(e){return r.Z.isPlainObject(e)||r.Z.isArray(e)}function c(e){return r.Z.endsWith(e,"[]")?e.slice(0,-2):e}function u(e,t,n){return e?e.concat(t).map(function(e,t){return e=c(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}let l=r.Z.toFlatObject(r.Z,{},null,function(e){return/^is[A-Z]/.test(e)}),d=function(e,t,n){if(!r.Z.isObject(e))throw TypeError("target must be an object");t=t||new(o.Z||FormData);let d=(n=r.Z.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!r.Z.isUndefined(t[e])})).metaTokens,f=n.visitor||m,h=n.dots,p=n.indexes,v=(n.Blob||"undefined"!=typeof Blob&&Blob)&&r.Z.isSpecCompliantForm(t);if(!r.Z.isFunction(f))throw TypeError("visitor must be a function");function _(e){if(null===e)return"";if(r.Z.isDate(e))return e.toISOString();if(!v&&r.Z.isBlob(e))throw new i.Z("Blob is not supported. Use a Buffer instead.");return r.Z.isArrayBuffer(e)||r.Z.isTypedArray(e)?v&&"function"==typeof Blob?new Blob([e]):a.from(e):e}function m(e,n,i){let o=e;if(e&&!i&&"object"==typeof e){if(r.Z.endsWith(n,"{}"))n=d?n:n.slice(0,-2),e=JSON.stringify(e);else{var a;if(r.Z.isArray(e)&&(a=e,r.Z.isArray(a)&&!a.some(s))||(r.Z.isFileList(e)||r.Z.endsWith(n,"[]"))&&(o=r.Z.toArray(e)))return n=c(n),o.forEach(function(e,i){r.Z.isUndefined(e)||null===e||t.append(!0===p?u([n],i,h):null===p?n:n+"[]",_(e))}),!1}}return!!s(e)||(t.append(u(i,n,h),_(e)),!1)}let g=[],y=Object.assign(l,{defaultVisitor:m,convertValue:_,isVisitable:s});if(!r.Z.isObject(e))throw TypeError("data must be an object");return function e(n,i){if(!r.Z.isUndefined(n)){if(-1!==g.indexOf(n))throw Error("Circular reference detected in "+i.join("."));g.push(n),r.Z.forEach(n,function(n,o){!0===(!(r.Z.isUndefined(n)||null===n)&&f.call(t,n,r.Z.isString(o)?o.trim():o,i,y))&&e(n,i?i.concat(o):[o])}),g.pop()}}(e),t}},85481:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(535591),i=n(543302),o=n(424507);function a(e,t){return(0,i.Z)(e,new o.Z.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,i){return o.Z.isNode&&r.Z.isBuffer(e)?(this.append(t,e.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}},479107:function(e,t,n){"use strict";n.d(t,{s:function(){return a}});var r=n(540723),i=n(167275),o=n(453740);function a(e){return function(t,{clientOffset:n}={}){(0,r.k)(Array.isArray(t),"Expected targetIds to be an array.");let a=t.slice(0),s=e.getMonitor(),c=e.getRegistry();return function(e,t,n){for(let r=e.length-1;r>=0;r--){let o=e[r],a=t.getTargetType(o);(0,i.s)(a,n)||e.splice(r,1)}}(a,c,s.getItemType()),function(e,t,n){(0,r.k)(t.isDragging(),"Cannot call hover while not dragging."),(0,r.k)(!t.didDrop(),"Cannot call hover after drop.");for(let t=0;t<e.length;t++){let i=e[t];(0,r.k)(e.lastIndexOf(i)===t,"Expected targetIds to be unique in the passed array.");let o=n.getTarget(i);(0,r.k)(o,"Expected targetIds to be registered.")}}(a,s,c),function(e,t,n){e.forEach(function(e){n.getTarget(e).hover(t,e)})}(a,s,c),{type:o.$T,payload:{targetIds:a,clientOffset:n||null}}}}},325124:function(e,t,n){"use strict";n.d(t,{U:function(){return i}});var r=n(453740);function i(e){return function(){if(e.getMonitor().isDragging())return{type:r.js}}}},502950:function(e,t,n){"use strict";function r(e,t,n){let r=0,i=e.length;for(;i>0;){let o=Math.trunc(i/2),a=r+o;0>=n(e[a],t)?(r=++a,i-=o+1):i=o}return r}n.d(t,{Z:function(){return r}})},658683:function(e,t,n){"use strict";n.nc="argus-csp-token"}}]);