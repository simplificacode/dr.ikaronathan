/*!
* @ies/filter-xss v3.1.4
* (c) 2024
*/var e,t;e=this,t=function(e){"use strict";var t=function(){return(t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function n(e,t,n){if(n||2==arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var r=/[^a-zA-Z0-9\\_:.-]/gim,i=/</g,o=/>/g,a=/&#([a-zA-Z0-9]*);?/gim,s=/&quot;/g,c=/&colon;?/gim,u=/&newline;?/gim,l=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,d=/u\s*r\s*l\s*\(.*/gi,f=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,p=/"/g,h=function(e){return e.replace(i,"&lt;").replace(o,"&gt;")},v={indexOf:function(e,t){var n,r;for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return -1},forEach:function(e,t,n){var r,i;for(r=0,i=e.length;r<i;r++)t.call(n,e[r],r,e)},some:function(e,t,n){var r,i;for(r=0,i=e.length;r<i;r++)if(t.call(n,e[r],r,e))return!0;return!1},trim:function(e){return e.replace(/(^\s*)|(\s*$)/g,"")},includes:function(e,t){if("string"==typeof e)return -1!==e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return!0;return!1},spaceIndex:function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1},uniq:function(e){for(var t={},n=[],r=0;r<e.length;r++)t[e[r]]||(n.push(e[r]),t[e[r]]=!0);return n},from:function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t},keys:function(e){var t=[];for(var n in e)t.push(n);return t}};function g(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]?e.substr(1,e.length-2):e}function y(e){var t,n,r,i,o,a,s,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u="",l=0;for(e=function(e){e=e.replace(/rn/g,"n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?t+=String.fromCharCode(r>>6|192)+String.fromCharCode(63&r|128):t+=String.fromCharCode(r>>12|224)+String.fromCharCode(r>>6&63|128)+String.fromCharCode(63&r|128)}return t}(e);l<e.length;)i=(t=e.charCodeAt(l++))>>2,o=(3&t)<<4|(n=e.charCodeAt(l++))>>4,a=(15&n)<<2|(r=e.charCodeAt(l++))>>6,s=63&r,isNaN(n)?a=s=64:isNaN(r)&&(s=64),u=u+c.charAt(i)+c.charAt(o)+c.charAt(a)+c.charAt(s);return u}function m(e){var t,n,r,i,o,a,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c="",u=0;for(e=e.replace(/[^A-Za-z0-9+/=]/g,"");u<e.length;)t=s.indexOf(e.charAt(u++))<<2|(i=s.indexOf(e.charAt(u++)))>>4,n=(15&i)<<4|(o=s.indexOf(e.charAt(u++)))>>2,r=(3&o)<<6|(a=s.indexOf(e.charAt(u++))),c+=String.fromCharCode(t),64!==o&&(c+=String.fromCharCode(n)),64!==a&&(c+=String.fromCharCode(r));return function(e){for(var t="",n=0,r=0,i=0;n<e.length;)(r=e.charCodeAt(n))<128?(t+=String.fromCharCode(r),n++):r>191&&r<224?(t+=String.fromCharCode((31&r)<<6|63&e.charCodeAt(n+1)),n+=2):(t+=String.fromCharCode((15&r)<<12|(63&e.charCodeAt(n+1))<<6|63&e.charCodeAt(n+2)),n+=3);return t}(c)}function _(e,t,n){var r="",i=0,o=!1,a=!1,s=0,c=e.length,u="",l="";e:for(s=0;s<c;s++){var d=e.charAt(s);if(!1===o){if("<"===d){o=s;continue}}else if(!1===a){if("<"===d){r+=n(e.slice(i,s)),o=s,i=s;continue}if(">"===d||s===c-1){r+=n(e.slice(i,o)),u=function(e){var t,n=v.spaceIndex(e);return t=-1===n?e.slice(1,-1):e.slice(1,n+1),"/"===(t=v.trim(t).toLowerCase()).slice(0,1)&&(t=t.slice(1)),"/"===t.slice(-1)&&(t=t.slice(0,-1)),t}(l=e.slice(o,s+1)),r+=t(o,r.length,u,l,"</"===l.slice(0,2)),i=s+1,o=!1;continue}if('"'===d||"'"===d)for(var f=1,p=e.charAt(s-f);""===p.trim()||"="===p;){if("="===p){a=d;continue e}p=e.charAt(s-++f)}}else if(d===a){a=!1;continue}}return i<c&&(r+=n(e.substr(i))),r}function b(e,t){var n=0,i=0,o=[],a=!1,s=e.length;function c(e,n){if(!((e=(e=v.trim(e)).replace(r,"").toLowerCase()).length<1)){var i=t(e,n||"");i&&o.push(i)}}for(var u=0;u<s;u++){var l=e.charAt(u),d=void 0;if(!1!==a||"="!==l){if(!1===a||u!==i){if(/\s|\n|\t/.test(l)){if(e=e.replace(/\s|\n|\t/g," "),!1===a){if(-1===(d=function(e,t){for(;t<e.length;t++){var n=e[t];if(" "!==n)return"="===n?t:-1}return -1}(e,u))){c(v.trim(e.slice(n,u))),a=!1,n=u+1;continue}u=d-1;continue}if(-1===(d=function(e,t){for(;t>0;t--){var n=e[t];if(" "!==n)return"="===n?t:-1}return -1}(e,u-1))){c(a,g(v.trim(e.slice(n,u)))),a=!1,n=u+1;continue}}}else{if(-1===(d=e.indexOf(l,u+1)))break;c(a,v.trim(e.slice(i+1,d))),a=!1,n=(u=d)+1}}else a=e.slice(n,u),n=u+1,i='"'===e.charAt(n)||"'"===e.charAt(n)?n:function(e,t){for(;t<e.length;t++){var n=e[t];if(" "!==n)return"'"===n||'"'===n?t:-1}return -1}(e,u+1)}return n<e.length&&(!1===a?c(e.slice(n)):c(a,g(v.trim(e.slice(n))))),v.trim(o.join(" "))}function S(e,t,n){var r,i;if(n=function(e){for(var t="",n=0,r=e.length;n<r;n++)t+=32>e.charCodeAt(n)?" ":e.charAt(n);return v.trim(t)}(n.replace(s,'"').replace(a,function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))}).replace(c,":").replace(u," ")),"href"===t||"src"===t){if("#"===(n=v.trim(n)))return"#";if("http://"!==n.substr(0,7)&&"https://"!==n.substr(0,8)&&"mailto:"!==n.substr(0,7)&&"tel:"!==n.substr(0,4)&&"data:image/"!==n.substr(0,11)&&"ftp://"!==n.substr(0,6)&&"./"!==n.substr(0,2)&&"../"!==n.substr(0,3)&&"#"!==n[0]&&"/"!==n[0])return""}else if("background"===t){if(l.lastIndex=0,l.test(n))return""}else if("style"===t&&(f.lastIndex=0,f.test(n)||(d.lastIndex=0,d.test(n)&&(l.lastIndex=0,l.test(n)))))return"";return n=h(n.replace(p,"&quot;"))}var T=function(e){return"string"==typeof e?e.replace(/'/g,'"').replace('=""',"").replace(/\s+/g,"").toLowerCase():""},w=function(){function e(e){var t=function(e){var t={};for(var n in e)t[n]=e[n];return t}(e||{});t.stripIgnoreTag&&(t.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),t.onIgnoreTag=function(){return""}),t.whiteList={},t.onTag=function(){},t.onTagAttr=function(){},t.onIgnoreTag=function(){},t.onIgnoreTagAttr=function(){},t.safeAttrValue=S,t.escapeHtml=h,this.options=Object.assign(t,e)}return e.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t,n,r,i,o,a=this.options,s=a.whiteList,c=a.onTag,u=a.onIgnoreTag,l=a.onTagAttr,d=a.onIgnoreTagAttr,f=a.safeAttrValue,p=a.escapeHtml;a.stripBlankChar&&(e=e.split("").filter(function(e){var t=e.charCodeAt(0);return!(127===t||t<=31&&10!==t&&13!==t)}).join("")),a.allowCommentTag||(e=function(e){for(var t="",n=0;n<e.length;){var r=e.indexOf("<!--",n);if(-1===r){t+=e.slice(n);break}t+=e.slice(n,r);var i=e.indexOf("-->",r);if(-1===i)break;n=i+3}return t}(e));var h=!1;a.stripIgnoreTagBody&&(t=a.stripIgnoreTagBody,"function"!=typeof(n=u)&&(n=function(){}),r=!Array.isArray(t),i=[],o=!1,u=(h={onIgnoreTag:function(e,a,s){if(r||-1!==v.indexOf(t,e)){if(s.isClosing){var c=s.position+10;return i.push([!1!==o?o:s.position,c]),o=!1,"[/removed]"}return o||(o=s.position),"[removed]"}return n(e,a,s)},remove:function(e){var t="",n=0;return v.forEach(i,function(r){t+=e.slice(n,r[0]),n=r[1]}),t+=e.slice(n)}}).onIgnoreTag);var g=_(e,function(e,t,n,r,i){var o={sourcePosition:e,position:t,isClosing:i,isWhite:Object.prototype.hasOwnProperty.call(s,n)},a=c(n,r,o);if(null!=a)return a;if(o.isWhite){if(o.isClosing)return"</".concat(n,">");var h=function(e){var t=v.spaceIndex(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var n="/"===(e=v.trim(e.slice(t+1,-1)))[e.length-1];return n&&(e=v.trim(e.slice(0,-1))),{html:e,closing:n}}(r),g=s[n],y=b(h.html,function(e,t){var r=-1!==v.indexOf(g,e),i=l(n,e,t,r);return null==i?r?(t=f(n,e,t,null))?"".concat(e,'="').concat(t,'"'):e:null==(i=d(n,e,t,r))?void 0:i:i});return r="<".concat(n),y&&(r+=" ".concat(y)),h.closing&&(r+=" /"),r+=">"}return null==(a=u(n,r,o))?p(r):a},p);return h&&(g=h.remove(g)),g},e}(),E=!0,k=function(e){return e&&e.Math==Math&&e},C=k("object"==typeof globalThis&&globalThis)||k("object"==typeof window&&window)||k("object"==typeof self&&self)||k("object"==typeof global&&global)||Function("return this")();try{!0!==(E=!!(E=String(E)).startsWith("<%=")||JSON.parse(E))&&"true"!==E||(C=Function("\nvar _checkXSS = function (it) {\n  return it && it.Math == Math && it;\n};\nreturn _checkXSS(typeof globalThis === 'object' && globalThis) ||\n_checkXSS(typeof window === 'object' && window) ||\n_checkXSS(typeof self === 'object' && self) ||\n_checkXSS(typeof global === 'object' && global) ||\nFunction('return this')();\n")())}catch(e){console.log(e)}var I=new(function(){function e(){var e=this;this.batchData=[],this.uniqKeys=new Set,this.timeout=2e3,this.lock=!1,this.isSetedConfig=!1,this.getSlardarBid=function(){var t,n,r="cc_web_smart_tools";if(!v.includes(r,"bid"))return r;if(e.config&&e.config.bid)return e.config.bid;var i=C;if(i&&i._xssBid)return i._xssBid;if(i&&i.slardar&&"function"==typeof i.slardar.config){var o=(i.slardar.config()||{}).bid;if(o)return o}if(i&&i.Slardar&&"function"==typeof i.Slardar.config){var a=(i.Slardar.config()||{}).bid;if(a)return a}return(null===(n=null===(t=null==i?void 0:i.Slardar)||void 0===t?void 0:t._baseParams)||void 0===n?void 0:n.bid)||"argus"},this.getConfigRegion=function(){var t,n="maliva";return v.includes(n,"region")?e.config&&e.config.region?e.config.region:((null===(t=null==C?void 0:C.gfdatav1)||void 0===t?void 0:t.region)||"cn").toLowerCase():n},this.gerReportUrl=function(){var t={cn:m("aHR0cHM6Ly9tb24uemlqaWVhcGkuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),boe:m("aHR0cHM6Ly9tb24uemlqaWVhcGkuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),ttp:m("aHR0cHM6Ly9tb24udXMudGlrdG9rdi5jb20vbW9uaXRvcl9icm93c2VyL2NvbGxlY3QvYmF0Y2gvc2VjdXJpdHkvP2JpZD0="),va:m("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),maliva:m("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),sg:m("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),boei18n:m("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9")}[e.getConfigRegion()];if(t)return t+e.getSlardarBid()}}return e.prototype.setConfig=function(e){this.isSetedConfig||(this.config=e)},e.prototype.upload=function(){var e=this;if(!this.config||!this.config.isCloseSSRReport||(null==C?void 0:C.document)){var t=!1;t=String(!1);try{if((!0===(t=!t.startsWith("<%=")&&JSON.parse(t))||"true"===t)&&!(null==C?void 0:C.document))return}catch(e){console.log(e)}var n=this.gerReportUrl();!this.lock&&n&&0!==this.batchData.length&&(this.lock=!0,setTimeout(function(){var t=e.batchData.slice(0,100);e.batchData=e.batchData.slice(100),C.fetch(n,{method:"post",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).catch(function(e){console.warn("xss defense report error",e)}),e.lock=!1,e.upload()},this.timeout))}},e.prototype.generateKey=function(e){return e.collectKey?[e.collectMode,e.collectKey].join("___"):""},e.prototype.push=function(e){this.batchData.push(e),this.upload()},e.prototype.report=function(e){var t=this.generateKey(e);if(C.fetch&&e.collectKey){var n="SSR";void 0!==C&&void 0!==C.location&&void 0!==C.location.href&&(n=C.location.href),e.documentUrl=n;var r={age:Math.floor(Date.now()),type:"xss",url:n,body:e,"user-agent":""};r.url="".concat(t,"___").concat(e.documentUrl),"SSR"===n&&(r.url="SSR___".concat(r.url),r.body.ssr=!0),this.push(r)}},e}());function M(e,t){return I.setConfig(t),new w(t).process(e)}var A=function(e){return -1===(e=(e=(e=(e=e.replace(/&colon;/gi,":")).replace(/&tab;/gi,"")).replace(/&newline;/gi,"")).replace(/(\t|\n|\r)/g,"")).indexOf("&#")?e.trim().toLowerCase():e.trim().replace(/&#(?:(x)([0-9a-f]+)|([0-9]+));?/gi,function(e,t,n,r){return String.fromCharCode(t?parseInt(n,16):parseInt(r))}).replace(/(\t|\n|\r)/g,"").toLowerCase()};function x(e,t){if(void 0===e&&(e=""),"string"!=typeof e)return!0;if(e=A(e),v.includes(e,"base64")&&!function(e){if(""===e||""===e.trim())return!0;try{return!v.includes(e,"data:text/html;base64")}catch(e){return!0}}(e))return t&&t("data:text/html;base64"),!1;var n=["expression(","behavior:","view-source:"];if(v.some(n,function(t){return -1!==e.indexOf(t)}))return v.forEach(n,function(n){-1!==e.indexOf(n)&&t&&t(n)}),!1;var r=["data:application","data:javascript","data:text/html","data:texthtml"];if(v.some(r,function(t){return -1!==e.indexOf(t)}))return v.forEach(r,function(n){-1!==e.indexOf(n)&&t&&t(n)}),!1;if(e.indexOf("javascript:")>0)return t&&t("javascript:"),!1;if(/^javascript:/i.test(e)){var i=e.slice(11).replace(/\s/g,"").trim();return!!v.some(["void","void(0)","void0","false","undefined",";"],function(e){return e===i})||(t&&t("javascript:"),!1)}return!0}var O=function(e,t){var n,r,i=!1;if(i=String(!1),"string"!=typeof e||(r=Number(1e4),void 0!==n&&(r=n),"NaN"!==r.toString()&&-1!==r&&e.length>=r)||x(e,t))return e;try{if(!0===(i=!i.startsWith("<%=")&&JSON.parse(i))||"true"===i){var o=new URL(e);return o.origin+o.pathname}}catch(e){return console.log(e),"#"}return"#"};function R(e,t,r){if(void 0===e&&(e=""),void 0===t&&(t=[]),"string"!=typeof e)return!0;if(!x(e=A(e)))return!1;var i,o={url:(i=e.match(/^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/)||[])[0],scheme:i[1],slash:i[2],host:i[3],port:i[4],path:i[5],query:i[6],hash:i[7]},a=o.scheme,s=o.host;return r?!!r(e):!(!a||!s)&&(!v.includes(["http","https","file"],a)||("object"==typeof window&&window&&(t=n(n([],t,!0),[location.host],!1)),v.some(t,function(e){return!!(e instanceof RegExp&&e.test(s))||e===s})))}var L=function(e,t){for(var n={},r=0,i=v.keys(e);r<i.length;r++){var o=i[r];Array.isArray(e[o])?n[o]=v.from(e[o]):n[o]=L({},e[o])}for(var a=0,s=v.keys(t);a<s.length;a++)(o=s[a])in e?Array.isArray(e[o])?n[o]=e[o].concat(t[o]):n[o]=L(e[o],t[o]):Array.isArray(t[o])?n[o]=v.from(t[o]):n[o]=L({},t[o]);return n},D={blackList:{a:["folder"],meta:["content"],iframe:["srcdoc"],input:["pattern"],vmlframe:["xmlns"]},blackTags:["script","xml","embed","isindex","object","base","set","handler","animate","payload","import"],blackAttrs:["charset","ns","namespace","formaction","xlink:href","xmlns:xlink","handler","repeat","repeat-start","repeat-end"],blackAttrRegExps:[/^on/],filterList:{param:["value"],video:["poster"],form:["action"]},filterAttrs:["href","src","background","style","dynsrc","lowsrc","content"],specialContentClosure:["title","style","noscript","textarea","xmp","iframe","noembed","noframes"]};try{var P={};P.blackAttrRegExps&&(P.blackAttrRegExps=P.blackAttrRegExps.map(function(e){return new RegExp(e.toString().slice(1,e.toString().length-1))}));var N="merge";v.includes(N,"override")&&(D=P),v.includes(N,"merge")&&(D=L(D,P))}catch(e){console.log(e)}var B={mode:"black",whiteList:{},blackConfig:D,collect:null,initCollect:function(){B.collect={blackList:{},blackTags:[],blackAttrs:[],blackAttrRegExps:[],filterAttrs:[],filterList:{},filterProtocol:[]}},removeCollect:function(){var e=function(e){for(var t=0,n=function(n){Array.isArray(e[n])?0===e[n].length?delete e[n]:(e[n]=v.from(v.uniq(e[n])),t+=e[n].length):0===v.keys(e[n]).length?delete e[n]:v.keys(e[n]).forEach(function(r){e[n][r]=v.from(v.uniq(e[n][r])),t+=e[n][r].length})},r=0,i=v.keys(e);r<i.length;r++)n(i[r]);return{count:t,ret:e}}(B.collect),t=e.count,n=e.ret;return B.collect=null,{collectKey:0===t?null:JSON.stringify(n),collectMode:"black"}},onIgnoreTag:function(e,t){var n;if(!v.includes(D.blackTags,e))return _(t,function(e,t,n,r,i){if(-1!==n.indexOf("/"))return h(r);if(i)return"</".concat(n,">");var o=function(e){var t,n=(t=/\s|\n|\t/.exec(e))?t.index:-1;if(-1===n)return{html:"",closing:"/"===e[e.length-2]};var r="/"===(e=e.slice(n+1,-1).trim())[e.length-1];return r&&(e=e.slice(0,-1).trim()),{html:e,closing:r}}(r),a=b(o.html,function(e,t){var r,i,o=0;if(D.blackList[n]&&v.includes(D.blackList[n],e)&&(B.collect.blackList[n]=B.collect.blackList[n]||[],B.collect.blackList[n].push(e),o++),D.blackAttrRegExps.length&&D.blackAttrRegExps.some(function(t){return t.test(e)})&&v.forEach(D.blackAttrRegExps,function(t){t.test(e)&&(B.collect.blackAttrRegExps.push("".concat(t.toString(),"->").concat(e)),o++)}),D.blackAttrs.length&&v.includes(D.blackAttrs,e)&&(D.blackAttrs.push(e),o++),!o){if(Array.isArray(D.specialContentClosure)&&"string"==typeof t&&D.specialContentClosure.find(function(e){return t.includes("</".concat(e,">"))})){null===(r=B.collect)||void 0===r||r.filterAttrs.push(e);var a="#";return t?"".concat(e,"='").concat(a,"'"):e}return D.filterList&&D.filterList[n]&&v.includes(D.filterList[n],e)?((a=O(t,function(e){var t;null===(t=B.collect)||void 0===t||t.filterProtocol.push(e)}))!==t&&(B.collect.filterList[n]=B.collect.filterList[n]||[],B.collect.filterList[n].push(e)),t?"".concat(e,"='").concat(a,"'"):e):D.filterAttrs&&v.includes(D.filterAttrs,e)?((a=O(t,function(e){var t;null===(t=B.collect)||void 0===t||t.filterProtocol.push(e)}))!==t&&(null===(i=B.collect)||void 0===i||i.filterAttrs.push(e)),t?"".concat(e,"='").concat(a,"'"):e):t?"".concat(e,"='").concat(t,"'"):e}});return r="<".concat(n),a&&(r+=" ".concat(a)),o.closing&&(r+=" /"),r+=">"},h);null===(n=B.collect)||void 0===n||n.blackTags.push(e)}},U=function(e){var t=e.reportOnly,n=void 0===t||t,r=e.block;return n&&"all"===n?"report":("string"==typeof n&&("true"===n&&(n=!0),"false"===n&&(n=!1)),r?"enforce":n?"report":"enforce")},j=function(e){return function(n,r,i){if(!n||"string"!=typeof n)return n;var o=r;e===M&&(o=B).initCollect();var a=e(n,o);if(T(a)===T(n))return n;if(!i)return a;var s=i.logType,c=U(i),u=o.removeCollect();return I.report(t(t({type:s,disposition:c},u),{sourceText:y(n.replace(/'/g,'"')),filterText:y(a.replace(/'/g,'"'))})),"enforce"===c?a:n}},F=j(function(e,t){return void 0===t&&(t={}),t&&t.whiteList||(t.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}),new w(t).process(e)}),W=j(M),G=function(e,t,n){var r=[],i=O(e,function(e){r.push(e)});if(i===e)return e;r=v.from(v.uniq(r));var o=t||n||{};if(!o)return i;var a=o.logType,s=U(n);return I.report({type:a,disposition:s,collectKey:r.join("___"),collectData:JSON.stringify(r),collectMode:"black",sourceText:y(e),filterText:y(i)}),"enforce"===s?i:e},H=C._xssProject||{},z=C.xssNamespace||{},K="3.1.4",Z={FilterXSS:w,version:K,webpackPluginVersion:"3.1.9",reportOnly:"all",filterXSS:F,_filterXSS:W,filterUrl:G,BlackConfig:B,project:H,setProjectName:function(e){H[e]=this,C._xssProjectName=e}};z["lvweb/smart-tools"]=Z,C.xssNamespace=z,C.Math&&!C.Math.xssNamespace&&(C.Math.xssNamespace=z),H[K]=Z,C.globalThis=C,C.getFilterXss=function(){return void 0!==this._xssProjectName?this._xssProject[this._xssProjectName]:Z},C.xss=Z,C.isSafeUrl=R,C.isSafeDomain=R,C.isSafeProtocol=x,C._xssProject=H,C._xssProjectName&&(H[C._xssProjectName]=Z);var V=Z.setProjectName.bind(Z);e.BlackConfig=B,e.FilterXSS=w,e._filterXSS=W,e.filterUrl=G,e.filterXSS=F,e.isSafeDomain=R,e.isSafeProtocol=x,e.isSafeUrl=R,e.project=H,e.setProjectName=V,e.setXssNamespace=function(e){var t=e.appId,n=e.bid,r=e.region,i=e.isCloseSSRReport;z[t]=Z,B.bid=n,B.region=r,B.enabled=!0,B.isCloseSSRReport=i},e.xssNamespace=z,Object.defineProperty(e,"__esModule",{value:!0})},"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).xss={}),(self.webpackChunksmart_tools=self.webpackChunksmart_tools||[]).push([["1423"],{69458:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var r,i,o,a,s,c,u,l,d,f,p,h,v,g,y,m,_,b,S,T,w,E,k,C,I,M,A,x=function(){return(x=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},writable:!0,configurable:!0});var O="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function R(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(e,null==t?n.path:t)}},n.exports),n.exports}var L=function(e){return e&&e.Math==Math&&e},D=L("object"==typeof globalThis&&globalThis)||L("object"==typeof window&&window)||L("object"==typeof self&&self)||L("object"==typeof O&&O)||function(){return this}()||Function("return this")(),P=Function.prototype,N=P.apply,B=P.bind,U=P.call,j="object"==typeof Reflect&&Reflect.apply||(B?U.bind(N):function(){return U.apply(N,arguments)}),F=Function.prototype,W=F.bind,G=F.call,H=W&&W.bind(G),z=W?function(e){return e&&H(G,e)}:function(e){return e&&function(){return G.apply(e,arguments)}},K=function(e){return"function"==typeof e},Z=function(e){try{return!!e()}catch(e){return!0}},V=!Z(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),X=Function.prototype.call,Y=X.bind?X.bind(X):function(){return X.apply(X,arguments)},q={}.propertyIsEnumerable,J=Object.getOwnPropertyDescriptor,Q={f:J&&!q.call({1:2},1)?function(e){var t=J(this,e);return!!t&&t.enumerable}:q},$=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},ee=z({}.toString),et=z("".slice),en=function(e){return et(ee(e),8,-1)},er=D.Object,ei=z("".split),eo=Z(function(){return!er("z").propertyIsEnumerable(0)})?function(e){return"String"==en(e)?ei(e,""):er(e)}:er,ea=D.TypeError,es=function(e){if(void 0==e)throw ea("Can't call method on "+e);return e},ec=function(e){return eo(es(e))},eu=function(e){return"object"==typeof e?null!==e:K(e)},el={},ed=function(e){return K(e)?e:void 0},ef=function(e,t){return arguments.length<2?ed(el[e])||ed(D[e]):el[e]&&el[e][t]||D[e]&&D[e][t]},ep=z({}.isPrototypeOf),eh=ef("navigator","userAgent")||"",ev=D.process,eg=D.Deno,ey=ev&&ev.versions||eg&&eg.version,em=ey&&ey.v8;em&&(s=(a=em.split("."))[0]>0&&a[0]<4?1:+(a[0]+a[1])),!s&&eh&&(!(a=eh.match(/Edge\/(\d+)/))||a[1]>=74)&&(a=eh.match(/Chrome\/(\d+)/))&&(s=+a[1]);var e_=s,eb=!!Object.getOwnPropertySymbols&&!Z(function(){var e=Symbol();return!String(e)||!(Object(e) instanceof Symbol)||!Symbol.sham&&e_&&e_<41}),eS=eb&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,eT=D.Object,ew=eS?function(e){return"symbol"==typeof e}:function(e){var t=ef("Symbol");return K(t)&&ep(t.prototype,eT(e))},eE=D.String,ek=function(e){try{return eE(e)}catch(e){return"Object"}},eC=D.TypeError,eI=function(e){if(K(e))return e;throw eC(ek(e)+" is not a function")},eM=function(e,t){var n=e[t];return null==n?void 0:eI(n)},eA=D.TypeError,ex=function(e,t){var n,r;if("string"===t&&K(n=e.toString)&&!eu(r=Y(n,e))||K(n=e.valueOf)&&!eu(r=Y(n,e))||"string"!==t&&K(n=e.toString)&&!eu(r=Y(n,e)))return r;throw eA("Can't convert object to primitive value")},eO=Object.defineProperty,eR="__core-js_shared__",eL=D[eR]||function(e,t){try{eO(D,e,{value:t,configurable:!0,writable:!0})}catch(n){D[e]=t}return t}(eR,{}),eD=R(function(e){(e.exports=function(e,t){return eL[e]||(eL[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.20.1",mode:"pure",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"})}),eP=D.Object,eN=function(e){return eP(es(e))},eB=z({}.hasOwnProperty),eU=Object.hasOwn||function(e,t){return eB(eN(e),t)},ej=0,eF=Math.random(),eW=z(1..toString),eG=function(e){return"Symbol("+(void 0===e?"":e)+")_"+eW(++ej+eF,36)},eH=eD("wks"),ez=D.Symbol,eK=ez&&ez.for,eZ=eS?ez:ez&&ez.withoutSetter||eG,eV=function(e){if(!eU(eH,e)||!(eb||"string"==typeof eH[e])){var t="Symbol."+e;eb&&eU(ez,e)?eH[e]=ez[e]:eS&&eK?eH[e]=eK(t):eH[e]=eZ(t)}return eH[e]},eX=D.TypeError,eY=eV("toPrimitive"),eq=function(e,t){if(!eu(e)||ew(e))return e;var n,r=eM(e,eY);if(r){if(void 0===t&&(t="default"),!eu(n=Y(r,e,t))||ew(n))return n;throw eX("Can't convert object to primitive value")}return void 0===t&&(t="number"),ex(e,t)},eJ=function(e){var t=eq(e,"string");return ew(t)?t:t+""},eQ=D.document,e$=eu(eQ)&&eu(eQ.createElement),e0=function(e){return e$?eQ.createElement(e):{}},e1=!V&&!Z(function(){return 7!=Object.defineProperty(e0("div"),"a",{get:function(){return 7}}).a}),e2=Object.getOwnPropertyDescriptor,e6=V?e2:function(e,t){if(e=ec(e),t=eJ(t),e1)try{return e2(e,t)}catch(e){}if(eU(e,t))return $(!Y(Q.f,e,t),e[t])},e3=/#|\.prototype\./,e5=function(e,t){var n=e8[e4(e)];return n==e9||n!=e7&&(K(t)?Z(t):!!t)},e4=e5.normalize=function(e){return String(e).replace(e3,".").toLowerCase()},e8=e5.data={},e7=e5.NATIVE="N",e9=e5.POLYFILL="P",te=z(z.bind),tt=function(e,t){return eI(e),void 0===t?e:te?te(e,t):function(){return e.apply(t,arguments)}},tn=D.String,tr=D.TypeError,ti=function(e){if(eu(e))return e;throw tr(tn(e)+" is not an object")},to=D.TypeError,ta=Object.defineProperty,ts={f:V?ta:function(e,t,n){if(ti(e),t=eJ(t),ti(n),e1)try{return ta(e,t,n)}catch(e){}if("get"in n||"set"in n)throw to("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},tc=V?function(e,t,n){return ts.f(e,t,$(1,n))}:function(e,t,n){return e[t]=n,e},tu=function(e){var t=function(n,r,i){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(n);case 2:return new e(n,r)}return new e(n,r,i)}return j(e,this,arguments)};return t.prototype=e.prototype,t},tl=function(e,t){var n,r,i,o,a,s,c,u,l=e.target,d=e.global,f=e.stat,p=e.proto,h=d?D:f?D[l]:(D[l]||{}).prototype,v=d?el:el[l]||tc(el,l,{})[l],g=v.prototype;for(i in t)n=!e5(d?i:l+(f?".":"#")+i,e.forced)&&h&&eU(h,i),a=v[i],n&&(s=e.noTargetGet?(u=e6(h,i))&&u.value:h[i]),o=n&&s?s:t[i],(!n||typeof a!=typeof o)&&(c=e.bind&&n?tt(o,D):e.wrap&&n?tu(o):p&&K(o)?z(o):o,(e.sham||o&&o.sham||a&&a.sham)&&tc(c,"sham",!0),tc(v,i,c),p&&(eU(el,r=l+"Prototype")||tc(el,r,{}),tc(el[r],i,o),e.real&&g&&!g[i]&&tc(g,i,o)))},td=eD("keys"),tf=function(e){return td[e]||(td[e]=eG(e))},tp=!Z(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),th=tf("IE_PROTO"),tv=D.Object,tg=tv.prototype,ty=tp?tv.getPrototypeOf:function(e){var t=eN(e);if(eU(t,th))return t[th];var n=t.constructor;return K(n)&&t instanceof n?n.prototype:t instanceof tv?tg:null},tm=D.String,t_=D.TypeError,tb=function(e){if("object"==typeof e||K(e))return e;throw t_("Can't set "+tm(e)+" as a prototype")},tS=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=z(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return ti(n),tb(r),t?e(n,r):n.__proto__=r,n}}():void 0),tT=Math.ceil,tw=Math.floor,tE=function(e){var t=+e;return t!=t||0===t?0:(t>0?tw:tT)(t)},tk=Math.max,tC=Math.min,tI=function(e,t){var n=tE(e);return n<0?tk(n+t,0):tC(n,t)},tM=Math.min,tA=function(e){var t;return(t=e.length)>0?tM(tE(t),9007199254740991):0},tx=function(e){return function(t,n,r){var i,o=ec(t),a=tA(o),s=tI(r,a);if(e&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((e||s in o)&&o[s]===n)return e||s||0;return!e&&-1}},tO={includes:tx(!0),indexOf:tx(!1)},tR={},tL=tO.indexOf,tD=z([].push),tP=function(e,t){var n,r=ec(e),i=0,o=[];for(n in r)!eU(tR,n)&&eU(r,n)&&tD(o,n);for(;t.length>i;)eU(r,n=t[i++])&&(~tL(o,n)||tD(o,n));return o},tN=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],tB=tN.concat("length","prototype"),tU={f:Object.getOwnPropertyNames||function(e){return tP(e,tB)}},tj={f:Object.getOwnPropertySymbols},tF=z([].concat),tW=ef("Reflect","ownKeys")||function(e){var t=tU.f(ti(e)),n=tj.f;return n?tF(t,n(e)):t},tG=Object.keys||function(e){return tP(e,tN)},tH=V?Object.defineProperties:function(e,t){ti(e);for(var n,r=ec(t),i=tG(t),o=i.length,a=0;o>a;)ts.f(e,n=i[a++],r[n]);return e},tz=ef("document","documentElement"),tK="prototype",tZ="script",tV=tf("IE_PROTO"),tX=function(){},tY=function(e){return"<"+tZ+">"+e+"</"+tZ+">"},tq=function(e){e.write(tY("")),e.close();var t=e.parentWindow.Object;return e=null,t},tJ=function(){var e,t=e0("iframe");return t.style.display="none",tz.appendChild(t),t.src=String("java"+tZ+":"),(e=t.contentWindow.document).open(),e.write(tY("document.F=Object")),e.close(),e.F},tQ=function(){try{c=new ActiveXObject("htmlfile")}catch(e){}tQ="undefined"!=typeof document?document.domain&&c?tq(c):tJ():tq(c);for(var e=tN.length;e--;)delete tQ[tK][tN[e]];return tQ()};tR[tV]=!0;var t$=Object.create||function(e,t){var n;return null!==e?(tX[tK]=ti(e),n=new tX,tX[tK]=null,n[tV]=e):n=tQ(),void 0===t?n:tH(n,t)},t0=z("".replace),t1=String(Error("zxcasd").stack),t2=/\n\s*at [^:]*:[^\n]*/,t6=t2.test(t1),t3=function(e,t){if(t6&&"string"==typeof e)for(;t--;)e=t0(e,t2,"");return e},t5=function(e,t){eu(t)&&"cause"in t&&tc(e,"cause",t.cause)},t4={},t8=eV("iterator"),t7=Array.prototype,t9=eV("toStringTag"),ne={};ne[t9]="z";var nt="[object z]"===String(ne),nn=eV("toStringTag"),nr=D.Object,ni="Arguments"==en(function(){return arguments}()),no=function(e,t){try{return e[t]}catch(e){}},na=nt?en:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=no(t=nr(e),nn))?n:ni?en(t):"Object"==(r=en(t))&&K(t.callee)?"Arguments":r},ns=eV("iterator"),nc=function(e){if(void 0!=e)return eM(e,ns)||eM(e,"@@iterator")||t4[na(e)]},nu=D.TypeError,nl=function(e,t){var n=arguments.length<2?nc(e):t;if(eI(n))return ti(Y(n,e));throw nu(ek(e)+" is not iterable")},nd=function(e,t,n){var r,i;ti(e);try{if(!(r=eM(e,"return"))){if("throw"===t)throw n;return n}r=Y(r,e)}catch(e){i=!0,r=e}if("throw"===t)throw n;if(i)throw r;return ti(r),n},nf=D.TypeError,np=function(e,t){this.stopped=e,this.result=t},nh=np.prototype,nv=function(e,t,n){var r,i,o,a,s,c,u,l=n&&n.that,d=!!(n&&n.AS_ENTRIES),f=!!(n&&n.IS_ITERATOR),p=!!(n&&n.INTERRUPTED),h=tt(t,l),v=function(e){return r&&nd(r,"normal",e),new np(!0,e)},g=function(e){return d?(ti(e),p?h(e[0],e[1],v):h(e[0],e[1])):p?h(e,v):h(e)};if(f)r=e;else{if(!(i=nc(e)))throw nf(ek(e)+" is not iterable");if(void 0!==i&&(t4.Array===i||t7[t8]===i)){for(o=0,a=tA(e);a>o;o++)if((s=g(e[o]))&&ep(nh,s))return s;return new np(!1)}r=nl(e,i)}for(c=r.next;!(u=Y(c,r)).done;){try{s=g(u.value)}catch(e){nd(r,"throw",e)}if("object"==typeof s&&s&&ep(nh,s))return s}return new np(!1)},ng=D.String,ny=function(e){if("Symbol"===na(e))throw TypeError("Cannot convert a Symbol value to a string");return ng(e)},nm=!Z(function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",$(1,7)),7!==e.stack)}),n_=eV("toStringTag"),nb=D.Error,nS=[].push,nT=function(e,t){var n,r=arguments.length>2?arguments[2]:void 0,i=ep(nw,this);tS?n=tS(new nb,i?ty(this):nw):tc(n=i?this:t$(nw),n_,"Error"),void 0!==t&&tc(n,"message",function(e,t){return void 0===e?arguments.length<2?"":t:ny(e)}(t)),nm&&tc(n,"stack",t3(n.stack,1)),t5(n,r);var o=[];return nv(e,nS,{that:o}),tc(n,"errors",o),n};tS?tS(nT,nb):function(e,t,n){for(var r=tW(t),i=ts.f,o=0;o<r.length;o++){var a=r[o];eU(e,a)||n&&eU(n,a)||i(e,a,e6(t,a))}}(nT,nb,{name:!0});var nw=nT.prototype=t$(nb.prototype,{constructor:$(1,nT),message:$(1,""),name:$(1,"AggregateError")});tl({global:!0},{AggregateError:nT});var nE=z(Function.toString);K(eL.inspectSource)||(eL.inspectSource=function(e){return nE(e)});var nk=eL.inspectSource,nC=D.WeakMap,nI=K(nC)&&/native code/.test(nk(nC)),nM="Object already initialized",nA=D.TypeError,nx=D.WeakMap;if(nI||eL.state){var nO=eL.state||(eL.state=new nx),nR=z(nO.get),nL=z(nO.has),nD=z(nO.set);u=function(e,t){if(nL(nO,e))throw new nA(nM);return t.facade=e,nD(nO,e,t),t},l=function(e){return nR(nO,e)||{}}}else{var nP=tf("state");tR[nP]=!0,u=function(e,t){if(eU(e,nP))throw new nA(nM);return t.facade=e,tc(e,nP,t),t},l=function(e){return eU(e,nP)?e[nP]:{}}}var nN=u,nB=function(e){return function(t){var n;if(!eu(t)||(n=l(t)).type!==e)throw nA("Incompatible receiver, "+e+" required");return n}},nU=Function.prototype,nj=V&&Object.getOwnPropertyDescriptor,nF=eU(nU,"name"),nW=(nF&&(!V||V&&nj(nU,"name").configurable),function(e,t,n,r){r&&r.enumerable?e[t]=n:tc(e,t,n)}),nG=eV("iterator"),nH=!1;[].keys&&("next"in(p=[].keys())?(f=ty(ty(p)))!==Object.prototype&&(d=f):nH=!0),K((d=void 0==d||Z(function(){var e={};return d[nG].call(e)!==e})?{}:t$(d))[nG])||nW(d,nG,function(){return this});var nz=d,nK=nH,nZ=nt?({}).toString:function(){return"[object "+na(this)+"]"},nV=ts.f,nX=eV("toStringTag"),nY=function(e,t,n,r){if(e){var i=n?e:e.prototype;eU(i,nX)||nV(i,nX,{configurable:!0,value:t}),r&&!nt&&tc(i,"toString",nZ)}},nq=function(){return this},nJ=function(e,t,n,r){var i=t+" Iterator";return e.prototype=t$(nz,{next:$(+!r,n)}),nY(e,i,!1,!0),t4[i]=nq,e},nQ=nF&&"something"===(function(){}).name,n$=eV("iterator"),n0="keys",n1="values",n2="entries",n6=function(){return this},n3=function(e,t,n,r,i,o,a){nJ(n,t,r);var s,c,u,l=function(e){if(e===i&&v)return v;if(!nK&&e in p)return p[e];switch(e){case n0:case n1:case n2:return function(){return new n(this,e)}}return function(){return new n(this)}},d=t+" Iterator",f=!1,p=e.prototype,h=p[n$]||p["@@iterator"]||i&&p[i],v=!nK&&h||l(i),g="Array"==t&&p.entries||h;if(g&&(s=ty(g.call(new e)))!==Object.prototype&&s.next&&(nY(s,d,!0,!0),t4[d]=n6),nQ&&i==n1&&h&&h.name!==n1&&(f=!0,v=function(){return Y(h,this)}),i){if(c={values:l(n1),keys:o?v:l(n0),entries:l(n2)},a)for(u in c)!nK&&!f&&u in p||nW(p,u,c[u]);else tl({target:t,proto:!0,forced:nK||f},c)}return a&&p[n$]!==v&&nW(p,n$,v,{name:i}),t4[t]=v,c};ts.f;var n5="Array Iterator",n4=nB(n5);n3(Array,"Array",function(e,t){nN(this,{type:n5,target:ec(e),index:0,kind:t})},function(){var e=n4(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}},"values"),t4.Arguments=t4.Array;var n8=D.Promise,n7=eV("species"),n9=D.TypeError,re=function(e,t){if(ep(t,e))return e;throw n9("Incorrect invocation")},rt=eV("iterator"),rn=!1;try{var rr=0,ri={next:function(){return{done:!!rr++}},return:function(){rn=!0}};ri[rt]=function(){return this},Array.from(ri,function(){throw 2})}catch(e){}var ro=function(){},ra=[],rs=ef("Reflect","construct"),rc=/^\s*(?:class|function)\b/,ru=z(rc.exec),rl=!rc.exec(ro),rd=function(e){if(!K(e))return!1;try{return rs(ro,ra,e),!0}catch(e){return!1}},rf=function(e){if(!K(e))return!1;switch(na(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return rl||!!ru(rc,nk(e))}catch(e){return!0}};rf.sham=!0;var rp=!rs||Z(function(){var e;return rd(rd.call)||!rd(Object)||!rd(function(){e=!0})||e})?rf:rd,rh=D.TypeError,rv=function(e){if(rp(e))return e;throw rh(ek(e)+" is not a constructor")},rg=eV("species"),ry=function(e,t){var n,r=ti(e).constructor;return void 0===r||void 0==(n=ti(r)[rg])?t:rv(n)},rm=z([].slice),r_=/(?:ipad|iphone|ipod).*applewebkit/i.test(eh),rb="process"==en(D.process),rS=D.setImmediate,rT=D.clearImmediate,rw=D.process,rE=D.Dispatch,rk=D.Function,rC=D.MessageChannel,rI=D.String,rM=0,rA={},rx="onreadystatechange";try{h=D.location}catch(e){}var rO=function(e){if(eU(rA,e)){var t=rA[e];delete rA[e],t()}},rR=function(e){return function(){rO(e)}},rL=function(e){rO(e.data)},rD=function(e){D.postMessage(rI(e),h.protocol+"//"+h.host)};rS&&rT||(rS=function(e){var t=rm(arguments,1);return rA[++rM]=function(){j(K(e)?e:rk(e),void 0,t)},v(rM),rM},rT=function(e){delete rA[e]},rb?v=function(e){rw.nextTick(rR(e))}:rE&&rE.now?v=function(e){rE.now(rR(e))}:rC&&!r_?(y=(g=new rC).port2,g.port1.onmessage=rL,v=tt(y.postMessage,y)):D.addEventListener&&K(D.postMessage)&&!D.importScripts&&h&&"file:"!==h.protocol&&!Z(rD)?(v=rD,D.addEventListener("message",rL,!1)):v=rx in e0("script")?function(e){tz.appendChild(e0("script"))[rx]=function(){tz.removeChild(this),rO(e)}}:function(e){setTimeout(rR(e),0)});var rP=rS,rN=/ipad|iphone|ipod/i.test(eh)&&void 0!==D.Pebble,rB=/web0s(?!.*chrome)/i.test(eh),rU=rP,rj=D.MutationObserver||D.WebKitMutationObserver,rF=D.document,rW=D.process,rG=D.Promise,rH=e6(D,"queueMicrotask"),rz=rH&&rH.value;rz||(m=function(){var e,t;for(rb&&(e=rW.domain)&&e.exit();_;){t=_.fn,_=_.next;try{t()}catch(e){throw _?S():b=void 0,e}}b=void 0,e&&e.enter()},r_||rb||rB||!rj||!rF?!rN&&rG&&rG.resolve?((E=rG.resolve(void 0)).constructor=rG,k=tt(E.then,E),S=function(){k(m)}):rb?S=function(){rW.nextTick(m)}:(rU=tt(rU,D),S=function(){rU(m)}):(T=!0,w=rF.createTextNode(""),new rj(m).observe(w,{characterData:!0}),S=function(){w.data=T=!T}));var rK=rz||function(e){var t={fn:e,next:void 0};b&&(b.next=t),_||(_=t,S()),b=t},rZ=function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=eI(t),this.reject=eI(n)},rV={f:function(e){return new rZ(e)}},rX=function(e,t){if(ti(e),eu(t)&&t.constructor===e)return t;var n=rV.f(e);return(0,n.resolve)(t),n.promise},rY=function(e,t){var n=D.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))},rq=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},rJ=function(){this.head=null,this.tail=null};rJ.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}};var rQ="object"==typeof window,r$=eV("species"),r0="Promise",r1=nB(r0),r2=nB(r0),r6=n8&&n8.prototype,r3=n8,r5=r6,r4=D.TypeError,r8=D.document,r7=D.process,r9=rV.f,ie=r9,it=!!(r8&&r8.createEvent&&D.dispatchEvent),ir=K(D.PromiseRejectionEvent),ii="unhandledrejection",io=e5(r0,function(){var e=nk(r3),t=e!==String(r3);if(!t&&66===e_||!r5.finally)return!0;if(e_>=51&&/native code/.test(e))return!1;var n=new r3(function(e){e(1)}),r=function(e){e(function(){},function(){})};return(n.constructor={})[r$]=r,!(n.then(function(){}) instanceof r)||!t&&rQ&&!ir}),ia=io||!function(e,t){if(!rn)return!1;var n=!1;try{var r={};r[rt]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n}(function(e){r3.all(e).catch(function(){})}),is=function(e){var t;return!!(eu(e)&&K(t=e.then))&&t},ic=function(e,t){var n,r,i,o=t.value,a=1==t.state,s=a?e.ok:e.fail,c=e.resolve,u=e.reject,l=e.domain;try{s?(a||(2===t.rejection&&ih(t),t.rejection=1),!0===s?n=o:(l&&l.enter(),n=s(o),l&&(l.exit(),i=!0)),n===e.promise?u(r4("Promise-chain cycle")):(r=is(n))?Y(r,n,c,u):c(n)):u(o)}catch(e){l&&!i&&l.exit(),u(e)}},iu=function(e,t){e.notified||(e.notified=!0,rK(function(){for(var n,r=e.reactions;n=r.get();)ic(n,e);e.notified=!1,t&&!e.rejection&&id(e)}))},il=function(e,t,n){var r,i;it?((r=r8.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),D.dispatchEvent(r)):r={promise:t,reason:n},!ir&&(i=D["on"+e])?i(r):e===ii&&rY("Unhandled promise rejection",n)},id=function(e){Y(rP,D,function(){var t,n=e.facade,r=e.value;if(ip(e)&&(t=rq(function(){rb?r7.emit("unhandledRejection",r,n):il(ii,n,r)}),e.rejection=rb||ip(e)?2:1,t.error))throw t.value})},ip=function(e){return 1!==e.rejection&&!e.parent},ih=function(e){Y(rP,D,function(){var t=e.facade;rb?r7.emit("rejectionHandled",t):il("rejectionhandled",t,e.value)})},iv=function(e,t,n){return function(r){e(t,r,n)}},ig=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,iu(e,!0))},iy=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw r4("Promise can't be resolved itself");var r=is(t);r?rK(function(){var n={done:!1};try{Y(r,t,iv(iy,n,e),iv(ig,n,e))}catch(t){ig(n,t,e)}}):(e.value=t,e.state=1,iu(e,!1))}catch(t){ig({done:!1},t,e)}}};io&&(r5=(r3=function(e){re(this,r5),eI(e),Y(C,this);var t=r1(this);try{e(iv(iy,t),iv(ig,t))}catch(e){ig(t,e)}}).prototype,(C=function(e){nN(this,{type:r0,done:!1,notified:!1,parent:!1,reactions:new rJ,rejection:!1,state:0,value:void 0})}).prototype=function(e,t,n){for(var r in t)nW(e,r,t[r],void 0);return e}(r5,{then:function(e,t){var n=r2(this),r=r9(ry(this,r3));return n.parent=!0,r.ok=!K(e)||e,r.fail=K(t)&&t,r.domain=rb?r7.domain:void 0,0==n.state?n.reactions.add(r):rK(function(){ic(r,n)}),r.promise},catch:function(e){return this.then(void 0,e)}}),I=function(){var e=new C,t=r1(e);this.promise=e,this.resolve=iv(iy,t),this.reject=iv(ig,t)},rV.f=r9=function(e){return e===r3||e===M?new I(e):ie(e)}),tl({global:!0,wrap:!0,forced:io},{Promise:r3}),nY(r3,r0,!1,!0),r=ef(r0),i=ts.f,V&&r&&!r[n7]&&i(r,n7,{configurable:!0,get:function(){return this}}),M=ef(r0),tl({target:r0,stat:!0,forced:io},{reject:function(e){var t=r9(this);return Y(t.reject,void 0,e),t.promise}}),tl({target:r0,stat:!0,forced:!0},{resolve:function(e){return rX(this===M?r3:this,e)}}),tl({target:r0,stat:!0,forced:ia},{all:function(e){var t=this,n=r9(t),r=n.resolve,i=n.reject,o=rq(function(){var n=eI(t.resolve),o=[],a=0,s=1;nv(e,function(e){var c=a++,u=!1;s++,Y(n,t,e).then(function(e){!u&&(u=!0,o[c]=e,--s||r(o))},i)}),--s||r(o)});return o.error&&i(o.value),n.promise},race:function(e){var t=this,n=r9(t),r=n.reject,i=rq(function(){var i=eI(t.resolve);nv(e,function(e){Y(i,t,e).then(n.resolve,r)})});return i.error&&r(i.value),n.promise}}),tl({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=rV.f(t),r=n.resolve,i=n.reject,o=rq(function(){var n=eI(t.resolve),i=[],o=0,a=1;nv(e,function(e){var s=o++,c=!1;a++,Y(n,t,e).then(function(e){!c&&(c=!0,i[s]={status:"fulfilled",value:e},--a||r(i))},function(e){!c&&(c=!0,i[s]={status:"rejected",reason:e},--a||r(i))})}),--a||r(i)});return o.error&&i(o.value),n.promise}});var im="No one promise resolved";tl({target:"Promise",stat:!0},{any:function(e){var t=this,n=ef("AggregateError"),r=rV.f(t),i=r.resolve,o=r.reject,a=rq(function(){var r=eI(t.resolve),a=[],s=0,c=1,u=!1;nv(e,function(e){var l=s++,d=!1;c++,Y(r,t,e).then(function(e){d||u||(u=!0,i(e))},function(e){!d&&!u&&(d=!0,a[l]=e,--c||o(new n(a,im)))})}),--c||o(new n(a,im))});return a.error&&o(a.value),r.promise}}),tl({target:"Promise",proto:!0,real:!0,forced:!!n8&&Z(function(){n8.prototype.finally.call({then:function(){}},function(){})})},{finally:function(e){var t=ry(this,ef("Promise")),n=K(e);return this.then(n?function(n){return rX(t,e()).then(function(){return n})}:e,n?function(n){return rX(t,e()).then(function(){throw n})}:e)}});var i_=z("".charAt),ib=z("".charCodeAt),iS=z("".slice),iT=function(e){return function(t,n){var r,i,o=ny(es(t)),a=tE(n),s=o.length;return a<0||a>=s?e?"":void 0:(r=ib(o,a))<55296||r>56319||a+1===s||(i=ib(o,a+1))<56320||i>57343?e?i_(o,a):r:e?iS(o,a,a+2):(r-55296<<10)+(i-56320)+65536}},iw={codeAt:iT(!1),charAt:iT(!0)}.charAt,iE="String Iterator",ik=nB(iE);n3(String,"String",function(e){nN(this,{type:iE,string:ny(e),index:0})},function(){var e,t=ik(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=iw(n,r),t.index+=e.length,{value:e,done:!1})});var iC=el.Promise,iI={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},iM=eV("toStringTag");for(var iA in iI){var ix=D[iA],iO=ix&&ix.prototype;iO&&na(iO)!==iM&&tc(iO,iM,iA),t4[iA]=t4.Array}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var iR=function(){return(iR=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function iL(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function iD(e,t,n){if(n||2==arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var iP=["init","start","config","beforeDestroy","provide","beforeReport","report","beforeBuild","build","beforeSend","send","beforeConfig"],iN=function(){return{}};function iB(e){return e}function iU(e){return"object"==typeof e&&null!==e}var ij=Object.prototype;function iF(e){return"[object Array]"===ij.toString.call(e)}function iW(e){return"number"==typeof e}function iG(e){return"string"==typeof e}function iH(e,t){if(!iF(e)||0===e.length)return!1;for(var n=0;n<e.length;){if(e[n]===t)return!0;n++}return!1}var iz=function(e,t){if(!iF(e))return e;var n=e.indexOf(t);if(n>=0){var r=e.slice();return r.splice(n,1),r}return e},iK=function(e,t,n){for(var r,i=iL(t.split(".")),o=i[0],a=i.slice(1);e&&a.length>0;)e=e[o],o=(r=iL(a))[0],a=r.slice(1);if(e)return n(e,o)};function iZ(e){try{return iG(e)?e:JSON.stringify(e)}catch(e){return"[FAILED_TO_STRINGIFY]:"+String(e)}}var iV="".padStart?function(e,t){return void 0===t&&(t=8),e.padStart(t," ")}:function(e){return e},iX=0,iY=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,iD(["[SDK]",Date.now(),iV(""+iX++)],iL(e),!1))},iq=0,iJ=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.warn.apply(console,iD(["[SDK]",Date.now(),iV(""+iq++)],iL(e),!1))},iQ=function(e){return Math.random()<Number(e)},i$=function(e,t){return e<Number(t)},i0=function(e){return function(t){for(var n=t,r=0;r<e.length;r++)if(n)try{n=e[r](n)}catch(e){iY(e)}else break;return n}};function i1(){var e=function(){for(var e=Array(16),t=0,n=0;n<16;n++)(3&n)==0&&(t=4294967296*Math.random()),e[n]=t>>>((3&n)<<3)&255;return e}();return e[6]=15&e[6]|64,e[8]=63&e[8]|128,function(e){for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);var r=0;return[t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]]].join("")}(e)}var i2=function(e){var t,n,r,i=(t={},n={},r={set:function(e,i){return t[e]=i,n[e]=iZ(i),r},merge:function(e){return t=iR(iR({},t),e),Object.keys(e).forEach(function(t){n[t]=iZ(e[t])}),r},delete:function(e){return delete t[e],delete n[e],r},clear:function(){return t={},n={},r},get:function(e){return n[e]},toString:function(){return iR({},n)}});e.provide("context",i),e.on("report",function(e){return e.extra||(e.extra={}),e.extra.context=i.toString(),e})},i6=function(){return Date.now()},i3=function(e){if(e)return e.__SLARDAR_REGISTRY__||(e.__SLARDAR_REGISTRY__={Slardar:{plugins:[],errors:[],subject:{}}}),e.__SLARDAR_REGISTRY__.Slardar},i5=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=i3(function(){if("object"==typeof window&&iU(window))return window}());n&&(n.errors||(n.errors=[]),n.errors.push(e))},i4="custom",i8=function(e){if(e&&iU(e)&&e.name&&iG(e.name)){var t={name:e.name,type:"event"};if("metrics"in e&&iU(e.metrics)){var n=e.metrics,r={};for(var i in n)iW(n[i])&&(r[i]=n[i]);t.metrics=r}if("categories"in e&&iU(e.categories)){var o=e.categories,a={};for(var i in o)a[i]=iZ(o[i]);t.categories=a}return t}},i7=function(e){if(e&&iU(e)&&e.content&&iG(e.content)){var t={content:iZ(e.content),type:"log",level:"info"};if("level"in e&&(t.level=e.level),"extra"in e&&iU(e.extra)){var n=e.extra,r={},i={};for(var o in n)iW(n[o])?r[o]=n[o]:i[o]=iZ(n[o]);t.metrics=r,t.categories=i}return t}},i9=function(e){e.provide("sendEvent",function(t){var n=i8(t);n&&e.report({ev_type:i4,payload:n,extra:{timestamp:i6()}})}),e.provide("sendLog",function(t){var n=i7(t);n&&e.report({ev_type:i4,payload:n,extra:{timestamp:i6()}})})},oe=function(e,t){var n=e.common||{};return n.sample_rate=t,e.common=n,e},ot=function(e,t,n,r,i){var o;return e?(o=i(r,t),function(){return o}):function(){return n(t)}},on=function(e,t,n){switch(n){case"eq":return iH(t,e);case"neq":return!iH(t,e);case"gt":return e>t[0];case"gte":return e>=t[0];case"lt":return e<t[0];case"lte":return e<=t[0];case"regex":return!!e.match(new RegExp(t.join("|")));case"not_regex":return!e.match(new RegExp(t.join("|")));default:return!1}},or=function(e,t,n,r){var i=iK(e,t,function(e,t){return e[t]});if(void 0===i)return!1;var o="boolean"==typeof i?"bool":iW(i)?"number":"string";return on(i,r.map(function(e){switch(o){case"number":return Number(e);case"boolean":return"1"===e;default:return String(e)}}),n)},oi=function(e,t){try{return"rule"===t.type?or(e,t.field,t.op,t.values):"and"===t.type?t.children.every(function(t){return oi(e,t)}):t.children.some(function(t){return oi(e,t)})}catch(e){return i5(e),!1}},oo=function(e,t,n,r,i,o){var a={};return Object.keys(e).forEach(function(s){var c=e[s],u=c.enable,l=c.sample_rate,d=c.conditional_sample_rules;u?(a[s]={enable:u,sample_rate:l,effectiveSampleRate:l*n,hit:ot(t,l,r,i,o)},d&&(a[s].conditional_hit_rules=d.map(function(e){var a=e.sample_rate,s=e.filter;return{sample_rate:a,hit:ot(t,a,r,i,o),effectiveSampleRate:a*n,filter:s}}))):a[s]={enable:u,hit:function(){return!1},sample_rate:0,effectiveSampleRate:0}}),a},oa=function(e,t,n,r,i){if(!t)return iB;var o=t.sample_rate,a=t.include_users,s=t.sample_granularity,c=t.rules,u=t.r,l=void 0===u?Math.random():u;if(iH(a,e))return function(e){return oe(e,1)};var d="session"===s,f=ot(d,o,n,l,r),p=oo(c,d,o,n,l,r);return function(e){if(!f())return d&&i[0](),!1;if(!(e.ev_type in p))return oe(e,o);if(!p[e.ev_type].enable)return d&&i[1](e.ev_type),!1;if(null===(t=e.common)||void 0===t?void 0:t.sample_rate)return e;var t,n=p[e.ev_type],r=n.conditional_hit_rules;if(r){for(var a=0;a<r.length;a++)if(oi(e,r[a].filter)){if(r[a].hit())return oe(e,r[a].effectiveSampleRate);return!1}}return n.hit()?oe(e,n.effectiveSampleRate):(!(r&&r.length)&&d&&i[1](e.ev_type),!1)}},os=function(e){e.on("start",function(){var t=e.config(),n=oa(t.userId,t.sample,iQ,i$,[function(){e.destroy()},function(t){e.destroyAgent.removeByEvType(t)}]);e.on("build",n)})},oc={build:function(e){return{ev_type:e.ev_type,payload:e.payload,common:iR(iR({},e.extra||{}),e.overrides||{})}}},ou=function(e){var t,n=e,r={},i=iN,o=iN;return{getConfig:function(){return n},setConfig:function(a){var s;return r=iR(iR({},r),a||{}),(s=iR(iR({},e),r)).sample=function(e,t){if(!e||!t)return e||t;var n=iR(iR({},e),t);return n.include_users=iD(iD([],iL(e.include_users||[]),!1),iL(t.include_users||[]),!1),n.rules=iD(iD([],iL(Object.keys(e.rules||{})),!1),iL(Object.keys(t.rules||{})),!1).reduce(function(n,r){var i,o;return r in n||(r in(e.rules||{})&&r in(t.rules||{})?(n[r]=iR(iR({},e.rules[r]),t.rules[r]),n[r].conditional_sample_rules=iD(iD([],iL(e.rules[r].conditional_sample_rules||[]),!1),iL(t.rules[r].conditional_sample_rules||[]),!1)):n[r]=(null===(i=e.rules)||void 0===i?void 0:i[r])||(null===(o=t.rules)||void 0===o?void 0:o[r])),n},{}),n}(e.sample,r.sample),n=s,o(),t||(t=a,i()),n},onChange:function(e){o=e},onReady:function(e){i=e,t&&i()}}},ol={sample_rate:1,include_users:[],sample_granularity:"session",rules:{}};function od(e){return iR({},e)}function of(e){return iU(e)&&"bid"in e&&"transport"in e}function op(e){return iR({},e)}var oh=function(e,t){var n={url:"",protocol:"",domain:"",path:"",query:"",timestamp:Date.now(),sdk_version:t.version||"1.4.5",sdk_name:t.name||"SDK_BASE"};return iR(iR({},e),{extra:iR(iR({},n),e.extra||{})})},ov=function(e){e.on("report",function(t){return oh(t,e.config())})},og=function(e,t){var n={};return n.bid=t.bid,n.pid=t.pid,n.view_id=t.viewId,n.user_id=t.userId,n.device_id=t.deviceId,n.session_id=t.sessionId,n.release=t.release,n.env=t.env,iR(iR({},e),{extra:iR(iR({},n),e.extra||{})})},oy=function(e){e.on("beforeBuild",function(t){return og(t,e.config())})},om=function(e){return{bid:"",pid:"",viewId:"__"+Date.now(),userId:i1(),deviceId:i1(),sessionId:i1(),domain:"mon-i18n.tiktokv.com",release:"",env:"production",sample:ol,plugins:{},transport:{get:iN,post:iN}}},o_=function(e){var t=void 0===e?{}:e,n=t.createSender,r=void 0===n?function(e){var t,n;return function(e){var t,n=e.transport,r=e.endpoint,i=e.size,o=void 0===i?10:i,a=e.wait,s=void 0===a?1e3:a,c=[],u=0;function l(){if(c.length){var e=this.getBatchData();n.post({url:r,data:e,fail:function(n){t&&t(n,e)}}),c=[]}}return{getSize:function(){return o},getWait:function(){return s},setSize:function(e){o=e},setWait:function(e){s=e},getEndpoint:function(){return r},setEndpoint:function(e){r=e},send:function(e){c.push(e),c.length>=o&&l.call(this),clearTimeout(u),u=setTimeout(l.bind(this),s)},flush:function(){clearTimeout(u),l.call(this)},getBatchData:function(){return c.length?JSON.stringify({ev_type:"batch",list:c}):""},clear:function(){clearTimeout(u),c=[]},fail:function(e){t=e}}}({size:20,endpoint:(t=e.domain,void 0===n&&(n="/monitor_browser/collect/batch/"),(t&&t.indexOf("//")>=0?"":"https://")+t+n),transport:e.transport})}:n,i=t.builder,o=t.createDefaultConfig,a=function(e){var t,n,r,i,o,a,s=e.builder,c=e.createSender,u=e.createDefaultConfig,l=e.createConfigManager,d=e.userConfigNormalizer,f=e.initConfigNormalizer,p=e.validateInitConfig,h={};iP.forEach(function(e){return h[e]=[]});var v=!1,g=!1,y=!1,m=[],_=[],b=(t=!1,n={},r=function(e){e.length&&e.forEach(function(e){try{e()}catch(e){}}),e.length=0},{set:function(e,i,o){n[e]?n[e].push([i,o]):n[e]=[[i,o]],t&&r(o)},has:function(e){return!!n[e]},remove:i=function(e){n[e]&&n[e].forEach(function(e){r(e[1])}),n[e]=void 0},removeByEvType:function(e){Object.keys(n).forEach(function(t){n[t]&&n[t].forEach(function(t){t[0]===e&&r(t[1])})})},clear:function(){t=!0,Object.keys(n).forEach(function(e){i(e)})}}),S={getBuilder:function(){return s},getSender:function(){return o},getPreStartQueue:function(){return m},init:function(e){if(v){iJ("already inited");return}if(e&&iU(e)&&p(e)){var t=u(e);if(!t)throw Error("defaultConfig missing");var n=f(e);if((a=l(t)).setConfig(n),a.onChange(function(){T("config")}),!(o=c(a.getConfig())))throw Error("sender missing");v=!0,T("init",!0)}else throw Error("invalid InitConfig, init failed")},set:function(e){v&&e&&iU(e)&&(T("beforeConfig",!1,e),null==a||a.setConfig(e))},config:function(e){if(v)return e&&iU(e)&&(T("beforeConfig",!1,e),null==a||a.setConfig(d(e))),null==a?void 0:a.getConfig()},provide:function(e,t){if(iH(_,e)){iJ("cannot provide "+e+", reserved");return}S[e]=t,T("provide",!1,e)},start:function(){var e=this;v&&!g&&(null==a||a.onReady(function(){g=!0,T("start",!0),m.forEach(function(t){return e.build(t)}),m.length=0}))},report:function(e){if(e){var t=i0(h.beforeReport)(e);if(t){var n=i0(h.report)(t);n&&(g?this.build(n):m.push(n))}}},build:function(e){if(g){var t=i0(h.beforeBuild)(e);if(t){var n=s.build(t);if(n){var r=i0(h.build)(n);r&&this.send(r)}}}},send:function(e){if(g){var t=i0(h.beforeSend)(e);t&&(o.send(t),T("send",!1,t))}},destroy:function(){b.clear(),y=!0,m.length=0,T("beforeDestroy",!0)},on:function(e,t){if("init"===e&&v||"start"===e&&g||"beforeDestroy"===e&&y)try{t()}catch(e){}else h[e]&&h[e].push(t)},off:function(e,t){h[e]&&(h[e]=iz(h[e],t))},destroyAgent:b};return _=Object.keys(S),S;function T(e,t){void 0===t&&(t=!1);for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];h[e].forEach(function(e){try{e.apply(void 0,iD([],iL(n),!1))}catch(e){}}),t&&(h[e].length=0)}}({validateInitConfig:of,initConfigNormalizer:od,userConfigNormalizer:op,createSender:r,builder:void 0===i?oc:i,createDefaultConfig:void 0===o?om:o,createConfigManager:ou});return i2(a),oy(a),ov(a),function(e,t){e.on("init",function(){var t=[],n=function(n){n.forEach(function(n){var r=n.name;iH(t,r)||(t.push(r),n.setup(e),e.destroyAgent.set(r,r,[function(){t=iz(t,r),n.tearDown&&n.tearDown()}]))})};e.provide("applyIntegrations",n);var r=e.config();r&&r.integrations&&n(r.integrations)})}(a),a},ob=function(e){void 0===e&&(e={});var t=o_(e);return os(t),i9(t),t};ob();var oS={in:"https://sgali-mcs.byteoversea.com",sg:"https://sgali-mcs.byteoversea.com",va:"https://maliva-mcs.byteoversea.com",tcpy:"https://mcs-sg.tiktok.com",tcpy_in:"https://mcs-va-useast2a.tiktokv.com",ttp:"https://mcs.tiktokw.us",ttp2:"https://mcs.tiktokw.us"},oT="s_v_web_id",ow="/vc/setting";(o=A||(A={}))[o.TIKTOK_NATIVE=1180]="TIKTOK_NATIVE",o[o.MUSICALLY_NATIVE=1233]="MUSICALLY_NATIVE",o[o.TIKTOK_LOGIN_WEB=1459]="TIKTOK_LOGIN_WEB",o[o.TIKTOK_LITE=1340]="TIKTOK_LITE",o[o.TIKTOK_MUSIC=310024]="TIKTOK_MUSIC",o[o.TIKTOK_OPEN_PLATFORM=2471]="TIKTOK_OPEN_PLATFORM",o[o.TIKTOK_LIVE_BACKSTAGE=6849]="TIKTOK_LIVE_BACKSTAGE",o[o.TIKTOK_SAFETY_ENFORCEMENT_TOOL=326738]="TIKTOK_SAFETY_ENFORCEMENT_TOOL",o[o.TIKTOK_ADS=1583]="TIKTOK_ADS",o[o.TIKTOK_SELLER_APP=7743]="TIKTOK_SELLER_APP",o[o.TIKTOK_MAGELLAN=4068]="TIKTOK_MAGELLAN",o[o.TIKTOK_MAGELLAN2=6556]="TIKTOK_MAGELLAN2",o[o.TIKTOK_WEB=1988]="TIKTOK_WEB",o[o.TIKTOK_BIZ_CENTER=2239]="TIKTOK_BIZ_CENTER";var oE=function(e){for(var t=Object.keys(e),n="",r=0;r<t.length;r++){var i=t[r],o=e[i],a=encodeURIComponent(i)+"="+encodeURIComponent(o);n=r>=1?n+"&"+a:a}return n},ok=function(e){return{aid:e.commonOptions.aid}},oC=new(function(){function e(){this.isInit=!1,this.pid="0",this.filename=""}return e.prototype.init=function(e,t){if(!this.isInit){this.isInit=!0,this.pid=String(e.aid),this.browserSlardar=ob();var n={transport:{get:function(){},post:function(e){t(e.url,JSON.parse(e.data))}},bid:"verify_center_va",pid:this.pid,release:"3.8.20-nontt-alpha.2",env:"in",sample:{sample_rate:1,include_users:[],sample_granularity:"session",rules:{pageview:{enable:!0,sample_rate:.01},js_error:{enable:!0,sample_rate:1},resource_error:{enable:!0,sample_rate:.01},http:{enable:!0,sample_rate:.01},resource:{enable:!0,sample_rate:.01}}}};this.browserSlardar.init(n),this.browserSlardar.context.merge({belong:"hotsdk"})}},e.prototype.start=function(){var e=this;this.browserSlardar.start(),this.reportPageview(),window.addEventListener("error",function(t){var n;"ErrorEvent"===Object.prototype.toString.call(t).slice(8,-1)&&e.filename&&t.filename===e.filename&&e.reportJsError({message:null==t?void 0:t.message,stack:null===(n=null==t?void 0:t.error)||void 0===n?void 0:n.stack,filename:null==t?void 0:t.filename})},!0)},e.prototype.destroy=function(){this.browserSlardar.destroy()},e.prototype.reportPageview=function(){this.browserSlardar.report({ev_type:"pageview",payload:{pid:this.pid,source:"init"}})},e.prototype.reportJsError=function(e){this.browserSlardar.report({ev_type:"js_error",payload:{error:{name:"JS ERROR",message:e.message,stack:e.stack,filename:e.filename||this.filename},breadcrumbs:[]}})},e.prototype.reportHttp=function(e){this.browserSlardar.report({ev_type:"http",payload:{api:"xhr",request:{method:e.method,url:e.url},response:{status:e.status,is_custom_error:!1,timestamp:Date.now()},duration:e.duration}})},e.prototype.reportResourceError=function(e){this.browserSlardar.report({ev_type:"resource_error",payload:{type:"script",url:e}})},e.prototype.reportResource=function(e){this.browserSlardar.report({ev_type:"resource",payload:{entryType:"resource",name:e.url,duration:e.duration,startTime:e.startTime}})},e.prototype.setFileName=function(e){this.filename=e},e}()),oI=function(e){var t=e.url,n=e.method,r=e.data,i=e.config;return new iC(function(o,a){var s=new XMLHttpRequest,c=Date.now(),u=function(){-1!==e.url.indexOf(ow)&&oC.reportHttp({url:t,method:n,duration:Date.now()-c,status:s.status})};s.onreadystatechange=function(){if(s.readyState===s.DONE){if(s.status>=200&&s.status<300){var e={},t=s.response||s.responseText,n=s.getResponseHeader("Content-Type")||s.getResponseHeader("content-type");if(n&&-1!==n.indexOf("application/json"))try{e=JSON.parse(t)}catch(e){}else e=t;setTimeout(function(){o(e)},0)}else a(TypeError("Network request failed, status: "+s.status));u()}},s.onerror=function(){setTimeout(function(){a(TypeError("Network request failed, occur error"))},0),u()},s.ontimeout=function(){setTimeout(function(){a(TypeError("Network request failed, timeout"))},0),u()},s.onabort=function(){setTimeout(function(){a(new DOMException("Aborted","AbortError"))},0),u()};var l=t;if((null==i?void 0:i.params)&&(l=l+"?"+oE(i.params)),s.open(n,l,!0),(null==i?void 0:i.timeout)&&"number"==typeof i.timeout?s.timeout=i.timeout:s.timeout=5e3,null==i?void 0:i.headers)for(var d=i.headers,f=0,p=Object.keys(d);f<p.length;f++){var h=p[f];s.setRequestHeader(h,d[h])}(null==i?void 0:i.withCredentials)&&(s.withCredentials=i.withCredentials),"POST"===n.toUpperCase()&&r?s.send(JSON.stringify(r)):s.send(null)})},oM=function(e,t,n){void 0===n&&(n={});var r=n.headers?x({"Content-Type":"application/json"},n.headers):{"Content-Type":"application/json"};return oI({url:e,method:"POST",data:t,config:x(x({},n),{headers:r})})},oA=function(e){var t={exports:{}},n=Function("exports","module",e);try{n(t.exports,t)}catch(e){oC.reportJsError({message:null==e?void 0:e.message,stack:null==e?void 0:e.stack,filename:null==e?void 0:e.filename})}return t},ox=R(function(e,t){var n;n=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function i(){}function o(t,n,o){if("undefined"!=typeof document){"number"==typeof(o=e({path:"/"},i.defaults,o)).expires&&(o.expires=new Date(new Date*1+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in o)o[c]&&(s+="; "+c,!0!==o[c]&&(s+="="+o[c].split(";")[0]));return document.cookie=t+"="+n+s}}function a(e,n){if("undefined"!=typeof document){for(var i={},o=document.cookie?document.cookie.split("; "):[],a=0;a<o.length;a++){var s=o[a].split("="),c=s.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var u=t(s[0]);if(c=(r.read||r)(c,u)||t(c),n)try{c=JSON.parse(c)}catch(e){}if(i[u]=c,e===u)break}catch(e){}}return e?i[e]:i}}return i.set=o,i.get=function(e){return a(e,!1)},i.getJSON=function(e){return a(e,!0)},i.remove=function(t,n){o(t,"",e(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}(function(){})},e.exports=n()}),oO=function(e){void 0===e&&(e={});var t,n,r,i=ox.get(oT);return i&&0===i.indexOf("verify_")||(t="object"==typeof(t=e)?t:{},n=function(){var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),t=e.length,n=Date.now().toString(36),r=[];r[8]=r[13]=r[18]=r[23]="_",r[14]="4";for(var i=0,o=void 0;i<36;i++)r[i]||(o=0|Math.random()*t,r[i]=e[19==i?3&o|8:o]);return"verify_"+n+"_"+r.join("")}(),r={path:"/"},t.domain&&/^([a-z0-9-]+)?(\.[a-z0-9-]+)+$/.test(t.domain)&&(r.domain=t.domain),ox.set(oT,n,r),i=n),i},oR=function(e,t){return oM(""+(e||"https://vcs-i18n.tiktokv.com")+ow+"?aid="+(null==t?void 0:t.aid),{},{headers:{"X-Setting-Flag":1}})},oL=new(function(){function e(){this.fetchWebId=null,this.channelType="",this.isInit=!1,this.conf={app_id:0,evtParams:{}}}return e.prototype.init=function(e,t){if(void 0===t&&(t={}),!this.isInit){var n;(this.isInit=!0,this.conf.app_id="cn"===e.region?2018:2740,this.conf.evtParams=x(x({},t),{webdriver:"undefined",isScheduling:"false",product_host:window.location.host,product_path:window.location.hostname,type:2,aid:e.aid}),n=e.aid,Object.values(A).filter(function(e){return"number"==typeof e}).includes(n))?this.channelType="tcpy_in":this.channelType="in"}},e.prototype.getTeaWebId=function(){if(!this.fetchWebId){var e,t;this.fetchWebId=(e=this.conf.app_id,oM(""+oS[t=this.channelType]+(-1!==["ttp","tcpy"].indexOf(t)?"/v1/user/webid":"/webid"),{app_id:e,referer:document.referrer,url:window.location.href,user_agent:window.navigator.userAgent,user_unique_id:""}).then(function(e){return e.web_id}))}return this.fetchWebId},e.prototype.trackEvent=function(e,t){var n=this;void 0===t&&(t={}),this.getTeaWebId().then(function(r){var i=[{events:[{event:"turing_verify_sdk",is_bav:0,local_time_ms:Date.now(),params:JSON.stringify(x(x(x({},n.conf.evtParams),t),{key:"h5_"+e,time:Date.now()}))}],local_time:Math.floor(Date.now()/1e3),header:{app_id:n.conf.app_id,referrer:document.referrer,platform:"web",sdk_lib:"js",sdk_version:"0.0.0"},user:{user_unique_id:r,web_id:r}}];n.sendEvents(i)}).catch(function(e){console.log("err: ",e)})},e.prototype.sendEvents=function(e){var t;oM(""+oS[t=this.channelType]+(-1!==["ttp","tcpy"].indexOf(t)?"/v1/list":"/list"),e).catch(function(e){console.log("report err: ",e)})},e}()),oD={verify:{back_up_js_v2:{in:[]},js_v2:{in:"https://sf16-website-login.neutral.ttwstatic.com/obj/tiktok_web_login_static/bric-captcha-ttweb/core-captcha/in/2.32.1/1.0.0.162/captcha.js"}}},oP={},oN={executor:"Function",static_domain:"",settingHost:""},oB={aid:1e5},oU=function(e){var t=Date.now();return oR(oN.settingHost,e).catch(function(){return oR(oN.settingHost,e)}).then(function(e){var n,r;return(oL.trackEvent("hotsdk_getsetting",{is_success:1,duration:Date.now()-t,message:""}),null===(r=null===(n=null==e?void 0:e.verify)||void 0===n?void 0:n.js_v2)||void 0===r?void 0:r.in)?e.verify:oD.verify}).catch(function(e){return oL.trackEvent("hotsdk_getsetting",{is_success:0,duration:Date.now()-t,message:null==e?void 0:e.message}),oD.verify})},oj=function(e,t,n,r){oC.setFileName(e);var i=Date.now(),o=iC.resolve({});return("script"===t?new iC(function(t,n){var r=document.getElementsByTagName("head")[0],i=document.createElement("script");i.setAttribute("crossorigin","anonymous"),i.setAttribute("src",e),r.appendChild(i);var o=setTimeout(function(){n(Error("LoadJSSDKMoreTan4000ms"))},4e3);i.onload=function(){clearTimeout(o),t(0)},i.onerror=function(){clearTimeout(o),n(Error("Failed to load SDK!"))}}).then(function(){return window.verifySDK}):oI({url:e,method:"GET",config:{timeout:2e4}}).then(function(e){if(n&&r&&n!==r){var t=RegExp(n,"g");e=e.replace(t,r)}return oA(e).exports})).then(function(t){return oC.reportResource({url:e,startTime:Date.now(),duration:Date.now()-i}),t}).catch(function(t){return oC.reportResourceError(e),iC.reject(t)})},oF=function(){function e(){}return e.get=function(t){return(0===e.status||3===e.status)&&(e.status=1,e.core=oU(t).then(function(t){var n,r,i,o=null===(n=t.js_v2)||void 0===n?void 0:n.in,a=(null===(r=t.back_up_js_v2)||void 0===r?void 0:r.in)||[],s=null===(i=o.match(/\/\/([\w-]+(\.[\w-]+)+)/))||void 0===i?void 0:i[1];oN.static_domain="";var c=[o].concat(a);return new iC(function(t,n){var r=function(){var i,o=c.shift(),a=null===(i=o.match(/\/\/([\w-]+(\.[\w-]+)+)/))||void 0===i?void 0:i[1];oj(o,oN.executor,s,a).then(function(n){t(n),e.status=2,oL.trackEvent("hotsdk_loadscript",{is_success:1})}).catch(function(t){c.length?r():(n(t),e.status=3,oL.trackEvent("hotsdk_loadscript",{is_success:0}))})};r()})}).catch(function(e){return iC.reject(e)})),e.core},e.status=0,e}(),oW=function(e){e.static_domain&&(oN.static_domain=e.static_domain),e.settingHost&&(oN.settingHost=e.settingHost),e.executor&&(oN.executor=e.executor)},oG=function(){function e(){}return e.config=function(e){oW(e)},e.init=function(e,t,n){var r=ok(e);return oL.init(x(x({},r),{region:"in"})),oC.init(r,oM),oC.start(),oF.get(r).then(function(n){Object.assign(oP,x(x({},e),{captchaOptions:x(x({},e.captchaOptions),{h5_check_version:(null===(r=e.captchaOptions)||void 0===r?void 0:r.closeDecisionCheck)?"0.0.0":"3.8.20-nontt-alpha.2"})}));var r,i=n.initVerifyCenter(oP);if(!t)return i;t(i)}).catch(function(e){if(!n)return iC.reject(e);n(e)})},e}();t.TTVerifyCenter=oG,t.close=function(){oF.get(oB).then(function(e){null==e||e.closeCaptcha()})},t.config=oW,t.getFp=function(){var e,t,n,r=(null===(t=null==oP?void 0:oP.captchaOptions)||void 0===t?void 0:t.fp)||ox.get(oT)||(void 0===(e=null===(n=null==oP?void 0:oP.captchaOptions)||void 0===n?void 0:n.fpCookieOption)&&(e={}),oO(e));return iC.resolve(r)},t.init=function(e,t,n){void 0===t&&(t=function(){}),void 0===n&&(n=function(){});var r=ok(e);Object.assign(oB,r),oL.init(x(x({},r),{region:"in"})),oC.init(r,oM),oC.start(),oF.get(r).then(function(n){var r;Object.assign(oP,x(x({},e),{captchaOptions:x(x({},e.captchaOptions),{h5_check_version:(null===(r=e.captchaOptions)||void 0===r?void 0:r.closeDecisionCheck)?"0.0.0":"3.8.20-nontt-alpha.2"})})),null==n||n.initVerifyOptions(oP),t(n)}).catch(function(e){var t;n({type:"loadJSSDK",msg:null!==(t=null==e?void 0:e.message)&&void 0!==t?t:""})})},t.render=function(e){oF.get(oB).then(function(t){null==t||t.autoRender(e)}).catch(function(e){console.log("err: ",e)})},t.transform=function(e){var t={code:"10000",from:"",type:"verify",version:"1",region:"in",subtype:"",verify_event:"",fp:"",detail:""};return 3059===e?t.subtype="text":3060===e?t.subtype="3d":99996===e?t.subtype="whirl":t.subtype="slide",JSON.stringify(t)}},84375:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(571456),i=n(683132),o=n(859933),a=n(227478),s=function(){function e(t){(0,r.PA)(this,e),(0,r._x)(this,"_lowDecodeThreshold",(0,a.tT)().lowDecodeThreshold/5),this.TAG="DecodeEstimate",this._needEstimate=!0,this._parent=t,this._lastDecodeDot=0,this._lastDecodeCost=0,this._lastFrameDts=0,this._dtsDeltas=[],this._decodeCosts=[],this._lowDecodeQueue=[],this._fps=0,this._decodeFps=0,this._gopLength=0,this._webcodec=!1}return(0,r.qH)(e,[{key:"fps",get:function(){return this._fps}},{key:"decodeFps",get:function(){return this._decodeFps}},{key:"decodeCost",get:function(){return this._lastDecodeCost}},{key:"gopLength",get:function(){return this._gopLength}},{key:"webcodec",set:function(e){this._webcodec=e}},{key:"updateGopCount",value:function(){this._gopLength++}},{key:"needEstimateFps",value:function(){this._needEstimate=!0}},{key:"addDecodeInfo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{dts:0};this._estimateDecodeFps(e),this._estimateFps(e)}},{key:"resetDecodeDot",value:function(e){this._lastDecodeDot=e||0}},{key:"reset",value:function(){this._decodeCosts=[],this._lowDecodeQueue=[]}},{key:"_estimateFps",value:function(e){if(this._needEstimate){if(!this._lastFrameDts){this._lastFrameDts=e.dts;return}var t=e.dts-this._lastFrameDts;if(this._lastFrameDts=e.dts,!(Math.abs(t)>200)){this._dtsDeltas.push(t);var n=this._dtsDeltas.length;n<5||(this._fps=Math.ceil(1e3/this._avg(this._dtsDeltas,n)),i.kg.log(this.TAG,"estimate fps:",this._fps),this._needEstimate=!1)}}}},{key:"_estimateDecodeFps",value:function(e){if(!this._lastDecodeDot){this._lastDecodeDot=performance.now();return}var t=performance.now(),n=t-this._lastDecodeDot;this._lastDecodeDot=t,e.cost=n,this._lastDecodeCost=n,this._decodeCosts.push(n);var r=this._decodeCosts.length;if(!(r<5)){var i=this._avg(this._decodeCosts,r);this._decodeFps=Math.floor(1e3/i),this._decodeCosts=[],this._lowDecodeDetect()}}},{key:"_avg",value:function(e,t){return Math.floor(e.reduce(function(e,t){return e+t},0)/t)||1}},{key:"_lowDecodeDetect",value:function(){if(!this._decodeFps){this._parent.emit(o.ZP.VIDEO.DECODE_LOW_FPS);return}this._decodeFps<this._fps*this._parent.playbackRate+(this.webcodec?0:(0,a.tT)().lowDecodeFpsDelta)?this._lowDecodeQueue.push(this._decodeFps):this._lowDecodeQueue.pop(),this._lowDecodeQueue.length>this._lowDecodeThreshold&&(this._lowDecodeQueue=[],i.kg.log(this.TAG,"low decode, need degrade"),this._parent.emit(o.ZP.VIDEO.DECODE_LOW_FPS))}}]),e}()},296554:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(743477),i=function(){function e(){}var t=e.prototype;return t.getData=function(e,t){return e.getData(t)},t.setData=function(e,t,n){return e.setData(t,n)},t.getTypes=function(e){return e.types},e}(),o=function(){function e(e){void 0===e&&(e=new i),this.proxyClipboard=e}var t=e.prototype;return t.getTypes=function(e){return this.proxyClipboard.getTypes(e)},t.getData=function(e,t){return void 0===t&&(t="text/html"),r.Xh.modernIE?this.proxyClipboard.getData(e,"text"):this.proxyClipboard.getData(e,t)},t.setData=function(e,t){var n=t.text,o=t.html;(n||o)&&(t=null===(t=null===(t=null===(t=window.lark)||void 0===t?void 0:t.biz)||void 0===t?void 0:t.clipboard)||void 0===t?void 0:t.setContent,r.Xh.modernIE?this.proxyClipboard.setData(e,"text",o):this.proxyClipboard instanceof i&&t&&((0,r.WZ)()||r.Xh.isBytedanceApp&&r.Xh.isIPad||r.Xh.isAndroid&&o.length&&!n.length)?window.lark.biz.clipboard.setContent({text:n,html:o}):(this.proxyClipboard.setData(e,"text/html",o),this.proxyClipboard.setData(e,"text/plain",n)))},t.setDataWithoutEvent=function(e){var t=this,n=function(i){i.preventDefault(),i.stopImmediatePropagation&&i.stopImmediatePropagation();var o=e.html,a=e.text;document.createElement("div").innerHTML=o,i=i.clipboardData||window.clipboardData,r.Xh.modernIE?t.proxyClipboard.setData(i,"text",o):(t.proxyClipboard.setData(i,"text/html",o),t.proxyClipboard.setData(i,"text/plain",a)),e.customCopyDatas&&t.setCustomData(i,e.customCopyDatas),document.removeEventListener("copy",n)},i=document.createElement("textarea");document.body.appendChild(i),document.addEventListener("copy",n),i.style.opacity="0",i.value=" ",r.Xh.mobile&&(i.readOnly=!0);var o=window.scrollX,a=window.scrollY;i.focus({preventScroll:!0}),i.select(),r.Xh.isAndroid&&window.scrollTo(o,a),r.Xh.lark&&r.Xh.isIOS?window.lark.biz.navigation.handleCopyMenuClick():document.execCommand("copy"),document.body.removeChild(i)},t.setCustomData=function(e,t){var n,i,o=this;e&&e.setData&&(r.Xh.isAndroid?(n=this.proxyClipboard.getData(e,"text/html"),i="",t.forEach(function(e){var t=e.key,e=e.data;i+='<span id="custom-clipboard-data-'+t+'" data-custom-clipboard="'+encodeURIComponent(e)+'"></span>'}),this.proxyClipboard.setData(e,"text/html",n+i)):t.forEach(function(t){o.proxyClipboard.setData(e,t.key,t.data)}))},t.getCustomData=function(e,t){if(!e||!e.setData)return"";if(r.Xh.isAndroid){var n=this.proxyClipboard.getData(e,"text/html"),n=(new DOMParser).parseFromString(n,"text/html").getElementById("custom-clipboard-data-"+t);return decodeURIComponent((null==n?void 0:n.getAttribute("data-custom-clipboard"))||"")}return this.proxyClipboard.getData(e,t)},e}()},748410:function(e,t,n){"use strict";n.d(t,{D:function(){return o}});var r=n(386859),i=n(858708),o=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.stopEvent=function(){},r.preventEvent=function(){},(0,i.uc)(r,{},t,n),r}return(0,r.d)(t,e),t}(n(276673).O)},128263:function(e,t,n){"use strict";n.d(t,{R:function(){return a}});var r=n(386859),i=n(858708),o=n(182855),a=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.view=null,r.detail=0,(0,i.uc)(r,o.D3,t,n),r}return(0,r.d)(t,e),t}(n(276673).O)},555088:function(e,t,n){"use strict";n.d(t,{Y:function(){return y}});var r=n(386859),i=n(595607),o=n(64367),a=n(184141),s=n(528694),c=n(881287),u=n(743477),l=n(399501);n(907028);var d=n(586771),f=n(192658),p=n(61585),h=n(768357),v=n(577725),g=n(541565),y=function(){function e(e){var t=e.editor,e=e.range;this.t=[],this.e=[],this.i=0,this.n=null,this.s=t,e&&(this.t.push(e),this.e.push(e))}var t=e.prototype;return Object.defineProperty(t,"range",{get:function(){return this.t[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t,"prevRange",{get:function(){return this.e[0]},enumerable:!1,configurable:!0}),t.o=function(e,t){this.i=e,this.n=t},t.r=function(){this.o(0,null)},t.a=function(e){return e&&(null===(e=this.s.getContentState().getZoneState(e))||void 0===e?void 0:e.getContainer())||null},t.focus=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=null===(i=this.range)||void 0===i?void 0:i.start.zoneId,i=!1;"boolean"==typeof(e=void 0!==e&&e)?(i=e,n=t):(r=e,i=t),!r||!n&&this.hasFocus(r)||(r=this.a(r))&&((0,d.m)(r,i),this.setSelection(this.t,!0))},t.hasFocus=function(e){var t=null!=e?e:null===(t=this.range)||void 0===t?void 0:t.start.zoneId;return!!t&&this.s.isFocus(t)},t.getSelection=function(e,t){var n=this.range;return"string"==typeof e?n=this.t.find(function(t){return t.start.zoneId===e})||null:t=e,t=t||this.s.getContentState(),n&&t.getZoneState(n.start.zoneId)?n.clone(t):n},t.getMultipleSelection=function(){var e=this;return this.t.map(function(t){return e.s.getContentState().getZoneState(t.start.zoneId)?t.clone():t})},t.isZoneInSelection=function(e){for(var t=!1,n=0,r=this.t.length;n<r;++n)if(this.t[n].start.zoneId===e){t=!0;break}return t},t.l=function(e){var t=this.s,n=this.s.modulesContainer.get(p.h.Range),i=null;switch(typeof e.start){case"number":i=new v.L((0,r.b)((0,r.b)({},e),{editor:t})).toRange();break;case"object":i=new n((0,r.b)((0,r.b)({},e),{editor:t}))}return i},t.u=function(e){return new(this.s.modulesContainer.get(p.h.Range))({editor:this.s,start:this.h(e.start),end:this.h(e.end),isBackward:e.isBackward})},t._replaceSingleRangeModel=function(e,t){void 0===t&&(t=!1);var n,r=this.l(e);!r||(e=-1===(n=this.t.findIndex(function(e){return e.start.zoneId===(null==r?void 0:r.start.zoneId)}))?null:this.t[n])&&(this.e=this.t,!t&&g.W.isRangeEqual(e,r)||(r=this.u(r),(e=this.t.slice(0))[n]=r,this.t=e))},t._setSelectionModel=function(e,t){var n,i,o=this;void 0===t&&(t=!1);var e=Array.isArray(e)?e:[e],a=[];try{for(var s=(0,r.c)(e),c=s.next();!c.done;c=s.next()){var u=c.value,l=this.l(u);l&&a.push(l)}}catch(e){n={error:e}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}this.e=this.t,!t&&g.W.isRangesEqual(this.t,a)||(a=a.map(function(e){return o.u(e)}),this.t=a)},t.setSelection=function(e,t){void 0===t&&(t=!1),this._setSelectionModel(e),this._dispatchEvent(t),t&&this.updateBrowserSelection()},t._dispatchEvent=function(e){var t=this.t,n=this.e;!e&&g.W.isRangesEqual(n,t)||this.range&&this.s.call(l.r.SELECTION_CHANGE,{previousRanges:n,currentRanges:t,previous:this.prevRange,current:this.range,attributes:this.s.getContentState().getAttributes(this.range.start,this.range.end)})},t.updateBrowserSelection=function(e){if(this.range&&!(1<this.t.length)){var t=this.range.toPosition(),n=this.s.getContentState().getZoneState(t.zoneId),r=u.Xh.safari&&n&&t.len===n.totalWidth()-1-(null!==(r=n.getLine(0))&&void 0!==r&&r.hasLineMarker()?1:0);if(e||!this.s.getStatus("isMouseDown")||r){if(r=this._toDOMRange(this.range)){try{this._updateDOMSelection(r)}catch(e){this.s.error({message:"[Selection][updateBrowserSelection] range:"+this.range+" _updateDOMSelection occur error",level:i.W.ERROR})}this.s.call(l.r.SELECTION_CHANGE_AND_DOM_UPDATE,{selection:this.range})}else this.s.error({message:"[Selection][updateBrowserSelection] range:"+this.range+" _toDOMRange faild",level:i.W.ERROR})}}},t.selectAll=function(e){void 0===e&&(e=o.S);var t,n,r=this.s.getContentState().getZoneState(e);r&&(t=r.getLine(0),(n=r.getLine(r.length()-1))&&t&&(e=new(this.s.modulesContainer.get(p.h.Range))({editor:this.s,start:{line:0,offset:t.hasLineMarker()?1:0,zoneId:e},end:{line:r.length()-1,offset:n.length()-1,zoneId:e}}),this.setSelection(e),this.updateBrowserSelection()))},t.isSelectingAll=function(e){void 0===e&&(e=o.S);var t=this.getSelection(e);if(!t)return!1;var n=t.start,r=t.end,i=this.s.getContentState().getZoneState(e);return!!i&&(t=i.length()-1,e=i.getLine(0),!(!(i=i.getLine(t))||!e)&&0===n.line&&n.offset===(e.hasLineMarker()?1:0)&&r.line===t&&r.offset===i.length()-1)},t.h=function(e){var t=this.s,n=e.zoneId,t=t.getContentState().getZoneState(n);return t&&(n=t.length()-1,e.line=Math.max(0,e.line),e.line>n&&(e.line=n,e.offset=t.getLine(n).getModelText().length-1),t=t.getLine(e.line),e.offset=Math.min(t.getModelText().length-1,e.offset),e.offset<=0&&(e.offset=t.hasLineMarker()?1:0)),e},t._handleDOMSelectionChange=function(){var e,t,n,r,i=window.getSelection();null!==i&&(u.Xh.ios&&null===i.focusNode&&this.s.isFocus()&&(this.s.setStopUpdateSelection(!1),this.setSelection(this.getSelection(),!0)),this.s.getStatus("stopUpdateSelection")||(n=(0,h.Zj)(i,0))&&(e=n.startContainer,r=n.endContainer,t=n.collapsed,!(n=this.s.getContainer()).contains(e)||!t&&!n.contains(r)||(0,h.E_)(e)&&(0,h.E_)(r)||(r=this._toModelRange(i))&&(i=!(u.Xh.isAndroid&&!r.isCollapsed()),this.setSelection(r,i))))},t.toDOMRange=function(e,t){return this._toDOMRange(e,t=void 0===t?{ignoreNormalize:!1}:t)},t._toDOMRange=function(e,t){void 0===t&&(t={ignoreNormalize:!1});var n=e.start,r=e.end,n=this.f(n),r=this.f(r);return n.node&&r.node?t.ignoreNormalize?(0,h.XM)(n,r):(e=(r=this.v(n,r,e)).start,r=r.end,(0,h.XM)(e,r)):null},t.v=function(e,t,n){var i=e.node,o=e.offset,a=t.node,s=t.offset,u=n.start,l=n.end,d=(0,h.E_)(i),f=(0,h.E_)(a),p=(null===(v=(0,h.Ju)(i))||void 0===v?void 0:v.length)||0,v=(null===(g=(0,h.Ju)(a))||void 0===g?void 0:g.length)||0,g=(0,h.x1)(i);if(!d&&!f&&i&&i===a&&e.offset===t.offset&&(_=i instanceof Element?i:i.parentElement)&&_.closest("["+c.q7+"]")){var y={node:_,offset:(null===(y=null==_?void 0:_.textContent)||void 0===y?void 0:y.length)||0};return{start:y,end:y}}if(d&&(0,h.hl)(i)&&i===a&&u<l||d&&0===o&&(0,h.hl)(i)&&f&&s===v&&(0,h.hl)(a))return{start:e,end:t};if(d&&f&&i!==a&&!(0,h.hl)(i)&&!(0,h.hl)(a)){var y=this.d(u.zoneId,u.line),m=this.d(l.zoneId,l.line);return{start:this.c(e,y,1),end:this.c(t,m,1)}}if(n.isCollapsed()&&d&&o===p){var _,b=this.d(u.zoneId,u.line);return(_=(S=this.c(e,b,1)).node instanceof Element?S.node:null===(m=S.node)||void 0===m?void 0:m.parentElement)&&_.closest("["+c.q7+"]")&&(S.offset=1),{start:S,end:S}}if(n.isCollapsed()&&d&&0===o)return b=this.d(u.zoneId,u.line),{start:S=this.c(e,b,-1),end:S};if(d&&f&&i!==a&&n.isBackward){var S,b=this.d(l.zoneId,l.line);return{start:e,end:S=this.c(t,b,1)}}return g&&f&&(null==i?void 0:i.nextSibling)===a&&(0,h.iB)(a)&&!this.s.getStatus("isMouseDown")?{start:(0,r.b)((0,r.b)({},t),{offset:0}),end:t}:d&&0===o?(b=this.d(u.zoneId,u.line),{start:this.c(e,b,-1),end:t}):f&&0===s?(b=this.d(l.zoneId,l.line),{start:e,end:this.c(t,b,-1)}):d&&o===p&&f&&n.toPosition().len<=((null===(a=(0,h.Ju)(a))||void 0===a?void 0:a.length)||0)?{start:(0,r.b)((0,r.b)({},t),{offset:0}),end:t}:d&&o===p?(b=this.d(u.zoneId,u.line),{start:this.c(e,b,1),end:t}):f&&s===v?(b=this.d(l.zoneId,l.line),{start:e,end:this.c(t,b,1)}):{start:e,end:t}},t.c=function(e,t,n){var i=e.node;if(!(t&&i instanceof Element))return e;var o=(0,h.U_)(t),a=o.indexOf(i),a=o[a+n]||i;if(a.hasAttribute(c.eu)){var i=(0,h.iB)(a);return i?{node:i,offset:!(0<n)&&(null===(i=i.textContent)||void 0===i?void 0:i.length)||0}:this.c((0,r.b)((0,r.b)({},e),{node:a}),t,1)}return a.closest("["+c.q7+"]")?{node:a,offset:(null===(t=a.textContent)||void 0===t?void 0:t.length)||0}:{node:a,offset:!(0<n)&&(null===(a=a.textContent)||void 0===a?void 0:a.length)||0}},t.f=function(e){var t=e.zoneId,n=e.line,r=e.offset,e=this.d(t,n);return e&&(n=null===(t=this.s.getContentState().getZoneState(t))||void 0===t?void 0:t.getLine(n))?this._(e,Math.max(r-(null!=n&&n.hasLineMarker()?1:0),0)):{node:null,offset:0}},t._=function(e,t){if((0,h.y1)(e))return{node:e,offset:t};if(!e||!e.querySelectorAll)return{node:e,offset:0};var n=(0,h.U_)(e),i=0;try{for(var o=(0,r.c)(n),a=o.next();!a.done;a=o.next()){var s,u,l,d,f=a.value,p=(null===(l=f.textContent)||void 0===l?void 0:l.length)||0;if(f.hasAttribute(c.eu)&&(p=(d=f.getAttribute(c.eu))?Math.min(d.length,t-i):0),!((i+=p=f.hasAttribute(c.VI)?0:p)<t))return{node:f,offset:Math.max(p+t-i,0)}}}catch(e){s={error:e}}finally{try{a&&!a.done&&(u=o.return)&&u.call(o)}finally{if(s)throw s.error}}return{node:e,offset:0}},t.d=function(e,t){var n,r=this.s._getViewModel(),t=null===(n=this.s.getContentState().getZoneState(e))||void 0===n?void 0:n.getLine(t);if(!t)return null;if(r=r.getView(t))return r;var i=e===o.S?this.s.getContainer():document.querySelector('[data-zone-id="'+e+'"]');return Array.from((null==i?void 0:i.querySelectorAll(".ace-line"))||[]).filter(function(e){return e.closest("["+c.Ks+"]")===i})[t.index]||null},t.g=function(e){var t=e.start,n=e.end,r=e.isBackward,o=e.zoneId,a=this._toModelRangePoint(t,!1,o),e=this._toModelRangePoint(n,!0,o);if(!a||!e)return this.s.error({message:"[Selection][_calcModelRangeFromDom] startPoint: "+a+", endPoint: "+e,level:i.W.ERROR}),null;if(!o&&a.zoneId!==e.zoneId&&!this.s._isFixToCommonZone)return null;if(o&&a.zoneId!==e.zoneId){if(!(t=this.s.getContentState().getZoneState(o))||(n=t.length()-1,!(t=t.getLine(n))))return null;o===a.zoneId?e={line:n,offset:t.length()-1,zoneId:o}:o===e.zoneId?a={line:0,offset:0,zoneId:o}:(a={line:0,offset:0,zoneId:o},e={line:n,offset:t.length()-1,zoneId:o})}return new(this.s.modulesContainer.get(p.h.Range))({start:a,end:e,isBackward:r,editor:this.s})},t.toModelRange=function(e,t){return this._toModelRange(e,t)},t._toModelRange=function(e,t){var n=!1;if("selection"===(0,a.k)(e)){var r=e.anchorNode,i=e.anchorOffset,o=e.focusNode,s=e.focusOffset,c=(0,h.Zj)(e,0);if(!c)return null;var u=(e=c).startContainer,l=e.startOffset,d=e.endContainer,c=e.endOffset,n=r!==u||o!==d||i!==l||s!==c}return d=e.startContainer,i=e.startOffset,l=e.endContainer,s=e.endOffset,null!=(c=this.g({start:{node:d,offset:i},end:{node:l,offset:s},isBackward:n,zoneId:t}))&&c.isCollapsed()&&!e.collapsed&&(s=(l=this.v({node:d,offset:i},{node:l,offset:s},c)).start,l=l.end,c=this.g({start:s,end:l,isBackward:n,zoneId:t})),c},t._toModelRangePoint=function(e,t,n){void 0===t&&(t=!1);var r=(0,h.KK)(e),i=r.node,o=r.offset,r=(0,h.mO)(i);if(!i||!r||!(0,h.Tl)(this.s,r,t)){if(!n)return null;var a=this.s.getContentState().getZoneState(n);if(!a)return null;var s=a.length()-1,u=a.getLine(s);return u?t?{line:s,offset:u.length()-1,zoneId:n}:{line:0,offset:0,zoneId:n}:null}s=(a=(0,h.Tl)(this.s,r,t)).getZoneId(),u=a.index,n=0,(r=i instanceof HTMLElement?(0,h.Ny)(i):(0,h.Ny)(i.parentElement))&&(o=0),r&&t&&(n=(null===(l=r.getAttribute(c.eu))||void 0===l?void 0:l.length)||0);var l=(0,h.qI)(i);return(l&&(n=o=0,r=l),r=r||(i instanceof HTMLElement?i.closest("["+c.nV+"]"):null===(i=i.parentElement)||void 0===i?void 0:i.closest("["+c.nV+"]")))?(r.hasAttribute(c.q7)&&(o=0),{line:u,offset:Math.max(a=(r&&(null===(r=this.s._getViewModel().getLeafModel(r))||void 0===r?void 0:r.start)||0)+o+n+(a.hasLineMarker()?1:0),0),zoneId:s}):{line:u,offset:Math.max(e=((e=(0,h.fr)(e))?(0,h.MK)(e):0)+(a.hasLineMarker()?1:0)+n,0),zoneId:s}},t._updateDOMSelection=function(e){var t=this,n=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset,a=document.getSelection();if(this.i>=100&&null!==this.n&&this.n===a){var s="[Selection][_updateDOMSelection] 'update too many times: "+this.i+"\uFF0C\n        range:"+this.range;return 100===this.i&&setTimeout(function(){t.r(),console.warn(s)},200),void this.i++}if(null!==a){if(null===n||null===i)return a.removeAllRanges(),this.s.getContainer().blur(),void this.r();this.hasFocus()||(l=this.a(null===(u=this.range)||void 0===u?void 0:u.start.zoneId))&&(0,d.m)(l);var c,u=(0,h.Zj)(a,0);if(u&&this.m(e,u))this.r();else{if(a.anchorNode!==a.baseNode||a.focusNode!==a.extentNode){var l=(0,h.Yr)(a,u)?{startContainer:a.extentNode,startOffset:a.extentOffset,endContainer:a.baseNode,endOffset:a.baseOffset}:{startContainer:a.baseNode,startOffset:a.baseOffset,endContainer:a.extentNode,endOffset:a.extentOffset};if(this.m(e,l))return void this.r()}this.o(this.i+1,a),a.collapse&&a.extend?n===i&&r===o?a.collapse(n,r):null!==(c=this.range)&&void 0!==c&&c.isBackward?(a.collapse(i,o),a.extend(n,r)):(a.collapse(n,r),a.extend(i,o)):((c=document.createRange()).setStart(n,r),c.setEnd(i,o),a.removeAllRanges(),a.addRange(c))}}else this.r()},t.m=function(e,t){return e.startContainer===t.startContainer&&e.endContainer===t.endContainer&&e.startOffset===t.startOffset&&e.endOffset===t.endOffset},t.S=function(e,t,n,r){var i=this.d(e.zoneId,e.line);if(!i)return 0;var e=t.hasAttribute(c.VI)||t.hasAttribute(c.q7),o=r?null===(o=t.textContent)||void 0===o?void 0:o.slice(n):null===(a=t.textContent)||void 0===a?void 0:a.slice(0,n),a=r?1:-1,n=0;if(o&&o.length&&!e)n=(r?f.X:f.j)(o);else{i=(0,h.U_)(i),t=(0,h.Ny)(t)||t;var t=i.indexOf(t),i=r?i.slice(t+1).find(function(e){return!(0,h.x1)(e)}):i.slice(0,t).reverse().find(function(e){return!(0,h.x1)(e)});if(!i)return a;n=(0,h.Ny)(i)?(null===(t=(0,h.Ju)(i))||void 0===t?void 0:t.length)||1:(i=i.textContent||"",(r?f.X:f.j)(i))}return a*Math.max(n,1)},t.p=function(e){var t=(0,r.b)({},e),n=e.zoneId,i=e.line,o=e.offset,a=this.s.getContentState().getZoneState(n);if(!a)return e;var s=a.getLine(i);if(!s)return e;var c=s.hasLineMarker()?1:0,n=s.length()-1;if(o<c){if(0<i){if(--t.line,!(s=a.getLine(t.line)))return e;t.offset=s.length()-1}else t.offset=c}return n<o&&(i<a.length()-1?(t.line+=1,t.offset=null!==(a=a.getLine(t.line))&&void 0!==a&&a.hasLineMarker()?1:0):t.offset=n),t},t.handleArrowKey=function(e){var t,n,i,o,a,s,l,d,f,v,y,m,_,b=e.evt,S=b.keyCode,T=b.shiftKey,w=b.metaKey,E=b.altKey,k=b.ctrlKey;"keydown"===b.type&&(t=S===c.VD.Right||u.Xh.isMac&&k&&S===c.VD.F,!(S===c.VD.Left||u.Xh.isMac&&k&&S===c.VD.B)&&!t||w||E||this.s.getStatus("stopUpdateSelection")||1<this.t.length||null===(y=window.getSelection())||(_=(0,h.Zj)(y,0))&&(v=_.startContainer,n=_.startOffset,f=_.endContainer,i=_.endOffset,o=_.collapsed,s=null==(a=v instanceof Element?v:v.parentElement)?void 0:a.hasAttribute(c.VI),l=(0,h.Eb)(a,n),e=null==(d=f instanceof Element?f:f.parentElement)?void 0:d.hasAttribute(c.VI),S=(0,h.Eb)(f,i),E=(w=this.getSelection()).start,y=w.end,_=w.isBackward,w=null===(f=(v=this.s.getContentState()).getZoneState(E.zoneId))||void 0===f?void 0:f.getLine(E.line),v=null===(f=v.getZoneState(y.zoneId))||void 0===f?void 0:f.getLine(y.line),f=E.offset===((null==w?void 0:w.length())||0)-1,w=E.offset===Number(null==w?void 0:w.hasLineMarker()),v=y.offset===((null==v?void 0:v.length())||0)-1,(e||v||s||f||w||l||S)&&(T&&!k&&_&&(s||f||l)&&a&&(E=this.p((0,r.b)((0,r.b)({},E),{offset:E.offset+=this.S(E,a,n,t)}))),T&&!k&&!_&&(e||v||S)&&d&&(y=this.p((0,r.b)((0,r.b)({},y),{offset:y.offset+=this.S(y,d,i,t)}))),!T&&o&&a&&(m=this.S(E,a,n,t),y=E=this.p((0,r.b)((0,r.b)({},E),{offset:E.offset+=m}))),!T&&!o&&a&&s&&e&&(m=this.S(E,a,n,t),y=E=this.p((0,r.b)((0,r.b)({},E),{offset:E.offset+=m}))),_=new(this.s.modulesContainer.get(p.h.Range))({editor:this.s,start:E,end:y,isBackward:_}),this.range&&!g.W.isRangeEqual(_,this.range)&&(this.setSelection(_,!0),b.preventDefault()))))},(0,r.a)([s.W],e.prototype,"updateBrowserSelection",null),(0,r.a)([s.W],e.prototype,"_handleDOMSelectionChange",null),(0,r.a)([s.W],e.prototype,"handleArrowKey",null),e}()},768357:function(e,t,n){"use strict";n.d(t,{E_:function(){return g},Eb:function(){return A},Ju:function(){return I},KK:function(){return l},MK:function(){return b},Ny:function(){return y},S3:function(){return function e(t,n){void 0===n&&(n=[]);for(var r=0,o=t.childNodes.length;r<o;r++){var a,s=t.childNodes[r];s.hasAttribute&&s.hasAttribute(i.nV)&&!s.hasAttribute(i.q7)?n.push(s.textContent):void 0!==(a=f(s))?n.push(a):s.childNodes&&e(s,n)}return n}},Tl:function(){return M},U_:function(){return h},XM:function(){return T},Yr:function(){return x},Zj:function(){return S},fr:function(){return p},hl:function(){return k},iB:function(){return C},mO:function(){return d},qI:function(){return m},x1:function(){return E},y1:function(){return s},z8:function(){return function e(t,n){void 0===n&&(n=[]);for(var r=0,i=t.childNodes.length;r<i;r++){var o,a=t.childNodes[r];a.nodeType===Node.TEXT_NODE?n.push(a.textContent):void 0!==(o=f(a))?n.push(o):a.childNodes&&e(a,n)}return n}}});var r=n(386859),i=n(881287),o=n(743477),a=function(e){return e instanceof Node},s=function(e){return a(e)&&e.nodeType===Node.TEXT_NODE},c=function(e){return a(e)&&e.nodeType===Node.ELEMENT_NODE},u=function(e,t,n){if(!(e instanceof HTMLElement)||"br"===e.tagName.toLowerCase()||!e.childNodes[t]||e.classList.contains(i.qT))return null;for(var r,o=e.childNodes,s=o[t],u=t,l=!1,d=!1;(a(r=s)&&r.nodeType===Node.COMMENT_NODE||c(s)&&0===s.childNodes.length||c(s)&&"false"===s.getAttribute("contenteditable")&&!s.getAttribute(i.eu))&&(!l||!d);)u>=o.length?(l=!0,u=t-1,n="backward"):u<0?(d=!0,u=t+1,n="forward"):(s=o[u],u+="forward"===n?1:-1);return s},l=function(e){var t=e.node,n=e.offset;if(c(t)&&t.hasChildNodes()){var r=(n=Math.min(n,t.childNodes.length))===t.childNodes.length,i=r?"backward":"forward";for(t=t.childNodes[r?n-1:n];t instanceof HTMLElement&&t.childNodes.length;)var o=r?t.childNodes.length-1:0,t=u(t,o,i);if(!t)return e;n=r&&null!=t.textContent?t.textContent.length:0}return{node:t,offset:n}};function d(e){if(!e)return null;var t=e;return(t=e.nodeType===window.Node.TEXT_NODE?e.parentNode:t)&&t.closest?t.closest("["+i.PI+"]"):null}function f(e){if(!(e instanceof HTMLElement))return"";var t=e.hasAttribute(i.eu),n=e.hasAttribute(i.VI),r=e.hasAttribute(i.Ks),o=e.hasAttribute(i.sq),a=e.hasAttribute(i.q7);return t?e.getAttribute(i.eu):n?(null===(n=e.textContent)||void 0===n?void 0:n.replace(RegExp(""+i.T6,"g"),""))||"":r?e.querySelectorAll("["+i.P9+"]").length?" ":"":a?((null===(e=e.textContent)||void 0===e?void 0:e.replace(RegExp(""+i.T6,"g"),""))||"")+"\n":o?"":void 0}function p(e){var t,n,o,a=l(e),s=a.node,c=a.offset,e=d(s);if(!s||!e)return null;(a=document.createRange()).setStart(e,0),a.setEnd(s,c),a=Array.from((c=a.cloneContents()).querySelectorAll("["+i.eu+"],["+i.VI+"],["+i.Ks+"],["+i.sq+"]"));try{for(var u=(0,r.c)(a),f=u.next();!f.done;f=u.next()){var p,h,v,g,y,m,_=f.value,b=_.parentNode;b&&(p=_.hasAttribute(i.eu),h=_.hasAttribute(i.VI),v=_.hasAttribute(i.Ks),p?(g=_.getAttribute(i.eu),(y=document.createElement("span")).setAttribute(i.eu,g),y.textContent=g,b.insertBefore(y,_),b.removeChild(_)):h?_.textContent=(null===(o=_.textContent)||void 0===o?void 0:o.replace(RegExp(""+i.T6,"g"),""))||null:v?(m=_.querySelectorAll("["+i.P9+"]"),_.textContent=m.length?" ":""):b.removeChild(_))}}catch(e){t={error:e}}finally{try{f&&!f.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return c}function h(e){return Array.from(e.querySelectorAll("["+i.nV+"], ["+i.eu+"], ["+i.VI+"]")).filter(function(e){var t;return!(e instanceof HTMLElement&&"string"==typeof(null===(t=e.dataset)||void 0===t?void 0:t.fakeText))||(null===(e=null===(e=e.dataset)||void 0===e?void 0:e.fakeText)||void 0===e?void 0:e.length)}).filter(function(t){return t=t.parentElement&&t.parentElement.closest("["+i.eu+"]"),!e.contains(t)}).filter(function(t){return t=t.parentElement&&t.parentElement.closest("["+i.Ks+"]"),!e.contains(t)})}function v(e){if(s(e)||!e.hasChildNodes())return[e];if(g(e)){var t=C(e);if(t&&t.firstChild)return[t.firstChild]}return Array.from(e.childNodes).reduce(function(e,t){return e.push.apply(e,(0,r.e)(v(t))),e},[])}function g(e){return!!y(e)}function y(e){return _(e,"["+i.eu+"]")}function m(e){return _(e,"["+i.sq+"]")}function _(e,t){return e&&(e=e instanceof HTMLElement?e:e.parentElement)?(t=e.closest(t),e=d(e),t&&e&&e.contains(t)?t:null):null}function b(e){return e&&(e instanceof Element||e instanceof DocumentFragment)&&(function(e){e.querySelectorAll("["+i.q7+"]").forEach(function(e){e.textContent&&(e.textContent=e.textContent.replace(RegExp(i.T6+"|\\n","g"),""))})}(e),function(e){e.querySelectorAll("."+i.Z6).forEach(function(e){e.parentElement.removeChild(e)})}(e)),(e=e.textContent)?e.length:0}function S(e,t){var n=e.anchorNode,r=e.focusNode;if(!n||!r||e.rangeCount<=t)return null;if(r=null,o.Xh.safari)try{r=e.getRangeAt(t)}catch(e){r=null}else e.getRangeAt&&(r=e.getRangeAt(t));return r||((r=document.createRange()).setStart(e.anchorNode,e.anchorOffset),r.setEnd(e.focusNode,e.focusOffset)),r}function T(e,t){var n,r,i,o=document.createRange(),a=e.node,s=e.offset,e=t.node,t=t.offset;return a&&(i=Math.min(s,(null===(n=(r=w(v(a)[0])).textContent)||void 0===n?void 0:n.length)||0),o.setStart(r,i)),e&&(s=w(v(e)[0]),r=(n=g(e))&&C(e),e=(null===(e=s.textContent)||void 0===e?void 0:e.length)||0,i=!n||r?Math.min(t,e):e,o.setEnd(s,i)),o}function w(e){return o.Xh.safari&&e instanceof HTMLElement&&"BR"===e.tagName?e.closest("span[data-leaf]"):e}function E(e){return e&&(e instanceof HTMLElement?e.hasAttribute(i.VI):null===(e=e.parentElement)||void 0===e?void 0:e.hasAttribute(i.VI))}function k(e){return!!C(e)}function C(e){return e&&e instanceof Element?e.hasAttribute(i.VI)?e:e.querySelector("["+i.VI+"]"):null}function I(e){return e&&e instanceof Element&&e.hasAttribute(""+i.eu)?e.getAttribute(""+i.eu):null}function M(e,t,n){void 0===n&&(n=!1);var r=e._getViewModel(),o=r.getModel(t);if(!o){var a=t.closest("["+i.Ks+"]");if(!a)return null;var s=a.querySelectorAll("["+i.PI+"]");if(!s.length||!(a=(null==(c=r.getModel(a))?void 0:c.getZoneId())||a.getAttribute("["+i.P9+"]")))return null;var c=c||e.getContentState().getZoneState(a),s=Array.from(s).indexOf(t),c=null==c?void 0:c.getLine(s);if(!c)return null;o=c}return Array.isArray(o)&&(s=o[0],c=o[o.length-1],o=n?c:s),o}function A(e,t){var n;if(!e||!(e=e instanceof HTMLElement?e:e.parentElement)||!e.textContent||t!==e.textContent.length)return!1;for(var r=e.closest("["+i.MB+"]");(null==r||!r.nextElementSibling)&&null!==(n=null==r?void 0:r.parentElement)&&void 0!==n&&n.hasAttribute(i.lE);)r=r.parentElement;return null===(e=null==r?void 0:r.nextElementSibling)||void 0===e?void 0:e.querySelector("["+i.eu+"]")}function x(e,t){return!!t&&e.focusNode===t.startContainer&&e.focusOffset===t.startOffset&&e.anchorNode===t.endContainer&&e.anchorOffset===t.endOffset}},51111:function(e,t,n){"use strict";n.d(t,{D:function(){return B},F:function(){return N},T:function(){return U},o:function(){return K},r:function(){return M},z:function(){return Z}});var r=n(563489),i=n(190595),o=n(593017),a=n(219519),s=n(789771),c=n(540648),u=n(929766);n(218571);var l=n(213006);n(195291);var d=n(483677),f=n(569619),p=n(156194),h=n(816097),v=n(119593),g=n(461060),y=n(557517);function m(e){return e.startsWith(c.Gm)}function _(e,t,n){var r,i,o=e.type,a=e.props;if("function"==typeof o&&a.state){var s=new o(a);if(a.state!==(null===(i=null===(r=null==n?void 0:n.previousParentState)||void 0===r?void 0:r.getState())||void 0===i?void 0:i[t])&&(a.state.instance=s),s.preRender){var c=s.preRender().key;if(c)return a.state.setCustomKey(c),c}}return e.props.key||""+t}function b(e){return void 0!==e.__index&&void 0!==e.__key}function S(e,t){if(e.nodeType!==Node.TEXT_NODE){var n,r,o=e.__index,a=e.__key;if(a&&!m(a)&&void 0!==o){var s=null==t?void 0:t.getItemByIndex(o);if(!s)return;var c=s.instance;if(!c)return;L(c);return}try{for(var u=(0,i.a)(Array.from(e.childNodes)),l=u.next();!l.done;l=u.next()){var d=l.value;S(d,t)}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}function T(e,t,n){for(var r,a,s,c=[],u=3;u<arguments.length;u++)c[u-3]=arguments[u];if((null==c?void 0:c.length)===1&&(0,f.CR)(null===(s=c[0])||void 0===s?void 0:s.type))return p.GE.apply(void 0,(0,i.d)([e,t,n],c));var l=[];try{for(var d=(0,i.a)(c),h=d.next();!h.done;h=d.next()){var v=h.value,g=v.type,y=v.ref,m=v.props,_=m.children,b=T.apply(void 0,(0,i.d)([g,(0,o.C)(m,["children"]),y],_));b&&l.push(b)}}catch(e){r={error:e}}finally{try{h&&!h.done&&(a=d.return)&&a.call(d)}finally{if(r)throw r.error}}return p.GE.apply(void 0,(0,i.d)([e,t,n],l))}function w(e,t){(0,u.aZ)("DOM");for(var n,r,a,s=e.type,l=e.ref,p=e.props,h=p.children,v=T.apply(void 0,(0,i.d)([s,(0,o.C)(p,["children"]),l],h)),g=[];u.L3.length;)!function(){var o=(0,i.b)(null!==(o=u.L3.shift())&&void 0!==o?o:[],3),s=o[0],l=o[1],p=o[2];if(l||p){if(p&&(0,f.AL)(p)){if(g.push(p),null==t?void 0:t.renderContext)p.props.pluginRenderContext=t.renderContext;else for(var h=0;h<u.L3.length;++h){var v=(0,i.b)(u.L3[h],3),y=v[2];if((null===(n=null===(v=null==y?void 0:y.props)||void 0===v?void 0:v.state)||void 0===n?void 0:n.reactInXInstanceList)&&Array.isArray(y.props.state.reactInXInstanceList)&&y.renderContext){p.props.pluginRenderContext=y.renderContext;break}}}var m=null===(a=null===(r=null==p?void 0:p.props)||void 0===r?void 0:r.state)||void 0===a?void 0:a.reactInXInstanceList;Array.isArray(m)&&g.length&&(m.splice.apply(m,(0,i.d)([0,m.length],g)),g.length=0),!s||l instanceof DocumentFragment||D(function(){s(l)},{vNode:e}),p instanceof d.y&&u.Xd.push({type:c.A5.DID_MOUNT,callback:function(){p.componentDidMount()},info:{instance:p}})}}();var y=null==t?void 0:t.reactInXInstances;if(g.length&&y){for(;(null==y?void 0:y.length)>0;)y.pop();y.push.apply(y,(0,i.d)(g))}return(0,u.aZ)("V-DOM"),v}function E(e,t,n,r){for(var o,a,s=[],c=e.length-1;c>=0;--c){var u=e[c],l=u.node,d=u.vNode,f=u.shouldMove;if(l)s.push.apply(s,(0,i.d)(k(d,l,(0,i.e)((0,i.e)({},r),{referenceNode:n})))),f&&s.push((0,y.gX)(l,l.parentNode,n)),n=l;else{var p=w(d,{reactInXInstances:(null===(o=null==r?void 0:r.parentState)||void 0===o?void 0:o.reactInXInstanceList)||(null===(a=d.props.state)||void 0===a?void 0:a.reactInXInstanceList)});s.push((0,y.gX)(p,t,n)),n=p}}return s}function k(e,t,n){var o,s,l,d,h,g,T,I,M,A,R,L,D,N,B,U,j,F,W,G,H=[];if(Array.isArray(e)&&t instanceof NodeList)return H.push.apply(H,(0,i.d)(function(e,t,n){for(var r,o,a=n.parentNode,s=[],u=[],l=0,d=0,f=!1;d<e.length;++d){var p=t[d];if(!p)break;var h=e[d],v=p.__key||""+d,g=_(h,d,n);if(f||(f=b(p)),!function(e,t){if(m(e)&&m(t)){var n=e.slice(c.Gm.length).split(c.rC),r=new Set(t.slice(c.Gm.length).split(c.rC));return n.some(function(e){return r.has(e)})}return e===t}(v,g))break;l=d,u.push({node:p,vNode:h})}if(d===e.length){for(var T=d;T<t.length;++T){var p=t[T],k=b(p);!k&&(f||k)||S(p,n.previousParentState),s.push((0,y.ZA)(p))}return s.push.apply(s,(0,i.d)(E(u,a,null,n))),s}if(d===t.length){for(var C=null,T=e.length-1;T>=d;--T){var h=e[T],I=w(h,{reactInXInstances:(null===(r=null==n?void 0:n.parentState)||void 0===r?void 0:r.reactInXInstanceList)||(null===(o=h.props.state)||void 0===o?void 0:o.reactInXInstanceList)});s.push((0,y.gX)(I,a,C)),C=I}return s.push.apply(s,(0,i.d)(E(u,a,C,n))),s}for(var M=new Map,T=d;T<t.length;++T)!function(e){var n=t[e],r=n.__key||""+e;f||(f=b(n)),m(r)?r.slice(c.Gm.length).split(c.rC).forEach(function(e){M.set(""+c.Gm+e,n)}):M.set(r,n)}(T);for(;d<e.length;++d)!function(){var t,r=e[d],i=_(r,d,n);if(m(i)?i.slice(c.Gm.length).split(c.rC).some(function(e){return!!M.has(""+c.Gm+e)&&(t=M.get(""+c.Gm+e),!0)}):t=M.get(i),t){var o=t.__index,a=o<l;u.push({node:t,vNode:r,shouldMove:a}),l=a?l:o,m(i)?t.__key.slice(c.Gm.length).split(c.rC).forEach(function(e){M.delete(""+c.Gm+e)}):M.delete(i)}else u.push({node:null,vNode:r})}();return s.push.apply(s,(0,i.d)(E(u,a,null,n))),Array.from(M.keys()).forEach(function(e){if(m(e)){if(M.has(e)){var t=M.get(e);S(t,n.previousParentState),s.push((0,y.ZA)(t)),t.__key.slice(c.Gm.length).split(c.rC).forEach(function(e){M.delete(""+c.Gm+e)})}}else{var r=M.get(e),i=b(r);!i&&(f||i)||S(r,n.previousParentState),s.push((0,y.ZA)(r)),M.delete(e)}}),s}(e,t,n))),H;var z=e,K=[];if(!(0,v.b)(e.type)){var Z=null==t?void 0:t.__index;if(e.props.state&&n.parentState&&void 0!==Z){var V=e.props.state,X=null===(l=n.previousParentState)||void 0===l?void 0:l.getItemByIndex(Z);if(!X)return console.error("can not find previous state based on dom.__index",e.type),H;var Y=X.getContainer()||t;if(!Y)return console.error("Unexpected empty container in previous state.",e.type),H;n={parentNode:Y,parentState:V,previousParentState:(null===(d=X.instance)||void 0===d?void 0:d.state)||X};var q=X.instance;if(!q)return console.error("Unexpected empty instance in previous state.",e.type),H;var J=(0,i.e)((0,i.e)({},q.props),{state:V});if(P(q,J),q.props=J,V.instance=q,(0,a.X)(V.getViewContent(),X.getViewContent())){if(!x(V.instance,V))return function e(t,n){if((null==n?void 0:n.instance)&&t){t.instance=n.instance;var r,o,a,s,c,u=(0,i.e)((0,i.e)({},t.instance.props),{state:t});P(t.instance,u),t.instance.props=u;var l=null===(a=t.getState)||void 0===a?void 0:a.call(t);if(l){if(Array.isArray(l))try{for(var d=(0,i.a)(l),f=d.next();!f.done;f=d.next()){var p=f.value,h=p.index,v=void 0!==h&&(null===(s=null==n?void 0:n.getItemByIndex)||void 0===s?void 0:s.call(n,h));e(p,v)}}catch(e){r={error:e}}finally{try{f&&!f.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}else{var h=l.index,v=void 0!==h&&(null===(c=null==n?void 0:n.getItemByIndex)||void 0===c?void 0:c.call(n,h));e(l,v)}}}}(V,X),O(V.instance,X),[];O(V.instance,X)}}z=(s=(0,i.b)(function e(t){var n,r,o=t.type,a=t.props,s=[];if("function"==typeof o){var c=void 0;if((null===(n=t.props.state)||void 0===n?void 0:n.instance)?(c=t.props.state.instance,s.unshift({instance:c,prevState:t.props.state})):(c=new o(a),s.unshift({instance:c,prevState:null})),null===(r=c.preRender)||void 0===r||r.call(c),t=c.render(),!(0,v.b)(t.type)){var u=(0,i.b)(e(t),2),l=u[0],d=u[1];return s.unshift.apply(s,(0,i.d)(d)),[l,s]}return[t,s]}return(0,v.b)(t.type)?[t,s]:[null,s]}(e),2))[0],K=s[1]}if(!z)return t&&H.push((0,y.ZA)(t)),H;if(o=z,t&&t.nodeType!==Node.TEXT_NODE&&r.D_[o.type]===t.tagName.toLowerCase()){H.push.apply(H,(0,i.d)((et=z.props,en=["key","ref"],er=[],ei=[],Object.keys(et).forEach(function(e){if("children"===e){var n=et.children,r=t.childNodes;if(1===n.length&&"string"==typeof n[0]){if(1===r.length&&r[0]instanceof Text)r[0].nodeValue!==n[0]&&ei.push((0,y.uA)(t,n[0]));else{r.forEach(function(e){ei.push((0,y.ZA)(e))});var o=document.createTextNode(n[0]);ei.push((0,y.gX)(o,t,null))}}}else if(!en.includes(e)&&!e.startsWith("on")){var a=t.getAttribute("className"===e?"class":e),s=[null,void 0].includes(et[e])?"":et[e];null===a?s&&("style"!==e||"style"===e&&Object.keys(s).length)&&("style"===e?er.push.apply(er,(0,i.d)(C(s,{}))):er.push({type:y.Yz.ATTRIBUTES,key:e,value:s})):a!==s.toString()&&("style"===e?er.push.apply(er,(0,i.d)(C(s,a))):er.push({type:y.Yz.ATTRIBUTES,key:e,value:s}))}}),er.length&&ei.push((0,y._c)(t,er)),ei)));var Q=z.props.children;if((null==Q?void 0:Q.length)===1&&"string"==typeof Q[0])return null==K||K.forEach(function(e){O(e.instance,e.prevState)}),H;if(Q.length>1||(null===(h=null==t?void 0:t.childNodes)||void 0===h?void 0:h.length)>1)H.push.apply(H,(0,i.d)(k(Q,null==t?void 0:t.childNodes,(0,i.e)((0,i.e)({},n),{parentNode:t}))));else{var $=null===(T=null===(g=n.parentState)||void 0===g?void 0:g.reactInXInstanceList)||void 0===T?void 0:T[0],ee=null===(I=null==$?void 0:$.props)||void 0===I?void 0:I.container;if(ee===t){if((0,f.CR)(Q[0].type)){var et,en,er,ei,eo,ea=null===(A=null===(M=n.parentState)||void 0===M?void 0:M.instance)||void 0===A?void 0:A.renderContext;eo=ea,u.Xd.push({type:c.A5.REACT_IN_X_FORCE_UPDATE,callback:function(){$.forceUpdate(eo)},info:{instance:$}})}else{(function(e){e.unmount()})($);var ea=null===(L=null===(R=n.parentState)||void 0===R?void 0:R.instance)||void 0===L?void 0:L.renderContext,es=w(Q[0],{reactInXInstances:(null===(D=null==n?void 0:n.parentState)||void 0===D?void 0:D.reactInXInstanceList)||(null===(N=e.props.state)||void 0===N?void 0:N.reactInXInstanceList),renderContext:ea});H.push((0,y.gX)(es,t,null))}}else if(ee&&(0,f.CR)(Q[0].type)){(function(e){e.unmount()})($);var ec=(0,p.LM)(Q[0].type,(0,i.e)((0,i.e)({},Q[0].props),{container:t})).instance,ea=null===(U=null===(B=n.parentState)||void 0===B?void 0:B.instance)||void 0===U?void 0:U.renderContext;ec.props.pluginRenderContext=ea;var eu=(null===(j=null==n?void 0:n.parentState)||void 0===j?void 0:j.reactInXInstanceList)||(null===(F=e.props.state)||void 0===F?void 0:F.reactInXInstanceList);eu&&eu.splice(0,1,ec),u.Xd.push({type:c.A5.DID_MOUNT,callback:function(){null==ec||ec.componentDidMount()},info:{instance:ec}})}else H.push.apply(H,(0,i.d)(k(Q[0],null==t?void 0:t.firstChild,(0,i.e)((0,i.e)({},n),{parentNode:t}))))}}else{var Y=null==t?void 0:t.parentElement;if(!Y)return null==K||K.forEach(function(e){O(e.instance,e.prevState)}),H;H.push((0,y.ZA)(t));var es=w(e,{reactInXInstances:(null===(W=null==n?void 0:n.parentState)||void 0===W?void 0:W.reactInXInstanceList)||(null===(G=e.props.state)||void 0===G?void 0:G.reactInXInstanceList)});H.push((0,y.gX)(es,Y,n.referenceNode||null))}return null==K||K.forEach(function(e){O(e.instance,e.prevState)}),H}function C(e,t){"string"==typeof e&&(e=(0,g.R)(e)),"string"==typeof t&&(t=(0,g.R)(t));var n,r,i,o,a=[];if("string"==typeof e)a.push({type:y.Yz.STYLE,key:"cssText",value:e});else{if("string"==typeof t&&(a.push({type:y.Yz.STYLE,key:"cssText",value:""}),t=""),t)for(var s in t)e&&s in e||a.push({type:y.Yz.STYLE,key:s,value:""});if(e)for(var c in e)t&&(null===(r=null===(n=e[c])||void 0===n?void 0:n.trim)||void 0===r?void 0:r.call(n))===(null===(o=null===(i=t[c])||void 0===i?void 0:i.trim)||void 0===o?void 0:o.call(i))||a.push({type:y.Yz.STYLE,key:c,value:e[c]})}return a}function I(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];console.error.apply(console,(0,i.d)(["[Reconciler] "+e],t))}function M(e){var t,n=e.diffResult,r=e.previousState,o=e.ReactContextProvider;if((0,u.RM)(o),t=n.state,!u.gS.get(t.constructor)){I("Can not find component for state.",n.state);return}(0,u.WC)(),(0,u.aZ)("V-DOM");var a=function e(t,n){var r,o,a,s=t.state,l=t.changes,h=[],v=[],g=n.instance,m=n.parent;if(!g){if(m)throw Error("The previousParentState.instance should not be null.");return function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];console.error.apply(console,(0,i.d)(["[Reconciler] "+e],t))}("The previousParentState.instance should not be null."),h}var _=(0,i.e)((0,i.e)({},g.props),{state:s});P(g,_);var b=!l||x(g,s,{changes:l});if(g.props=_,s.instance=g,b){var S=g.render(),T=s.getContainer();return T?(h.push.apply(h,(0,i.d)(k(S,s.getNode(),{parentNode:T,parentState:s,previousParentState:n}))),O(g,n)):I("The parentNode should not be empty."),h}if(!l||0===l.length)return h;for(var w=n.getState(),E=0;E<w.length;++E){var C=w[E].instance;if(C){a=C.props;break}}for(var M=null,E=l.length-1;E>=0;--E){var A=l[E],R=A.inserts,N=A.deletes,B=A.type,U=A.shouldMove,j={parentState:s,referenceNode:M};switch(B){case c.Uu.DELETE:try{for(var F=(r=void 0,(0,i.a)(N)),W=F.next();!W.done;W=F.next()){var G=W.value;v.push({state:G})}}catch(e){r={error:e}}finally{try{W&&!W.done&&(o=F.return)&&o.call(F)}finally{if(r)throw r.error}}h.push.apply(h,(0,i.d)(function(e){var t=[];return e.forEach(function(e){var n=e.state,r=n.getNode();if(!r)throw Error("The previousState._node should not be empty when reconcile unmounted child.");t.push((0,y.ZA)(r)),n.instance&&L(n.instance)}),t}(v)));break;case c.Uu.INSERT:for(var H=R.length-1;H>=0;--H){var z=R[H].state;M=function(e,t,n){var r,o,a,s=e.state,l=e.referenceNode,h=e.parentState,v=u.gS.get(s.constructor);if(v){(0,u.aZ)("DOM");var g=(0,p.az)(v,(0,i.e)((0,i.e)({},t),{state:s,key:s.getKey()}));if(g){for(g=Array.isArray(g)?g[0]:g;u.L3.length;)!function(){var e=(0,i.b)(null!==(p=u.L3.shift())&&void 0!==p?p:[],3),t=e[0],n=e[1],s=e[2];if(n||s){if(s&&(0,f.AL)(s))for(var l=0;l<u.L3.length;++l){var p=(0,i.b)(u.L3[l],3),h=p[2];if((null===(o=null===(r=null==h?void 0:h.props)||void 0===r?void 0:r.state)||void 0===o?void 0:o.reactInXInstanceList)&&Array.isArray(h.props.state.reactInXInstanceList)&&h.renderContext){s.props.pluginRenderContext=h.renderContext,Array.isArray(null===(a=h.props.state)||void 0===a?void 0:a.reactInXInstanceList)&&h.props.state.reactInXInstanceList.push(s);break}}!t||n instanceof DocumentFragment||D(function(){t(n)},{instance:s}),s instanceof d.y&&u.Xd.push({type:c.A5.DID_MOUNT,callback:function(){var e;null===(e=s.componentDidMount)||void 0===e||e.call(s)},info:{instance:s}})}}();(0,u.aZ)("V-DOM");var m=h.getContainer();return l&&l.parentNode&&l.parentNode!==m&&(m=l.parentNode),n.push((0,y.gX)(g,m,l)),g}return null}throw Error("The component of the state map could not be found.")}((0,i.e)({state:z},j),a,h),j.referenceNode=M}break;case c.Uu.UPDATE:for(var H=R.length-1;H>=0;--H){var K=R[H],Z=K.state,V=K.changes,X=N[H];(function(t,n){var r=t.state,o=t.previousState,a=t.referenceNode,s=t.parentState,c=t.changes,u=t.shouldMove,l=o.instance;if(l){o=l.state||o;var d=s.getContainer();if(!d)throw Error("The parent node should not be empty.");var f=o.getNode();if(!f)throw Error("The previousState._node should not be empty.");if(d.contains(f)||n.push((0,y.gX)(f,d,a||null)),null==c?void 0:c.length)n.push.apply(n,(0,i.d)(e({state:r,changes:c},o)));else{var p=(0,i.e)((0,i.e)({},l.props),{state:r});P(l,p),l.props=p,r.instance=l;var h=l.render();n.push.apply(n,(0,i.d)(k(h,f,{parentNode:f,parentState:r,previousParentState:o,referenceNode:a}))),u&&n.push((0,y.gX)(f,d,a)),O(l,o)}}else I("The instance of previous state should not be empty.")})((0,i.e)({state:Z,previousState:X,changes:V,shouldMove:!!U},j),h),M=X.getNode(),j.referenceNode=M}break;case c.Uu.CONSTANT:for(var H=R.length-1;H>=0;--H){var Z=R[H].state,X=N[H];(function(e,t){var n,r,o=e.state,a=e.previousState,s=e.parentState,c=e.shouldMove,u=e.referenceNode,l=a.instance;if(l){var d=(0,i.e)((0,i.e)({},l.props),{state:o});P(l,d);var f=x(l,o,{isStateConstant:!0});l.props=d,o.instance=l;var p=o.getNode(),h=s.getContainer();if(f){var v=l.render();if(p){if(t.push.apply(t,(0,i.d)(k(v,p,{parentNode:p,parentState:o}))),!h)throw Error("The parent node should not be empty.");c&&t.push((0,y.gX)(p,h,u)),O(l,a)}else throw Error("The node of state should not be empty.")}else(null===(n=a.getCustomKey)||void 0===n?void 0:n.call(a))&&(null===(r=o.setCustomKey)||void 0===r||r.call(o,a.getCustomKey())),c&&p&&h&&t.push((0,y.gX)(p,h,u))}else throw Error("The instance of previousState should not be empty.")})((0,i.e)({state:Z,previousState:X,shouldMove:!!U},j),h),M=X.getNode(),j.referenceNode=M}}}return O(g,n),h}(n,r);A(u.u1),(0,y.MA)(a),A(u.Xd),(0,u.RM)(null)}function A(e){for(;e.length;){var t=e.shift();t&&(0,t.callback)()}}function x(e,t,n){void 0===n&&(n={});var r=(0,i.e)((0,i.e)({},e.props),{state:t});return!!(null==e?void 0:e.shouldComponentForceUpdate(r,n))}function O(e,t){if(e.componentDidUpdate){var n=t?(0,i.e)((0,i.e)({},e.props),{state:t}):(0,i.e)({},e.props);u.Xd.push({type:c.A5.DID_UPDATE,callback:function(){e.componentDidUpdate(n)},info:{instance:e}})}}function R(e){e.componentWillUnmount&&u.u1.push({type:c.A5.WILL_UNMOUNT,callback:function(){e.componentWillUnmount()},info:{instance:e}})}function L(e){R(e);var t=e.render();(t=Array.isArray(t)?t:[t]).forEach(function(e){"string"!=typeof e&&function e(t){if(!(0,f.CR)(t.type)){if((0,v.b)(t.type)){var n;"function"==typeof t.ref&&(n=t.ref,u.u1.push({type:c.A5.DETACH_REF,callback:function(){n(null)},info:void 0})),i=t.props.children}else if("function"==typeof t.type){var r,i,o=t.type,a=void 0;R(a=(null===(r=t.props.state)||void 0===r?void 0:r.instance)?t.props.state.instance:new o(t.props)),i=a.render()}else(0,v.C)(t.type)&&(i=t.props.children);(Array.isArray(i)?i:[i]).forEach(function(t){"string"!=typeof t&&e(t)})}}(e)})}function D(e,t){u.Xd.push({type:c.A5.ATTACH_REF,callback:e,info:t})}function P(e,t){e.componentWillReceiveProps(t)}var N=r.HY,B=r.ZC,U=r.xv,j=r.BG,F=r.Ul,W=r.Li,G=r.Ol,H=r.Li,z=r.A,K=r.Br,Z=Object.freeze({__proto__:null,Fragment:N,Div:B,Text:U,ZeroSpace:j,BulletList:F,Bullet:W,OrderedList:G,Ordered:H,A:z,Br:K,createElement:p.az,cloneElement:p.Tm,isValidElement:p.l$,Component:d.y,render:h.Z,unmount:h.a,reconcile:M,ReactInX:f.I2,isReactInXClass:f.CR,PluginRenderContext:l.x,setDOMAttributes:s.T})},540648:function(e,t,n){"use strict";n.d(t,{A5:function(){return a},Gm:function(){return l},T6:function(){return u},Uu:function(){return c},rC:function(){return d}});var r,i,o,a,s,c,u="\u200B";(r=a||(a={})).ATTACH_REF="ATTACH_REF",r.DETACH_REF="DETACH_REF",r.DID_MOUNT="DID_MOUNT",r.DID_UPDATE="DID_UPDATE",r.WILL_UNMOUNT="WILL_UNMOUNT",r.REACT_IN_X_FORCE_UPDATE="REACT_IN_X_FORCE_UPDATE";var l="M-",d="-";(i=s||(s={}))[i.EQUAL=0]="EQUAL",i[i.UNEQUAL=1]="UNEQUAL",i[i.UPDATE=2]="UPDATE",(o=c||(c={}))[o.UPDATE=0]="UPDATE",o[o.CONSTANT=1]="CONSTANT",o[o.INSERT=2]="INSERT",o[o.DELETE=3]="DELETE"},872201:function(e,t,n){"use strict";function r(e){return"object"==typeof e&&null!==e}n.d(t,{y:function(){return r}})},593017:function(e,t,n){"use strict";function r(e,t){return null===e?{}:Array.isArray(t)&&t.length?Object.keys(e).filter(function(e){return!t.includes(e)}).reduce(function(t,n){return t[n]=e[n],t},{}):e}n.d(t,{C:function(){return r}})},877006:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var r=n(223792).ZP},562479:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(50906),i=n.n(r),o=n(56052),a=n(698698),s=n(292516);let c={consentEntityValidationMap:{},[o.mL.USER_CONSENT]:i()(s.o),[o.mL.DEVICE_CONSENT]:i()(s.o),[o.mL.BOTH_CONSENT]:i()(s.o)},u={[o.mL.NOTIFICATION]:i()(s.o)};class l extends s.Z{constructor(){super("InMemStorageWrapper",!0),this._updateUserInfo=(e,t)=>{a.Z.info(`[${this.name}]: _updateUserInfo`,{userId:t,deviceId:e}),this._did=e,this._uid=t},this.insertConsentData=(e,t,n)=>{a.Z.info(`[${this.name}]: insertConsentData`,{data:e,timestamp:t,userInfo:n});try{this.insertDataIntoStore(e,t,n)}catch(e){a.Z.error(`[${this.name}]: insert - ${e.message}`,e)}},this.insertNotificationData=(e,t,n)=>{a.Z.info(`[${this.name}]: insertNotificationData`,{data:e,timestamp:t,userInfo:n});try{let r=this.getNotificationStore(n);this.insertDataByStorageName(r,o.mL.NOTIFICATION,e,t)}catch(e){a.Z.error(`[${this.name}]: insert - ${e.message}`,e)}},this.getConsentStore=e=>(this._cleanUpUnrelatedUserData(e),this._consentStore),this.getNotificationStore=e=>this._notificationStore,this._cleanUpUnrelatedUserData=e=>{let{device_id:t="",user_id:n=""}=null!=e?e:{};t!==this._did&&(this._consentStore[o.mL.DEVICE_CONSENT]=i()(s.o),this._consentStore[o.mL.BOTH_CONSENT]=i()(s.o)),n!==this._uid&&(this._consentStore[o.mL.USER_CONSENT]=i()(s.o),this._consentStore[o.mL.BOTH_CONSENT]=i()(s.o)),this._updateUserInfo(t,n)},this.cleanConsentData=()=>{this._consentStore.consentEntityValidationMap={},this._consentStore[o.mL.USER_CONSENT]=i()(s.o),this._consentStore[o.mL.DEVICE_CONSENT]=i()(s.o),this._consentStore[o.mL.BOTH_CONSENT]=i()(s.o)},this.cleanNotificationData=()=>{this._notificationStore[o.mL.NOTIFICATION]=i()(s.o)},this.clean=()=>{this._consentStore=i()(c),this._notificationStore=i()(u)},this.destruct=()=>{this.clean()},this.clean()}}var d=l},623978:function(){},21238:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r={"batch-schedule-limit-info":"batch-schedule-limit-info-Pl5ELl",batchScheduleLimitInfo:"batch-schedule-limit-info-Pl5ELl","limit-info-show":"limit-info-show-knkil9",limitInfoShow:"limit-info-show-knkil9"}},480566:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r={"ai-script-generate-wrapper":"ai-script-generate-wrapper-F_BiWt",aiScriptGenerateWrapper:"ai-script-generate-wrapper-F_BiWt","ai-script-generate-main-container":"ai-script-generate-main-container-xIGdBk",aiScriptGenerateMainContainer:"ai-script-generate-main-container-xIGdBk","ai-script-generate-divider":"ai-script-generate-divider-_GIOZp",aiScriptGenerateDivider:"ai-script-generate-divider-_GIOZp","ai-script-generate-editor-header":"ai-script-generate-editor-header-Aqkxik",aiScriptGenerateEditorHeader:"ai-script-generate-editor-header-Aqkxik","ai-script-generate-editor-icon":"ai-script-generate-editor-icon-i7jk5k",aiScriptGenerateEditorIcon:"ai-script-generate-editor-icon-i7jk5k","ai-script-generate-footer":"ai-script-generate-footer-POJxGG",aiScriptGenerateFooter:"ai-script-generate-footer-POJxGG","ai-script-generate-footer-tips":"ai-script-generate-footer-tips-LiS0DB",aiScriptGenerateFooterTips:"ai-script-generate-footer-tips-LiS0DB","ai-script-generate-footer-tips-icon":"ai-script-generate-footer-tips-icon-srL_pb",aiScriptGenerateFooterTipsIcon:"ai-script-generate-footer-tips-icon-srL_pb","ai-script-generate-footer-action":"ai-script-generate-footer-action-g5JUTt",aiScriptGenerateFooterAction:"ai-script-generate-footer-action-g5JUTt","ai-script-generate-editor-container":"ai-script-generate-editor-container-RPWlAQ",aiScriptGenerateEditorContainer:"ai-script-generate-editor-container-RPWlAQ","ai-script-generate-editor-wrapper":"ai-script-generate-editor-wrapper-pnzkwp",aiScriptGenerateEditorWrapper:"ai-script-generate-editor-wrapper-pnzkwp","editor-anchor":"editor-anchor-vgVQf6",editorAnchor:"editor-anchor-vgVQf6","placeholder-container":"placeholder-container-pW6Z0Y",placeholderContainer:"placeholder-container-pW6Z0Y","placeholder-wrapper":"placeholder-wrapper-oy4ham",placeholderWrapper:"placeholder-wrapper-oy4ham","placeholder-inline-button":"placeholder-inline-button-i4T2dE",placeholderInlineButton:"placeholder-inline-button-i4T2dE","ai-star-container":"ai-star-container-RIqaiD",aiStarContainer:"ai-star-container-RIqaiD",none:"none-bCXXiV","speech-select-container":"speech-select-container-jperP7",speechSelectContainer:"speech-select-container-jperP7"}},449582:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r={"editor-spin":"editor-spin-jORsEE",editorSpin:"editor-spin-jORsEE","lottie-loading__animation":"lottie-loading__animation-q_r3R8",lottieLoadingAnimation:"lottie-loading__animation-q_r3R8","lottie-loading__title":"lottie-loading__title-wAxWXk",lottieLoadingTitle:"lottie-loading__title-wAxWXk","editor-container":"editor-container-lPyvjB",editorContainer:"editor-container-lPyvjB","editor-content":"editor-content-_pvtA7",editorContent:"editor-content-_pvtA7","player-wrapper":"player-wrapper-ZfGKDJ",playerWrapper:"player-wrapper-ZfGKDJ","editor-sider":"editor-sider-OqooTR",editorSider:"editor-sider-OqooTR","export-edit-btn":"export-edit-btn-vgcvxU",exportEditBtn:"export-edit-btn-vgcvxU","tool-container":"tool-container-jEfBHH",toolContainer:"tool-container-jEfBHH",related:"related-lUaL2B",relatedTitle:"relatedTitle-xg1O31",viewAll:"viewAll-DTQeck",viewAllText:"viewAllText-HLZ2Ca",viewAllIcon:"viewAllIcon-Ssp7l5",relatedCards:"relatedCards-EBM6bz"}},208916:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r={card:"card-Mi_ArR",children:"children-jK10wk",icon_next:"icon_next-NbFJtb",iconNext:"icon_next-NbFJtb",icon:"icon-r_A574",name:"name-QlmAyj",description:"description-H7vpZa"}},865877:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r={"loading-failed":"loading-failed-yeajiC",loadingFailed:"loading-failed-yeajiC",text:"text-XjXJbz",button:"button-KcFD6j"}},683455:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r={"overflow-ellipses":"overflow-ellipses-DJ1nee",overflowEllipses:"overflow-ellipses-DJ1nee","smart-tools-selector":"smart-tools-selector-dKKZUL",smartToolsSelector:"smart-tools-selector-dKKZUL","smart-tools-selector__dropdown-popover":"smart-tools-selector__dropdown-popover-Mea3uM",smartToolsSelectorDropdownPopover:"smart-tools-selector__dropdown-popover-Mea3uM","smart-tools-selector__dropdown-container":"smart-tools-selector__dropdown-container-a5TaCj",smartToolsSelectorDropdownContainer:"smart-tools-selector__dropdown-container-a5TaCj","smart-tools-selector__dropdown-title":"smart-tools-selector__dropdown-title-Jis5ej",smartToolsSelectorDropdownTitle:"smart-tools-selector__dropdown-title-Jis5ej","smart-tools-selector__dropdown-option":"smart-tools-selector__dropdown-option-KI7wKr",smartToolsSelectorDropdownOption:"smart-tools-selector__dropdown-option-KI7wKr","ratio-selector-option":"ratio-selector-option-WOeEs7",ratioSelectorOption:"ratio-selector-option-WOeEs7","mix-option":"mix-option-IM2ZJ3",mixOption:"mix-option-IM2ZJ3","ratio-selector-option-info":"ratio-selector-option-info-lcIG0N",ratioSelectorOptionInfo:"ratio-selector-option-info-lcIG0N","ratio-selector-option-icon":"ratio-selector-option-icon-DFe5yN",ratioSelectorOptionIcon:"ratio-selector-option-icon-DFe5yN","ratio-selector-option-title":"ratio-selector-option-title-nlA_TN",ratioSelectorOptionTitle:"ratio-selector-option-title-nlA_TN","ratio-selector-option-subtitle":"ratio-selector-option-subtitle-VUHYpl",ratioSelectorOptionSubtitle:"ratio-selector-option-subtitle-VUHYpl"}},761472:function(){},966465:function(e,t,n){"use strict";/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */let r=n(814800),i=n(933977),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function a(e){if(e>2147483647)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,s.prototype),t}function s(e,t,n){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return l(e)}return c(e,t,n)}function c(e,t,n){if("string"==typeof e)return function(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!s.isEncoding(t))throw TypeError("Unknown encoding: "+t);let n=0|h(e,t),r=a(n),i=r.write(e,t);return i!==n&&(r=r.slice(0,i)),r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(B(e,Uint8Array)){let t=new Uint8Array(e);return f(t.buffer,t.byteOffset,t.byteLength)}return d(e)}(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(B(e,ArrayBuffer)||e&&B(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(B(e,SharedArrayBuffer)||e&&B(e.buffer,SharedArrayBuffer)))return f(e,t,n);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');let r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return s.from(r,t,n);let i=function(e){var t;if(s.isBuffer(e)){let t=0|p(e.length),n=a(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||(t=e.length)!=t?a(0):d(e):"Buffer"===e.type&&Array.isArray(e.data)?d(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return s.from(e[Symbol.toPrimitive]("string"),t,n);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return u(e),a(e<0?0:0|p(e))}function d(e){let t=e.length<0?0:0|p(e.length),n=a(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function f(e,t,n){let r;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),s.prototype),r}function p(e){if(e>=2147483647)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function h(e,t){if(s.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||B(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return D(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return P(e).length;default:if(i)return r?-1:D(e).length;t=(""+t).toLowerCase(),i=!0}}function v(e,t,n){let i=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===n||n>this.length)&&(n=this.length),n<=0||(n>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,n){let r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let i="";for(let r=t;r<n;++r)i+=U[e[r]];return i}(this,t,n);case"utf8":case"utf-8":return _(this,t,n);case"ascii":return function(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}(this,t,n);case"latin1":case"binary":return function(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}(this,t,n);case"base64":var o,a;return o=t,a=n,0===o&&a===this.length?r.fromByteArray(this):r.fromByteArray(this.slice(o,a));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,n){let r=e.slice(t,n),i="";for(let e=0;e<r.length-1;e+=2)i+=String.fromCharCode(r[e]+256*r[e+1]);return i}(this,t,n);default:if(i)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function g(e,t,n){let r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,i){var o;if(0===e.length)return -1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),(o=n=+n)!=o&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return -1;n=e.length-1}else if(n<0){if(!i)return -1;n=0}if("string"==typeof t&&(t=s.from(t,r)),s.isBuffer(t))return 0===t.length?-1:m(e,t,n,r,i);if("number"==typeof t)return(t&=255,"function"==typeof Uint8Array.prototype.indexOf)?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):m(e,[t],n,r,i);throw TypeError("val must be string, number or Buffer")}function m(e,t,n,r,i){let o,a=1,s=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return -1;a=2,s/=2,c/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){let r=-1;for(o=n;o<s;o++)if(u(e,o)===u(t,-1===r?0:o-r)){if(-1===r&&(r=o),o-r+1===c)return r*a}else -1!==r&&(o-=o-r),r=-1}else for(n+c>s&&(n=s-c),o=n;o>=0;o--){let n=!0;for(let r=0;r<c;r++)if(u(e,o+r)!==u(t,r)){n=!1;break}if(n)return o}return -1}function _(e,t,n){n=Math.min(e.length,n);let r=[],i=t;for(;i<n;){let t=e[i],o=null,a=t>239?4:t>223?3:t>191?2:1;if(i+a<=n){let n,r,s,c;switch(a){case 1:t<128&&(o=t);break;case 2:(192&(n=e[i+1]))==128&&(c=(31&t)<<6|63&n)>127&&(o=c);break;case 3:n=e[i+1],r=e[i+2],(192&n)==128&&(192&r)==128&&(c=(15&t)<<12|(63&n)<<6|63&r)>2047&&(c<55296||c>57343)&&(o=c);break;case 4:n=e[i+1],r=e[i+2],s=e[i+3],(192&n)==128&&(192&r)==128&&(192&s)==128&&(c=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&s)>65535&&c<1114112&&(o=c)}}null===o?(o=65533,a=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=a}return function(e){let t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}function b(e,t,n){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>n)throw RangeError("Trying to access beyond buffer length")}function S(e,t,n,r,i,o){if(!s.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw RangeError('"value" argument is out of bounds');if(n+r>e.length)throw RangeError("Index out of range")}function T(e,t,n,r,i){x(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,n}function w(e,t,n,r,i){x(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n+7]=o,o>>=8,e[n+6]=o,o>>=8,e[n+5]=o,o>>=8,e[n+4]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=a,a>>=8,e[n+2]=a,a>>=8,e[n+1]=a,a>>=8,e[n]=a,n+8}function E(e,t,n,r,i,o){if(n+r>e.length||n<0)throw RangeError("Index out of range")}function k(e,t,n,r,o){return t=+t,n>>>=0,o||E(e,t,n,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,n,r,23,4),n+4}function C(e,t,n,r,o){return t=+t,n>>>=0,o||E(e,t,n,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,n,r,52,8),n+8}t.Buffer=s,t.SlowBuffer=function(e){return+e!=e&&(e=0),s.alloc(+e)},t.INSPECT_MAX_BYTES=50,t.kMaxLength=2147483647,s.TYPED_ARRAY_SUPPORT=function(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),s.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),s.poolSize=8192,s.from=function(e,t,n){return c(e,t,n)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(e,t,n){return(u(e),e<=0)?a(e):void 0!==t?"string"==typeof n?a(e).fill(t,n):a(e).fill(t):a(e)},s.allocUnsafe=function(e){return l(e)},s.allocUnsafeSlow=function(e){return l(e)},s.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==s.prototype},s.compare=function(e,t){if(B(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),B(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(e)||!s.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){let n;if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);if(void 0===t)for(n=0,t=0;n<e.length;++n)t+=e[n].length;let r=s.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){let t=e[n];if(B(t,Uint8Array))i+t.length>r.length?(s.isBuffer(t)||(t=s.from(t)),t.copy(r,i)):Uint8Array.prototype.set.call(r,t,i);else if(s.isBuffer(t))t.copy(r,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=t.length}return r},s.byteLength=h,s.prototype._isBuffer=!0,s.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)g(this,t,t+1);return this},s.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},s.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},s.prototype.toString=function(){let e=this.length;return 0===e?"":0==arguments.length?_(this,0,e):v.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(e){if(!s.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){let e="",n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},o&&(s.prototype[o]=s.prototype.inspect),s.prototype.compare=function(e,t,n,r,i){if(B(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return -1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;let o=i-r,a=n-t,c=Math.min(o,a),u=this.slice(r,i),l=e.slice(t,n);for(let e=0;e<c;++e)if(u[e]!==l[e]){o=u[e],a=l[e];break}return o<a?-1:a<o?1:0},s.prototype.includes=function(e,t,n){return -1!==this.indexOf(e,t,n)},s.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},s.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},s.prototype.write=function(e,t,n,r){var i,o,a,s,c,u,l,d;if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let f=this.length-t;if((void 0===n||n>f)&&(n=f),e.length>0&&(n<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let p=!1;for(;;)switch(r){case"hex":return function(e,t,n,r){let i;n=Number(n)||0;let o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;let a=t.length;for(r>a/2&&(r=a/2),i=0;i<r;++i){let r=parseInt(t.substr(2*i,2),16);if(r!=r)break;e[n+i]=r}return i}(this,e,t,n);case"utf8":case"utf-8":return i=t,o=n,N(D(e,this.length-i),this,i,o);case"ascii":case"latin1":case"binary":return a=t,s=n,N(function(e){let t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(e),this,a,s);case"base64":return c=t,u=n,N(P(e),this,c,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l=t,d=n,N(function(e,t){let n,r;let i=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)r=(n=e.charCodeAt(o))>>8,i.push(n%256),i.push(r);return i}(e,this.length-l),this,l,d);default:if(p)throw TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),p=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},s.prototype.slice=function(e,t){let n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);let r=this.subarray(e,t);return Object.setPrototypeOf(r,s.prototype),r},s.prototype.readUintLE=s.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||b(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return r},s.prototype.readUintBE=s.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||b(e,t,this.length);let r=this[e+--t],i=1;for(;t>0&&(i*=256);)r+=this[e+--t]*i;return r},s.prototype.readUint8=s.prototype.readUInt8=function(e,t){return e>>>=0,t||b(e,1,this.length),this[e]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(e,t){return e>>>=0,t||b(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(e,t){return e>>>=0,t||b(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(e,t){return e>>>=0,t||b(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(e,t){return e>>>=0,t||b(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readBigUInt64LE=j(function(e){O(e>>>=0,"offset");let t=this[e],n=this[e+7];(void 0===t||void 0===n)&&R(e,this.length-8);let r=t+256*this[++e]+65536*this[++e]+16777216*this[++e],i=this[++e]+256*this[++e]+65536*this[++e]+16777216*n;return BigInt(r)+(BigInt(i)<<BigInt(32))}),s.prototype.readBigUInt64BE=j(function(e){O(e>>>=0,"offset");let t=this[e],n=this[e+7];(void 0===t||void 0===n)&&R(e,this.length-8);let r=16777216*t+65536*this[++e]+256*this[++e]+this[++e],i=16777216*this[++e]+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)}),s.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||b(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},s.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||b(e,t,this.length);let r=t,i=1,o=this[e+--r];for(;r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},s.prototype.readInt8=function(e,t){return(e>>>=0,t||b(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},s.prototype.readInt16LE=function(e,t){e>>>=0,t||b(e,2,this.length);let n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(e,t){e>>>=0,t||b(e,2,this.length);let n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(e,t){return e>>>=0,t||b(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return e>>>=0,t||b(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readBigInt64LE=j(function(e){O(e>>>=0,"offset");let t=this[e],n=this[e+7];return(void 0===t||void 0===n)&&R(e,this.length-8),(BigInt(this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24))<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+16777216*this[++e])}),s.prototype.readBigInt64BE=j(function(e){O(e>>>=0,"offset");let t=this[e],n=this[e+7];return(void 0===t||void 0===n)&&R(e,this.length-8),(BigInt((t<<24)+65536*this[++e]+256*this[++e]+this[++e])<<BigInt(32))+BigInt(16777216*this[++e]+65536*this[++e]+256*this[++e]+n)}),s.prototype.readFloatLE=function(e,t){return e>>>=0,t||b(e,4,this.length),i.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return e>>>=0,t||b(e,4,this.length),i.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return e>>>=0,t||b(e,8,this.length),i.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return e>>>=0,t||b(e,8,this.length),i.read(this,e,!1,52,8)},s.prototype.writeUintLE=s.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){let r=Math.pow(2,8*n)-1;S(this,e,t,n,r,0)}let i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){let r=Math.pow(2,8*n)-1;S(this,e,t,n,r,0)}let i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},s.prototype.writeUint8=s.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||S(this,e,t,1,255,0),this[t]=255&e,t+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||S(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||S(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||S(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||S(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeBigUInt64LE=j(function(e,t=0){return T(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=j(function(e,t=0){return w(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){let r=Math.pow(2,8*n-1);S(this,e,t,n,r-1,-r)}let i=0,o=1,a=0;for(this[t]=255&e;++i<n&&(o*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+n},s.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){let r=Math.pow(2,8*n-1);S(this,e,t,n,r-1,-r)}let i=n-1,o=1,a=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+n},s.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||S(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||S(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||S(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||S(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},s.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||S(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeBigInt64LE=j(function(e,t=0){return T(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=j(function(e,t=0){return w(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeFloatLE=function(e,t,n){return k(this,e,t,!0,n)},s.prototype.writeFloatBE=function(e,t,n){return k(this,e,t,!1,n)},s.prototype.writeDoubleLE=function(e,t,n){return C(this,e,t,!0,n)},s.prototype.writeDoubleBE=function(e,t,n){return C(this,e,t,!1,n)},s.prototype.copy=function(e,t,n,r){if(!s.isBuffer(e))throw TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw RangeError("Index out of range");if(r<0)throw RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);let i=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},s.prototype.fill=function(e,t,n,r){let i;if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw TypeError("encoding must be a string");if("string"==typeof r&&!s.isEncoding(r))throw TypeError("Unknown encoding: "+r);if(1===e.length){let t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw RangeError("Out of range index");if(n<=t)return this;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{let o=s.isBuffer(e)?e:s.from(e,r),a=o.length;if(0===a)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=o[i%a]}return this};let I={};function M(e,t,n){I[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function A(e){let t="",n=e.length,r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function x(e,t,n,r,i,o){if(e>n||e<t){let r;let i="bigint"==typeof t?"n":"";throw r=o>3?0===t||t===BigInt(0)?`>= 0${i} and < 2${i} ** ${(o+1)*8}${i}`:`>= -(2${i} ** ${(o+1)*8-1}${i}) and < 2 ** ${(o+1)*8-1}${i}`:`>= ${t}${i} and <= ${n}${i}`,new I.ERR_OUT_OF_RANGE("value",r,e)}O(i,"offset"),(void 0===r[i]||void 0===r[i+o])&&R(i,r.length-(o+1))}function O(e,t){if("number"!=typeof e)throw new I.ERR_INVALID_ARG_TYPE(t,"number",e)}function R(e,t,n){if(Math.floor(e)!==e)throw O(e,n),new I.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new I.ERR_BUFFER_OUT_OF_BOUNDS;throw new I.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}M("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),M("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),M("ERR_OUT_OF_RANGE",function(e,t,n){let r=`The value of "${e}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>4294967296?i=A(String(n)):"bigint"==typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=A(i)),i+="n"),r+=` It must be ${t}. Received ${i}`},RangeError);let L=/[^+/0-9A-Za-z-_]/g;function D(e,t){let n;t=t||1/0;let r=e.length,i=null,o=[];for(let a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319||a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else if(n<1114112){if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}else throw Error("Invalid code point")}return o}function P(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(L,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function N(e,t,n,r){let i;for(i=0;i<r&&!(i+n>=t.length)&&!(i>=e.length);++i)t[i+n]=e[i];return i}function B(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}let U=function(){let e="0123456789abcdef",t=Array(256);for(let n=0;n<16;++n){let r=16*n;for(let i=0;i<16;++i)t[r+i]=e[n]+e[i]}return t}();function j(e){return"undefined"==typeof BigInt?F:e}function F(){throw Error("BigInt not supported")}},359302:function(e,t,n){var r;r=function(){var e=e||function(e,t){if("undefined"!=typeof window&&window.crypto&&(r=window.crypto),"undefined"!=typeof self&&self.crypto&&(r=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(r=globalThis.crypto),!r&&"undefined"!=typeof window&&window.msCrypto&&(r=window.msCrypto),!r&&void 0!==n.g&&n.g.crypto&&(r=n.g.crypto),!r)try{r=n(454882)}catch(e){}var r,i=function(){if(r){if("function"==typeof r.getRandomValues)try{return r.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof r.randomBytes)try{return r.randomBytes(4).readInt32LE()}catch(e){}}throw Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),a={},s=a.lib={},c=s.Base={extend:function(e){var t=o(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},u=s.WordArray=c.extend({init:function(e,n){e=this.words=e||[],t!=n?this.sigBytes=n:this.sigBytes=4*e.length},toString:function(e){return(e||d).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var a=n[o>>>2]>>>24-o%4*8&255;t[r+o>>>2]|=a<<24-(r+o)%4*8}else for(var s=0;s<i;s+=4)t[r+s>>>2]=n[s>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=c.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(i());return new u.init(t,e)}}),l=a.enc={},d=l.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new u.init(n,t/2)}},f=l.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new u.init(n,t)}},p=l.Utf8={stringify:function(e){try{return decodeURIComponent(escape(f.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return f.parse(unescape(encodeURIComponent(e)))}},h=s.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=p.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,r=this._data,i=r.words,o=r.sigBytes,a=this.blockSize,s=o/(4*a),c=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*a,l=e.min(4*c,o);if(c){for(var d=0;d<c;d+=a)this._doProcessBlock(i,d);n=i.splice(0,c),r.sigBytes-=l}return new u.init(n,l)},clone:function(){var e=c.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});s.Hasher=h.extend({cfg:c.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new v.HMAC.init(e,n).finalize(t)}}});var v=a.algo={};return a}(Math);return e},e.exports=r()},383599:function(e,t,n){var r;r=function(e){return function(){var t=e.lib.WordArray,n=e.enc;function r(e){return e<<8&4278255360|e>>>8&16711935}n.Utf16=n.Utf16BE={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i+=2){var o=t[i>>>2]>>>16-i%4*8&65535;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var n=e.length,r=[],i=0;i<n;i++)r[i>>>1]|=e.charCodeAt(i)<<16-i%2*16;return t.create(r,2*n)}},n.Utf16LE={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],o=0;o<n;o+=2){var a=r(t[o>>>2]>>>16-o%4*8&65535);i.push(String.fromCharCode(a))}return i.join("")},parse:function(e){for(var n=e.length,i=[],o=0;o<n;o++)i[o>>>1]|=r(e.charCodeAt(o)<<16-o%2*16);return t.create(i,2*n)}}}(),e.enc.Utf16},e.exports=r(n(359302))},227077:function(e,t,n){var r;r=function(e){return e.pad.Iso10126={pad:function(t,n){var r=4*n,i=r-t.sigBytes%r;t.concat(e.lib.WordArray.random(i-1)).concat(e.lib.WordArray.create([i<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Iso10126},e.exports=r(n(359302),n(967272))},97164:function(e,t,n){var r;r=function(e){return e.enc.Hex},e.exports=r(n(897021))},83913:function(e,t,n){"use strict";var r=n(234998),i="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),o=Object.prototype.toString,a=Array.prototype.concat,s=n(915612),c=n(873420)(),u=function(e,t,n,r){if(t in e){if(!0===r){if(e[t]===n)return}else if(!("function"==typeof r&&"[object Function]"===o.call(r))||!r())return}c?s(e,t,n,!0):s(e,t,n)},l=function(e,t){var n=arguments.length>2?arguments[2]:{},o=r(t);i&&(o=a.call(o,Object.getOwnPropertySymbols(t)));for(var s=0;s<o.length;s+=1)u(e,o[s],t[o[s]],n[o[s]])};l.supportsDescriptors=!!c,e.exports=l},570126:function(e,t,n){"use strict";var r=n(195291);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},637466:function(e,t,n){"use strict";n.d(t,{z:function(){return i}});var r=n(789786),i={setTimeout:function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];var a=i.delegate;return(null==a?void 0:a.setTimeout)?a.setTimeout.apply(a,(0,r.ev)([e,t],(0,r.CR)(n))):setTimeout.apply(void 0,(0,r.ev)([e,t],(0,r.CR)(n)))},clearTimeout:function(e){var t=i.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0}},778704:function(e,t,n){"use strict";n.d(t,{W:function(){return i}});var r=n(218571);function i(e,t){var n=(0,r.useState)(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(value){var r=n.value;r!==value&&(n.value=value,n.callback(value,r))}}}})[0];return n.callback=t,n.facade}},923428:function(e,t,n){"use strict";n.d(t,{K:function(){return r}});var r={ERROR:"error",TTFB:"core.ttfb",LOAD_START:"core.loadstart",LOAD_RESPONSE_HEADERS:"core.loadresponseheaders",LOAD_COMPLETE:"core.loadcomplete",LOAD_RETRY:"core.loadretry",SOURCEBUFFER_CREATED:"core.sourcebuffercreated",ANALYZE_DURATION_EXCEEDED:"core.analyzedurationexceeded",REMOVE_BUFFER:"core.removebuffer",BUFFEREOS:"core.buffereos",KEYFRAME:"core.keyframe",METADATA_PARSED:"core.metadataparsed",SEI:"core.sei",SEI_IN_TIME:"core.seiintime",FLV_SCRIPT_DATA:"core.flvscriptdata",LOWDECODE:"core.lowdecode",SWITCH_URL_SUCCESS:"core.switchurlsuccess",SWITCH_URL_FAILED:"core.switchurlfailed",SPEED:"core.speed",HLS_MANIFEST_LOADED:"core.hlsmanifestloaded",HLS_LEVEL_LOADED:"core.hlslevelloaded",DEMUXED_TRACK:"core.demuxedtrack",STREAM_EXCEPTION:"core.streamexception",LARGE_AV_FIRST_FRAME_GAP_DETECT:"LARGE_AV_FIRST_FRAME_GAP_DETECT",LARGE_VIDEO_DTS_GAP_DETECT:"LARGE_VIDEO_DTS_GAP_DETECT",LARGE_AUDIO_DTS_GAP_DETECT:"LARGE_AUDIO_DTS_GAP_DETECT",AUDIO_GAP_DETECT:"AUDIO_GAP_DETECT",AUDIO_OVERLAP_DETECT:"AUDIO_OVERLAP_DETECT",MAX_DTS_DELTA_WITH_NEXT_SEGMENT_DETECT:"MAX_DTS_DELTA_WITH_NEXT_SEGMENT_DETECT",REAL_TIME_SPEED:"real_time_speed"}},198041:function(e,t,n){"use strict";n.d(t,{d1:function(){return d}});var r=n(11065),i=n(342257),o=n(488938),a=n(683738),s=n(213747),c=n(170761),u=function(){try{return s.j?window.MediaSource:null}catch(e){}}(),l={APPEND:"appendBuffer",REMOVE:"removeBuffer"},d=function(){var e,t,n;function s(e,t){var n=this;(0,r.PA)(this,s),(0,r._x)(this,"media",null),(0,r._x)(this,"mediaSource",null),(0,r._x)(this,"_openPromise",(0,i.Q)()),(0,r._x)(this,"_queue",Object.create(null)),(0,r._x)(this,"_sourceBuffer",Object.create(null)),(0,r._x)(this,"_mseFullFlag",{}),(0,r._x)(this,"_st",0),(0,r._x)(this,"_opst",0),(0,r._x)(this,"_logger",null),(0,r._x)(this,"_config",null),(0,r._x)(this,"_url",null),(0,r._x)(this,"_onSBUpdateEnd",function(e){var t=n._queue[e];if(t){var r=t.shift();if(r){var o=(0,i.j)()-n._opst;n._logger.debug("UpdateEnd",r.opName,o,r.context),r.promise.resolve({name:r.opName,context:r.context,costtime:o}),n._startQueue(e)}}}),(0,r._x)(this,"_onSBUpdateError",function(e,t){var r=n._queue[e];if(r){var i=r[0];i&&(n._logger.error("UpdateError",e,i.opName,i.context),i.promise.reject(new a.Fc(a.wb.MEDIA,a.wb.SUB_TYPES.MSE_APPEND_BUFFER,t)))}}),this._config=Object.assign(s.getDefaultConfig(),t),e&&this.bindMedia(e),this._logger=new c.Y("MSE"),this._config.openLog&&c.Y.enable()}return(0,r.qH)(s,[{key:"isOpened",get:function(){var e;return(null===(e=this.mediaSource)||void 0===e?void 0:e.readyState)==="open"}},{key:"url",get:function(){return this._url}},{key:"duration",get:function(){var e;return(null===(e=this.mediaSource)||void 0===e?void 0:e.duration)||-1}},{key:"isEnded",get:function(){return!!this.mediaSource&&"ended"===this.mediaSource.readyState}},{key:"isFull",value:function(e){return e?this._mseFullFlag[e]:this._mseFullFlag[s.VIDEO]}},{key:"updateDuration",value:function(e){var t=this;return this.mediaSource&&this.mediaSource.duration>e?Promise.resolve():this._enqueueBlockingOp(function(){if(t.isEnded){t._logger.debug("[debug mse] setDuration ended");return}t.mediaSource&&(t.mediaSource.duration=e,t._logger.debug("[debug mse] setDuration"))},"updateDuration")}},{key:"open",value:function(){var e=this;if(this._openPromise.used&&!this.isOpened&&this.mediaSource){var t=this.mediaSource;t.addEventListener("sourceopen",function n(){var r=(0,i.j)()-e._st;e._logger.debug("MSE OPEN",r),t.removeEventListener("sourceopen",n),e._openPromise.resolve({costtime:r})}),this._openPromise=(0,i.Q)()}return this._openPromise}},{key:"bindMedia",value:(e=(0,r.x)((0,r.l5)().mark(function e(t){var n,o,a=this;return(0,r.l5)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.mediaSource||this.media)){e.next=3;break}return e.next=3,this.unbindMedia();case 3:if(!(!t||!u)){e.next=5;break}throw Error("Param media or MediaSource does not exist");case 5:return this.media=t,n=this.mediaSource=new u,this._st=(0,i.j)(),o=function e(){var r=(0,i.j)()-a._st;a._logger.debug("MSE OPEN"),n.removeEventListener("sourceopen",e),URL.revokeObjectURL(t.src),a._openPromise.resolve({costtime:r})},n.addEventListener("sourceopen",o),this._url=URL.createObjectURL(n),t.src=this._url,e.abrupt("return",this._openPromise);case 13:case"end":return e.stop()}},e,this)})),function(t){return e.apply(this,arguments)})},{key:"unbindMedia",value:(t=(0,r.x)((0,r.l5)().mark(function e(){var t,n,o,a=this;return(0,r.l5)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._openPromise.used||this._openPromise.resolve(),t=this.mediaSource){if(Object.keys(this._queue).forEach(function(e){var t=a._queue[e];t&&t.forEach(function(e){return e.promise.resolve})}),n=!!this.media&&this.media.readyState>=1,o="open"===t.readyState,n&&o)try{t.endOfStream()}catch(e){}Object.keys(this._sourceBuffer).forEach(function(e){try{t.removeSourceBuffer(a._sourceBuffer[e])}catch(e){}})}if(this.media){this.media.removeAttribute("src");try{this.media.load()}catch(e){}this.media=null}this.mediaSource=null,this._openPromise=(0,i.Q)(),this._queue=Object.create(null),this._sourceBuffer=Object.create(null);case 8:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"createSource",value:function(e,t){var n;if(!this._sourceBuffer[e]&&this.mediaSource){try{n=this._sourceBuffer[e]=this.mediaSource.addSourceBuffer(t)}catch(e){throw new a.Fc(a.wb.MEDIA,a.wb.SUB_TYPES.MSE_ADD_SB,e)}n.mimeType=t,n.addEventListener("updateend",this._onSBUpdateEnd.bind(this,e)),n.addEventListener("error",this._onSBUpdateError.bind(this,e))}}},{key:"changeType",value:function(e,t){var n=this,r=this._sourceBuffer[e];return this.mediaSource&&r&&r.mimeType!==t&&"function"==typeof r.changeType?this._enqueueOp(e,function(){r.changeType(t),r.mimeType=t,n._onSBUpdateEnd(e)}):Promise.resolve()}},{key:"createOrChangeSource",value:function(e,t){return this.createSource(e,t),this.changeType(e,t)}},{key:"append",value:function(e,t,n){var r=this;return t&&t.byteLength&&this._sourceBuffer[e]?this._enqueueOp(e,function(){var o;r.mediaSource&&(r._logger.debug("MSE APPEND START",n),r._opst=(0,i.j)(),null===(o=r._sourceBuffer[e])||void 0===o||o.appendBuffer(t))},l.APPEND,n):Promise.resolve()}},{key:"remove",value:function(e,t,n,r){var o=this,a=!1;return this._mseFullFlag[e]&&(a=!0),this._enqueueOp(e,function(){if(o.mediaSource){var a=o._sourceBuffer[e];if(t>=n||!a){o._onSBUpdateEnd(e);return}o._opst=(0,i.j)(),o._logger.debug("MSE REMOVE START",e,t,n,r),a.remove(t,n)}},l.REMOVE,r,a)}},{key:"clearBuffer",value:function(e,t){var n,r=this;return Object.keys(this._sourceBuffer).forEach(function(i){n=r._enqueueOp(i,function(){if(r.mediaSource){var n=r._sourceBuffer[i];r._logger.debug("MSE clearBuffer START",i,e,t),n.remove(e,t)}})}),n}},{key:"clearAllBuffer",value:function(){var e,t=this;return Object.keys(this._sourceBuffer).forEach(function(n){e=t._enqueueOp(n,function(){if(t.mediaSource){var e=t._sourceBuffer[n];t._logger.debug("MSE clearAllBuffer START",n),e.remove(0,o.l.end(o.l.get(e)))}})}),e}},{key:"clearOpQueues",value:function(e){this._logger.debug("MSE clearOpQueue START");var t,n=this._queue[e];if(n&&n[e]&&!(n.length<5)){var r=[];n.forEach(function(e){e.context&&e.context.isinit&&r.push(e)}),this._queue[e]=n.slice(0,2),r.length>0&&(t=this._queue[e]).push.apply(t,r)}}},{key:"endOfStream",value:function(e){var t=this;return this.mediaSource&&"open"===this.mediaSource.readyState?this._enqueueBlockingOp(function(){var n=t.mediaSource;n&&"open"===n.readyState&&(t._logger.debug("MSE endOfStream START"),e?n.endOfStream(e):n.endOfStream())},"endOfStream"):Promise.resolve()}},{key:"setLiveSeekableRange",value:function(e,t){var n=this.mediaSource;e<0||t<e||null==n||!n.setLiveSeekableRange||"open"!==n.readyState||n.setLiveSeekableRange(e,t)}},{key:"getSourceBuffer",value:function(e){return this._sourceBuffer[e]}},{key:"buffered",value:function(e){return o.l.get(this._sourceBuffer[e])}},{key:"bufferStart",value:function(e){return o.l.start(this.buffered(e))}},{key:"bufferEnd",value:function(e){return o.l.end(this.buffered(e))}},{key:"_enqueueOp",value:function(e,t,n,r,o){var a=this;if(!this.mediaSource)return Promise.resolve();var s=this._queue[e]=this._queue[e]||[],c={exec:t,promise:(0,i.Q)(),opName:n,context:r};return o?(s.splice(0,0,c),this._mseFullFlag[e]=!1,this._startQueue(e)):s.push(c),this.isOpened?1===s.length&&this._startQueue(e):this._openPromise.then(function(){1===s.length&&a._startQueue(e)}),c.promise}},{key:"_enqueueBlockingOp",value:(n=(0,r.x)((0,r.l5)().mark(function e(t,n){var o,a,s=this;return(0,r.l5)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.mediaSource){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:if((o=Object.keys(this._sourceBuffer)).length){e.next=5;break}return e.abrupt("return",t());case 5:return a=[],o.forEach(function(e){var t=s._queue[e],r=(0,i.Q)();a.push(r),t.push({exec:function(){return r.resolve()},promise:r,opName:n}),1===t.length&&s._startQueue(e)}),e.abrupt("return",Promise.all(a).then(function(){try{return t()}finally{o.forEach(function(e){var t=s._queue[e],n=s._sourceBuffer[e];null==t||t.shift(),n&&n.updating||s._startQueue(e)})}}));case 8:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)})},{key:"_startQueue",value:function(e){var t=this._queue[e];if(t){var n=t[0];if(n&&!this._mseFullFlag[e])try{n.exec()}catch(r){r&&r.message&&r.message.indexOf("SourceBuffer is full")>=0?(this._mseFullFlag[e]=!0,this._logger.error("[MSE error],  context,",n.context," ,name,",n.opName,",err,SourceBuffer is full"),n.promise.reject(new a.Fc(a.wb.MEDIA,a.wb.SUB_TYPES.MSE_FULL,r))):(this._logger.error(r),n.promise.reject(new a.Fc(a.wb.MEDIA,a.wb.SUB_TYPES.MSE_OTHER,r)),t.shift(),this._startQueue(e))}}}},{key:"setTimeoffset",value:function(e,t,n){var r=this;return this._enqueueOp(e,function(){t<0&&(t+=.001),r._sourceBuffer[e].timestampOffset=t,r._onSBUpdateEnd(e)},"setTimeoffset",n)}},{key:"abort",value:function(e,t){var n=this;return this.isOpened?this._enqueueOp(e,function(){n._sourceBuffer[e].abort(),n._onSBUpdateEnd(e)},"abort",t):Promise.resolve()}}],[{key:"getDefaultConfig",value:function(){return{openLog:!1}}},{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:'video/mp4; codecs="avc1.42E01E,mp4a.40.2"';if(!u)return!1;try{return u.isTypeSupported(e)}catch(t){return this._logger.error(e,t),!1}}}]),s}();(0,r._x)(d,"VIDEO","video"),(0,r._x)(d,"AUDIO","audio")},405097:function(e,t,n){"use strict";n.d(t,{l:function(){return o}});var r=n(11065),i=n(488938),o=function(){function e(){(0,r.PA)(this,e),(0,r._x)(this,"_prevCurrentTime",0)}return(0,r.qH)(e,[{key:"do",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(e){var o=e.currentTime,a=0;if(this._prevCurrentTime===o){var s=i.l.info(i.l.get(e),o);if(!s.buffers.length)return;n&&s.nextStart||s.nextStart&&s.nextStart-o<t?a=s.nextStart+.1:s.end&&s.end-o>r&&!e.seeking&&(a=o+.1)}this._prevCurrentTime=o,a&&o!==a&&(e.currentTime=a)}}}]),e}()},506486:function(e,t,n){"use strict";n.d(t,{x:function(){return o}});var r=n(11065),i=n(923428),o=function(){function e(t){var n=this;(0,r.PA)(this,e),(0,r._x)(this,"_seiSet",new Set),this.emitter=t,t.on(i.K.SEI,function(e){e&&n._seiSet.add(e)})}return(0,r.qH)(e,[{key:"throw",value:function(e){var t=this;if(null!=e&&this._seiSet.size){var n=e-.2,r=e+.2,o=[];this._seiSet.forEach(function(e){e.time>=n&&e.time<=r&&o.push(e)}),o.forEach(function(e){t._seiSet.delete(e),t.emitter.emit(i.K.SEI_IN_TIME,e)})}}},{key:"reset",value:function(){this._seiSet.clear()}}]),e}()},133048:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(486097),i=n(996706),o=n(351445),a={lang:{},langKeys:[],textKeys:[]};function s(e,t){return Object.keys(t).forEach(function(n){var o,a=i.ZP.typeOf(t[n]),c=i.ZP.typeOf(e[n]);"Array"===a?("Array"!==c&&(e[n]=[]),(o=e[n]).push.apply(o,(0,r.u)(t[n]))):"Object"===a?("Object"!==c&&(e[n]={}),s(e[n],t[n])):e[n]=t[n]}),e}function c(){Object.keys(a.lang.en).map(function(e){a.textKeys[e]=e})}function u(e,t){var n=e.LANG;if(t||(t=a),t.lang){var r=e.TEXT||{};"zh"===n&&(n="zh-cn"),t.lang[n]?s(t.lang[n],r):(t.langKeys.push(n),t.lang[n]=r),c()}}u(o.Z);var l={get textKeys(){return a.textKeys},get langKeys(){return a.langKeys},get lang(){var d={};return a.langKeys.map(function(e){d[e]=a.lang[e]}),a.lang["zh-cn"]&&(d.zh=a.lang["zh-cn"]||{}),d},extend:function(e,t){var n=[];if(t||(t=a),t.lang){n="Array"!==i.ZP.typeOf(e)?Object.keys(e).map(function(t){return{LANG:"zh"===t?"zh-cn":t,TEXT:e[t]}}):e;var r=t.lang;n.map(function(e){"zh"===e.LANG&&(e.LANG="zh-cn"),r[e.LANG]?s(r[e.LANG]||{},e.TEXT||{}):u(e,t)}),c()}},use:u,init:function(e){var t,n={lang:{},langKeys:[],textKeys:{},pId:e};return s(n.lang,a.lang),(t=n.langKeys).push.apply(t,(0,r.u)(a.langKeys)),s(n.textKeys,a.textKeys),n}}},702844:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r={android:/(Android)\s([\d.]+)/,ios:/(Version)\/([\d.]+)/},i=["avc1.42E01E, mp4a.40.2","avc1.58A01E, mp4a.40.2","avc1.4D401E, mp4a.40.2","avc1.64001E, mp4a.40.2","avc1.42E01E","mp4v.20.8","avc1.42E01E, mp4a.40.2","avc1.58A01E, mp4a.40.2","avc1.4D401E, mp4a.40.2","avc1.64001E, mp4a.40.2","mp4v.20.8, mp4a.40.2","mp4v.20.240, mp4a.40.2"],o={get device(){return o.os.isPc?"pc":"mobile"},get browser(){if("undefined"==typeof navigator)return"";var a=navigator.userAgent.toLowerCase(),s={ie:/rv:([\d.]+)\) like gecko/,firefox:/firefox\/([\d.]+)/,chrome:/chrome\/([\d.]+)/,opera:/opera.([\d.]+)/,safari:/version\/([\d.]+).*safari/};return[].concat(Object.keys(s).filter(function(e){return s[e].test(a)}))[0]},get os(){if("undefined"==typeof navigator)return{};var c=navigator.userAgent,u=/(?:Windows Phone)/.test(c),l=/(?:SymbianOS)/.test(c)||u,d=/(?:Android)/.test(c),f=/(?:Firefox)/.test(c),p=/(?:iPad|PlayBook)/.test(c)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,h=p||d&&!/(?:Mobile)/.test(c)||f&&/(?:Tablet)/.test(c),v=/(?:iPhone)/.test(c)&&!h;return{isTablet:h,isPhone:v,isIpad:p,isIos:v||p,isAndroid:d,isPc:!v&&!d&&!l&&!h,isSymbian:l,isWindowsPhone:u,isFireFox:f}},get osVersion(){if("undefined"==typeof navigator)return 0;var g=navigator.userAgent,y="",m=(y=/(?:iPhone)|(?:iPad|PlayBook)/.test(g)?r.ios:r.android)?y.exec(g):[];if(m&&m.length>=3){var _=m[2].split(".");return _.length>0?parseInt(_[0]):0}return 0},get isWeixin(){if("undefined"==typeof navigator)return!1;if(/(micromessenger)\/([\d.]+)/.exec(navigator.userAgent.toLocaleLowerCase()))return!0;return!1},isSupportMP4:function(){var e={isSupport:!1,mime:""};if("undefined"==typeof document)return e;if(this.supportResult)return this.supportResult;var t=document.createElement("video");return"function"==typeof t.canPlayType&&i.map(function(n){"probably"===t.canPlayType('video/mp4; codecs="'.concat(n,'"'))&&(e.isSupport=!0,e.mime+="||".concat(n))}),this.supportResult=e,t=null,e},isMSESupport:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:'video/mp4; codecs="avc1.42E01E,mp4a.40.2"';if("undefined"==typeof MediaSource||!MediaSource)return!1;try{return MediaSource.isTypeSupported(e)}catch(t){return this._logger.error(e,t),!1}},isHevcSupported:function(){return"undefined"!=typeof MediaSource&&!!MediaSource.isTypeSupported&&(MediaSource.isTypeSupported('video/mp4;codecs="hev1.1.6.L120.90"')||MediaSource.isTypeSupported('video/mp4;codecs="hev1.2.4.L120.90"')||MediaSource.isTypeSupported('video/mp4;codecs="hev1.3.E.L120.90"')||MediaSource.isTypeSupported('video/mp4;codecs="hev1.4.10.L120.90"'))},probeConfigSupported:function(e){var t={supported:!1,smooth:!1,powerEfficient:!1};if(!e||"undefined"==typeof navigator)return Promise.resolve(t);if(navigator.mediaCapabilities&&navigator.mediaCapabilities.decodingInfo)return navigator.mediaCapabilities.decodingInfo(e);var n=e.video||{},r=e.audio||{};try{var i=MediaSource.isTypeSupported(n.contentType),o=MediaSource.isTypeSupported(r.contentType);return Promise.resolve({supported:i&&o,smooth:!1,powerEfficient:!1})}catch(e){return Promise.resolve(t)}}}},110242:function(e,t,n){"use strict";n.d(t,{M:function(){return r}});var r=!0},120698:function(e,t,n){"use strict";n.d(t,{r:function(){return a}});var r=n(69984),i=n(764112),o=n(772322);n(218571);var a=e=>(0,o.jsxs)("svg",(0,i._)((0,r._)({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none",viewBox:"0 0 20 20"},e),{children:[(0,o.jsx)("path",{fill:"#00C17C",d:"M13.628 8.385a.417.417 0 0 0 0-.59l-.59-.589a.417.417 0 0 0-.589 0l-2.866 2.866-1.616-1.616a.417.417 0 0 0-.59 0l-.588.59a.417.417 0 0 0 0 .589l2.5 2.5a.417.417 0 0 0 .589 0z"}),(0,o.jsx)("path",{fill:"#00C17C",fillRule:"evenodd",d:"M17.5 8.334c0 7.917-7.5 10-7.5 10s-7.5-2.083-7.5-10V4.167L10 .834l7.5 3.333zm-13.333 0V5.25L10 2.658l5.833 2.592v3.084c0 3.345-1.552 5.401-3.129 6.67A10.5 10.5 0 0 1 10 16.572q-.207-.079-.483-.204a10.5 10.5 0 0 1-2.221-1.362c-1.577-1.27-3.13-3.326-3.13-6.671m6.286 8.396h-.003zm-.904 0h.001-.003z",clipRule:"evenodd"})]}))},864908:function(e,t,n){"use strict";n.d(t,{r:function(){return a}});var r=n(69984),i=n(764112),o=n(772322);n(218571);var a=e=>(0,o.jsx)("svg",(0,i._)((0,r._)({xmlns:"http://www.w3.org/2000/svg",width:24,height:25,fill:"none",viewBox:"0 0 24 25"},e),{children:(0,o.jsx)("path",{fill:"#FF7A00",fillRule:"evenodd",d:"M4.002 5.133a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-12a2 2 0 0 1-2-2zm3 8.5a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-6a.5.5 0 0 1-.5-.5zm.5-4.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5z",clipRule:"evenodd"})}))},809240:function(e,t,n){"use strict";n.d(t,{r:function(){return a}});var r=n(69984),i=n(764112),o=n(772322);n(218571);var a=e=>(0,o.jsxs)("svg",(0,i._)((0,r._)({xmlns:"http://www.w3.org/2000/svg",width:24,height:25,fill:"none",viewBox:"0 0 24 25"},e),{children:[(0,o.jsx)("path",{fill:"#090C14",fillRule:"evenodd",d:"M5 17.134h.498v-8a3.5 3.5 0 0 1 3.5-3.5H16.5a3 3 0 0 0-3-3H5a3 3 0 0 0-3 3v8.5a3 3 0 0 0 3 3m5-10a3 3 0 0 0-3 3v8.5a3 3 0 0 0 3 3h8.5a3 3 0 0 0 3-3v-8.5a3 3 0 0 0-3-3zm6.666 6.445a1.611 1.611 0 1 0 0-3.222 1.611 1.611 0 0 0 0 3.222M9 18.599l1.961-1.859a.7.7 0 0 1 .96-.003l3.101 2.897h2.344l-4.353-4.067a2.3 2.3 0 0 0-3.153.012l-.86.815z",clipRule:"evenodd"}),(0,o.jsx)("path",{fill:"#090C14",fillRule:"evenodd",d:"M5 17.133h.498v-8a3.5 3.5 0 0 1 3.5-3.5H16.5a3 3 0 0 0-3-3H5a3 3 0 0 0-3 3v8.5a3 3 0 0 0 3 3m5-10a3 3 0 0 0-3 3v8.5a3 3 0 0 0 3 3h8.5a3 3 0 0 0 3-3v-8.5a3 3 0 0 0-3-3zm6.666 6.446a1.611 1.611 0 1 0 0-3.223 1.611 1.611 0 0 0 0 3.223M9 18.599l1.961-1.86a.7.7 0 0 1 .96-.003l3.101 2.898h2.344l-4.353-4.067a2.3 2.3 0 0 0-3.153.012l-.86.815z",clipRule:"evenodd"})]}))},3606:function(e,t,n){"use strict";n.d(t,{r:function(){return a}});var r=n(69984),i=n(764112),o=n(772322);n(218571);var a=e=>(0,o.jsxs)("svg",(0,i._)((0,r._)({xmlns:"http://www.w3.org/2000/svg",width:24,height:25,fill:"none",viewBox:"0 0 24 25"},e),{children:[(0,o.jsx)("path",{fill:"#fff",fillOpacity:.01,d:"M0 .134h24v24H0z"}),(0,o.jsx)("path",{fill:"#000",fillRule:"evenodd",d:"M9 3.134a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-14a2 2 0 0 0-2-2zM3.877 7.672l-1.744-3.04 1.734-.996 2 3.487a1 1 0 0 1 .043.913L4.1 12.002l1.81 3.965a1 1 0 0 1-.028.886l-2 3.751-1.764-.941 1.767-3.315-1.795-3.931a1 1 0 0 1 0-.83zm16.246 0 1.744-3.04-1.734-.996-2 3.487a1 1 0 0 0-.043.913l1.81 3.966-1.81 3.965a1 1 0 0 0 .028.886l2 3.751 1.764-.941-1.767-3.315 1.795-3.931a1 1 0 0 0 0-.83z",clipRule:"evenodd"})]}))},954741:function(e,t,n){"use strict";n.d(t,{r:function(){return a}});var r=n(69984),i=n(764112),o=n(772322);n(218571);var a=e=>(0,o.jsxs)("svg",(0,i._)((0,r._)({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,fill:"none",viewBox:"0 0 32 32"},e),{children:[(0,o.jsxs)("g",{clipPath:"url(#audio-pause_svg__a)",children:[(0,o.jsx)("circle",{cx:16,cy:16,r:16,fill:"#FAFBFF"}),(0,o.jsx)("g",{fill:"#090C14",children:(0,o.jsx)("path",{d:"M11.333 10.664a.667.667 0 0 0-.667.667v9.333c0 .368.298.667.667.667h2a.667.667 0 0 0 .666-.667v-9.333a.667.667 0 0 0-.666-.667zM18.666 10.664a.667.667 0 0 0-.667.667v9.333c0 .368.299.667.667.667h2a.667.667 0 0 0 .667-.667v-9.333a.667.667 0 0 0-.667-.667z"})})]}),(0,o.jsx)("defs",{children:(0,o.jsx)("clipPath",{id:"audio-pause_svg__a",children:(0,o.jsx)("path",{fill:"#fff",d:"M0 0h32v32H0z"})})})]}))},535582:function(e,t,n){"use strict";n(575065),n(646105)},174800:function(e,t,n){"use strict";n.d(t,{Gp:function(){return s},IG:function(){return a},gE:function(){return i},zE:function(){return r}});var r={Indonesian:{key:"id-ID",pathPrefix:"id-id",disable:!1,matcher:/^id/,text:"Bahasa Indonesia"},German:{key:"de-DE",pathPrefix:"de-de",disable:!1,matcher:/^de/,text:"Deutsch"},English:{key:"en",pathPrefix:"",disable:!1,matcher:/^en/,text:"English"},Spanish:{key:"es-LA",pathPrefix:"es-es",disable:!1,matcher:/^es/,text:"Espa\xf1ol"},French:{key:"fr-FR",pathPrefix:"fr-fr",disable:!1,matcher:/^fr/,text:"Fran\xe7ais"},italian:{key:"it-IT",pathPrefix:"it-it",disable:!1,matcher:/^it/,text:"Italiano"},Malay:{key:"ms-MY",pathPrefix:"ms-my",disable:!1,matcher:/^ms/,text:"Melayu"},Dutch:{key:"nl-NL",pathPrefix:"nl-nl",disable:!1,matcher:/^nl/,text:"Nederlands"},Polish:{key:"pl-PL",pathPrefix:"pl-pl",disable:!1,matcher:/^pl/,text:"Polski"},Portuguese:{key:"pt-BR",pathPrefix:"pt-br",disable:!1,matcher:/^pt/,text:"Portugu\xeas"},Romanian:{key:"ro-RO",pathPrefix:"ro-ro",disable:!1,matcher:/^ro/,text:"Rom\xe2n\u0103"},Swedish:{key:"sv-SE",pathPrefix:"sv-se",disable:!1,matcher:/^sv/,text:"Svenska"},Filipino:{key:"fil-PH",pathPrefix:"tl-ph",disable:!1,matcher:/^(tl|fil)/,text:"Tagalog"},vietnamese:{key:"vi-VN",pathPrefix:"vi-vn",disable:!1,matcher:/^vi/,text:"Ti\u1EBFng Vi\u1EC7t"},Turkey:{key:"tr-TR",pathPrefix:"tr-tr",disable:!1,matcher:/^tr/,text:"T\xfcrk\xe7e"},Thai:{key:"th-TH",pathPrefix:"th-th",disable:!1,matcher:/^th/,text:"\u0E20\u0E32\u0E29\u0E32\u0E44\u0E17\u0E22"},Japan:{key:"ja-JP",pathPrefix:"ja-jp",disable:!1,matcher:/^ja/,text:"\u65E5\u672C\u8A9E"},TraditionalChinese:{key:"zh-Hant-TW",pathPrefix:"zh-tw",disable:!1,matcher:/^zh/,text:"\u7E41\u9AD4\u4E2D\u6587"},Korea:{key:"ko-KR",pathPrefix:"ko-kr",disable:!1,matcher:/^ko/,text:"\uD55C\uAD6D\uC5B4"}},i=Object.values(r).reduce((e,t)=>(t.pathPrefix&&(e[t.key]=t.pathPrefix),e),{});r.Portuguese,r.Portuguese,r.Portuguese,r.Portuguese,r.Portuguese,r.Portuguese,r.Spanish,r.Portuguese,r.Portuguese,r.Spanish,r.Spanish,r.Spanish,r.Spanish,r.Spanish,r.Spanish,r.Spanish,r.Spanish,r.Spanish,r.Spanish,r.Spanish,r.Spanish,r.Spanish,r.Spanish,r.Spanish,r.Spanish,r.Spanish,r.Spanish,r.Spanish,r.German,r.German,r.German,r.German,r.German,r.French,r.French,r.French,r.French,r.French,r.French,r.French,r.French,r.French,r.French,r.French,r.French,r.French,r.French,r.French,r.French,r.French,r.French,r.French,r.French,r.French,r.French,r.French,r.French,r.French,r.French,r.Japan,r.Korea,r.Korea,r.Turkey,r.Turkey,r.Turkey,r.italian,r.italian,r.italian,r.Thai,r.Indonesian,r.vietnamese,r.Filipino,r.Malay,r.Malay;var o={AT:{needCookieBanner:!0},BE:{needCookieBanner:!0},BG:{needCookieBanner:!0},HR:{needCookieBanner:!0},CY:{needCookieBanner:!0},CZ:{needCookieBanner:!0},DE:{needCookieBanner:!0},DK:{needCookieBanner:!0},EE:{needCookieBanner:!0},FI:{needCookieBanner:!0},FR:{needCookieBanner:!0},GB:{needCookieBanner:!0},GR:{needCookieBanner:!0},EL:{needCookieBanner:!0},HU:{needCookieBanner:!0},IE:{needCookieBanner:!0},IT:{needCookieBanner:!0},LV:{needCookieBanner:!0},LT:{needCookieBanner:!0},LU:{needCookieBanner:!0},MT:{needCookieBanner:!0},NL:{needCookieBanner:!0},PL:{needCookieBanner:!0},PT:{needCookieBanner:!0},RO:{needCookieBanner:!0},SK:{needCookieBanner:!0},SI:{needCookieBanner:!0},ES:{needCookieBanner:!0},SE:{needCookieBanner:!0},NO:{needCookieBanner:!0},IS:{needCookieBanner:!0},LI:{needCookieBanner:!0},UK:{needCookieBanner:!0},CH:{needCookieBanner:!0},TR:{needCookieBanner:!0}},a=e=>{if(!e)return!0;var t,{needCookieBanner:n}=null!==(t=o[e])&&void 0!==t?t:{needCookieBanner:!1};return!!n},s="es-ES"},91933:function(e,t,n){"use strict";n.d(t,{AF:function(){return a},_S:function(){return i},b7:function(){return c},yM:function(){return s}});var r,i,o=n(398815),a=348188,s={APP_NAME:"cc_web",APP_ID:"".concat(a),APP_PF:"7",CHANNEL:"va",LAN:"en",B_ID:"cc_web",VERSION:"5.8.0",APP_SDK_VERSION:"48.0.0",USER_AGREEMENT:"",CC4B_PAGE:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0],"https://www.capcut.com/business/campaign/commercepro-early-bird-recruitment"},PRIVACY_POLICY:e=>(0,o.FH)(e),GOOGLE_PRIVACY_POLICY:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en";switch(e){case"tr-TR":return"https://marketingplatform.google.com/about/analytics/terms/tr/";case"ko-KR":return"https://marketingplatform.google.com/about/analytics/terms/kr/";case"ja-JP":return"https://marketingplatform.google.com/about/analytics/terms/jp/";case"pt-BR":return"https://marketingplatform.google.com/about/analytics/terms/br/";case"es-LA":return"https://marketingplatform.google.com/about/analytics/terms/es/";case"fr-FR":return"https://marketingplatform.google.com/about/analytics/terms/fr/";case"de-DE":return"https://marketingplatform.google.com/about/analytics/terms/de/";case"it-IT":return"https://marketingplatform.google.com/about/analytics/terms/it/";case"th-TH":return"https://marketingplatform.google.com/about/analytics/terms/th/";case"id-ID":return"https://marketingplatform.google.com/about/analytics/terms/id/";case"vi-VN":return"https://marketingplatform.google.com/about/analytics/terms/vn/";case"fil-PH":case"tl-PH":return"https://marketingplatform.google.com/about/analytics/terms/ph/";default:return"https://marketingplatform.google.com/about/analytics/terms/us/"}},TERMS_OF_CAPCUT:e=>(0,o.Oi)(e),COOKIE_POLICY:e=>(0,o.ok)(e),MATERIALS_POLICY:e=>(0,o.Or)(e),CREATOR_AGREEMENT:e=>(0,o.n$)(e),COMMUNITY_GUIDELINE:e=>(0,o.Mj)(e),DSA_COMPLIANCE:e=>(0,o.cf)(e)};(r=i||(i={}))[r.commerce=573081]="commerce",r[r.inspireVid=578169]="inspireVid",r[r.packPic=578251]="packPic",r[r.speech=581541]="speech",r[r.dreamina=513641]="dreamina";var c={commerce:{aid:573081},inspireVid:{aid:578169},packPic:{aid:578251},speech:{aid:581541},dreamina:{aid:513641}}},310997:function(e,t,n){"use strict";n.d(t,{Y:function(){return o}});var r=n(722169);class i{start(){performance.getEntriesByName(this.startMarkName).length<=0&&performance.mark(this.startMarkName)}end(){performance.getEntriesByName(this.endMarkName).length<=0&&(performance.mark(this.endMarkName),this.summarize())}summarize(){performance.measure(this.name,this.startMarkName,this.endMarkName)}getStartMark(){return performance.getEntriesByName(this.startMarkName)[0]}getEndMark(){return performance.getEntriesByName(this.endMarkName)[0]}toJSON(){var e=this.getStartMark(),t=this.getEndMark();if(e&&t){var n="timing"+(0,r.upperFirst)((0,r.camelCase)(this.name));return{["".concat(n,"Start")]:e.startTime,["".concat(n,"End")]:t.startTime,["".concat(n)]:t.startTime-e.startTime}}return null}constructor(e){this.name=e,this.startMarkName="".concat(this.name,"_START"),this.endMarkName="".concat(this.name,"_END")}}var o={starlingInit:new i("STARLING_INIT"),entryInit:new i("ENTRY_INIT"),appInit:new i("APP_INIT"),userInit:new i("USER_INIT"),everCloudWasmPrefetch:new i("EVER_CLOUD_WASM_PREFETCH"),everCloudInit:new i("EVER_CLOUD_INIT"),pageInit:new i("PAGE_INIT"),teaInit:new i("TEA_INIT"),headScriptExecution:new i("HEAD_SCRIPT_EXECUTION"),bodyScriptExecution:new i("BODY_SCRIPT_EXECUTION")}},589164:function(e,t,n){"use strict";n.d(t,{n:function(){return i}});var r=n(554269);class i{report(e){this.reporter.reportBecon("switch_website_language",e)}constructor(){this.reporter=(0,r.y)()}}},668008:function(e,t,n){"use strict";n.d(t,{H:function(){return a}});var r,i=n(461228),o=n(554269),a=(r=(0,i._)(function*(){return(yield(0,o.y)().getToken()).web_id}),function(){return r.apply(this,arguments)})},710743:function(e,t,n){"use strict";n.d(t,{nM:function(){return U}});var r,i=n(461228),o=n(69984),a=n(764112);n(349601);var s=n(781494),c=n(806061),u=n(736951),l=n(733730),d=n(525105),f=n(538611),p=n(208282),h=n(335091),v=n(109166),g=n(106502),y=n(65069),m=n(124656),_=n(283659),b=n(561872),S=n(416013),T=n(915014),w=n(590859),E=n(562947),k=n(668794),C=n(123951),I=new v.Z,M=new l.Z,A=new g.S,x="sign";function O(){_.m.removeItem(d.of),_.m.removeItem(d.PB),_.m.removeItem(d.No),_.m.removeItem(d.JQ),_.m.removeItem(d.ax),_.m.removeItem(d.Yi),_.m.removeItem(d.LO),_.m.removeItem(d.IL)}function R(e){var t,n=null===(t=window.googleOneTapLogMomentResults)||void 0===t?void 0:t.shift();if(null==n?void 0:n.type){var r=n.duration?Math.round(n.duration):Math.round(window.performance.now());I.reportSignIn({action:n.type,current_page:e,duration:"show"===n.type?r:void 0})}}function L(e){var t,n=null===(t=window)||void 0===t?void 0:t.googleNotificationNotDisplayReason;if(n){var r=Math.round(window.performance.now());new y.d().report({reason:n,current_page:e||"",duration:r}),S.W.log(n),window.googleNotificationNotDisplayReason=""}}function D(e,t,n){return P.apply(this,arguments)}function P(){return(P=(0,i._)(function*(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=null===(r=window.googleOneTapResults)||void 0===r?void 0:r.pop();if(o){I.reportSignIn({action:"signin",current_page:t,signin_type:"auto"===o.select_by?"auto":"user"});try{var a=yield(yield e()).signinWithCode({name:"google",platform_app_id:(0,T.g4)(n,T.nw.Google,i),access_token_secret:o.credential});M.emit(x,{status:d.lw.Success,extraData:{isNewSignupUser:!!a.new_user,isFromGoogleOneTap:!0,isGoogleOneTapAutoSelect:"auto"===o.select_by}})}catch(e){_.m.setString(d.PB,e.error_code),_.m.setString(d.No,e.description),_.m.setString(d.JQ,e.token),M.emit(x,{status:d.lw.Fail})}}})).apply(this,arguments)}function N(e){return B.apply(this,arguments)}function B(){return(B=(0,i._)(function*(e){var t,{passport:n,isBOE:r=!1,accountConfig:i,enableThirdPartySignAgeGate:o=!1}=e,a=null===(t=window.SignInWithGoogleBtnResults)||void 0===t?void 0:t.pop();if(a){O();var s={name:"google",platform_app_id:(0,T.g4)(i,T.nw.Google,r),access_token_secret:a.credential,login_only:o};try{var c=yield(yield n()).signinWithCode(s);M.emit(x,{status:d.lw.Success,extraData:{isNewSignupUser:!!c.new_user,isFromGoogleSignInBtn:!0}})}catch(e){_.m.setString(d.PB,e.error_code),_.m.setString(d.No,e.description),_.m.setString(d.JQ,e.token),e.error_code===h.B.SIGN_UP_CODE.LOGIN_ERROR_CODE.USER_NOT_EXITE&&_.m.setJson(d.IL,s),M.emit(x,{status:d.lw.Fail})}}})).apply(this,arguments)}var U=(0,c.C)({id:"ThirdPartSignInMachine",initial:"idle",context:{isBOE:!1,passport:()=>Promise.resolve(null),name:"",source:m.C.LoginIn,showRestoreModal:void 0,isNewPageLoginFacebook:!1},invoke:{id:"listeningStateChange",src:"listeningStateChange"},entry:["invokeGoogleOneTapFunc","injectGoogleOneTapFunc","invokeSignInWithGoogleBtnFunc","injectSignInWithGoogleBtnFunc"],states:{idle:{},authorizing:{invoke:{id:"thirdPartAuth",src:"thirdPartAuth"}},success:{entry:["notifySignSuccess",(0,u.lj)((e,t)=>{var{name:n,source:r,authType:i,currentPage:o}=e,{data:a}=t,s={isThirdparty:!0,source:r,type:n,isLoginNewUser:(null==a?void 0:a.isNewSignupUser)?1:0};return i===d.RR.googleOneTab&&(s.pageEnterFrom="google",s.statusEnterFrom="google"),i===d.RR.googleOneTabAutoSelect&&(s.pageEnterFrom="google_auto",s.statusEnterFrom="google_auto"),o&&(s.currentPage=o),{type:"SIGN_IN_SUCCESS",params:s,extra:a}})],on:{SET_THIRD_PARTY_BIRTHDAY:{actions:(0,u.lj)(()=>({type:"SIGN_IN"}))}}},fail:{entry:(0,u.lj)(e=>{var{name:t,source:n,errorCode:r,errorMsg:i,authType:o,currentPage:a}=e,s={source:n,type:t,errorCode:r,errorMsg:i};return o===d.RR.googleOneTab&&(s.pageEnterFrom="google",s.statusEnterFrom="google"),o===d.RR.googleOneTabAutoSelect&&(s.pageEnterFrom="google_auto",s.statusEnterFrom="google_auto"),a&&(s.currentPage=a),{type:"SIGN_IN_FAIL",params:s}})},fillBirthday:{initial:"fillingBirthday",states:{fillingBirthday:{on:{SET_THIRD_PARTY_BIRTHDAY:{target:"reSignupWithBirthday",actions:(0,u.f0)({birthday:(e,t)=>t.birthday})}}},reSignupWithBirthday:{invoke:{id:"reSignupWithBirthdayService",src:"reSignupWithBirthdayService"}}}}},on:{AUTH:{target:"authorizing",internal:!1,actions:["clearStatus","updateName","updateSource","updateAuthType","updatePlatform","updateCurrentPage","updateScanCodeParams","setCallback"]},AUTH_SUCCESS:{target:"success",actions:["clearStatus"]},AUTH_FAIL:{target:"fail",actions:["clearStatus"]},UPDATE_ERROR:{actions:["updateError"]},REPORT_SIGN_IN_ACTION:{actions:(0,u.lj)((e,t)=>{var n;return{type:"SIGN_IN_ACTION",params:{source:null!==(n=t.source)&&void 0!==n?n:e.source,action:t.action}}})},INVOKE_CALLBACK:{actions:["invokeCallback"]},CHANGE_CONTEXT:{actions:["changeContext"]},INIT_LOGIN_SUCCESS_CB:{actions:"initLoginSuccessCb"},UPDATE_GOOGLE_ONE_TAP:{actions:["updateGoogleOneTap"]},UPDATE_GOOGLE_SIGNIN_BTN:{actions:["updateGoogleSignInBtn"]},THIRD_PART_FILL_BIRTHDAY:{target:"fillBirthday"},GET_CONTEXT:{actions:["getContext"]}}},{services:{listeningStateChange:e=>{var{showRestoreModal:t,passport:n,name:r,currentPage:o,enableDeviceAgeBan:a,ageGateChecker:c}=e;return e=>(function(e){function t(t){if(t.key===d.of){var n=t.newValue;"string"==typeof n&&e(n)}}function n(t){e(t.status,t.extraData)}return window.addEventListener("storage",t),M.on(x,n),()=>{window.removeEventListener("storage",t),M.off(x,n)}})((u,l)=>{var f=null!==(g=_.m.getString(d.PB))&&void 0!==g?g:void 0,p=null!==(y=_.m.getString(d.No))&&void 0!==y?y:void 0,v=null!==(m=_.m.getString(d.JQ))&&void 0!==m?m:void 0;if(e({type:"INVOKE_CALLBACK",errorCode:f,errorMsg:p}),u===d.lw.Fail&&e({type:"UPDATE_ERROR",errorCode:f,errorMsg:p}),u===d.lw.Success){var g,y,m,b,T=_.m.getJson(d.ax);if((null==l?void 0:l.isFromGoogleOneTap)&&e({type:"UPDATE_GOOGLE_ONE_TAP",data:{isGoogleOneTapAutoSelect:null==l?void 0:l.isGoogleOneTapAutoSelect}}),(null==l?void 0:l.isFromGoogleSignInBtn)&&e({type:"UPDATE_GOOGLE_SIGNIN_BTN"}),e({type:"GET_CONTEXT",func:e=>{b=e.birthday}}),b){k.B.updateUser({age_gate_birthday:b}).catch(e=>{S.W.error("LvThirdPartSignIn-updateBirthday",Error(JSON.stringify(e)),e)}).finally(()=>{e({type:"AUTH_SUCCESS",data:l||T})});return}e({type:"AUTH_SUCCESS",data:l||T})}else{S.W.error("login-thirdparty-error",Error(JSON.stringify({errorCode:f,errorMsg:p})));var w=parseInt(f||"0",10),E=_.m.getJson(d.IL);if(v&&w===h.B.SIGN_UP_CODE.LOGIN_ERROR_CODE.USER_ACCOUNT_CANCEL)A.report({action:"show",current_page:o||"login"}),null==t||t({onOk:(0,i._)(function*(){var t;yield null===(t=yield n())||void 0===t?void 0:t.cancelLogin(v,1).then(()=>{var t=_.m.getJson(d.ax);e({type:"AUTH_SUCCESS",data:l||t})})}),onCancel:()=>{e({type:"AUTH_FAIL"})},currentPage:o||"login"});else if(w===h.B.SIGN_UP_CODE.LOGIN_ERROR_CODE.USER_NOT_EXITE&&(E||"google"===r)){if(a&&(null==c?void 0:c.ageDeviceBan.isBeingBanned())){s.Z.error(C.ZP.t("dre_account_toast_capcut_not_available_age_reason",{},"You\u2019re not eligible to use CapCut."));return}e({type:"THIRD_PART_FILL_BIRTHDAY"})}else e({type:"AUTH_FAIL"})}})},thirdPartAuth:(r=(0,i._)(function*(e,t){var n,{isBOE:r=!1,appId:i,appName:o,accountConfig:a,passport:s,isInvitePage:c,invitedCode:u,source:l,scanCodeParams:v,isNewPageLoginFacebook:g,enableThirdPartySignAgeGate:y}=e,{platform:b,name:S}=t,k=new URL(window.location.href);if("tiktok"===S)!function(e){var{isBOE:t,appId:n,appName:r,enableThirdPartySignAgeGate:i=!1,accountConfig:o,otherInfo:a}=e,s=Math.random().toString(36).substring(2),c=window.screen.height,u=window.screen.width;_.m.setString(d.Yi,s),_.m.setString(d.LO,i?"1":"");var l=new URLSearchParams;if(n&&l.set("aid",String(n)),r&&l.set("name",r),o&&l.set("pid",String((0,T.g4)(o,T.nw.TikTok,t))),(null==a?void 0:a.isInvitePage)&&l.set("invite_code",(null==a?void 0:a.invitedCode)||""),null==a?void 0:a.isTTLive){var h=new URL(window.location.href);[f.g2.UTM_MEDIUM,f.g2.UTM_SOURCE,f.g2.OPEN_ID,f.g2.VID,"jump_action"].forEach(e=>{var t=h.searchParams.getAll(e);(null==t?void 0:t.length)&&t.forEach(t=>l.append(e,t))})}var v=JSON.stringify({csrfState:s,query:l.toString()}),g="".concat(location.origin).concat(p.l.TIKTOK_AUTH.PATH),y=(0,T.ze)(o,T.nw.TikTok,t),m="".concat(d.AV,"?client_key=").concat(y,"&scope=").concat(d.f0.TikTok).concat((null==a?void 0:a.isTTLive)?",".concat(d.f0.TikTokLive):"","&response_type=code&redirect_uri=").concat(encodeURIComponent(g),"&state=").concat(encodeURIComponent(v));(null==a?void 0:a.isTTLive)?window.open(m,"_self"):window.open(m,"name=login","fullscreen=1,width=".concat(800,",height=").concat(600,",top=").concat((c-30-600)/2,",left=").concat((u-800)/2))}({isBOE:r,appId:i,appName:o,accountConfig:a,otherInfo:{isInvitePage:c,invitedCode:u,isTTLive:k.searchParams.get(f.g2.UTM_MEDIUM)===f.lP.TIKTOK_LIVE},enableThirdPartySignAgeGate:y});else if("scan_code"===S)null===(C=yield s())||void 0===C||C.scanLoginWithWindow(l===m.C.LoginIn?"login":"sign_up",v);else if(b&&"facebook"===S){if(g){var C,I,A,O=yield(0,w.m)((0,T.ze)(a,T.nw.Facebook,r));I=O.accessToken,A=O.userID}else{yield(0,E.vE)((0,T.ze)(a,T.nw.Facebook,r)),(yield(0,E.Ek)())===E.Jt.connected&&(yield(0,E.af)());var{authResponse:R}=yield(0,E.fN)();I=R.accessToken,A=R.userID}var L=yield s(),D={name:"facebook",platform_app_id:b,access_token:I,openid:A,login_only:y};null==L||L.signinWithCode(D).then(e=>{M.emit(x,{status:d.lw.Success,extraData:{isNewSignupUser:!!(null==e?void 0:e.new_user)}})}).catch(e=>{_.m.setString(d.PB,e.error_code),_.m.setString(d.No,e.description),_.m.setString(d.JQ,e.token),e.error_code===h.B.SIGN_UP_CODE.LOGIN_ERROR_CODE.USER_NOT_EXITE&&_.m.setJson(d.IL,D),M.emit(x,{status:d.lw.Fail})});return}else b&&"google"===S&&(null===(n=yield s())||void 0===n||n.signinWithWindow(b,i,{isInvitePage:c,invitedCode:u,loginOnly:y}))}),function(e,t){return r.apply(this,arguments)}),reSignupWithBirthdayService:e=>{var{birthday:t,passport:n,name:r,platform:i,appId:s,isInvitePage:c,invitedCode:u}=e;return e=>{if("google"===r&&i){var l;null===(l=n())||void 0===l||l.then(e=>null==e?void 0:e.signinWithWindow(i,s,{isInvitePage:c,invitedCode:u,loginOnly:!1}));return}var f=_.m.getJson(d.IL);_.m.removeItem(d.IL),n().then(n=>null==n?void 0:n.signinWithCode((0,a._)((0,o._)({},f),{login_only:!1})).then(()=>{k.B.updateUser({age_gate_birthday:t}).catch(e=>{S.W.error("LvThirdPartSignIn-updateBirthday",Error(JSON.stringify(e)),e)}).finally(()=>e({type:"AUTH_SUCCESS"}))}).catch(t=>{e({type:"UPDATE_ERROR",errorCode:t.error_code,errorMsg:t.description}),e({type:"AUTH_FAIL"})}))}}},actions:{clearStatus:(0,u.f0)({birthday:(e,t)=>(O(),"")}),updateName:(0,u.f0)({name:(e,t)=>t.name}),updateSource:(0,u.f0)({source:(e,t)=>t.source}),updateAuthType:(0,u.f0)({authType:(e,t)=>t.authType}),updatePlatform:(0,u.f0)({platform:(e,t)=>t.platform}),updateCurrentPage:(0,u.f0)({currentPage:(e,t)=>{var n,{currentPage:r}=e;return null!==(n=null==t?void 0:t.currentPage)&&void 0!==n?n:r}}),updateError:(0,u.f0)({errorCode:(e,t)=>t.errorCode,errorMsg:(e,t)=>t.errorMsg}),setCallback:(0,u.f0)({callback:(e,t)=>t.callback}),invokeCallback:(0,u.f0)((e,t)=>{var{callback:n}=e,{errorCode:r,errorMsg:i}=t;return null==n||n({errorCode:r,errorMsg:i}),{callback:void 0}}),changeContext:(0,u.f0)((e,t)=>(0,o._)({},e,t.context)),invokeGoogleOneTapFunc:e=>{for(var t,{passport:n,isBOE:r,accountConfig:i,currentPage:o}=e,a=window.googleOneTapLogMomentResults,s=null!==(t=null==a?void 0:a.length)&&void 0!==t?t:0,c=0;c<s;c++)R(o);L(o||""),D(n,o,i,r)},injectGoogleOneTapFunc:e=>{var{passport:t,isBOE:n,accountConfig:r,currentPage:i}=e;window.handleGoogleOneTapMoment=()=>{R(i),L(i||"")},window.handleGoogleOneTapResult=()=>{D(t,i,r,n)}},invokeSignInWithGoogleBtnFunc:e=>{var{passport:t,isBOE:n,accountConfig:r,enableThirdPartySignAgeGate:i}=e;N({passport:t,isBOE:n,accountConfig:r,enableThirdPartySignAgeGate:i})},injectSignInWithGoogleBtnFunc:e=>{var{passport:t,isBOE:n,accountConfig:r,enableThirdPartySignAgeGate:i}=e;window.handleSignInWithGoogleBtnResult=()=>{N({passport:t,isBOE:n,accountConfig:r,enableThirdPartySignAgeGate:i})}},initLoginSuccessCb:(0,u.f0)({loginSuccessCb:(e,t)=>t.func}),notifySignSuccess:e=>{var t,n=(0,b.pf)("state"),r=(0,b.pf)(f.g2.UTM_CAMPAIGN),i=(null==n?void 0:n.length)&&"googledrive"===r;null==e||null===(t=e.loginSuccessCb)||void 0===t||t.call(e,i?"google_drive":void 0)},updateGoogleOneTap:(0,u.f0)({source:e=>m.C.LoginIn,authType:(e,t)=>{var n;return(null==t?void 0:null===(n=t.data)||void 0===n?void 0:n.isGoogleOneTapAutoSelect)?d.RR.googleOneTabAutoSelect:d.RR.googleOneTab},name:e=>"google"}),updateGoogleSignInBtn:(0,u.f0)({source:e=>m.C.LoginIn,authType:e=>d.RR.googleSignInBtn,name:e=>"google"}),updateScanCodeParams:(0,u.f0)({scanCodeParams:(e,t)=>t.scanCodeParams}),getContext:(e,t)=>{t.func(e)}}})},65049:function(e,t,n){"use strict";n.d(t,{_:function(){return y}});var r=n(461228),i=n(69984),o=n(764112),a=n(806061),s=n(736951),c=n(408835),u=n(508386),l=n(417533),d=n(762848),f=n(652189),p=n(25848),h=n(591824),v=n(722169),g={},y=(0,a.C)({id:"userWorkspace",initial:"unknown",context:{asyncFuncExecsRef:void 0,userInfo:void 0,getWorkspaceListSuccess:!1,workspaceList:[],currentWorkspaceInfo:void 0,workspaceExpandInfoMap:{},changeWorkspaceEventCache:"",updateWorkspaceEventCache:[],initWorkspaceCb:()=>{},changeWorkspaceCb:()=>{},initUserAndWorkspaceCb:()=>{},storageChangeWorkspaceCb:()=>{},refreshWorkspaceListCb:()=>{},beforeChangeWorkspaceCb:()=>Promise.resolve(),updateWorkspaceErrorCb:()=>{}},entry:["initAsyncFuncExecRef","notifyInitUserAndWorkspaceCb"],states:{unknown:{always:[{target:"gettingWorkspaceInfo"}]},gettingWorkspaceInfo:{id:"gettingWorkspaceInfo",invoke:{id:"fetchWorkspaceList",src:"fetchWorkspaceList",onDone:[{target:"hasWorkspaceInfo",actions:["updateWorkspaceList","initCurrentWorkspace","fetchWorkspaceListSuccess","notifyInitCurrentWorkspace","updateGetWorkspaceListSuccess","notifyInitUserAndWorkspaceCb","notifyRefreshWorkspace","consumeUpdateWorkspaceEventCache","notifyWorkspaceDataChange"],cond:"hasNotInitWorkspaceInfo"},{target:"hasWorkspaceInfo",actions:["updateWorkspaceList","updateCurrentWorkspace","fetchWorkspaceListSuccess","notifyRefreshWorkspace","consumeUpdateWorkspaceEventCache","notifyWorkspaceDataChange"],cond:"hasInitWorkspaceInfo"}],onError:{actions:["fetchWorkspaceListFail"],target:"noWorkspaceInfo"}}},hasWorkspaceInfo:{tags:["finished"]},noWorkspaceInfo:{tags:["finished"]}},on:{CHANGE_CONTEXT:{actions:["changeContext"]},REFRESH_WORKSPACE_LIST:{target:"#gettingWorkspaceInfo"},CHANGE_WORKSPACE:{actions:["checkChangeWorkspace"]},CHANGE_WORKSPACE_AFTER_CHECKING:{actions:["changeWorkspace","notifyChangeWorkspace","notifyWorkspaceDataChange"]},CHANGE_WORKSPACE_ERROR:{actions:["changeWorkspaceError"]},STORAGE_CHANGE_WORKSPACE:{actions:["storageChangeWorkspace"]},UPDATE_WORKSPACE:{actions:["fetchSpecificWorkspaceInfo"]},FETCH_SPECIFIC_WORKSPACE_DONE:{actions:["updateSpecificWorkspaceInfo","notifyWorkspaceDataChange","notifyRefreshWorkspace"]},FETCH_SPECIFIC_WORKSPACE_ERROR:{actions:["updateSpecificWorkspaceInfoError"]},NOTIFY_WORKSPACE_CHANGE:[{target:"#gettingWorkspaceInfo",cond:"notifyLeaveWorkspace"},{actions:["roleChange","notifyWorkspaceDataChange","notifyRefreshWorkspace"],cond:"notifyRoleChange"},{target:"#gettingWorkspaceInfo",cond:"notifyNewMember"}]}},{services:{fetchWorkspaceList:(e,t)=>(0,r._)(function*(){var e,n=[],a=function(){try{var e="undefined"!=typeof __userWorkspaces?JSON.parse(__userWorkspaces):void 0;if(e&&"0"===e.ret)return e.data;return}catch(e){return}}(),s=(e=(0,r._)(function*(e){var{data:t}=yield d.E.getUserWorkSpace({cursor:e,count:100,need_convert_workspace:!0});n=[...n,...t.workspace_infos],t.has_more&&(yield s(t.next_cursor))}),function(t){return e.apply(this,arguments)});return("REFRESH_WORKSPACE_LIST"!==t.type&&a&&(0,v.isArray)(null==a?void 0:a.workspace_infos)?(n=[...a.workspace_infos],(null==a?void 0:a.has_more)&&(yield s(null==a?void 0:a.next_cursor))):yield s("0"),"REFRESH_WORKSPACE_LIST"===t.type&&t.callback)?{workspaceList:null==n?void 0:n.map(e=>(0,o._)((0,i._)({},e),{dcName:(0,h.y)(e.region)})),callback:t.callback}:{workspaceList:null==n?void 0:n.map(e=>(0,o._)((0,i._)({},e),{dcName:(0,h.y)(e.region)}))}})()},actions:{changeContext:(0,s.f0)((e,t)=>(0,i._)({},e,t.context)),initAsyncFuncExecRef:(0,s.f0)({asyncFuncExecsRef:()=>(0,c.Cs)(l.E)}),updateWorkspaceList:(0,s.f0)({workspaceList:(e,t)=>t.data.workspaceList}),checkChangeWorkspace:(0,s.lW)((e,t)=>{var{data:n}=t;return{type:"ADD_TASK",exec:(0,r._)(function*(){return yield e.beforeChangeWorkspaceCb(),n}),successType:"CHANGE_WORKSPACE_AFTER_CHECKING",failType:"CHANGE_WORKSPACE_ERROR"}},{to:e=>e.asyncFuncExecsRef}),initCurrentWorkspace:(0,s.f0)(e=>{var t,n;return{currentWorkspaceInfo:e.changeWorkspaceEventCache?null==e?void 0:null===(t=e.workspaceList)||void 0===t?void 0:t.find(t=>t.workspace_id===e.changeWorkspaceEventCache):null==e?void 0:null===(n=e.workspaceList)||void 0===n?void 0:n.find(t=>{var n,r,i,o;return t.workspace_id===((null===(r=e.userInfo)||void 0===r?void 0:null===(n=r.defaultSpaceInfo)||void 0===n?void 0:n.workspaceId)||(null===(o=e.userInfo)||void 0===o?void 0:null===(i=o.spaceInfo)||void 0===i?void 0:i.workspaceId))}),changeWorkspaceEventCache:""}}),fetchWorkspaceListSuccess:(e,t)=>{var n,r;null===(r=t.data)||void 0===r||null===(n=r.callback)||void 0===n||n.call(r)},notifyInitCurrentWorkspace:e=>{e.currentWorkspaceInfo&&e.initWorkspaceCb(e.currentWorkspaceInfo)},updateGetWorkspaceListSuccess:(0,s.f0)({getWorkspaceListSuccess:()=>!0}),notifyInitUserAndWorkspaceCb:e=>{if(e.getWorkspaceListSuccess){var t;null==e||null===(t=e.initUserAndWorkspaceCb)||void 0===t||t.call(e,{userInfo:e.userInfo,workspaceList:e.workspaceList})}},notifyRefreshWorkspace:e=>{if(null==e?void 0:e.workspaceList){var t;null==e||null===(t=e.refreshWorkspaceListCb)||void 0===t||t.call(e,e.workspaceList,e)}},notifyWorkspaceDataChange:(0,s.lj)(e=>({type:"UPDATE_WORKSPACE_DATA_FROM_CHILD",workspaceList:e.workspaceList,currentWorkspaceInfo:e.currentWorkspaceInfo,workspaceExpandInfoMap:e.workspaceExpandInfoMap})),consumeUpdateWorkspaceEventCache:u.Le(e=>{var t=[];return Array.isArray(e.updateWorkspaceEventCache)&&(t=e.updateWorkspaceEventCache.map(e=>(0,s.lW)({type:"UPDATE_WORKSPACE",workspaceId:e}))).push((0,s.f0)({updateWorkspaceEventCache:[]})),t}),updateCurrentWorkspace:(0,s.f0)(e=>{var t,n,r=null===(t=e.currentWorkspaceInfo)||void 0===t?void 0:t.workspace_id;return{currentWorkspaceInfo:null==e?void 0:null===(n=e.workspaceList)||void 0===n?void 0:n.find(e=>e.workspace_id===r)}}),changeWorkspace:(0,s.f0)((e,t)=>{var n,r,i,{data:o,extInfo:a}=t;return(null===(n=e.currentWorkspaceInfo)||void 0===n?void 0:n.workspace_id)===o.workspace_id?{}:{currentWorkspaceInfo:null==e?void 0:null===(r=e.workspaceList)||void 0===r?void 0:r.find(e=>e.workspace_id===o.workspace_id),workspace_enter_from:null==a?void 0:null===(i=a.data)||void 0===i?void 0:i.workspace_enter_from}}),notifyChangeWorkspace:e=>{if(e.currentWorkspaceInfo){var t;null===(t=e.changeWorkspaceCb)||void 0===t||t.call(e,e.currentWorkspaceInfo,{userInfo:e.userInfo})}},changeWorkspaceError(){console.error("stop changing workspace!")},storageChangeWorkspace(e,t){var{data:n}=t;e.storageChangeWorkspaceCb(n.workspace_id)},fetchSpecificWorkspaceInfo:(0,s.lW)((e,t)=>{var{workspaceId:n}=t;return{type:"ADD_TASK",exec:(0,r._)(function*(){var[e,{data:t}]=yield Promise.all([f.k.getSpaceList(n),d.E.mGetWorkspaceInfo({workspace_ids:[n]})]);g=(0,o._)((0,i._)({},g),{[n]:e});var r=t.workspace_infos[0];return{workspace_id:n,workspace_info:(0,o._)((0,i._)({},r),{dcName:(0,h.y)(r.region)}),workspaceExpandInfoMap:(0,i._)({},g)}}),successType:"FETCH_SPECIFIC_WORKSPACE_DONE",failType:"FETCH_SPECIFIC_WORKSPACE_ERROR"}},{to:e=>e.asyncFuncExecsRef}),updateSpecificWorkspaceInfo:(0,s.f0)({workspaceList:(e,t)=>{var n,{data:r}=t,{workspace_info:i}=r;return i?null==e?void 0:null===(n=e.workspaceList)||void 0===n?void 0:n.map(e=>e.workspace_id===i.workspace_id?i:e):e.workspaceList},currentWorkspaceInfo:(e,t)=>{var n,{data:r}=t,{workspace_info:i}=r;return i&&i.workspace_id===(null===(n=e.currentWorkspaceInfo)||void 0===n?void 0:n.workspace_id)?i:e.currentWorkspaceInfo},workspaceExpandInfoMap:(e,t)=>{var n,{data:r}=t;return null!==(n=r.workspaceExpandInfoMap)&&void 0!==n?n:e.workspaceExpandInfoMap}}),updateSpecificWorkspaceInfoError:(e,t)=>{var{data:n}=t;e.updateWorkspaceErrorCb&&e.updateWorkspaceErrorCb(n.workspace_id)},roleChange:(0,s.f0)({workspaceList:(e,t)=>{var n,r,{notifyData:a}=t,{workspace_id:s,new_role:c,uid:u}=a;return String(u)!==(null===(n=e.userInfo)||void 0===n?void 0:n.uid)?e.workspaceList:null===(r=e.workspaceList)||void 0===r?void 0:r.map(e=>e.workspace_id===s?(0,o._)((0,i._)({},e),{role:c}):e)},currentWorkspaceInfo:(e,t)=>{var n,r,{notifyData:a}=t,{workspace_id:s,new_role:c,uid:u}=a;return String(u)!==(null===(n=e.userInfo)||void 0===n?void 0:n.uid)?e.currentWorkspaceInfo:(null===(r=e.currentWorkspaceInfo)||void 0===r?void 0:r.workspace_id)===s?(0,o._)((0,i._)({},e.currentWorkspaceInfo),{role:c}):e.currentWorkspaceInfo}})},guards:{hasInitWorkspaceInfo:e=>!!(e.currentWorkspaceInfo&&e.currentWorkspaceInfo.workspace_id),hasNotInitWorkspaceInfo:e=>!(e.currentWorkspaceInfo&&e.currentWorkspaceInfo.workspace_id),notifyLeaveWorkspace:(e,t)=>{var{notifyData:n}=t;return n.method===p.ZV.leaveWorkspace},notifyRoleChange:(e,t)=>{var{notifyData:n}=t;return n.method===p.ZV.roleChange},notifyNewMember:(e,t)=>{var{notifyData:n}=t;return n.method===p.ZV.newMember}}})},7583:function(e,t,n){"use strict";n.d(t,{O:function(){return s},h:function(){return c}});var r=n(733730),i=n(591824),o=n(915014);class a extends r.v{init(e){this._userService=e.userService}getRegion(){var e,t;return null===(t=this._userService.getSnapshot())||void 0===t?void 0:null===(e=t.context.userInfo)||void 0===e?void 0:e.region}getNewIdc(){var e,t;return null===(t=this._userService.getSnapshot())||void 0===t?void 0:null===(e=t.context.userInfo)||void 0===e?void 0:e.newIdc}getReqDomain(){var e,t;return null===(t=this._userService.getSnapshot())||void 0===t?void 0:null===(e=t.context.userInfo)||void 0===e?void 0:e.reqDomain}getUserInfo(){var e;return null===(e=this._userService.getSnapshot())||void 0===e?void 0:e.context.userInfo}getUserCloudInfo(){var e,t,{context:n}=this._userService.getSnapshot();return{workspaceInfo:n.currentWorkspaceInfo,workspaceExpandInfo:n.workspaceExpandInfoMap[null!==(t=null===(e=n.currentWorkspaceInfo)||void 0===e?void 0:e.workspace_id)&&void 0!==t?t:""],workspaceExpandInfoMap:n.workspaceExpandInfoMap}}getAgeGateChecker(){return this._userService.getSnapshot().context.ageGateChecker}changeUserRegion(e){this._userService.send({type:"CHANGE_CONTEXT",context:{userInfo:{region:e,idc:(0,i.y)(e)}}})}logout(e){var t;null===(t=this._userService)||void 0===t||t.send({type:"SIGN_OUT",redirectUrl:e})}listenCareerStatus(e){var t=t=>{e(this._getUserCareer(t))};return this._userService.onTransition(t),()=>{this._userService.off(t)}}listenLoginStatus(e){var t=t=>{e({hasSign:this._userHasSign(t)})};return this._userService.onTransition(t),()=>{this._userService.off(t)}}listenLoginOut(e){var t=t=>{var n,r=null==t?void 0:null===(n=t.children)||void 0===n?void 0:n.LvUserStatusListenerMachine;r&&r.getSnapshot().matches("destroy")&&(null==e||e())};return this._userService.onTransition(t),()=>{this._userService.off(t)}}listenUserWholeStatus(e){var t=t=>{var n,r,i=this._userHasSign(t),a=this._getUserCareer(t);e({hasSign:i,vipInfo:null===(n=t.context)||void 0===n?void 0:n.vipInfo,workspaceExpandInfoMap:null===(r=t.context)||void 0===r?void 0:r.workspaceExpandInfoMap,noSign:t.matches("noSign"),careerStatus:a.status,career:a.career,initFailed:(0,o.z5)(t.context)?t.matches("loginOrganizationFail"):t.matches("fetchLocationFail")})};return this._userService.onTransition(t),()=>{this._userService.off(t)}}listenVipInfo(e){var t=t=>{var n;e(null===(n=t.context)||void 0===n?void 0:n.vipInfo)};return this._userService.onTransition(t),()=>{this._userService.off(t)}}_userHasSign(e){if((0,o.z5)(e.context)){var t,n,r;return(null===(n=e.context)||void 0===n?void 0:n.businessUserInfo)&&Object.prototype.hasOwnProperty.call(null===(r=e.context)||void 0===r?void 0:r.businessUserInfo,"business_user_info")}return(null===(t=e.context)||void 0===t?void 0:t.userInfo)&&Object.prototype.hasOwnProperty.call(e.context.userInfo,"uid")&&Object.prototype.hasOwnProperty.call(e.context.userInfo,"region")}_getUserCareer(e){if(e.matches("noSign"))return{status:void 0,career:""};var t,n,r,i,o=null==e?void 0:null===(t=e.children.LvUserCareerMachine)||void 0===t?void 0:t.getSnapshot();return(null==o?void 0:o.matches("hasCareer"))&&(null===(r=e.context)||void 0===r?void 0:null===(n=r.userInfo)||void 0===n?void 0:n.career)?{status:!0,career:e.context.userInfo.career}:(null==o?void 0:o.matches("noCareer"))?{status:!1,career:(null===(i=e.context.userInfo)||void 0===i?void 0:i.career)||""}:{status:void 0,career:""}}}var s=new a,c=new a},133874:function(e,t,n){"use strict";n.d(t,{T:function(){return i}});var r=n(461228);function i(e){return o.apply(this,arguments)}function o(){return(o=(0,r._)(function*(e){try{return[(yield e),null]}catch(e){return[null,e]}})).apply(this,arguments)}},29219:function(e,t,n){"use strict";n.d(t,{x:function(){return i}});var r=n(91933),i=e=>{var t=!1;return Object.values(r.b7).forEach(n=>{n.aid===e&&(t=!0)}),t}},562812:function(){"use strict";var e,t;(t=e||(e={}))[t.Video=1]="Video",t[t.Image=2]="Image"},776625:function(e,t,n){"use strict";n.d(t,{O:function(){return o}});var r=n(998498),i=n.n(r);function o(e){var{url:t,pf:n,appvr:r,tdid:o}=e,a=Math.floor(Date.now()/1e3);return{sign:i()("9e2c|".concat(t.slice(-7),"|").concat(n,"|").concat(r,"|").concat(a,"|").concat(o,"|11ac")).toLowerCase(),"device-time":a}}},922497:function(e,t,n){"use strict";n.d(t,{q:function(){return r}});var r=void 0},368396:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(282560),i=n(478130);class o extends i.q{get type(){return r.Gk.FILM}}},485138:function(e,t,n){"use strict";n.d(t,{D:function(){return s}});var r=n(461228),i=n(747890),o=n(640712),a=n(6613);class s{done(){return new Promise((e,t)=>{this.result&&("success"===this.result.status?e(this.result):t(this.result)),this.finishListenQueue.push([e,t])})}cancel(){var e=this;return(0,r._)(function*(){return yield e.sdk.sdk.cancel_get_preivew_info_loop({ids:"id"===e.target.key?[e.target.id]:[],md5s:"md5"===e.target.key?[e.target.id]:[]})})()}destroy(){this.finishListenQueue=[],this.sdk.eventBus.removeListener(o.zW.SpriteInfoEndPullEvent,this.onDoneHandler)}_onDoneHandler(e){for(var t of e.infos)if(t[this.target.key]===this.target.id){this.result={status:"success",data:(0,i.qA)(t)},this.onFinishHandler();return}e.timeout&&(this.result={status:"error",errInfo:new a.W5})}onFinishHandler(){var e,t;for(var n of this.finishListenQueue)(null===(t=this.result)||void 0===t?void 0:t.status)==="success"?n[0](this.result):n[1](this.result);null===(e=this.onFinish)||void 0===e||e.call(this,this.result),this.destroy()}constructor(e,t){this.finishListenQueue=[],this.target=e,this.sdk=t,this.onDoneHandler=this._onDoneHandler.bind(this),this.sdk.eventBus.addListener(o.zW.SpriteInfoEndPullEvent,this.onDoneHandler)}}},356340:function(e,t,n){"use strict";n.d(t,{D:function(){return i},x:function(){return a}});var r,i,o=n(37754);(r=i||(i={})).WaitingUpload="waitingUpload",r.Uploading="uploading",r.Success="success",r.Cancel="cancel",r.Error="error";class a extends o.Z{destroy(){super.destroy()}}},333108:function(e,t,n){"use strict";n.d(t,{G:function(){return r}});class r{get hasBeenDone(){return this._hasBeenDone}get costTimes(){if(this._initCostTimes){var{start:e,end:t}=this._initCostTimes;return(t||Date.now())-e}}get initResult(){if(this._hasBeenDone)return{resolve:this.resolveResult,reject:this.rejectResult}}get isIniting(){return this._isIniting}awaitForInit(){var e,t,{key:n,timeout:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._hasBeenDone&&this.initResult){var{resolve:i,reject:o}=this.initResult;return o?Promise.reject(o):Promise.resolve(i)}if(n&&this._waitingResolverMap.has("key"))return this._waitingResolverMap.get("key");if(!r){var a=new Promise((e,t)=>{this._waitingResolvers.add([e,t])});return n&&this._waitingResolverMap.set(n,a),a}var s=Promise.race([new Promise((n,r)=>{e=[()=>{clearTimeout(t),n()},r],this._waitingResolvers.add([e,r])}),new Promise((n,i)=>{t=setTimeout(()=>{this._waitingResolvers.delete(e),i(Error("Timed out waiting for init"))},r)})]);return n&&this._waitingResolverMap.set(n,s),s}startToInit(){return!this._hasBeenDone&&!this._isIniting&&(this._isIniting=!0,this._initCostTimes={start:Date.now()},!0)}initDone(e){if(this._hasBeenDone)throw Error("Cannot release an inited locker");this._initCostTimes&&(this._initCostTimes.end=Date.now());var t=!1;for(var n of((null==e?void 0:e.reject)?(t=!0,this.rejectResult=e.reject):this.resolveResult=null==e?void 0:e.resolve,this._waitingResolvers))t?n[1](this.rejectResult):n[0](this.resolveResult);this._waitingResolverMap.clear(),this._waitingResolvers.clear(),this._hasBeenDone=!0,this._isIniting=!1}constructor(){this._hasBeenDone=!1,this._isIniting=!1,this._initCostTimes=void 0,this._waitingResolvers=new Set,this._waitingResolverMap=new Map}}},963730:function(e,t,n){"use strict";n.d(t,{M:function(){return r}});class r{constructor(e,t=[],n=!0){this.ctor=e,this.staticArguments=t,this.supportsDelayedInstantiation=n}}},787384:function(e,t,n){"use strict";n.d(t,{c:function(){return s}});var r=n(461228),i=n(789786),o=n(818351),a=n(37011);class s{get loaded(){return!!this._instance}preload(){this._getModule()}getInstance(e){var t=this;return(0,r._)(function*(){yield t._sharedMutex.lock();try{if(t._instance)return t._instance;return t._instance=yield t._makeInstance(...t._getStaticArguments()),t._instance}finally{t._sharedMutex.unLock()}})()}_makeInstance(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=this;return(0,r._)(function*(){var e=yield i._getModule();return e.default?i._instantiationService.createInstance(e.default,...t):i._instantiationService.createInstance(e,...t)})()}_getStaticArguments(){return[]}constructor(e){this._instantiationService=e,this._sharedMutex=new o.L}}s=(0,i.gn)([(0,i.fM)(0,a.T),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[void 0===a.T?Object:a.T])],s)},85024:function(e,t,n){"use strict";function r(e){return function(t){var n=setTimeout(()=>{t(e)},0);return{dispose(){clearTimeout(n)}}}}n.d(t,{V:function(){return r}})},673749:function(e,t,n){"use strict";n.d(t,{A:function(){return r}});class r{static get(e){if(r._pool.has(e))return r._pool.get(e);var t=new r(e);return r._pool.set(e,t),t}toJSON(){return{name:this.name,tags:this.tags.map(e=>e.toJSON())}}constructor(e,t=[]){this.name=e,this.tags=t}}r._pool=new Map},524291:function(e,t,n){"use strict";n.d(t,{VL:function(){return o}});var r=n(199079),i=n(399997);function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",{span:o,spanContext:a}=e.getValue(r.oL)?(0,i.O)(e,t):(0,i.al)(e,t);return o.setOperationName(n),{ctx:a.ctx,span:o}}},34153:function(e,t,n){"use strict";n.d(t,{S:function(){return i}});var r=n(218571),i=(e,t,n)=>{var[i,o]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{var r=e.current;if(r){var i=new IntersectionObserver(e=>{o(e[0].isIntersecting),null==t||t(e)},n);return i.observe(r),()=>{i.disconnect(),r=null}}},[e,t,n]),{inView:i}}},941906:function(e,t,n){"use strict";n.d(t,{n:function(){return v}});var r=n(69984),i=n(764112),o=n(789786),a=n(980014),s=n(167154),c=n(939051),u=n(810381),l=n(513351),d=n(445292),f=n(488277),p=n(487607),h=n(781440);class v extends l.E{getModel(){var e,t=super.getModel();return(0,i._)((0,r._)({},t),{addModelToDraft:this.__addModelToDraftBinder,transcoding:null===(e=this._transcodeMaterialHelper)||void 0===e?void 0:e.transcoding})}canRetryTranscode(){var e,t;return null!==(t=null===(e=this._transcodeMaterialHelper)||void 0===e?void 0:e.canRetryTranscode())&&void 0!==t&&t}transcode(){return(0,a.Y2)(this._transcodeMaterialHelper,"helper not found"),this._transcodeMaterialHelper.transcode()}_initMaterialStatus(e){var{forceTranscode:t}=e,n=this._data,r=!1,i=!1;if(n.fileType===s.YB.Image&&(r=n.isImgTranscoding,i=(0,p.o)(n.imgTranscodeInfo,{keyFormatter:e=>"origin"!==e?"".concat(e,"p"):"origin",originSize:n.width&&n.height?{width:n.width,height:n.height}:void 0})),n.fileType===s.YB.Video&&(r=!(i=!!n.videoTranscodeInfo)),n.fileType===s.YB.Audio&&(r=!(i=!!n.audioTranscodeInfo)),r||t){this._updateStatus(c.a.Transcoding),this._transcodeMaterialHelper.listenTranscodeResult();return}i?this.canSync2UserMaterial()?(this._updateStatus(c.a.WaitForSync2UserMaterial),this.sync2UserMaterial()):this._updateStatus(c.a.Success):this._updateStatus(c.a.TranscodeFailure)}_partialUpdateModel(e){this._data.key&&delete e.key,Object.assign(this._data,e)}constructor(e,t,n){super(e,t,n),this.__addModelToDraftBinder=()=>this.addModelToDraft(this),this._data=e.data,(0,a.Y2)(this._data.sourceType===s.ov.EverCloud),this._data.fileType===s.YB.Image?this._transcodeMaterialHelper=new d.Y({assetId:this._data.assetId,fromWorkspaceId:e.fromWorkspaceId,userMaterialService:t,handler:{status:()=>this.status,onProgress:()=>this._onModelUpdate.fire(this.getModel()),onDidTranscode:this.onDidTranscode,onTranscodeFailure:this.onTranscodeFailure,updateStatus:this._updateStatus.bind(this),updateModel:e=>{this._data=e}}}):[s.YB.Audio,s.YB.Video].includes(this._data.fileType)?this._transcodeMaterialHelper=new f.D({assetId:this._data.assetId,fileType:this._data.fileType,fromWorkspaceId:e.fromWorkspaceId,userMaterialService:t,handler:{status:()=>this.status,onProgress:()=>this._onModelUpdate.fire(this.getModel()),onDidTranscode:this.onDidTranscode,onTranscodeFailure:this.onTranscodeFailure,updateStatus:this._updateStatus.bind(this),updateModel:e=>this._partialUpdateModel(e)}}):(0,a.ss)("unexpected logic"),this._initMaterialStatus({forceTranscode:e.forceTranscode})}}v=(0,o.gn)([(0,o.fM)(1,h.b),(0,o.fM)(2,u.m),(0,o.w6)("design:type",Function),(0,o.w6)("design:paramtypes",["undefined"==typeof IMediaMaterialLifecycle?Object:IMediaMaterialLifecycle,void 0===h.b?Object:h.b,void 0===u.m?Object:u.m])],v)},871579:function(e,t,n){"use strict";n.d(t,{J:function(){return S}});var r=n(461228),i=n(69984),o=n(764112),a=n(789786),s=n(842327),c=n(781440),u=n(211139),l=n(939051),d=n(167154),f=n(461644),p=n(520118),h=n(980014),v=n(963473),g=n(900268),y=n(139960),m=n(586576),_=n(270193),b=n(898075);class S extends p.I{get md5(){return this._data.md5}getModel(){var e,t;return(0,o._)((0,i._)({},this._data),{id:this.id,addModelToDraft:this._addModelToDraftBinder,onModelUpdate:this.onModelUpdate,onResourceReady:this.onResourceReady,onDidRemove:this.onDidRemove,onDidDone:this.onDidDone,status:this.status,uploading:this._uploadMaterialLifecycleHelper.uploading,transcoding:null===(e=this._transcodeMaterialHelper)||void 0===e?void 0:e.transcoding,syncingUserMaterial:null===(t=this._syncFromWorkspaceHelper)||void 0===t?void 0:t.syncingUserMaterial})}canRetryPrepare(){(0,h.ss)()}prepare(){(0,h.ss)()}canRetryUpload(){return this._uploadMaterialLifecycleHelper.canRetryUpload()}upload(){this._uploadMaterialLifecycleHelper.upload()}canCancelUpload(){var e,t;return null!==(t=null===(e=this._uploadMaterialLifecycleHelper)||void 0===e?void 0:e.canCancelUpload())&&void 0!==t&&t}cancelUpload(){this._uploadMaterialLifecycleHelper.cancelUpload(),super.cancelUpload()}canRetryTranscode(){var e,t;return null!==(t=null===(e=this._transcodeMaterialHelper)||void 0===e?void 0:e.canRetryTranscode())&&void 0!==t&&t}transcode(){return(0,h.Y2)(this._transcodeMaterialHelper,"helper not found"),this._transcodeMaterialHelper.transcode()}canSync2UserMaterial(){var e,t;return null!==(t=null===(e=this._syncFromWorkspaceHelper)||void 0===e?void 0:e.canSync2UserMaterial())&&void 0!==t&&t}cancelSync2UserMaterial(){this.status===l.a.Syncing2UserMaterial&&this._updateToWorkspaceId(this.fromWorkspaceId)}sync2UserMaterial(){this._triggerSyncMaterialFromWorkspaceHelper(),(0,h.ZB)(this._syncFromWorkspaceHelper),this._syncFromWorkspaceHelper.sync2UserMaterial()}delete(e){var t=this,n=()=>super.delete;return(0,r._)(function*(){try{return t._hasBeenSync?((0,h.Y2)(t._data.sourceType===d.ov.EverCloud),(null==e?void 0:e.onlyDeleteInCache)||(yield t._userMaterialsService.deleteMaterials({workspaceId:t.fromWorkspaceId,assetIds:[t._data.assetId]}))):[l.a.Uploading,l.a.UploadFailure,l.a.WaitingUpload].includes(t.status)&&t._uploadMaterialLifecycleHelper.cancelUpload(),yield n().call(t),(0,v.ly)()}catch(e){var r;return(0,v.wf)(-1,null!==(r=null==e?void 0:e.message)&&void 0!==r?r:"unexpected error")}})()}bindListenerWithLifecycle(){(0,g.V)(this.onDidUpload)(()=>{var e;this._uploadMaterialLifecycleHelper.dispose(),this.hasBeenRemoved||((0,h.Y2)(this._data.sourceType===d.ov.PublicSpace,"current material is not from publicSpace"),this._transcodeMaterialHelper=new y.L({taskId:this._data.publicSpaceId,fileType:this._data.fileType,userMaterialService:this._userMaterialsService,handler:{status:()=>this.status,onProgress:()=>this._onModelUpdate.fire(this.getModel()),onDidTranscode:this.onDidTranscode,onTranscodeFailure:this.onTranscodeFailure,updateStatus:this._updateStatus.bind(this),updateModel:e=>this._partialUpdateModel(e)}}),this._updateStatus(l.a.Transcoding),null===(e=this._transcodeMaterialHelper)||void 0===e||e.listenTranscodeResult())}),(0,g.V)(this.onDidTranscode)(()=>{Promise.resolve().then(()=>{if(!this.hasBeenRemoved){if(this.toWorkspaceId){this._triggerSyncMaterialFromWorkspaceHelper(),this._syncFromWorkspaceHelper.sync2UserMaterial();return}this._updateStatus(l.a.WaitForSync2UserMaterial)}})}),this.onDidSync2UserMaterial(()=>{Promise.resolve().then(()=>{this.hasBeenRemoved||(this._hasBeenSync=!0,this._updateFromWorkspaceId(this.toWorkspaceId),this._updateStatus(l.a.Success))})})}_triggerSyncMaterialFromWorkspaceHelper(){this._syncFromWorkspaceHelper&&this._syncHelperType===this._data.sourceType||(this._syncHelperType=this._data.sourceType,this._data.sourceType===d.ov.PublicSpace?this._syncFromWorkspaceHelper=this._containerService.createInstance(m.B,{vid:this._data.vid,toFolderId:this.toFolderId,toWorkspaceId:this.toWorkspaceId,payinPayoutHelper:this._option.payinPayoutHelper,userMaterialService:this._userMaterialsService,handler:{model:()=>this.getModel(),status:()=>this.status,updateStatus:this._updateStatus.bind(this),updateModel:e=>this._partialUpdateModel(e),onProgress:()=>this._onModelUpdate.fire(this.getModel())}}):this._syncFromWorkspaceHelper=this._containerService.createInstance(_.k,{assetId:this._data.assetId,fromWorkspaceId:this.fromWorkspaceId,toWorkspaceId:this.toWorkspaceId,userMaterialService:this._userMaterialsService,payinPayoutHelper:this._option.payinPayoutHelper,handler:{status:()=>this.status,updateStatus:this._updateStatus.bind(this)},notificationService:this._notificationService}))}_partialUpdateModel(e){this._data.key&&delete e.key,Object.assign(this._data,e),this._fireModelUpdate()}constructor(e,t,n,r,i){super({fromWorkspaceId:void 0,toWorkspaceId:void 0,addModelToDraft:e.addModelToDraft,fromFolderId:e.fromFolderId,toFolderId:void 0,notificationService:e.notificationService}),this._option=e,this._publicSpaceUploadService=t,this._userMaterialsService=n,this._lazyFileMd5CalcService=r,this._containerService=i,this._hasBeenSync=!1,this._addModelToDraftBinder=()=>this.addModelToDraft(this);var o=this._option,{autoUpload:a=!0}=o;this._data=o.data,this._uploadMaterialLifecycleHelper=new b.I({file:e.file,publicSpaceUploadService:this._publicSpaceUploadService,userMaterialService:this._userMaterialsService,fastImportAnalyzeHelper:o.fastImportAnalyzeHelper,fileCalcMd5Service:this._lazyFileMd5CalcService,captureCoverAndThumbHelper:o.captureCoverAndThumbHelper,uploadParams:o.uploadParams,notificationService:e.notificationService}),this._uploadMaterialLifecycleHelper.bootstrap({handler:{model:()=>this.getModel(),status:()=>this.status,delete:()=>{this.delete()},onCancelUpload:()=>{this._onDidCancelUpload.fire()},onProgress:e=>{this._fireModelUpdate()},updateStatus:this._updateStatus.bind(this),updateModel:e=>{this._partialUpdateModel(e)}},events:{onSuccess:this.onDidUpload,onError:this.onUploadFailure}}),this._updateStatus(l.a.WaitingUpload),a&&this._uploadMaterialLifecycleHelper.upload(),this.bindListenerWithLifecycle()}}S=(0,a.gn)([(0,a.fM)(1,s.S),(0,a.fM)(2,c.b),(0,a.fM)(3,u.w),(0,a.fM)(4,f.t),(0,a.w6)("design:type",Function),(0,a.w6)("design:paramtypes",["undefined"==typeof IUploadMaterialToPublicSpaceLifecycle?Object:IUploadMaterialToPublicSpaceLifecycle,void 0===s.S?Object:s.S,void 0===c.b?Object:c.b,void 0===u.w?Object:u.w,void 0===f.t?Object:f.t])],S)},655982:function(e,t,n){"use strict";n.d(t,{s:function(){return function e(t,n){var{addToUserGenerated:v,notificationService:g}=(0,p.Z)({},{addToUserGenerated:!0,notificationService:(0,f.O)(t)},n);return n=>{var f;return t.invokeFunction((f=(0,r._)(function*(r){var f=r.get(i.D),p=r.get(h.v),y=r.get(s.b);(0,o.ZB)(n.md5);var m=n.getModel();if(p.draftWorkspaceManager.workspaceId&&n.fromWorkspaceId&&m.status===c.a.Success&&m.sourceType===u.ov.EverCloud){var _=yield y.getMaterialsByIds({workspaceId:n.fromWorkspaceId,assetIds:[m.assetId]});if(!_.ok)return"not found all assets"===_.msg&&(null==g||g.error(l.ZP.t("web_editor_addmaterial_deleted",{},"The material has been deleted."))),_}return!f.isMaterialExistInUserGeneratedByMd5(n.md5)&&p.draftWorkspaceManager.workspaceId&&(n.updateToWorkspaceId(p.draftWorkspaceManager.workspaceId),v?f.addToUserGenerated(t.createInstance(d.P,{lifecycle:n,isListenOriginDeleted:!1,addModelToDraft:e(t,{addToUserGenerated:v,notificationService:g}),notificationService:g})):f.addToAutoGenerated(t.createInstance(d.P,{lifecycle:n,isListenOriginDeleted:!1,addModelToDraft:e(t,{addToUserGenerated:v,notificationService:g}),notificationService:g}))),(0,a.ly)()}),function(e){return f.apply(this,arguments)}))}}}});var r=n(461228),i=n(496006),o=n(980014),a=n(963473),s=n(781440),c=n(939051),u=n(167154),l=n(123951),d=n(536279),f=n(247869),p=n(824547),h=n(761435)},487607:function(e,t,n){"use strict";n.d(t,{F:function(){return c},o:function(){return s}});var r,i,o=n(722169);(r=i||(i={}))[r.UNTRANSCODE=-1]="UNTRANSCODE",r[r.SUCCESS=0]="SUCCESS",r[r.PROCESSING=1]="PROCESSING",r[r.FAILED=2]="FAILED",r[r.TIMEOUT=3]="TIMEOUT";var a=[{targets:["360","480","720"]},{targets:["720","1080","origin"]}];function s(e,t){var n=(null==t?void 0:t.originSize)?Math.max(t.originSize.width,t.originSize.height):void 0,r=(0,o.cloneDeep)(a);return n&&n<=720&&r[0].targets.push("origin"),(0,o.merge)({},{strategy:r},t).strategy.map(r=>{var i=r.targets.filter(t=>{var r=parseInt(t,10);return!(e&&!("origin"in e)&&Number.isNaN(r)||n&&n<r)});return!i.length||i.reduce((n,r)=>{if(n)return n;var i,o,a=null!==(i=null==t?void 0:t.keyFormatter)&&void 0!==i?i:e=>"origin"!==e?"".concat(e):"origin",s=null==e?void 0:e[a(r)];return!!(null!==(o=null==s?void 0:s.url)&&void 0!==o?o:null==s?void 0:s.preview_url)},!1)}).reduce((e,t)=>e&&t,!0)}function c(e,t,n){return(0,o.merge)({},{strategy:a},n).strategy.map(n=>n.targets.reduce((n,r)=>n||0===t.get("".concat(r,"_").concat(e)),!1)).reduce((e,t)=>e&&t,!0)}},633180:function(e,t,n){"use strict";n.d(t,{b:function(){return r}});class r{reportBySlardar(e,t){}}},712613:function(e,t,n){"use strict";n.d(t,{m:function(){return c}});var r=n(461228),i=n(772322),o=n(570126),a=n(785394),s=n(779753);function c(e){var t;e.invokeFunction((t=(0,r._)(function*(e){var t,n=e.get(s.S);yield n.allowToRender();var r=(null===(t=window)||void 0===t?void 0:t.__locationCountryCode)||"",c=document.createElement("div");document.body.append(c),o.createRoot(c).render((0,i.jsx)(a.t,{countryCode:r}))}),function(e){return t.apply(this,arguments)}))}},26566:function(e,t,n){"use strict";n.d(t,{a:function(){return a}});var r=n(123951),i=n(285348),o=n(733760),a={[o.Tv.AuthorizationStatusSuccess]:()=>r.oc.t("ccweb_account_authorization_link_toast_success",{},"Account linked"),[o.Tv.AuthorizationStatusFail]:()=>r.oc.t("ccweb_account_authorization_link_toast_fail",{},"Couldn\u2019t link"),[o.Tv.AuthorizationStatusInsufficientPermissions]:()=>r.oc.t("ccweb_account_authorization_link_toast_fail",{},"Couldn\u2019t link"),[o.Tv.AuthorizationStatusParameterError]:()=>r.oc.t("ccweb_account_authorization_link_toast_fail",{},"Couldn\u2019t link"),[o.Tv.AuthorizationStatusRegionNotSupport]:()=>r.oc.t("ccweb_account_authorization_link_toast_fail",{},"Couldn\u2019t link"),[o.Tv.AuthorizationStatusBindAccountLimit]:()=>r.oc.t("cc4b_link_account_error_toast",{},"You've reached the limit of 3 social media accounts linked to your CapCut Commerce Pro account. Unlink one to add another.\n"),[o.Tv.AuthorizationStatusBindAccountExist]:()=>r.oc.t("cc4b_link_account_error2_toast",{},"Couldn't link. This social media account is linked to another CapCut Commerce Pro account.")};i.NS.TikTok,i.NS.YouTube,i.NS.FacebookPage,i.NS.Instagram,i.NS.TikTokShopAffiliate,i.NS.TikTokShopSeller,i.NS.Shopify,i.NS.GoogleDrive,i.NS.Dropbox},986621:function(e,t,n){"use strict";n.d(t,{x:function(){return r.x}});var r=n(198037);n(320330)},246685:function(e,t,n){"use strict";n.d(t,{I:function(){return o}});var r=n(218571),i=n(85337),o=()=>{var[e,t]=(0,r.useState)(i.h.SELECT_EXPORT_ENTRY),[n,o]=(0,r.useState)("");return{currStep:e,channelId:n,isInSelectEntry:e===i.h.SELECT_EXPORT_ENTRY,isInExportConfig:e===i.h.SET_EXPORT_CONFIG,navToNextStep:e=>{o(e),t(i.h.SET_EXPORT_CONFIG)},navToPrevStep:()=>{t(i.h.SELECT_EXPORT_ENTRY)}}}},93298:function(e,t,n){"use strict";n.d(t,{e:function(){return i}});var r=n(123951),i={missMaterials:{status:"fail",errorCode:"CUSTOM_SAVE_TIMEOUT",errorTitle:r.ZP.t("web_export_toast_material_miss",{},"Media lost"),errorMessage:r.ZP.t("web_export_toast_video_effect_miss",{placeholder0:""},"The track contains media that wasn\u2019t uploaded. If you continue to export, your video will be incomplete.")}}},192894:function(e,t,n){"use strict";n.d(t,{Bv:function(){return s.Bv},P0:function(){return a.P0},X2:function(){return s.X2},Y5:function(){return o.Y},_b:function(){return r._},cF:function(){return i.c},hY:function(){return s.hY},oY:function(){return s.oY}}),n(824769);var r=n(636771),i=n(569352);n(483694);var o=n(910723);n(771268);var a=n(761575),s=n(562190)},186148:function(e,t,n){"use strict";n.d(t,{i:function(){return u}});var r=n(461228),i=n(789786),o=n(5313),a=n(818351),s=n(807542),c=n(254845);class u{getHashTag(e,t){var n=this;return(0,r._)(function*(){n._mutex.tryLock()||(n._mutex=new a.L,n._mutex.tryLock());var{authType:r,accountId:i}=t,o=n._mutex;(0,c.z)(()=>{n.observableData.collections=[],n.observableData.formattedCollections=[],n.observableData.isLoading=!0,n.observableData.isLoadingFailure=!1});var s=yield n._publishHashTagDataService.getRecommendPublishHashTags({platformType:r,platformUserId:i,keyword:e});o===n._mutex&&(s.ok?(0,c.z)(()=>{n.observableData.isLoading=!1,n.observableData.collections=s.value.hashTags,n.observableData.formattedCollections=s.value.hashTags.map(e=>({name:e.name,viewCount:function(e){for(var t=["","K","M","B","T"],n=0;e>=1e3&&n<t.length-1;)e/=1e3,n++;return Math.round(10*e)/10+t[n]}(e.viewCount||0)}))}):(0,c.z)(()=>{n.observableData.isLoading=!1,n.observableData.isLoadingFailure=!0}),o.unLock())})()}clear(){(0,c.z)(()=>{this.observableData.collections=[],this.observableData.formattedCollections=[],this.observableData.isLoading=!1,this.observableData.isLoadingFailure=!1})}constructor(e,t){this._businessAuthorizationService=e,this._publishHashTagDataService=t,this.observableData=(0,c.LO)({collections:[],formattedCollections:[],isLoading:!1,isLoadingFailure:!1}),this._mutex=new a.L}}u=(0,i.gn)([(0,i.fM)(0,o._),(0,i.fM)(1,s.d),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[void 0===o._?Object:o._,void 0===s.d?Object:s.d])],u)},128070:function(e,t,n){"use strict";n.d(t,{h:function(){return a}});var r=n(722169),i=n(289005);class o{getEventParams(){return(0,r.mapKeys)(this._params,(e,t)=>(0,r.snakeCase)(t))}constructor(e){this._params=e,this.eventName="schedule_post_page"}}function a(e,t){(0,i.K)(e,o,[t])}},71389:function(e,t,n){"use strict";var r=n(789786),i=n(461644),o=n(410447);(0,r.gn)([(0,r.fM)(0,i.t),(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[void 0===i.t?Object:i.t])],class{openProductSelectModal(e){this.productLinkController.openProductSelectModal(e)}openEditNameModal(e){this.productLinkController.openEditNameModal(e)}dispose(){}constructor(e){this._containerService=e,this.productLinkController=this._containerService.createInstance(o.Q)}})},363301:function(e,t,n){"use strict";n.d(t,{M:function(){return C}});var r=n(461228),i=n(69984),o=n(764112),a=n(772322);n(349601),n(459360);var s=n(781494),c=n(401725),u=n(982465),l=n(47525),d=n(466496),f=n(604641),p=n(218571),h=n(429188),v=n(565523),g=n(105789),y=n.n(g),m=n(123951),_=n(461644),b=n(247130),S=n(909599),T=n(861208),w=n(625592),E=n(744685),k=n(446591),C=(0,h.Pi)(e=>{var{editor:t,onReWrite:n,onDiscard:h,onConfirm:g}=e,C=navigator.platform.toLowerCase().includes("mac"),I=(0,v.G)(S.Y),M=(0,v.G)(_.t),{aiWriterManager:A}=I,{results:x,current:O,loading:R,isLike:L,isDislike:D,undoStack:P,redoStack:N}=A,B=(0,p.useMemo)(()=>x[O],[x,O]),U=(0,p.useMemo)(()=>[{key:"web_smart_tools_text_fit_topic",value:"fit_my_topic"},{key:"web_smart_tools_text_accurate_expression",value:"accurate_expression"},{key:"web_smart_tools_text_clear_logic",value:"clear_logic"},{key:"web_smart_tools_text_fluent",value:"fluent_language_and_smooth_text"}],[]),j=(0,p.useMemo)(()=>[{key:"web_smart_tools_text_no_related",value:"not_related_to_my_topic"},{key:"web_smart_tools_text_faw_logic",value:"flawed_logic"},{key:"web_smart_tools_text_wrong_information",value:"wrong_information"},{key:"web_smart_tools_text_unprofessional",value:"unprofessional_content"}],[]);function F(e){(0,T.G)(M,(0,o._)((0,i._)({},e),{aiWriterResultBarType:A.aiWriterResultBarType,number:O+1,scriptId:B.scriptId}))}function W(e){return G.apply(this,arguments)}function G(){return(G=(0,r._)(function*(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!(arguments.length>2)||void 0===arguments[2]||arguments[2],i=A.current+e;!(i<0)&&(t||!(i>=A.results.length-1))&&(!t||!(i>=A.results.length-1)||(yield A.handleLoadMore()))&&(A.setCurrent(i),n(A.results[A.current].text),r&&F({action:"retry"}))})).apply(this,arguments)}function H(){A.saveAPartialTrackData(),g()}function z(e){L?(A.setLike(!1),F({action:"unlike"})):(A.setLike(!0),A.setDislike(!1),F({action:"like",likeReason:e}))}function K(e){D?(A.setDislike(!1),F({action:"remove_dislike"})):(A.setLike(!1),A.setDislike(!0),F({action:"dislike",dislikeReason:e}))}var Z=(0,f.default)(void 0,()=>{F({action:"close"}),H()});return((0,d.default)("left",()=>{W(-1,!1,!1),F({action:"previous"})}),(0,d.default)("right",()=>{W(1,!1,!1),F({action:"next"})}),(0,d.default)(C?"meta.z":"ctrl.z",()=>{if(0!==P.length){var e=P.pop();A.redoStack.push(A.current),A.setCurrent(e,!0),n(A.results[A.current].text)}},{exact:!0}),(0,d.default)(C?"meta.shift.z":"ctrl.shift.z",()=>{if(0!==N.length){var e=N.pop();A.setCurrent(e,!0),n(A.results[A.current].text)}},{exact:!0}),(0,l.default)(()=>{t.setEditable(!1),F({action:"show"})}),(0,u.default)(()=>{t.setEditable(!0),A.destroy()}),R)?null:(0,a.jsxs)("div",{ref:Z,className:k.Z.tool_bar,children:[(0,a.jsxs)("div",{className:y()(k.Z.rewrite),onClick:()=>{W(1,!0)},children:[(0,a.jsx)(E.r,{className:k.Z.rewrite_text}),(0,a.jsx)("span",{className:k.Z.rewrite_text,children:m.ZP.t("web_ai_writer_btn_see_another_text",{},"See another")})]}),(0,a.jsx)("div",{className:k.Z.divider}),(0,a.jsxs)("div",{className:y()(k.Z.actions),children:[(0,a.jsx)(w.m,{isActive:L,className:y()(k.Z.like_btn,k.Z.button),dropListConfig:U,onLike:z,toolTipPosition:"top",dropListPosition:"top",onRemoveLike:()=>z("")}),(0,a.jsx)(w.B,{isActive:D,className:y()(k.Z.dislike_btn,k.Z.button),dropListConfig:j,toolTipPosition:"top",dropListPosition:"top",onDislike:K,onClickReport:e=>{F({action:"dislike",dislikeReason:e})},onRemoveDislike:()=>K(""),reporterParams:{data:{type:"text",gen_text:B.text},onOk:()=>{setTimeout((0,r._)(function*(){var e=m.ZP.t("web_s2v_report_title_report_submitted",{},"Thanks for reporting");if(1===x.length){h(),s.Z.success(e);return}if(O>=x.length-1&&!(yield A.handleLoadMore())){var t,r,i=A.current;A.setCurrent(i-1),A.deleteSingleScript(i),n(null===(r=A.results[O])||void 0===r?void 0:r.text),s.Z.success(e);return}A.deleteSingleScript(O),n(null===(t=A.results[O])||void 0===t?void 0:t.text),s.Z.success(e)}),0)},reportParams:{current_page:"smart_tool_page",tool_type:"text_to_video",aigc_content_id:B.scriptId}}})]}),(0,a.jsx)("div",{className:k.Z.divider}),(0,a.jsxs)("div",{className:k.Z.button_group,children:[(0,a.jsx)(c.Z,{content:m.ZP.t("web_smart_tools_button_delete_script",{},"Delete"),children:(0,a.jsx)("div",{className:k.Z.button,onClick:()=>{h(),F({action:"delete"})},children:(0,a.jsx)(b.x8P,{className:k.Z.button_icon})})}),(0,a.jsx)(c.Z,{content:m.ZP.t("web_ai_writer_btn",{},"Use"),children:(0,a.jsx)("div",{className:k.Z.button,onClick:()=>{H(),F({action:"adopt"})},children:(0,a.jsx)(b.JrY,{className:k.Z.button_icon})})})]})]})})},79802:function(e,t,n){"use strict";function r(e,t){return"smart-writer-form-field-template_".concat(e,"-field_").concat(t)}n.d(t,{s:function(){return r}})},229678:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(772322),i=n(247130),o=n(105789),a=n.n(o),s=n(429188),c=n(233788);let u=(0,s.Pi)(e=>{var{player:t,playerState:n,onEvent:o}=e,s=t&&n.buffering,u=!s&&t&&n.everCanPlay&&n.paused;return(0,r.jsx)("div",{className:a()(c.Z["player-status"],{[c.Z["not-allowed"]]:s}),onClick:()=>{t&&!s&&((null==t?void 0:t.paused)?(null==t||t.play(),null==o||o({type:"play"})):(null==t||t.pause(),null==o||o({type:"pause"})))},children:(0,r.jsx)("div",{className:a()(c.Z["play-button"],{[c.Z.show]:u}),children:(0,r.jsx)(i.eSO,{})})})})},938103:function(e,t,n){"use strict";n.d(t,{K:function(){return a}});var r=n(464830),i=n(778544),o=n(218571),a=()=>{var[e,t]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{r._.isAllow({scene:i.S.long2Short}).then(e=>{t(e)})},[]),e}},754764:function(e,t,n){"use strict";n.d(t,{v:()=>v});let r=n("69984"),i=n("764112"),o=n("574451"),a=n("772322");n("529114"),n("387346"),n("459360");let s=n("835628"),c=n("595051"),u=n("221489"),l=n("401725"),d=n("218571"),f=n("105789"),p=n.n(f),h={"aigc-btn":"aigc-btn-G67KRd","aigc-btn-logo-wrapper":"aigc-btn-logo-wrapper-VyjW_q","aigc-btn-logo":"aigc-btn-logo-I5rmDC","aigc-btn-icon":"aigc-btn-icon-W4Fk_4","popover-visible":"popover-visible-ta0XrZ"};var v=e=>{var{className:t,style:n,disabled:f=!1,loading:v,toolTip:g,children:y,onClick:m,hideIcon:_,dropDownProps:b={droplist:null}}=e,S=(0,o._)(e,["className","style","disabled","loading","toolTip","children","onClick","hideIcon","dropDownProps"]),T=f&&!(null==g?void 0:g.disabledContent),[w,E]=(0,s.default)(),{popupVisible:k,onVisibleChange:C}=b,[I,M]=(0,d.useState)(k||!1);return(0,d.useEffect)(()=>{M(k||!1)},[k]),(0,a.jsx)(u.Z,(0,i._)((0,r._)({popupVisible:I,onVisibleChange:e=>{M(e),null==C||C(e)},disabled:f},b),{children:(0,a.jsx)(l.Z,{content:f&&(null==g?void 0:g.disabledContent)?null==g?void 0:g.disabledContent:null==g?void 0:g.content,popupVisible:E&&(!f&&!!(null==g?void 0:g.content)||f&&!!(null==g?void 0:g.disabledContent)),disabled:T,children:(0,a.jsx)("div",{children:(0,a.jsxs)(c.Z,(0,i._)((0,r._)({},S),{ref:w,type:"secondary",className:p()(h["aigc-btn"],t),disabled:f,loading:v,style:n,onClick:function(){f||null==m||m()},"data-disabled":f?1:0,children:[!_&&(0,a.jsxs)("div",{className:h["aigc-btn-logo-wrapper"],children:[(0,a.jsx)("img",{style:{display:E&&!f?"none":"block"},src:"https://lf16-web-buz.capcut.com/obj/capcut-web-buz-us/common/images/aigc-btn-logo-static.png",height:15,width:15,className:h["aigc-btn-logo"]}),(0,a.jsx)("img",{src:"https://lf16-web-buz.capcut.com/obj/capcut-web-buz-us/common/images/aigc-logo.webp",style:{display:E&&!f?"block":"none"},height:15,width:15,className:h["aigc-btn-logo"]})]}),y,(null==b?void 0:b.arrowIcon)&&(0,a.jsx)("div",{className:p()(h["aigc-btn-icon"],{[h["popover-visible"]]:I}),children:null==b?void 0:b.arrowIcon})]}))})})}))}},415433:function(e,t,n){"use strict";n.d(t,{L:function(){return M}});var r=n(69984),i=n(772322);n(387346);var o=n(221489),a=n(218571),s=n(659179),c=n(105789),u=n.n(c),l=n(455828),d=n(658384),f=n(813727),p=n(414203),h=n(742945),v=n(335335),g=n(743978),y=n(816048),m=n(960332),_=n(187157),b=n(794757),S=n(236056),T=n(917761),w=n(380324),E=n(75367),k=n(565523),C=n(556625),I=n(976699);function M(e){var t,n,c,M,{smartToolType:A,theme:x,isShowU2V:O,type:R="autocut",onClick:L,handleToolEntranceShow:D,isShowLongToShort:P,isShowAvTranslator:N,getAbTestConfig:B,userInfo:U}=e,{i18n:j}=(0,f.$)(),F=(0,l.TP)(),W=(0,k.G)(C.K),G=W.getTools(C.o.Recommend),H={recommend:G.length>0?{icon:(0,i.jsx)(y.r,{}),title:j.t("web_magicTools_button_recommended",{},"Recommend"),classnames:E.Z.recommend,tools:(O||(G=G.filter(e=>e!==d.lQ.URLToVideo)),P||(G=G.filter(e=>e!==d.lQ.LongToShort)),G)}:null,video:{icon:(0,i.jsx)(m.r,{}),title:j.t("web_magicTools_button_video",{},"Video"),classnames:E.Z.video,tools:(t=W.getTools(C.o.Video),(0,v.a)(j.language)||(t=t.filter(e=>e!==d.lQ.TextToVideo)),O||(t=t.filter(e=>e!==d.lQ.URLToVideo)),P||(t=t.filter(e=>e!==d.lQ.LongToShort&&e!==d.lQ.Autocut)),t)},image:{icon:(0,i.jsx)(_.r,{}),title:j.t("web_magicTools_button_image",{},"Image"),classnames:E.Z.image,tools:(n=W.getTools(C.o.Image),P||(n=n.filter(e=>e!==d.lQ.ImageStyleAvatar&&e!==d.lQ.ImageStyleConversion&&e!==d.lQ.ImageRestoration)),n)},voice:{icon:(0,i.jsx)(b.r,{}),title:j.t("web_tools_audio",{},"Audio"),classnames:E.Z.voice,tools:(c=W.getTools(C.o.Voice),N||(c=c.filter(e=>e!==d.lQ.AudioVideoTranslator)),c)}},z=(0,I.Z)(H,e=>!!e),K=Object.keys(z)[0],[Z,V]=(0,a.useState)(K),[X,Y]=(0,a.useState)(!1),q=(e,t)=>{X&&(null==D||D(e,t))};return(0,i.jsx)(o.Z,{trigger:"hover",onVisibleChange:e=>{Y(e),V(K)},droplist:(0,i.jsxs)("div",{className:E.Z["st-header__tools-dropdown"],children:[(0,i.jsx)("div",{className:E.Z["st-header__tools-dropdown-left"],children:Object.entries(z).map(e=>{var[t,n]=e;return n?(0,i.jsxs)("div",{className:u()(E.Z["st-header__category-item"],{[E.Z.highlight]:Z===t}),onMouseEnter:()=>V(t),children:[(0,i.jsx)("div",{className:u()(E.Z["st-header__category-item-icon"],t,n.classnames),children:n.icon}),(0,i.jsx)("div",{className:E.Z["st-header__category-item-text"],children:n.title}),(0,i.jsx)("div",{className:E.Z["st-header__category-item-expand"],children:(0,i.jsx)(s.Gjh,{})})]},t):null})}),(0,i.jsx)("div",{className:E.Z["st-header__tools-dropdown-right"],children:null===(M=H[Z])||void 0===M?void 0:M.tools.map(e=>{var t="autocut"===R?S.BQ:S.M7,n="autocut"===R?S.kN:S.P6,o=x===T.h.Dark?n[e]:t[e];return(0,i.jsx)(w.C5,{onEnter:()=>{null==q||q(e,Z)},children:(0,i.jsxs)("div",{onClick:()=>{null==L||L(e,Z);var t="",n={enter_from:"page_header",from_page:"smart_tool_page",from_tool_type:d.mb[(0,p.j)(A)]},i=l.ND[e];t=void 0!==i?(0,h.G)(i,(0,r._)({activeSmartTool:e,__tool_type:d.QX[e],scenario:"custom",__from_page:"smart_tool_page"},n)):(0,h.G)(l.bZ[e],n),window.open(t,"_blank","noopener")},className:E.Z["st-header__tool-item"],children:[(0,i.jsx)("div",{className:u()({[E.Z["st-header__tool-icon"]]:"autocut"===R,[E.Z["st-header__tool-color-icon"]]:"smart-toolbox"===R}),children:o}),(0,i.jsx)("div",{className:E.Z["st-header__tool-text"],children:F[e]})]},e)},e)})})]}),children:(0,i.jsxs)("div",{className:u()(E.Z["st-header__all-tools"],{[E.Z.highlighted]:X}),children:[(0,i.jsx)("div",{className:E.Z["st-header__all-tools-icon"],children:(0,i.jsx)(g.r,{})}),j.t("web_magicTools_button_all_tools",{},"All tools")]})})}},113433:function(e,t,n){"use strict";n.d(t,{N:()=>o});let r=n("772322"),i={bone:"bone-mj65SL",scanAnimation:"scanAnimation-PKGWyt"};var o=e=>{var{width:t,height:n,radius:o,border:a}=e;return(0,r.jsx)("div",{className:i.bone,style:{width:"".concat(t,"px"),height:"".concat(n,"px"),borderRadius:"".concat(o,"px"),border:a},children:(0,r.jsx)("div",{className:i.glow})})}},849416:function(e,t,n){"use strict";n.d(t,{P:function(){return C}});var r=n(461228),i=n(69984),o=n(764112),a=n(789786),s=n(209640),c=n(745286),u=n(619398),l=n(461644),d=n(111954),f=n(248176),p=n(776938),h=n(369271),v=n(254845),g=n(548946),y=n(980014),m=n(963473),_=n(147362),b=n(175162),S=n(489941),T=n(781440),w=n(731779),E=n(690302),k=n(123951);class C{get materials(){var{currentWorkspaceId:e,materialsMap:t}=this._observableData;return t.get(null!=e?e:"")}get globalMaterials(){var e=[];return this._observableData.workspaceList.forEach(t=>{var n;e=[...e,...(null===(n=this._observableData.materialsMap.get(t.workspace_id))||void 0===n?void 0:n.materials)||[]]}),e}get currentWorkspaceId(){return this._observableData.currentWorkspaceId}get currentWorkspaceName(){var e,t;return null===(t=this.workspaceList)||void 0===t?void 0:null===(e=t.find(e=>e.workspace_id===this.currentWorkspaceId))||void 0===e?void 0:e.name}get workspaceList(){var e;return(null===(e=this._observableData)||void 0===e?void 0:e.workspaceList)||[]}get spaceDirectoryAssetId(){return this._observableData.currentSpaceDirectoryAssetId}get directoryPath(){return this._observableData.directoryPath}get toolType(){var e;return null===(e=this._options)||void 0===e?void 0:e.toolType}get spaceLoadingStatus(){return this._observableData.spaceLoadingStatus}setSpaceLoadingStatus(e){this._observableData.spaceLoadingStatus=e}setSpaceDirectoryMap(e,t){this._observableData.spaceDirectoryMap.set(e,(0,i._)({},t))}getSpaceDirectoryFiles(e){return this._observableData.spaceDirectoryMap.get(e)}setSpaceDirectoryAssetId(e){var{assetId:t,name:n}=e;this._observableData.currentSpaceDirectoryAssetId=t;var r=this._observableData.directoryPath.findIndex(e=>e.value===t);if(-1===r)this._observableData.directoryPath.push({value:t,label:n,type:"folder"}),this.setDirectoryPath([...this._observableData.directoryPath]);else{var i=[...this._observableData.directoryPath.slice(0,r+1)];i[r]={value:t,label:n,type:"folder"},this.setDirectoryPath([...i])}this.getCurrentSpaceDirectoryFiles()}setDirectoryPath(e){this._observableData.directoryPath=e}get cloudDirectoryPath(){return this._observableData.directoryPath}get currentSpaceDirectoryFiles(){var e;return null===(e=this._observableData.spaceDirectoryMap.get(this._observableData.currentSpaceDirectoryAssetId))||void 0===e?void 0:e.files}getCurrentSpaceDirectoryFiles(){var e=this;return(0,r._)(function*(){var t=e.currentWorkspaceId;if(t)try{e.setSpaceLoadingStatus(s.q.Loading);var n,i=e.spaceDirectoryAssetId,o=(n=(0,r._)(function*(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=yield e._smartToolsUniversalDataService.getFileList({parent_id:i,workspace_id:t,asset_types:[u.pS.Folder,u.pS.Material],is_cross_folder:!1,count:20,offset:n});if(!r.ok)return r;var a,{has_more:c,assets:l,total:d}=r.value.data,f=(0,E.u)(l),p=(null===(a=e._observableData.spaceDirectoryMap.get(i))||void 0===a?void 0:a.files)||[],h=[...p,...f.filter(e=>!p.find(t=>t.assetId===e.assetId))].reduce((e,t)=>("folder"===t.type?e.push(t):-1===e.findIndex(e=>e.md5===t.md5)&&e.push(t),e),[]);e.setSpaceDirectoryFiles({assetId:i,files:[...h]}),c?o(n+20):e.setSpaceLoadingStatus(s.q.Success)}),function(){return n.apply(this,arguments)});yield o()}catch(t){e.setSpaceLoadingStatus(s.q.Error)}})()}setSpaceDirectoryFiles(e){var{assetId:t,files:n}=e;this._observableData.spaceDirectoryMap.set(t,(0,o._)((0,i._)({},this._observableData.spaceDirectoryMap.get(t)),{files:n||[]}))}_listenWorkspaceListChange(){var e=()=>{(0,v.z)(()=>{if(this._observableData.workspaceList=this._workspaceService.workspaceList,this._observableData.workspaceList.length){var e,t,n,r=(null===(e=null!==(n=this._capcutAccountService.userProfile.defaultSpaceInfo)&&void 0!==n?n:this._capcutAccountService.userProfile.spaceInfo)||void 0===e?void 0:e.workspaceId)||(null===(t=this._observableData.workspaceList[0])||void 0===t?void 0:t.workspace_id);this.setCurrentWorkspaceId(r),this.setSpaceDirectoryAssetId({assetId:"-1",name:this.currentWorkspaceName||k.ZP.t("web_my_space",{},"My space")})}})};this._workspaceService.available&&e(),this._workspaceService.initialize((0,g.fC)()).then(()=>{var t,n=this._capcutAccountService.userProfile,r=null!==(t=n.defaultSpaceInfo)&&void 0!==t?t:n.spaceInfo;try{c.m7.setOptions({is_boe:!1,user_dc_name:n.idc,dc_name:null==r?void 0:r.spaceIdc,space:null==r?void 0:r.spaceId,netconf:(null==r?void 0:r.spaceHost)?{base:null==r?void 0:r.spaceHost,media:null==r?void 0:r.spaceResHost}:void 0,reqDomain:null==n?void 0:n.reqDomain,user_id:n.uid,level:"error",disable_start_sync_loop:!0},!0)}catch(e){}e()})}setCurrentWorkspaceId(e){var t=this;return(0,r._)(function*(){var n=t._observableData.workspaceList.find(t=>t.workspace_id===e);(0,y.Y2)(n,"unexpected selected"),(0,v.z)(()=>{t._observableData.currentWorkspaceId=e});try{(0,v.z)(()=>{(s=t._observableData.materialsMap.get(e))||(s={materials:[],loading:!0},t._observableData.materialsMap.set(e,s)),s.loading=!0});var a,s,c=yield t._userMaterialsService.getEvercloudInstance(e),u=(a=(0,r._)(function*(){try{yield c.forceSyncPullUpdates();var e=yield c.getAssets({});if(!e)return(0,m.wf)(-1,"not found target assets");return(0,m.oW)(e.map(e=>(0,S.V)(e)))}catch(e){return(0,m.wf)(-1,null==e?void 0:e.message)}}),function(){return a.apply(this,arguments)}),l=yield u();if(!l.ok)return;var{value:d}=l;(0,v.z)(()=>{s&&t._observableData.materialsMap.set(e,{materials:null!=d?d:[],loading:!1})})}catch(e){}finally{(0,v.z)(()=>{var n=t._observableData.materialsMap.get(e);n&&t._observableData.materialsMap.set(e,(0,o._)((0,i._)({},n),{loading:!1}))})}})()}buildUserMaterialLifecycleAndAddBind(e,t){return(0,h.Q)(e,{fromWorkspaceId:t,toWorkspaceId:void 0,payinPayoutHelper:this._smartToolsPayinPayoutHelper,containerService:this._containerService})}uploadFile(e,t){var n=this;return(0,r._)(function*(){var r=yield n._uploadMaterialFromLocalMixinManager.upload((0,i._)({files:[e],autoUpload:!0},t));return null==r?void 0:r[0]})()}retryUploadMaterial(e){if(e.canRetryPrepare()){e.prepare();return}if(e.canRetryUpload()){e.upload(!0);return}if(e.canRetryTranscode()){e.transcode();return}}getOrCreateThirdpartyHelper(e){return this._uploadMaterialThirdpartyMixinManager.getOrCreateThirdpartyHelper(e)}cancelUploadMaterial(e){e.canCancelUpload()?e.cancelUpload():e.cancelSync2UserMaterial()}constructor(e,t,n,r,i,o){var a,c;this._options=e,this._containerService=t,this._workspaceService=n,this._userMaterialsService=r,this._capcutAccountService=i,this._smartToolsUniversalDataService=o,this._observableData=(0,v.LO)({currentWorkspaceId:void 0,workspaceList:[],materialsMap:new Map,spaceDirectoryMap:new Map,currentSpaceDirectoryAssetId:"-1",directoryPath:[{value:"-1",label:this.currentWorkspaceName||k.ZP.t("web_my_space",{},"My space"),type:"folder"}],spaceLoadingStatus:s.q.Empty}),this._uploadMaterialFromLocalMixinManager=this._containerService.createInstance(_.C,e),this._uploadMaterialThirdpartyMixinManager=t.createInstance(b.L,e),this._smartToolsPayinPayoutHelper=this._containerService.createInstance(w.l,{toolType:null===(a=this._options)||void 0===a?void 0:a.toolType,currentPage:null===(c=this._options)||void 0===c?void 0:c.currentPage}),this._listenWorkspaceListChange(),(0,v.rC)(this,{_observableData:v.LO,materials:v.Fl,currentWorkspaceId:v.Fl,workspaceList:v.Fl,setCurrentWorkspaceId:v.aD})}}C=(0,a.gn)([(0,a.fM)(1,l.t),(0,a.fM)(2,d.W),(0,a.fM)(3,T.b),(0,a.fM)(4,f.Gw),(0,a.fM)(5,p.uJ),(0,a.w6)("design:type",Function),(0,a.w6)("design:paramtypes",["undefined"==typeof IUploadMaterialLifeCycle?Object:IUploadMaterialLifeCycle,void 0===l.t?Object:l.t,void 0===d.W?Object:d.W,void 0===T.b?Object:T.b,void 0===f.Gw?Object:f.Gw,void 0===p.uJ?Object:p.uJ])],C)},203605:function(e,t,n){"use strict";n.d(t,{Q:function(){return o}});var r=n(526599);class i{getEventParams(){return{script_category:this._params.scriptCategory,prompt_text_cnt:this._params.promptTextCnt,prompt_text_detail:this._params.promptTextDetail,prompt_source:this._params.promptSource,product:this._params.product,selling_points_text_cnt:this._params.sellingPointsTextCnt,selling_points_text_detail:this._params.sellingPointsTextDetail,selling_points_num:this._params.sellingPointsNum,smart_script_id:this._params.smartScriptId,script_request_id:this._params.scriptRequestId,ai_writer_template_name:this._params.aiWriterTemplateName,aiwriter_popup_version:this._params.aiwriterPopupVersion}}constructor(e){this._params=e,this.eventName="text_to_video_prompt_submit"}}function o(e,t){(0,r.K)(e,i,[t])}},619598:function(e,t,n){"use strict";n.d(t,{Uu:()=>y});let r=n("978232"),i=n("399501"),o=n("64367"),a=n("69984"),s=n("764112"),c=n("216518"),u=n("577725"),l=n("640595"),d=n("195894"),f=n("113022"),p=n("852711");var h=e=>{var{editor:t,firstInsetText:n,triggerFrom:r}=e,i=t.selection.getSelection();if(i.isCollapsed()){var a=i.toPosition(),s=t.getContentState(),u=s.getZoneState(o.S),d=null==u?void 0:u.getLine(i.end.line),p=null==n?void 0:n.length,h=((null==d?void 0:d.hasLineMarker())?1:0)+p,v=i.start.offset===h,g=null==d?void 0:d.isEndOfLine(i.end.offset),y={insertText:n,sel:i,triggerFrom:r};if(v){var m=new l.I({zoneId:"0"}).retain(a.len+a.start).insertEnter().insertLineMarker().insert(" ",{[f.w]:JSON.stringify(y)});s.apply(m);return}if(g){var _=new l.I({zoneId:"0"}).retain(a.len+a.start).insertLineMarker().insert(" ",{[f.w]:JSON.stringify(y)});s.apply(_);return}var b=n.length,S=a.len+a.start-b;y.sel=new c.e({editor:t,start:{offset:1,zoneId:"0",line:i.end.line+1},end:{offset:1,zoneId:"0",line:i.end.line+1}});var T=new l.I({zoneId:"0"}).retain(S).insertEnter().retain(b).insertLineMarker().insert(" ",{[f.w]:JSON.stringify(y)});s.apply(T)}},v=e=>{var{editor:t,firstInsetText:n}=e;if(!(0,d.z)(t,f.w)){var r=(null==n?void 0:n.length)||0,i=t.selection.getSelection();if(i.isCollapsed()){var o=t.getContentState(),c=i.toPosition(),v=new l.I({zoneId:"0"});v.retain(c.start+c.len).insert(n,{[p.Ip]:"true"}),o.apply(v);var g=new u.L({start:c.start+r,len:0,zoneId:"0",editor:t});t.selection.setSelection(g),h((0,s._)((0,a._)({},e),{triggerFrom:"button"}))}}},g=e=>{var{editor:t,firstInsetText:n}=e,r=t.selection.getSelection(),i=r.toPosition(),o=i.start+i.len,c=new u.L({start:o-n.length,len:n.length,editor:t,zoneId:"0"});r.isCollapsed()&&(t.getContentState().setAttributes(c.toRange(),{[p.Ip]:"true"}),h((0,s._)((0,a._)({},e),{triggerFrom:"mark"})))};class y extends r.S{get contentState(){return this.editor.getContentState()}get zoneState(){return this.contentState.getZoneState(o.S)}bindEvent(){this.editor.on(i.r.CONTENT_CHANGE,this.onContentChange)}unbindEvent(){this.editor.off(i.r.CONTENT_CHANGE,this.onContentChange)}destroy(){this.unbindEvent()}constructor(e,t){super(),this.editor=e,this.options=t,this.name="inlineTrigger",this.triggerConfig=[{input:p.At,validators:[e=>""===e||/\s+$/.test(e)],action:g,handleTriggerCommand:p.CO,handleTriggerAction:v}],this.regisHandleTrigger=()=>{var e,t=function(t){t.handleTriggerCommand&&t.handleTriggerAction&&e.editor.registerCommand(t.handleTriggerCommand,()=>{var n,r,i;null===(r=e.options)||void 0===r||null===(n=r.beforeTrigger)||void 0===n||n.call(r,e.editor),null===(i=t.handleTriggerAction)||void 0===i||i.call(t,{editor:e.editor,insertText:"",firstInsetText:"/"})})};for(var n of this.triggerConfig)e=this,t(n)},this.onContentChange=e=>{if("flushInput"===e.options.type||"composition"===e.options.type){var t=Object.keys(e.changes)[0];if(t){var n=e.deltaSet.get(t),r="";for(var i of n.ops)i.insert&&(r+=i.insert);if(r){var o,a,s,c=this.editor.selection.getSelection().toPosition(),u=c.start+c.len,l=r.length,d=r.slice(0,1);for(var f of this.triggerConfig)f.input&&(d!==f.input||(null===(o=this.zoneState)||void 0===o?void 0:o.getModelText().slice(0,u-l).endsWith(f.input)))||(null===(s=this.options)||void 0===s||null===(a=s.beforeTrigger)||void 0===a||a.call(s,this.editor),f.action({editor:this.editor,insertText:r,firstInsetText:d}))}}}},this.bindEvent(),this.regisHandleTrigger()}}y.KEY="inlineTrigger"},843970:function(e,t,n){"use strict";n.d(t,{P:function(){return s}});var r=n(978232),i=n(399501),o=n(195291),a=n(658887);class s extends r.S{editorDidMount(){this._containerDom=document.createElement("div"),this._containerDom.classList.add(a.Z.anchorContainer),(0,o.render)(this._options.content,this._containerDom),this._options.containerAnchor.appendChild(this._containerDom)}destroy(){this._editor.off(i.r.SELECTION_CHANGE,this._updateOffset),this._editor.off(i.r.RECT_CHANGE,this._updateOffset)}constructor(e,t){super(),this._editor=e,this._options=t,this.name="LineAnchor",this._updateOffset=()=>{if(this._containerDom){var e=this._editor.selection.getSelection(),t=this._editor.rectModule.getCaretRect(e.isBackward?e.start:e.end);this._containerDom.style.top="".concat(t.top+t.height/2,"px")}},this._editor.on(i.r.SELECTION_CHANGE,this._updateOffset),this._editor.on(i.r.RECT_CHANGE,this._updateOffset)}}s.KEY="LineAnchor"},332132:function(e,t,n){"use strict";n.d(t,{v:function(){return h}});var r=n(461228),i=n(789786),o=n(963473),a=n(37011),s=n(537584),c=n(35681),u=n(330810),l=n(575849),d=n(853698),f=n(872625),p=n(499982);class h extends s.r{connect(e,t){return this._store.has(e)?this._connect(e,t):Promise.resolve((0,c.rM)("db not found."))}invokeTransaction(e,t,n,i,a){var s,u=this;return new Promise((s=(0,r._)(function*(r){try{var s=(yield u._databasePool.getDatabase(e)).transaction(t,i,a),l=new d.Y(s,t);l.onError(e=>{r((0,c.j9)(e))}),l.onComplete(e=>{r((0,o.oW)(e))}),n(l),l.commit()}catch(e){r((0,c.j9)(e))}}),function(e){return s.apply(this,arguments)}))}readyCleanup(){this._cleanupMgr.mark()}_connect(e,t){var n,i=this;return new Promise((n=(0,r._)(function*(n){try{var r=yield i._databasePool.getDatabase(e),a=new u.T(r,t,i._databasePool,i._cleanupMgr);n((0,o.oW)(a))}catch(e){n((0,c.rM)(e))}}),function(e){return n.apply(this,arguments)}))}constructor(e,t){super(e),this._instantiation=t,this._databasePool=new f.T(this._store),this._cleanupMgr=this._instantiation.createInstance(l._,this._store,this._databasePool)}}(0,i.gn)([p.r,(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[String,Array,Function,"undefined"==typeof IDBTransactionMode?Object:IDBTransactionMode,"undefined"==typeof IDBTransactionOptions?Object:IDBTransactionOptions]),(0,i.w6)("design:returntype","undefined"==typeof Promise?Object:Promise)],h.prototype,"invokeTransaction",null),h=(0,i.gn)([(0,i.fM)(1,a.T),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[Array,void 0===a.T?Object:a.T])],h)},683657:function(e,t,n){"use strict";n.d(t,{e:function(){return o}});var r=n(806797),i=n(980014);class o extends r.aU{get abTestManager(){return(0,i.ss)("not implemented")}get resourcePanel(){return(0,i.ss)("not implemented")}get sideMenuShowBrandTypes(){return(0,i.ss)("not implemented")}get disableUserBrand(){return(0,i.ss)("not implemented")}get isSupportMultiWorkSpace(){return(0,i.ss)("not implemented")}get editorCategory(){return(0,i.ss)("not implemented")}get disableRequestCache(){return(0,i.ss)("not implemented")}get disableSidebarResourcePreload(){return(0,i.ss)("not implemented")}}},816752:function(e,t,n){"use strict";n.d(t,{Xi:()=>b,_L:()=>k,TO:()=>T,Sv:()=>E,gA:()=>c,RD:()=>l,JA:()=>d});let r=n("69984"),i=n("764112"),o=n("513609"),a=n("862601");n("40240");var s=/^\S+?\.bytedance\.net$/.test(window.location.host),c=window.location.host.split(".")[0].includes("boe"),u=window.location.host.match(/^\S+?\.jianying\.com$/),l=!!u,d=/^\w+\.web\.bytedance\.net$/.test(window.location.host)||/^\S+?boe\.bytedance\.net$/.test(window.location.host)||/^\S?capcut-os\.bytedance\.net$/.test(window.location.host)||window.location.host.endsWith(".boe.".concat(o.ov,".app"))||window.location.host.includes("localhost")||"127.0.0.1"===window.location.hostname||/^[\d.]+$/.test(window.location.hostname),f="wss://sami-api-boe.".concat(o.Fd,".org"),p="https://sami-api-boe.".concat(o.Fd,".org"),h={sg1:"wss://sami-sg1.byteintlapi.com",maliva:"wss://sami-maliva.byteintlapi.com",boei18n:f},v={sg1:"https://sami-sg1.byteintlapi.com",maliva:"https://sami-maliva.byteintlapi.com",boei18n:p},g={web_domain:"https://capcut-os-boe.".concat(o.Y,".net"),tts_domain:f,sami_domain:p,frontier_domain:"wss://capcut-os-boe.".concat(o.Y,".net"),commerce_domain:""},y={web_domain:"https://capcut-web-va.".concat(o.Y,".net"),frontier_domain:"wss://frontier-va.".concat(o.Y,".net"),commerce_domain:"https://commerce-api-va.".concat(o.Y,".net"),tts_domain:h.maliva,sami_domain:v.maliva},m={web_domain:u?"https://".concat(u[0]):"https://edit-api-va.capcut.com",commerce_domain:"https://commerce-api-va.capcut.com",frontier_domain:"wss://frontier-va.capcut.com",tts_domain:h.maliva,sami_domain:v.maliva},_=".com",b=l?"https://lv-pc-api.ulikecam".concat(_):"https://editor-api.capcutapi".concat(_),S={code:"US",country_name:"",city:"",web_idc:"maliva",domain:s?y:m};function T(e,t){if(["sg1","maliva","boei18n"].includes(t)){var n=(0,i._)((0,r._)({},e),{tts_domain:h[t],sami_domain:v[t]});return(0,r._)({web_idc:t},n)}return null}c&&(S.domain=g);var w=new RegExp("capcut-web-.*\\.".concat(o.Y,"\\.net|edit-api-.*\\.capcut\\.com"));function E(e){return w.test(e)}var k=new a.v(function(){var e=window.__locationInfo;if(e){var t=e.web_idc;e.domain.tts_domain=h[t],e.domain.sami_domain=v[t]}else e=S;return(0,r._)({web_idc:e.web_idc,country_code:e.code},e.domain)}())},977e3:function(e,t,n){"use strict";var r,i,o,a,s,c,u,l,d,f,p,h,v,g,y,m;n.d(t,{C3:function(){return r},EE:function(){return s},Hw:function(){return o},Ll:function(){return c},Nb:function(){return l},PS:function(){return u},V6:function(){return a},n9:function(){return i}}),(d=r||(r={}))[d.MetaTypeNone=0]="MetaTypeNone",d[d.MetaTypeVideo=1]="MetaTypeVideo",d[d.MetaTypePhoto=2]="MetaTypePhoto",d[d.MetaTypeGif=3]="MetaTypeGif",d[d.MetaTypeMusic=4]="MetaTypeMusic",d[d.MetaTypeExtractMusic=5]="MetaTypeExtractMusic",d[d.MetaTypeSound=6]="MetaTypeSound",d[d.MetaTypeRecord=7]="MetaTypeRecord",d[d.MetaTypeImage=8]="MetaTypeImage",d[d.MetaTypeText=9]="MetaTypeText",d[d.MetaTypeSubtitle=10]="MetaTypeSubtitle",d[d.MetaTypeLyrics=11]="MetaTypeLyrics",d[d.MetaTypeSticker=12]="MetaTypeSticker",d[d.MetaTypeFilter=13]="MetaTypeFilter",d[d.MetaTypeLUT=14]="MetaTypeLUT",d[d.MetaTypeReshape=15]="MetaTypeReshape",d[d.MetaTypeBeauty=16]="MetaTypeBeauty",d[d.MetaTypeVideoEffect=17]="MetaTypeVideoEffect",d[d.MetaTypeBrightness=18]="MetaTypeBrightness",d[d.MetaTypeContrast=19]="MetaTypeContrast",d[d.MetaTypeSaturation=20]="MetaTypeSaturation",d[d.MetaTypeSharpen=21]="MetaTypeSharpen",d[d.MetaTypeHighlight=22]="MetaTypeHighlight",d[d.MetaTypeShadow=23]="MetaTypeShadow",d[d.MetaTypeTemperature=24]="MetaTypeTemperature",d[d.MetaTypeHue=25]="MetaTypeHue",d[d.MetaTypeFade=26]="MetaTypeFade",d[d.MetaTypeLightSensation=27]="MetaTypeLightSensation",d[d.MetaTypeVignetting=28]="MetaTypeVignetting",d[d.MetaTypeParticle=29]="MetaTypeParticle",d[d.MetaTypeSegCanvas=30]="MetaTypeSegCanvas",d[d.MetaTypeCanvasColor=31]="MetaTypeCanvasColor",d[d.MetaTypeCanvasImage=32]="MetaTypeCanvasImage",d[d.MetaTypeCanvasBlur=33]="MetaTypeCanvasBlur",d[d.MetaTypeTransition=34]="MetaTypeTransition",d[d.MetaTypeAudioEffect=35]="MetaTypeAudioEffect",d[d.MetaTypeAudioFade=36]="MetaTypeAudioFade",d[d.MetaTypeBeats=37]="MetaTypeBeats",d[d.MetaTypeTailLeader=38]="MetaTypeTailLeader",d[d.MetaTypeAnimation=39]="MetaTypeAnimation",d[d.MetaTypeVideoAnimation=40]="MetaTypeVideoAnimation",d[d.MetaTypeTextEffect=41]="MetaTypeTextEffect",d[d.MetaTypeTextShape=42]="MetaTypeTextShape",d[d.MetaTypeTextToAudio=43]="MetaTypeTextToAudio",d[d.MetaTypeVideoMix=44]="MetaTypeVideoMix",d[d.MetaTypeAdjust=45]="MetaTypeAdjust",d[d.MetaTypeVideoMask=46]="MetaTypeVideoMask",d[d.MetaTypeSpeed=47]="MetaTypeSpeed",d[d.MetaTypeChroma=48]="MetaTypeChroma",d[d.MetaTypeTextTemplate=49]="MetaTypeTextTemplate",d[d.MetaTypeVideoOriginalSound=50]="MetaTypeVideoOriginalSound",d[d.MetaTypeStretchLeg=51]="MetaTypeStretchLeg",d[d.MetaTypeRealtimeDenoise=52]="MetaTypeRealtimeDenoise",d[d.MetaTypeFigure=53]="MetaTypeFigure",d[d.MetaTypeFaceEffect=54]="MetaTypeFaceEffect",d[d.MetaTypeVideoTracking=55]="MetaTypeVideoTracking",d[d.MetaTypeHsl=56]="MetaTypeHsl",d[d.MetaTypeColorCurves=57]="MetaTypeColorCurves",d[d.MetaTypeAudioBalance=58]="MetaTypeAudioBalance",d[d.MetaTypeComposition=59]="MetaTypeComposition",d[d.MetaTypeCover=60]="MetaTypeCover",d[d.MetaTypeLeader=61]="MetaTypeLeader",d[d.MetaTypeTailer=62]="MetaTypeTailer",d[d.MetaTypePrimaryColorWheels=63]="MetaTypePrimaryColorWheels",d[d.MetaTypeLogColorWheels=64]="MetaTypeLogColorWheels",d[d.MetaTypeHandwriteImage=65]="MetaTypeHandwriteImage",d[d.MetaTypeHandwriteRes=66]="MetaTypeHandwriteRes",d[d.MetaTypeCombination=67]="MetaTypeCombination",d[d.MetaTypeManualDeformation=68]="MetaTypeManualDeformation",d[d.MetaTypePluginEffect=69]="MetaTypePluginEffect",d[d.MetaTypeLockObject=70]="MetaTypeLockObject",d[d.MetaTypeAdCube=71]="MetaTypeAdCube",d[d.MetaTypeMattingStroke=72]="MetaTypeMattingStroke",d[d.MetaTypeSmartColorAdjust=73]="MetaTypeSmartColorAdjust",d[d.MetaTypeChannelMapping=74]="MetaTypeChannelMapping",d[d.MetaTypeBloom=75]="MetaTypeBloom",d[d.MetaTypeTextPreset=76]="MetaTypeTextPreset",d[d.MetaTypeGreenScreen=77]="MetaTypeGreenScreen",d[d.MetaTypeArticleToVideoTemplate=78]="MetaTypeArticleToVideoTemplate",d[d.MetaTypeAll=79]="MetaTypeAll",(f=i||(i={}))[f.MaterialPlatformDefault=0]="MaterialPlatformDefault",f[f.MaterialPlatformArtist=1]="MaterialPlatformArtist",f[f.MaterialPlatformXTApp=2]="MaterialPlatformXTApp",f[f.MaterialPlatformQYApp=3]="MaterialPlatformQYApp",f[f.MaterialPlatformFaceuApp=4]="MaterialPlatformFaceuApp",f[f.MaterialPlatformLVApp=5]="MaterialPlatformLVApp",f[f.MaterialPlatformCapCutApp=6]="MaterialPlatformCapCutApp",f[f.MaterialPlatformXigua=7]="MaterialPlatformXigua",f[f.MaterialPlatformGiphy=8]="MaterialPlatformGiphy",f[f.MaterialPlatformBrand=9]="MaterialPlatformBrand",f[f.MaterialPlatformEnterprise=10]="MaterialPlatformEnterprise",f[f.MaterialPlatformTuchongAdobe=11]="MaterialPlatformTuchongAdobe",f[f.MaterialPlatformTuchongDeposit=12]="MaterialPlatformTuchongDeposit",f[f.MaterialPlatformTuchongPond5=13]="MaterialPlatformTuchongPond5",f[f.MaterialPlatformStudioShooting=14]="MaterialPlatformStudioShooting",(p=o||(o={}))[p.UNKNOWN=0]="UNKNOWN",p[p.HEYCAN=1]="HEYCAN",p[p.LOKI=2]="LOKI",p[p.MUSIC=3]="MUSIC",p[p.TUCHONG=5]="TUCHONG",p[p.BRAND=6]="BRAND",(h=a||(a={})).DEPOSIT="third_resource_tuchong_deposit",h.ADOBE="third_resource_tuchong_adobe",h.POND5="third_resource_tuchong_pond5",(v=s||(s={}))[v.EffectPlatformLoki=0]="EffectPlatformLoki",v[v.EffectPlatformArtist=1]="EffectPlatformArtist",v[v.EffectPlatformBrand=2]="EffectPlatformBrand",v[v.EffectPlatformImportedFont=3]="EffectPlatformImportedFont",v[v.EffectPlatformServerTemplate=4]="EffectPlatformServerTemplate",(g=c||(c={}))[g.AudioPlatformLibrary=0]="AudioPlatformLibrary",g[g.AudioPlatformArtist=1]="AudioPlatformArtist",g[g.AudioPlatformBrand=2]="AudioPlatformBrand",g[g.AudioPlatformEnterprise=3]="AudioPlatformEnterprise",(y=u||(u={})).AES_GCM="AES-GCM",y.AES_CBC="AES-CBC",(m=l||(l={}))[m.New=1]="New",m[m.Old=0]="Old"},366339:function(e,t,n){"use strict";n.d(t,{X:function(){return c},b:function(){return s}});var r=n(700056),i=n(757353),o=n(292180);function a(e,t){if(e&&"object"==typeof e)for(var n of Object.keys(e)){var r=t(n);r!==n&&(e[r]=e[n],delete e[n]),a(e[r],t)}return e}var s=function(e,t){var n=!(arguments.length>2)||void 0===arguments[2]||arguments[2];return a(n?(0,r.Z)(e):e,null!=t?t:i.Z)},c=e=>a(e,o.Z)},164840:function(e,t,n){"use strict";n.d(t,{m:function(){return r}});var r=(0,n(30276).yh)("export-task-data-service")},1564:function(e,t,n){"use strict";var r,i,o,a,s,c,u,l,d,f,p,h,v,g,y,m,_,b,S,T;n.d(t,{S_:function(){return s},UA:function(){return u},qb:function(){return o}}),(p=r||(r={}))[p.SELF_CREATE=0]="SELF_CREATE",p[p.APP_CONVERT=1]="APP_CONVERT",p[p.WEB_CONVERT=2]="WEB_CONVERT",(h=i||(i={}))[h.Material=0]="Material",h[h.FilmVideo=1]="FilmVideo",h[h.Graphic=3]="Graphic",(v=o||(o={}))[v.Underway=0]="Underway",v[v.Success=1]="Success",v[v.Fail=-1]="Fail",(g=a||(a={}))[g.Underway=1]="Underway",g[g.UploadSuccess=2]="UploadSuccess",g[g.ShareSuccess=3]="ShareSuccess",g[g.Audit=4]="Audit",g[g.AuditFail=5]="AuditFail",g[g.Fail=6]="Fail",g[g.Timeout=8]="Timeout",(y=s||(s={}))[y.Underway=0]="Underway",y[y.Success=1]="Success",y[y.Fail=-1]="Fail",y[y.LackSpace=-2]="LackSpace",(m=c||(c={}))[m.Tiktok=1]="Tiktok",m[m.Youtube=2]="Youtube",m[m.Ttam=3]="Ttam",m[m.Facebook=4]="Facebook",m[m.YoutubeShort=5]="YoutubeShort",m[m.FacebookGroup=6]="FacebookGroup",m[m.FacebookPage=7]="FacebookPage",m[m.Ins=8]="Ins",(_=u||(u={}))[_.Export=2]="Export",_[_.Download=3]="Download",_[_.Share=4]="Share",_[_.Long2Short=9]="Long2Short",(b=l||(l={}))[b.processing=0]="processing",b[b.success=1]="success",b[b.failure=-1]="failure",b[b.fallSpace=-2]="fallSpace",(S=d||(d={}))[S.UploadFailed=100001]="UploadFailed",(T=f||(f={}))[T.PAGE=0]="PAGE",T[T.GROUP=1]="GROUP",T[T.INSTAGRAM=2]="INSTAGRAM"},189596:function(e,t,n){"use strict";n.d(t,{s:function(){return s}});var r=n(787780),i=n(5756),o=n(701733),a=n(166627);class s extends o.A{get resourceType(){return r.g.Tone}parseHeycanResponseDataToResources(e){return(0,i.K)(e)}getHeycanToneByIds(e){var t=e.ids.map(e=>({id:e,effect_type:r.g.Timbre,source:a.H.VIMO}));return this.batchGetResources({items:t})}constructor(e){super(e),this._capcutAccountService=e}}},5756:function(e,t,n){"use strict";n.d(t,{K:function(){return u}});var r=n(377128),i=n(306226),o=n(619398),a=n(993156),s=n(706022),c=a.j.Female;function u(e){var t,n,u,l=(0,r.E)(e,o._g.Tone),d=(0,s.Z)(l,a.x.ElevenLabs);return{tone:{ttsVoice:"",voiceType:null!==(u=null===(n=e.timbre)||void 0===n?void 0:n.voice_type)&&void 0!==u?u:l.thirdResourceId,name:l.title,rate:"24000",voiceGender:(t=l.tagList)?t.some(e=>"gender/male"===e.name)?a.j.Male:a.j.Female:c,isAiavatarIgnorePhonemes:!0,tonePlatform:d},key:"".concat(o._g.Tone,"_").concat(l.resourceId),resourceId:l.resourceId,effectId:l.effectId,md5:l.md5,name:l.title,isBusiness:l.isBusiness,isVip:l.isVip,icon:{uri:(0,i.s)(l.coverUrl),urlList:[l.coverUrl]},previewUrl:l.coverUrl,package:{uri:(0,i.s)(l.originUrl),urlList:[l.originUrl]},source:l.source,sdkVersion:"",isPrefab:!1}}},14145:function(e,t,n){"use strict";n.d(t,{V:function(){return _}});var r=n(789786),i=n(664753),o=n(618230),a=n(963730),s=n(980014),c=n(659734),u=n(37011),l=n(856537),d=n(211928),f=n(534289),p=n(480350),h=n(271835),v=n(189619),g=n(211151),y=1/0;function m(e){return JSON.stringify(e)}class _{warmup(){this._instantiationService.invokeFunction(e=>{var t=e.get(h.U);t.database.connect(v.g.id,g.d.name),t.database.connect(v.g.id,g.z.name)})}download(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},[n,r]=this._getOrCreateTask(e,t);return r||this._recordTask(n),n}remove(e){e.downloadType===d._5.Eager?this._immediatelyQueue.removeTask(e):this._idleQueue.removeTask(e)}startImmediately(e){e.status>=d.lh.Loading||e.downloadType===d._5.Eager||(this._idleQueue.removeTask(e),e.downloadType=d._5.Eager,this._immediatelyQueue.addTask(e))}_recordTask(e){e.onFail(()=>{this._tasks.delete(e)}),e.onSuccess(()=>{this._tasks.delete(e),this._taskCache.put(m(e),e)}),this._tasks.add(e),e.downloadType===d._5.Eager?this._immediatelyQueue.addTask(e):this._idleQueue.addTask(e)}_getOrCreateTask(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this._instantiationService.createInstance(new a.M(l.v,[t,e,this._networkClient,this])),r=this._taskCache.get(m(n));if(r)return(0,s.Y2)(r.status!==d.lh.Error),[r,!0];for(var i of this._tasks)if((0,s.Y2)(i.status!==d.lh.Completed&&i.status!==d.lh.Error),i.equal(n))return[i,!0];return[n,!1]}constructor(e){var t;this._instantiationService=e,this._tasks=new Set,this._taskCache=new c.o(100,3e5),this._networkClient=(t=(0,i.eI)({responseType:"arraybuffer"}),(0,o.V)(t,{retries:2}),t),this._idleQueue=this._instantiationService.createInstance(new a.M(f.J,[])),this._immediatelyQueue=this._instantiationService.createInstance(new a.M(p.H,[y]))}}_=(0,r.gn)([(0,r.fM)(0,u.T),(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[void 0===u.T?Object:u.T])],_)},998803:function(e,t,n){"use strict";n.d(t,{m:function(){return s}});var r=n(789786),i=n(211928),o=n(250047),a=n(861479);class s extends a.i{getContentResourceToken(){return this._getResourceTokenSync(this._createContentToken.bind(this),()=>this._contentResourceToken,e=>this._contentResourceToken=e)}_createContentToken(e){var t=this._getContentResourceKey(),n=this.getContentUrl(e);return(0,o.Dy)({key:t,url:n},this._downloadService)}_getContentResourceKey(){return"".concat(this.key,"_content")}constructor(e,t,n){super(e,t),this.key=e,this._downloadService=n}}s=(0,r.gn)([(0,r.fM)(2,i.tx),(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",["undefined"==typeof IResourceKey?Object:IResourceKey,"undefined"==typeof Resource?Object:Resource,void 0===i.tx?Object:i.tx])],s)},975701:function(e,t,n){"use strict";n.d(t,{d:function(){return f}});var r=n(461228),i=n(69984),o=n(789786),a=n(713634),s=n(211928),c=n(980014),u=n(466477),l=n(49978),d=n(806797);class f extends l.${getCover(e){return e.icon.urlList[0]}getContentUrl(e){return e.package.urlList[0]}get contentFileBubble(){return e=>e.endsWith(".json")}doFetch(){var e=this;return(0,r._)(function*(){(0,c.Y2)(!(0,u.R)(e.value));var[t,n]=(yield e._bubbleDataService.batchGetBubblesByIds({enterFrom:e._configurationService.editorCategory,ids:[e.value.resourceId]})).pair();if(t)throw Error("doFetch error-".concat(t.code,"-").concat(t.msg));return(0,i._)({type:e.value.type},n.list[0])})()}constructor(e,t,n,r,i){super(e,t,n),this.key=e,this._downloadService=n,this._bubbleDataService=r,this._configurationService=i}}f=(0,o.gn)([(0,o.fM)(2,s.tx),(0,o.fM)(3,a.V),(0,o.fM)(4,d.Ui),(0,o.w6)("design:type",Function),(0,o.w6)("design:paramtypes",["undefined"==typeof IResourceKey?Object:IResourceKey,"undefined"==typeof IBubbleMeta?Object:IBubbleMeta,void 0===s.tx?Object:s.tx,void 0===a.V?Object:a.V,void 0===d.Ui?Object:d.Ui])],f)},45263:function(e,t,n){"use strict";n.d(t,{M:function(){return c}});var r=n(789786),i=n(963730),o=n(37011),a=n(251164),s=n(200776);class c extends a.e{createResource(e,t){return this._instantiationService.createInstance(new i.M(s.u,[e,t]))}constructor(e){super(e),this._instantiationService=e}}c=(0,r.gn)([(0,r.fM)(0,o.T),(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[void 0===o.T?Object:o.T])],c)},95775:function(e,t,n){"use strict";n.d(t,{y:()=>b});let r=n("789786"),i=n("251164"),o=n("461228"),a=n("69984"),s=n("852630");var c=(0,n("30276").yh)("photo-data-service");let u=n("211928"),l=n("250047"),d=n("980014"),f=n("963473"),p=n("466477"),h=n("762134"),v=n("171127"),g=n("610306");class y extends h.B{getCover(e){return e.coverUrl}getContentResourceToken(){return this._getResourceTokenSync(this._createContentResourceToken.bind(this),()=>this._contentResourceToken,e=>this._contentResourceToken=e)}getContentOrderedResourceToken(){var e=this;return(0,o._)(function*(){if(yield e._onResourceReadyDefer.promise,(0,d.Y2)((0,p.R)(e.value)),e._contentOrderedResourceToken)return(0,f.oW)(e._contentOrderedResourceToken);if(!(0,v.uS)(e.value))return(0,f.oW)(e.getContentResourceToken());if((0,v.ko)(e.value))return(0,f.oW)(e._createContentOrderedResourceToken(e.value));var t=e.value.order,n=yield e._photoDataService.order({id:t.id});if(!n.ok)return n;var{url:r}=n.value;return e.value.order.url=r,(0,f.oW)(e._createContentOrderedResourceToken(e.value))})()}getContentResolutionInfo(){return(0,d.Y2)((0,p.R)(this.value)),this._getPhotoResolutionInfo(this.value)}getIfNeedCredential(){return(0,d.Y2)((0,p.R)(this.value)),!!this.value.isFromBrand}_createCoverToken(e){var t=this._getCoverResourceKey(),n=this.getCover(e);return(0,l.MZ)({key:t,url:n},this._downloadService,this._getDownloadConfig(e))}_createContentResourceToken(e){var{url:t,resolution:n}=this._getPhotoResolutionInfo(e),r=this._getResolutionResourceKey(n);return(0,l.MZ)({key:r,url:t,md5:e.md5},this._downloadService,{withCredentials:e.isFromBrand})}_getDownloadConfig(e){return{withCredentials:e.isFromBrand}}_createContentOrderedResourceToken(e){(0,d.Y2)((0,p.R)(this.value));var{url:t,resolution:n}=this.getPhotoOrderedResolutionInfo(),r=this._getOrderedResolutionResourceKey();return this._contentOrderedResourceToken=(0,l.MZ)({key:r,url:t,md5:e.md5},this._downloadService),this._contentOrderedResourceToken}_getResolutionResourceKey(e){return"".concat(this.key,"_resolution_").concat(e)}_getOrderedResolutionResourceKey(){return"".concat(this.key,"_ordered")}_getPhotoResolutionInfo(e){var t=function(e){var t=n.find(t=>t.resolution===e);if(t)return{v:t}},n=e.transcode.map(e=>{var{url:t,width:n,height:r}=e;return{url:t,resolution:this._getResolutionKeyByLongSide(n,r)}}).filter(e=>e.resolution);for(var r of this._environmentService.isAutoTest?["720p","1024p","540p","480p","360p","288p"]:["480p","720p","360p","540p","1024p","288p"]){var i=t(r);if("object"===(0,s._)(i))return i.v}return{url:e.originUrl,resolution:"origin"}}getPhotoOrderedResolutionInfo(){return((0,d.Y2)((0,p.R)(this.value)),this.value.order)?((0,d.Y2)(this.value.order.url),{url:this.value.order.url,resolution:"origin"}):this.getContentResolutionInfo()}_getResolutionKeyByLongSide(e,t){var n=100,r=null;for(var i of[1024,720,540,480,360,288]){var o=void 0;(o=e>t?Math.abs(i-e):Math.abs(i-t))<n&&(n=o,r=i)}if(r)return"".concat(r,"p")}doFetch(){var e=this;return(0,o._)(function*(){(0,d.Y2)(!(0,p.R)(e.value));var[t,n]=(yield e._photoDataService.batchGetPhotos({resourceIds:[e.value.resourceId]})).pair();if(t)throw Error("doFetch error-".concat(t.code,"-").concat(t.msg));return(0,a._)({type:e.value.type},n.list[0])})()}constructor(e,t,n,r,i){super(e,t,n),this.key=e,this._downloadService=n,this._photoDataService=r,this._environmentService=i}}y=(0,r.gn)([(0,r.fM)(2,u.tx),(0,r.fM)(3,c),(0,r.fM)(4,g.Y),(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",["undefined"==typeof IResourceKey?Object:IResourceKey,"undefined"==typeof IPhotoMeta?Object:IPhotoMeta,void 0===u.tx?Object:u.tx,void 0===c?Object:c,void 0===g.Y?Object:g.Y])],y);let m=n("963730"),_=n("37011");class b extends i.e{createResource(e,t){return this._instantiationService.createInstance(new m.M(y,[e,t]))}constructor(e){super(e),this._instantiationService=e}}b=(0,r.gn)([(0,r.fM)(0,_.T),(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[void 0===_.T?Object:_.T])],b)},942799:function(e){"use strict";e.exports=function(e){return null===e||"function"!=typeof e&&"object"!=typeof e}},44819:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r="undefined"!=typeof Blob?Blob:null},338681:function(e,t,n){"use strict";n.d(t,{u:function(){return i},y:function(){return o}});var r=n(218571);function i(e){return(0,r.useMemo)(()=>e.hooks.dragSource(),[e])}function o(e){return(0,r.useMemo)(()=>e.hooks.dragPreview(),[e])}},183893:function(e,t,n){"use strict";n.d(t,{E:function(){return c}});var r=n(74002),i=n(783222),o=n(489805),a=n(674848),s=n(528792);function c(e,t,n){let c=(0,i.N)(),u=(0,s.W)(e,t),l=(0,a.b)(e);(0,o.L)(function(){let[e,i]=(0,r.n)(l,u,c);return t.receiveHandlerId(e),n.receiveHandlerId(e),i},[c,t,u,n,l.map(e=>e.toString()).join("|")])}},978279:function(){"use strict";new WeakMap}}]);